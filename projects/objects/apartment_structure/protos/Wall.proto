#VRML_SIM R2021b utf8
# license: Copyright Cyberbotics Ltd. Licensed for use only with Webots.
# license url: https://cyberbotics.com/webots_assets_license
# A customizable wall.

PROTO Wall [
  field SFVec3f    translation 0 0 0
  field SFRotation rotation    0 1 0 0
  field SFString   name        "wall"
  field SFVec3f    size        1 2.4 0.2                                                        # Defines the size of the wall.
  field SFNode     appearance  Roughcast { textureTransform TextureTransform { scale 1 2.4 } }  # Defines the appearance of the wall.
  field MFColor    recognitionColors []                                                         # Is `Solid.recognitionColors`.
]
{
  %{
    local size = fields.size.value
    if size.x <= 0.0 or size.y <= 0.0 or size.z <= 0.0 then -- avoid a negative values
      size = fields.size.defaultValue
      io.stderr:write("'size' must contain positive values\n")
    end
  }%
  Solid {
    translation IS translation
    rotation IS rotation
    children [
      Solid {
        translation 0 %{= 0.5 * size.y }% 0
        children [
          Shape {
            appearance IS appearance
            geometry Box {
              size %{= size.x }% %{= size.y }% %{= size.z }%
            }
          }
        ]
        boundingObject Box {
          size %{= size.x }% %{= size.y }% %{= size.z }%
        }
      }
    ]
    name IS name
    model "wall"
    recognitionColors IS recognitionColors
  }
}
