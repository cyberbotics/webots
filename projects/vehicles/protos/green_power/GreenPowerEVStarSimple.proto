#VRML_SIM R2020b utf8
# license: Apache License 2.0
# license url: http://www.apache.org/licenses/LICENSE-2.0
# Simple kinematic model of EV Start vehicle from GreenPower to be moved with a Supervisor.

PROTO GreenPowerEVStarSimple [
  field       SFVec3f    translation                    0 0.4 0
  field       SFRotation rotation                       0 1 0 0
  field       SFColor    color                          0.92 0.94 0.94
  field       MFColor    recognitionColors              [ 0.92 0.94 0.94 ]
  field       SFString   name                           "GreenPower EV Star"
  field       SFString   controller                     ""
  field       SFString   controllerArgs                 ""
  field       MFNode     sensorsSlotFront               [ ]
  field       MFNode     sensorsSlotRear                [ ]
  field       MFNode     sensorsSlotTop                 [ ]
  field       MFNode     sensorsSlotCenter              [ ]
  field       SFBool     wheelBoundingObject            FALSE
  hiddenField SFVec3f    frontRightWheelAngularVelocity 0 0 0
  hiddenField SFVec3f    frontLeftWheelAngularVelocity  0 0 0
  hiddenField SFVec3f    rearRightWheelAngularVelocity  0 0 0
  hiddenField SFVec3f    rearLeftWheelAngularVelocity   0 0 0
]
{
  Robot {
    translation IS translation
    rotation IS rotation
    recognitionColors IS recognitionColors # somehow duplicate with the color field, but useful to avoid lua PROTO regeneration when colors change.
    children [
      Group {
        children IS sensorsSlotCenter
      }
      Transform {
        translation 0 0.47 5.31
        rotation 0 1 0 3.14159
        children IS sensorsSlotFront
      }
      Transform {
        translation 0 0.19 -1.62
        children IS sensorsSlotRear
      }
      Transform {
        translation 0 2.3 2.99
        rotation 0 1 0 3.141592653589793
        children IS sensorsSlotTop
      }
      DEF FRONT_RIGHT_WHEEL Solid {
        angularVelocity IS frontRightWheelAngularVelocity
        translation -0.85 0 4.325
        rotation 0 0 1 1.5708
        children [
          Slot {
            type "vehicle wheel"
            endPoint GreenPowerEVStarFrontWheel {
              physics NULL
              boundingObject IS wheelBoundingObject
            }
          }
        ]
        name "front right wheel"
      }
      DEF FRONT_LEFT_WHEEL Solid {
        angularVelocity IS frontLeftWheelAngularVelocity
        translation 0.85 0 4.325
        rotation 0 0 1 -1.5708
        children [
          Slot {
            type "vehicle wheel"
            endPoint GreenPowerEVStarFrontWheel {
              physics NULL
              boundingObject IS wheelBoundingObject
            }
          }
        ]
        name "front left wheel"
      }
      DEF REAR_RIGHT_WHEEL Solid {
        angularVelocity IS rearRightWheelAngularVelocity
        translation -0.85 0 0
        rotation 0 0 1 1.5708
        children [
          Slot {
            type "vehicle wheel"
            endPoint GreenPowerEVStarRearWheel {
              physics NULL
              boundingObject IS wheelBoundingObject
            }
          }
        ]
        name "rear right wheel"
      }
      DEF REAR_LEFT_WHEEL Solid {
        angularVelocity IS rearLeftWheelAngularVelocity
        translation 0.85 0 0
        rotation 0 0 1 -1.5708
        children [
          Slot {
            type "vehicle wheel"
            endPoint GreenPowerEVStarRearWheel {
              physics NULL
              boundingObject IS wheelBoundingObject
            }
          }
        ]
        name "rear left wheel"
      }
      MercedesBenzSprinterMesh {
        color IS color
      }
      MercedesBenzSprinterLights {
      }
    ]
    name IS name
    controller IS controller
    controllerArgs IS controllerArgs
    model "GreenPower EV Star"
    boundingObject Group {
      children [
        Transform {
          translation 0 0.52 1.69
          children [
            Box {
              size 2 1 6.6
            }
          ]
        }
        Transform {
          translation 0 1.64 0.67
          children [
            Box {
              size 1.95 1.3 4.5
            }
          ]
        }
        Transform {
          translation 0 1.09128 3.60031
          rotation 1 0 0 0.55
          children [
            Box {
              size 1.88 1.3 2.5
            }
          ]
        }
      ]
    }
    radarCrossSection 150
    physics NULL
  }
}
