# CMakeLists.txt for the 'projects' directory
# This file is part of the effort to port the Webots build system from Make to CMake.

cmake_minimum_required(VERSION 3.10)

# Assuming CMAKE_SOURCE_DIR points to the root of the Webots project.
# This variable can be used by sub-projects if they need to reference the Webots root.
set(WEBOTS_HOME ${CMAKE_SOURCE_DIR} CACHE INTERNAL "Path to Webots root directory")

message(STATUS "Configuring Webots Projects from: ${CMAKE_CURRENT_SOURCE_DIR}")
message(STATUS "WEBOTS_HOME for projects set to: ${WEBOTS_HOME}")

# Add subdirectories. Each of these will require its own CMakeLists.txt
# to define how its contents are built and installed.
add_subdirectory(languages)
add_subdirectory(default)
add_subdirectory(objects)
add_subdirectory(robots)
add_subdirectory(samples)
add_subdirectory(vehicles)
add_subdirectory(humans)

# Install guided_tour.txt to the correct projects directory in the install location
install(FILES guided_tour.txt DESTINATION share/webots/projects)

# The Makefile targets (release, profile, debug, clean, cleanse)
# are generally handled by CMake's built-in build type configurations (CMAKE_BUILD_TYPE)
# and the standard 'clean' target generated by CMake.