<!DOCTYPE html>
<html>
  <head>
    <meta charset='UTF-8'>
    <link type="text/css" rel="stylesheet" href='../../../../include/tabs.css' />
  </head>
  <body>
    <div id='infotabs' class='wrapper webotsTabs'>
      <div>
        <input class="radio" id="overview" name="group" type="radio" checked>
        <label class="tab" for="overview">Overview</label>
        <div class="panel">
          <p>This benchmark will teach you how to move the 3D viewpoint using the mouse.</p>
          <p>The tab entitled <b>Metrics</b> measures your progress in an exercise where
            you have to place the viewpoint at a specific position and orientation. It also allows you to record your performance in
            the robotbenchmark database (if you are logged-in).</p>
          <p>The tab entitled <b>Instructions</b> explains you how to use the mouse to control the viewpoint.</p>
        </div>
        <input class="radio" id="metrics" name="group" type="radio">
        <label class="tab" for="metrics">Metrics</label>
        <div class="panel">
          <div style='text-align:center' title='Your performance increases as you get closer to the target viewpoint position and orientation.'>
            <span id='achievement'>%</span></div>
          <div style='text-align:center'>
            <button id='record-button' disabled onclick='recordPerformance()'>Record</button>
          </div>
          <br>
          <p>Move the viewpoint to get as close as possible to the top view depicted below.
           Note that you will not get the exact same view if you are using a different aspect ratio than the one in the picture,
           so you may need to resize your window to help you get a good result.
           The completion percentage displayed above indicates how close you are to the target viewpoint position and orientation.
           You need to achieve a positive performance (displayed in green) to be able to record it by pressing the "Record" button.
           The <b>Instructions</b> tab explains the mouse control details.</p>
          <div style='text-align:center'><img src='topview.png'></div>
        </div>
        <input class="radio" id="instructions" name="group" type="radio">
        <label class="tab" for="instructions">Instructions</label>
        <div class="panel">
          <h2>Using the mouse to move the viewpoint</h2>
           <ul>
            <li><b>Rotate</b>: click on a 3D object in the scene with the left mouse button and drag the mouse pointer. The viewpoint will rotate around the object.</li>
            <li><b>Translate</b>: click in the scene with the right mouse button and drag the mouse pointer.</li>
            <li><b>Zoom</b>: click in the 3D scene and roll the mouse wheel. It is also possible to zoom by pressing the mouse wheel and dragging the mouse forward or backwards.</li>
            <li><b>Tilt</b>: press the mouse wheel over the 3D scene and drag the mouse to the left or to the right. Pressing simultaneously the left and right mouse buttons is equivalent to pressing the mouse wheel.</li>
           </ul>
        </div>
      </div>
    </div>
    <script src="viewpoint_control.js"></script>
    <script>
      let height;
      function adaptPositionOfText() {
        let tabs = document.getElementsByClassName('tab')
        if(!tabs.length > 0)
          return
        let newHeight = tabs[tabs.length - 1].getBoundingClientRect().top + tabs[tabs.length - 1].getBoundingClientRect().height;
        if(newHeight === height)
          return;
        height = newHeight;
        let panels = document.getElementsByClassName('panel');
        for (panel of panels) {
          panel.style.top = height + 'px';
        };
      }
      window.addEventListener('resize', adaptPositionOfText);
      adaptPositionOfText();
    </script>
  </body>
</html>
