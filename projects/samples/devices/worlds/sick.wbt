#VRML_SIM R2023b utf8

EXTERNPROTO "webots://projects/objects/backgrounds/protos/TexturedBackground.proto"
EXTERNPROTO "webots://projects/objects/backgrounds/protos/TexturedBackgroundLight.proto"
EXTERNPROTO "webots://projects/objects/floors/protos/RectangleArena.proto"
EXTERNPROTO "webots://projects/devices/sick/protos/SickLms291.proto"

WorldInfo {
  info [
    "Description: Sample of robot mounted by a Sick LMS 291."
  ]
  title "Sick LMS 291"
  lineScale 0.5
}
Viewpoint {
  orientation 0.134250392242919 -0.02107820888607042 -0.9907232415224635 3.5420110917172956
  position 4.577594204918663 -2.0347783238337582 2.246365267945847
  follow "robot"
  followSmoothness 0
}
TexturedBackground {
}
TexturedBackgroundLight {
}
RectangleArena {
  floorSize 100 100
  floorTileSize 1 1
  floorAppearance PBRAppearance {
    baseColorMap ImageTexture {
      url [
        "webots://projects/default/worlds/textures/checkered_marble.jpg"
      ]
    }
    roughness 1
    metalness 0
  }
  wallThickness 0.2
  wallHeight 2
}
DEF OBSTACLE_1 Solid {
  translation 15.7489 -12.6243 1
  children [
    DEF OBSTACLE_SHAPE Shape {
      appearance PBRAppearance {
        baseColor 0 0.462745 0.0823529
        roughness 1.1102230246251565e-16
        metalness 0
      }
      geometry Cylinder {
        radius 0.5
        subdivision 20
      }
    }
  ]
  name "obstacle 1"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_2 Solid {
  translation -34.6061 40.1723 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 2"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_3 Solid {
  translation 21.5945 30.3883 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 3"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_4 Solid {
  translation 27.5208 6.81157 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 4"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_5 Solid {
  translation -9.56429 38.4751 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 5"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_6 Solid {
  translation -9.60517 23.2236 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 6"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_7 Solid {
  translation 18.6698 -2.60164 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 7"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_8 Solid {
  translation 39.3642 -39.2094 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 8"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_9 Solid {
  translation -21.5071 -19.6972 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 9"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_10 Solid {
  translation -4.27785 -48.5003 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 10"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_11 Solid {
  translation -33.6898 23.5403 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 11"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_12 Solid {
  translation -41.2214 16.8073 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 12"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_13 Solid {
  translation -37.9358 -16.9674 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 13"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_14 Solid {
  translation -14.6176 -37.8329 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 14"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_15 Solid {
  translation 20.3623 -45.3412 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 15"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_16 Solid {
  translation 29.3483 -18.8565 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 16"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_17 Solid {
  translation 39.7762 -7.66315 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 17"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_18 Solid {
  translation 35.098 20.3285 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 18"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_19 Solid {
  translation 34.6685 35.3054 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 19"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_20 Solid {
  translation 10.1839 44.3846 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 20"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_21 Solid {
  translation -18.7385 10.3187 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 21"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_22 Solid {
  translation -31.7044 -34.2097 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 22"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_23 Solid {
  translation -29.4344 -1.27298 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 23"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_24 Solid {
  translation 22.2993 17.8686 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 24"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_25 Solid {
  translation 2.01148 31.4765 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 25"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_26 Solid {
  translation -1.07563 -41.9155 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 26"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_27 Solid {
  translation 13.7977 -31.39 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 27"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_28 Solid {
  translation -11.9969 -25.2891 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 28"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_29 Solid {
  translation -46.1252 -28.9556 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 29"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_30 Solid {
  translation -41.1759 -2.15042 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 30"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_31 Solid {
  translation -1.71767 -7.68168 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 31"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_32 Solid {
  translation -25.1618 -10.2537 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 32"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_33 Solid {
  translation 45.3906 45.0979 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 33"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_34 Solid {
  translation -8.6755 4.50206 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 34"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_35 Solid {
  translation -22.6311 -46.3206 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 35"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_36 Solid {
  translation 27.3199 -32.4912 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 36"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_37 Solid {
  translation 29.7965 -7.52276 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 37"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_38 Solid {
  translation 42.7781 9.19469 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 38"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_39 Solid {
  translation 7.03998 -6.59248 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 39"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_40 Solid {
  translation -21.5776 47.2582 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 40"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_41 Solid {
  translation -48.4807 31.886 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 41"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_42 Solid {
  translation 0.918569 -23.2265 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 42"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_43 Solid {
  translation 47.5682 -19.6871 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 43"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_44 Solid {
  translation -0.0294536 14.0603 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 44"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_45 Solid {
  translation -23.1081 27.2096 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 45"
  boundingObject USE OBSTACLE_SHAPE
}
DEF OBSTACLE_46 Solid {
  translation 11.2096 20.8318 1
  children [
    USE OBSTACLE_SHAPE
  ]
  name "obstacle 46"
  boundingObject USE OBSTACLE_SHAPE
}
Robot {
  translation 0 0 0.35
  children [
    DEF BODY Shape {
      appearance PBRAppearance {
        baseColor 0.243137 0.360784 1
        roughness 1.1102230246251565e-16
        metalness 0
      }
      geometry Box {
        size 0.8 0.6 0.3
      }
    }
    DEF DIRECTION HingeJoint {
      jointParameters HingeJointParameters {
        axis 0 0 1
        anchor 0.4 0 -0.15
      }
      device [
        RotationalMotor {
          name "direction"
          minPosition -0.5
          maxPosition 0.5
          maxTorque 100
        }
      ]
      endPoint Solid {
        translation 0.4 0 -0.15
        rotation -0.5773509358554485 -0.5773509358554485 0.5773489358556708 2.094397
        children [
          DEF PASSIVEFRONT_WHEEL HingeJoint {
            jointParameters HingeJointParameters {
            }
            device [
              RotationalMotor {
                name "passive"
              }
            ]
            endPoint Solid {
              rotation -0.707104781184338 0 0.7071087811831002 3.141585
              children [
                DEF WHEEL_TRANSFORM Pose {
                  children [
                    Shape {
                      appearance PBRAppearance {
                        baseColor 1 0.266667 0.266667
                        roughness 1.1102230246251565e-16
                        metalness 0
                      }
                      geometry Cylinder {
                        height 0.1
                        radius 0.17
                        subdivision 32
                      }
                    }
                  ]
                }
              ]
              name "front wheel"
              boundingObject USE WHEEL_TRANSFORM
              physics DEF WHEEL_PHYSICS Physics {
                density -1
                mass 3
              }
            }
          }
        ]
        boundingObject Cylinder {
          height 0.02
          radius 0.01
        }
        physics USE WHEEL_PHYSICS
      }
    }
    DEF BACK_RIGHT_WHEEL HingeJoint {
      jointParameters HingeJointParameters {
        axis 0 1 0
        anchor -0.4 -0.2 -0.15
      }
      device [
        RotationalMotor {
          name "back_right_wheel"
          maxVelocity 100
          maxTorque 100
        }
      ]
      endPoint Solid {
        translation -0.4 -0.2 -0.15
        rotation 0 0.7071062811861719 0.7071072811865696 3.141593
        children [
          USE WHEEL_TRANSFORM
        ]
        name "back right wheel"
        boundingObject USE WHEEL_TRANSFORM
        physics DEF WHEEL_PHYSICS Physics {
          density -1
          mass 3
        }
      }
    }
    DEF BACK_LEFT_WHEEL HingeJoint {
      jointParameters HingeJointParameters {
        axis 0 1 0
        anchor -0.4 0.2 -0.15
      }
      device [
        RotationalMotor {
          name "back_left_wheel"
          maxVelocity 100
          maxTorque 100
        }
      ]
      endPoint Solid {
        translation -0.4 0.2 -0.15
        rotation 0 -0.7071062811861719 -0.7071072811865696 3.141592
        children [
          USE WHEEL_TRANSFORM
        ]
        name "back left wheel"
        boundingObject USE WHEEL_TRANSFORM
        physics USE WHEEL_PHYSICS
      }
    }
    DEF LMS_291 SickLms291 {
      translation 0 0 0.22
    }
    DEF DISPLAY Display {
      width 200
      height 110
    }
  ]
  boundingObject USE BODY
  physics Physics {
    density -1
    mass 20
  }
  controller "sick"
}
