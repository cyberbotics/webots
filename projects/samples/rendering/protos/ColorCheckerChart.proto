#VRML_SIM R2019b utf8
# A grid of colored boxes matching with the color_checker_chart.png texture.

PROTO ColorCheckerChart [
  field SFVec3f    translation    0 0 0
  field SFRotation rotation       0 1 0 0
  field SFString   name           "color checker chart"
]
{
  %{
    local colors = {
      { -- line 1
          {119, 61, 49},
          {238, 176, 160},
          {108, 151, 205},
          {81, 129, 43},
          {167, 158, 222},
          {162, 250, 230}
      },
      { -- line 2
          {234, 115, 15},
          {62, 197, 212},
          {247, 74, 121},
          {90, 50, 129},
          {189, 235, 54},
          {252, 209, 15}
      },
      { -- line 3
          {33, 53, 186},
          {53, 171, 40},
          {255, 0, 1},
          {255, 255, 3},
          {243, 84, 209},
          {34, 182, 215}
      },
      { -- line 4
          {255, 255, 255},
          {193, 193, 193},
          {150, 150, 150},
          {109, 109, 109},
          {70, 70, 70},
          {36, 36, 36}
      }
    }

  }%
  Solid {
    translation IS translation
    rotation IS rotation
    name IS name
    children [
      %{ for i=1, 6 do }%
        %{ for j=1, 4 do }%
          Transform {
            translation %{= 0.2 * i - 0.7 }% %{= - 0.2 * j + 0.5 }% 0
            children [
              Shape {
                appearance PBRAppearance {
                  baseColor %{= colors[j][i][1] / 255.0 }% %{= colors[j][i][2] / 255.0 }% %{= colors[j][i][3] / 255.0 }%
                  metalness 0
                  roughness 0.2
                }
                geometry Box {
                  size 0.15 0.15 0.05
                }
              }
            ]
            # name "%{=i}%x%{=j}%"
          }
        %{end}%
      %{end}%
    ]
  }
}
