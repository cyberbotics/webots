#VRML_SIM R2023a utf8
# license: Copyright Cyberbotics Ltd. Licensed for use only with Webots.
# license url: https://cyberbotics.com/webots_assets_license
# A rotating office chair with customizable appearance.
# template language: javascript

EXTERNPROTO "BrushedAluminium.proto"

PROTO ProtoChair [
  field SFVec3f    translation     0 0 0
  field SFRotation rotation        0 0 1 0
  field SFString   name            "office chair"
  field SFNode     seatAppearance  BrushedAluminium { textureTransform TextureTransform { scale 10 10 } }         # Defines the appearance of the body of the chair.
  field SFBool     enablePhysics   TRUE                                                                  # Defines whether the chair should have physics.
]
{
  Solid {
    translation IS translation
    rotation IS rotation
    children [
      HingeJoint {
        jointParameters HingeJointParameters {
          axis 0 0 1
          anchor 0 0 0.5
          dampingConstant 1
        }
        endPoint Solid {
          children [
            Shape {
              appearance IS seatAppearance
              geometry Box {
                size 0.2 0.2 0.2
              }
            }
          ]
          %< if (fields.enablePhysics.value) { >%
          physics Physics {
            density -1
            mass 3
          }
          %< } >%
        }
      }
    ]
    name IS name
    %< if (fields.enablePhysics.value) { >%
    physics Physics {
      density -1
      mass 6
    }
    %< } >%
  }
}
