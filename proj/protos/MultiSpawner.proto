#VRML_SIM R2022a utf8
# template language: javascript

PROTO MultiSpawner [
  field SFInt32 numberOfRobots 1
  field SFVec2f floorSize      5 5
]
{
  %<
    import * as wbrandom from 'wbrandom.js';

    const size = fields.floorSize.value;
    const robots = fields.numberOfRobots.value;

    let locations = [];
    for (let i = 0; i < robots; ++i) {
      const x = wbrandom.integer(0, size.x);
      const y = wbrandom.integer(0, size.y);
      locations.push({x: x, y: y});
    }
  >%
  Group {
    children [
    %< for (let j = 0; j < robots; ++j) { >%
      E-puck {
        translation %<= locations[j].x >% %<= locations[j].y >% 0.5
      }
    %< } >%
    ]
  }
}