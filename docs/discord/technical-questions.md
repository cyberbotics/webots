# Technical-Questions

This is an archive of the `technical-questions` channel of the [Webots Discord server](https://discordapp.com/invite/nTWbN9m).

## 2020

##### David Mansolino [cyberbotics] 08/19/2020 09:34:39
Thank you, you too!

##### Dave 08/19/2020 09:34:29
`@David Mansolino` ok thanks ! Have a nice day

##### David Mansolino [cyberbotics] 08/19/2020 09:33:36
> Hey! In my world map? Can I have two instance of same robot running in a world map with same controller?

`@saditya` Yes sure. Here is an example: [https://github.com/cyberbotics/webots/blob/master/projects/languages/cpp/worlds/example.wbt](https://github.com/cyberbotics/webots/blob/master/projects/languages/cpp/worlds/example.wbt)


> thank you so much for your help !

> Should I create a thread or something such that other users can see what was the solution ?

`@Dave` they should be able to see it in the archive of the discussion

##### saditya 08/19/2020 09:31:57
Hey! In my world map? Can I have two instance of same robot running in a world map with same controller?

##### Dave 08/19/2020 09:24:10
thank you so much for your help !

Should I create a thread or something such that other users can see what was the solution ?


Amazing it works !

So I did indeed added the path /usr/local/bin/python3 on the new version R2020b rev1


HI `@David Mansolino`  I did indeed tried this. I inserted in the Python command input  : `/usr/local/bin/python3`



But I will try again with the new version that Stefania sent me if it's not working.

Thank you !

##### David Mansolino [cyberbotics] 08/19/2020 08:57:41
Hi `@Dave`, just as a side not, I had issues on macOS too with python version, the simplest solution to make sure to use the correct version of Python is to set in the preferences the absolute path to the python executable (as mentionned in the note here: [https://www.cyberbotics.com/doc/guide/using-python#macos-installation](https://www.cyberbotics.com/doc/guide/using-python#macos-installation))

##### Dave 08/19/2020 08:51:47
thank you ðŸ˜

##### Stefania Pedrazzi [cyberbotics] 08/19/2020 08:50:10
you're welcome

if with the nightly build the issue is still not fixed, then it could be better to try to reinstall python:

[https://www.cyberbotics.com/doc/guide/using-python?version=master#macos-installation](https://www.cyberbotics.com/doc/guide/using-python?version=master#macos-installation) (for webots R2020b rev1)

[https://www.cyberbotics.com/doc/guide/using-python#macos-installation](https://www.cyberbotics.com/doc/guide/using-python#macos-installation) (for R2020b)

##### Dave 08/19/2020 08:46:58
okay thank you so much, I keep you in touch

##### Stefania Pedrazzi [cyberbotics] 08/19/2020 08:46:42
another option is to try the nightly build of R2020b revision 1 [https://github.com/cyberbotics/webots/releases/download/nightly\_17\_8\_2020/webots-R2020b-rev1.dmg](https://github.com/cyberbotics/webots/releases/download/nightly_17_8_2020/webots-R2020b-rev1.dmg)

It should now support python installed from brew

##### Dave 08/19/2020 08:45:58
I am not sure how I installed pyhon3, it was a long time ago, but I can maybe reinstall it ?


I am using R2020b


Hi `@Stefania Pedrazzi` thank you for your message !

##### Stefania Pedrazzi [cyberbotics] 08/19/2020 08:45:17
How did you install python?


Hi `@Dave`, which version of Webots are you using?

##### Dave 08/19/2020 08:31:55
My idea is that it cannot import the Robot properly



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/745560504109498418/unknown.png)
%end


and my python settings


here is my code : 

```
from controller import Robot

print('Hello World')
```


Hello everyone,

I am new to webots sorry for disturbing about my issue but I would need help please.



Unfortunately I get a warning and crash when I start to run the controller (see image below) under python3 (3.7)



Is it possible to have a small tip to fix it please ?

I am running under MACOS Catalina 10.15.16
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/745559936326434866/unknown.png)
%end

##### Stefania Pedrazzi [cyberbotics] 08/19/2020 07:39:50
Ok, thank you for the suggestion. I will check.

Just note that the `streaming_viewer` is meant as a very simple example for bradcasting and if used as-is doesn't have any timeout set, so users doesn't have to care about it.

Then, for more advanced use there is the documentation here: [https://www.cyberbotics.com/doc/guide/web-simulation#how-to-embed-a-web-scene-in-your-website](https://www.cyberbotics.com/doc/guide/web-simulation#how-to-embed-a-web-scene-in-your-website).

##### Luiz Felipe 08/19/2020 07:32:06
`@Stefania Pedrazzi` I think would be nice to add the line view.timeout below the view.broadcast line in setup\_viewer.js for the next version. Because the view.timeout pauses the simulation automatically after some time and people don't know why it stops

##### Stefania Pedrazzi [cyberbotics] 08/19/2020 07:00:18
[https://github.com/cyberbotics/webots/blob/master/resources/web/streaming\_viewer/setup\_viewer.js#L36](https://github.com/cyberbotics/webots/blob/master/resources/web/streaming_viewer/setup_viewer.js#L36)


Yes, beacause the streaming\_viewer is an example for broadcasting. You simply have to set the `view.broadcast` value to false in the `setup_viewer.js`

##### Luiz Felipe 08/19/2020 06:58:02
Before I think I changed something on the javascript and I could control the simulation from the browser. But now the buttons are disabled...


Wow. It works perfectly. This feature is amazing.

##### Stefania Pedrazzi [cyberbotics] 08/19/2020 06:46:10
Ok, the latest streaming viewer has a combo box to easily change from `x3d` to `mjpeg` mode

##### Luiz Felipe 08/19/2020 06:44:21
Got it. I am using the R2020b in my docker image but I think I am using an old version of the setup\_viewer.js that I copied long time ago

##### Stefania Pedrazzi [cyberbotics] 08/19/2020 06:43:04
At line 39


It is not needed to edit it, you can change the mode directly from your `index.html` as it is done here: [https://github.com/cyberbotics/webots/blob/master/resources/web/streaming\_viewer/setup\_viewer.js#L39](https://github.com/cyberbotics/webots/blob/master/resources/web/streaming_viewer/setup_viewer.js#L39)


The `mjpeg` streaming mode is available only from R2020b.

##### Luiz Felipe 08/19/2020 06:41:03
So I should download and edit this file and change the mode from 'x3dom' to 'mjpeg' right?


In my index.html I am importing from [https://www.cyberbotics.com/wwi/R2019a/webots.js](https://www.cyberbotics.com/wwi/R2019a/webots.js)


Got it

##### Stefania Pedrazzi [cyberbotics] 08/19/2020 06:40:01
This is a parameter that needs to be passed to the `webots.View.open` function


`@Luiz Felipe`   did you change the mode in webots.js to "mjpeg"?

##### Luiz Felipe 08/19/2020 06:36:40
Hello `@David Mansolino` , I am testing webots inside a docker image running on the cloud. When I start webots using "webots --stream="mode=x3d" -- batch" it works fine. But when i use "webots --stream="mode=mjpeg" -- batch" I receive "ERROR: Streaming server: Unsupported message: x3dom". I am testing that because I think my VRML97 file has fields that are not recorded in the animation file.

##### David Mansolino [cyberbotics] 08/19/2020 06:22:50
You're welcome

##### tangdan 08/19/2020 06:18:13
thank you very much,it works

##### David Mansolino [cyberbotics] 08/19/2020 06:17:20
The command you sent is wrong, instead it should be:

```
L,0,1
```


Hi `@tangdan` I am currently looking at this

##### tangdan 08/19/2020 05:38:19

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/745516982014836737/unknown.png)
%end


In the part "Interfacing Webots to Third Party Software with TCP/IP", I enter commond like this, but it didn't work right.  as the  picture shows,  it should printf "set led 0 to 1".



is there something wrong when I enter the commad?


is there something wrong when I enter the commad?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/745457296427188324/unknown.png)
%end


In the part "Interfacing Webots to Third Party Software with TCP/IP", I enter commond like this, but it didn't work right.  as the  picture shows,  it should printf "set led 0 to 1".

##### koyal 08/18/2020 13:57:28
Oh, okay. Hope it works out soon. ðŸ™‚

##### David Mansolino [cyberbotics] 08/18/2020 07:03:55
No, I am sorry but I am already currently fixing issues with the ros controller, there is a possibility that this is related.

##### koyal 08/18/2020 06:45:24
Oh. By any chance do you have a rough estimate on how long it might take to figure out the fix. Thank you again for your help.

##### David Mansolino [cyberbotics] 08/18/2020 06:43:06
It is more likely to be on our end.

##### koyal 08/18/2020 06:42:20
Do you think it's a bug that'll be needed to get fixed from your end, or am I missing out on something. I hope it's the latter.


Yes, thank you very much. I hope reproducing it does not take a lot of your time. I can provide any other required details. Actually you can even check it with roscore and a world file with the robot connected to ROS, instead of making an actual repo, whichever works for your team.

##### David Mansolino [cyberbotics] 08/18/2020 06:37:18
Ok thank you, we will have a look at the issue and try to reproduce it as soon as we have the time.

##### koyal 08/18/2020 06:36:31
I have also opened an issue about this as suggested by Olivier. Here's the link to the same: [https://github.com/cyberbotics/webots/issues/2131](https://github.com/cyberbotics/webots/issues/2131)


`@David Mansolino` I am giving the arguments to the rosservice call as required by the service.

##### David Mansolino [cyberbotics] 08/18/2020 06:04:46
`@koyal` which argument are you using ?

##### koyal 08/17/2020 17:46:07
`@David Mansolino` Yes, my Supervisor field is set to TRUE; I guess that's how the services related to Supervisor are listed in rosservice list

##### owongcho 08/17/2020 15:24:33
Now is working. I changed the slot node type to solid to match the node type of my gripper.


I am converted the gripper to a solid node and I am getting the same warnings. Am I missing some intermediate commands before getting the motor [gripper\_motor1 = supervisor.getMotor('finger1')]?

##### David Mansolino [cyberbotics] 08/17/2020 14:37:54
If the gripper is a robot node it has its own controller and therefore its devices are not available to the parent controller

##### owongcho 08/17/2020 14:37:01
Hello! I attached a gripper (robot node) to the hand slot of the Irb 4600 robot arm and I am trying to control the gripper using the robot arm's controller. The following command are used to get the motor and position sensor: gripper\_motor1 = supervisor.getMotor('finger1') and 

ps1 = supervisor.getPositionSensor('finger1sensor'), respectively. However, I am getting the following warning: Warning: "finger1" device not found.

Warning: "finger1sensor" device not found. could someone please help to achieve this?

##### Simon Steinmann [Moderator] 08/17/2020 11:12:08
would be a usefull feature


thinking about a 'rope-creation-wizard'

##### David Mansolino [cyberbotics] 08/17/2020 11:11:08
Unfortunately, this should be done manually.

##### Simon Steinmann [Moderator] 08/17/2020 11:09:23
is it possible to generate a proto from base nodes?

##### David Mansolino [cyberbotics] 08/17/2020 10:47:17
You're welcome

##### Lukulus 08/17/2020 10:47:04
thank you for quick answer

##### David Mansolino [cyberbotics] 08/17/2020 10:46:22
[https://cyberbotics.com/doc/guide/samples-howto#rope-wbt](https://cyberbotics.com/doc/guide/samples-howto#rope-wbt)

##### Lukulus 08/17/2020 10:46:01
Hello, i am trying to realize a cable winch for a crane.

has anyone an idea how to build one?

##### David Mansolino [cyberbotics] 08/17/2020 09:00:51
You're welcome

##### yash 08/17/2020 09:00:33
> `@yash` unfortunately this is not yet possible, but we are working on the principle of linked-joints which will allows you to actuate only one motor to move all the different joint of the finger for example: [https://github.com/cyberbotics/webots/pull/2054](https://github.com/cyberbotics/webots/pull/2054)

`@David Mansolino`  alright , thank you !

##### David Mansolino [cyberbotics] 08/17/2020 08:56:18
You're welcome

##### FrostPhoenix 08/17/2020 08:56:00
Awesome thanks for the quick response ðŸ™‚

##### David Mansolino [cyberbotics] 08/17/2020 08:55:25
Yes sure, you simply need to modify the Makefile: [https://cyberbotics.com/doc/guide/using-webots-makefiles?tab-language=ros#adding-an-external-library-ccp](https://cyberbotics.com/doc/guide/using-webots-makefiles?tab-language=ros#adding-an-external-library-ccp)

##### FrostPhoenix 08/17/2020 08:54:32
Hi Guys, is it possible to use external custom C libraries, and if so how do I add a new .h file

##### David Mansolino [cyberbotics] 08/17/2020 08:26:37
> `@David Mansolino` yes

`@Kricklobderno` in that case please see the comments below your question


> Hello ! Is it possible to model underactuated grasping mechanisms using cable-pulley system .!?

`@yash` unfortunately this is not yet possible, but we are working on the principle of linked-joints which will allows you to actuate only one motor to move all the different joint of the finger for example: [https://github.com/cyberbotics/webots/pull/2054](https://github.com/cyberbotics/webots/pull/2054)

##### tangdan 08/17/2020 07:51:07
`@Stefania Pedrazzi` thanks,I'll try

##### Kricklobderno 08/17/2020 07:49:10
> `@Kricklobderno` is it you that posted this question here [https://stackoverflow.com/questions/63428401/how-to-solve-linker-error-when-using-opencv-in-webots](https://stackoverflow.com/questions/63428401/how-to-solve-linker-error-when-using-opencv-in-webots) ?

`@David Mansolino` yes

##### Stefania Pedrazzi [cyberbotics] 08/17/2020 07:48:55
`@tangdan` 

> I am learning  "Interfacing Webots to Third Party Software with TCP/IP",but I don't know how to use the client.c

`@tangdan` to use the client simply open a terminal, navigate to the `WEBOTS_HOME/projects/robots/k-team/khepera1/controllers/tcpip/` directory and type `./client`.

Then if Webots is already started and the `khepera1_tcpip` simulation is running, you should get the `Enter command:` message in the terminal where you can write the commands to send to the khepera1 robot. Command instructions can be find the `tcpip.c` file

##### tangdan 08/17/2020 07:24:03
I am learning  "Interfacing Webots to Third Party Software with TCP/IP",but I don't know how to use the client.c, and I don't konw what is the function of the document. do you have any suggestion? 3Q

##### yash 08/17/2020 07:18:56
Hello ! Is it possible to model underactuated grasping mechanisms using cable-pulley system .!?

##### David Mansolino [cyberbotics] 08/17/2020 06:22:36
> Hello I'm working on path planning problems using Webots, but I have thought to create more complex environment adding objects to scene procedurally; my question is, is it posible to generate procedural environments in Webots ?

`@areiban` as `@Simon Steinmann` said, you can use a Supervisor controller to add/remove/change/move things in the environment at the first step: [https://www.cyberbotics.com/doc/reference/supervisor](https://www.cyberbotics.com/doc/reference/supervisor)

You can also write a procedural PROTO node to generate the environment: [https://cyberbotics.com/doc/reference/procedural-proto-nodes](https://cyberbotics.com/doc/reference/procedural-proto-nodes)


> Hello. I have to use opencv in my controller but it is compiling but not linking it say something like "undefined reference to...". (Note that linking error is only occuring during calling one of the opencv functions otherwise no error during building,). Also I use opencv version 4.4. My makefile is

`@Kricklobderno` is it you that posted this question here [https://stackoverflow.com/questions/63428401/how-to-solve-linker-error-when-using-opencv-in-webots](https://stackoverflow.com/questions/63428401/how-to-solve-linker-error-when-using-opencv-in-webots) ?


> I want to draw a circle which would denote a trajectory to be followed by my robot. So far I've used the Display node, but I only managed to draw the circle on the plane Shape and that also draws the     rectangular plane. I want only the circle to be visible and not the sorounding rectangle (the Shape plane).

>   If I change the transparecny of the Display, then both the circle and the plane are transparent which defeats the point

`@Å¾eljko` did you checked this sample [https://cyberbotics.com/doc/guide/samples-devices#display-wbt](https://cyberbotics.com/doc/guide/samples-devices#display-wbt) ?


> Hello, i am trying to realize a cable winch for a crane.

> has anyone an idea how to build one?

`@Lukulus` I don't have any better solution than the one proposed by `@Simon Steinmann`, I can just add that an example is available in Webots: [https://cyberbotics.com/doc/guide/samples-howto#rope-wbt](https://cyberbotics.com/doc/guide/samples-howto#rope-wbt)


`@Kricklobderno` if you pu tthe ball in the children field of the robot, then it is physically linked to the robot and therefore doesn't fall. A simpler solution is to let the ball independent from the robot but rather use the Supervisor API to track the position of the ball, here are some examples: [https://cyberbotics.com/doc/guide/supervisor-programming](https://cyberbotics.com/doc/guide/supervisor-programming)


`@koyal`, the first things to check is did you set the `supervisor` field of the robot node to `TRUE` ?


> Is there anyone can answer our question?

`@tangdan` here I am ðŸ˜‰

##### tangdan 08/17/2020 02:56:59
please ,i need help


Is there anyone can answer our question?

##### koyal 08/16/2020 23:40:12
And this happens for all the Supervisor related services


For any other value of the arg I get the error: ERROR: transport error completing service call: unable to receive data from sender, check sender's logs for details


However if the value of my arg is 0, I get this error: ERROR: service [/robot\_226208\_koyal/supervisor/field/set\_string] responded with an error: b''


To check the functionality of the services through the terminal, I am using rosservice call /topic\_name args


My aim is to control a robot's position based on the position of another robot. Hence using Supervisor to "Track" the position of Robot 1 to "Set" the position of Robot 2. I am trying to achieve this using ROS.


I want to use Supervisor API with ROS. However none of my rosservice calls on any of the supervisor services is working. A help in this direction would be very helpful.

##### Kricklobderno 08/16/2020 21:28:03
Because I want to attach gps to ping pong ball but it has its unique controller for that if I create seperate node for ping pong ball then I cant use the gps data in robot controller. So if I create inside the robot node then I can use gps coordinates in robot controller.

##### Simon Steinmann [Moderator] 08/16/2020 17:50:34
not sure it is meant for something like that


why would you have it in the robot node?

##### Kricklobderno 08/16/2020 17:28:28
> and you have to add a physics node to it

`@Simon Steinmann` I already added physics node. So there is no way that I can make it fall inside the robot node?

##### Simon Steinmann [Moderator] 08/16/2020 17:12:29
and you have to add a physics node to it


dont put it in the robot node

##### Kricklobderno 08/16/2020 16:48:36
Hello, when I add ping pong ball as a child node in the robot node, ping pong ball doesn't fall. How can I fix this?

##### Krithish 08/16/2020 14:54:08
this is the line of code for the gps
%figure
![error.png](https://cdn.discordapp.com/attachments/565154703139405824/744569692399861811/error.png)
%end

##### Weiyi 08/16/2020 11:13:07
hello, I wonder how can I make robot darwin-op2 go upstairs and downstairsðŸ˜€

##### Simon Steinmann [Moderator] 08/16/2020 09:04:08
I could imagine, having the length of the cable links be variable. So you could shorten or lengthen the cable.

##### Lukulus 08/16/2020 09:02:47
ok, thank you!

##### Simon Steinmann [Moderator] 08/16/2020 09:02:21
But you might wanna wait until tomorrow and ask the devs


That will be difficult, Webots is a rigid body simulation. Cables can be build by linking many small solids, but I doubt doing that in a winch will be easy

##### Lukulus 08/16/2020 08:51:02
Hello, i am trying to realize a cable winch for a crane.

has anyone an idea how to build one?

##### Simon Steinmann [Moderator] 08/16/2020 08:08:42
devices and nodes are different. Can you post the line, where you define the Sensor?


you havent properly defined gps1

##### Krithish 08/16/2020 00:37:34
but this error keeps coming


ive got three robot nodes , out of which two has gps and i have named the gps devices as well


attribute error
%figure
![errorgps.png](https://cdn.discordapp.com/attachments/565154703139405824/744353821047652423/errorgps.png)
%end


Can anyone help me out with solving this error..

##### alxy 08/15/2020 20:02:14
Nope, I updates the wrong file ðŸ˜„


mh, because I still get the error

##### Simon Steinmann [Moderator] 08/15/2020 19:59:39
yes it does

##### alxy 08/15/2020 19:59:27
if I change the proto file, and reload the worls, does webots recognize the changes?

##### Simon Steinmann [Moderator] 08/15/2020 19:59:08
to upgrade


pip install --no-cache-dir --upgrade urdf2webots


more features, but also bug fixes


make sure you install the newest version of the converter. The devs and I made many changes the past week


[https://github.com/cyberbotics/urdf2webots/blob/master/urdf2webots/writeProto.py](https://github.com/cyberbotics/urdf2webots/blob/master/urdf2webots/writeProto.py) line 61. looks correct


btw, would be awesome if you can upload it to the community projects ðŸ™‚


I'll have a look at the code tomorrow and check, perhaps that needs changing in the tool


yeah, change the proto file

##### alxy 08/15/2020 19:52:41
I think it is because the documentation says it must be MFString controllerArgs  []       # any string, where the proto files contains field SFString   controllerArgs  ""


Another question: The Mirobot.proto generated by the urdf converter always displays an error `ERROR: 'F:/Code/my_first_simulation/protos/Mirobot.proto':11:20: error: Type mismatch between 'controllerArgs' PROTO parameter and field 'controllerArgs'.`


Looks alright so far, theoretically I have the ROS controller for the mirobot as well, but that looked extremely complex to setup. And as I really just need a way to quickly test python code we write using this library fro the mirobot ( [https://github.com/rirze/mirobot-py](https://github.com/rirze/mirobot-py) ), I decided to exchange the serial itnerface with an ip based interface where the webots controller is the server side and just executes the commands send by that lib. And it works so far ðŸ™‚ Just kind of tedious to reimplement all the gcodes that it sends.

##### Simon Steinmann [Moderator] 08/15/2020 19:37:52
really depends on the hardware, the hardware controller, the software controller and how well the simulated model reflects reality. If you put some work into it, it should be pretty damn accurate

##### alxy 08/15/2020 19:33:08
Im really curious how close it will be compared to reality

##### Simon Steinmann [Moderator] 08/15/2020 19:32:22
you're welcome ðŸ™‚

##### alxy 08/15/2020 19:32:16
thanks!


yeah, reducing all motor to 10Nm works

##### Simon Steinmann [Moderator] 08/15/2020 19:31:20
but the real robot has appropiate gripping force

##### alxy 08/15/2020 19:30:30
Th default toque fr this gripper was 1000


yeah that would be optimal, however the real robot also only knows "open" and "close" for the valve, no matter the object it grips

##### Simon Steinmann [Moderator] 08/15/2020 19:27:10
also try to only close them as much as they need to, in order to grab the box

##### alxy 08/15/2020 19:26:44
let me try that

##### Simon Steinmann [Moderator] 08/15/2020 19:26:36
or set the maximum torque of the motors lower


you could enable force feedback, and only grip with a certain force


if the force is too high, it can go through. The default torques are 100 Nm, which is huge in such a small gripper

##### alxy 08/15/2020 19:24:37
Now I really srart to get this somehow working, however the box and the gripper do not seem to play nicely together (it appears the gripper does not obey to the bounding box of the wooden box). Is there any configuration option I might be missing to fix this?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/744275044854661291/unknown.png)
%end


Ok, was able to fix this by converting the gripper to base nodes and then convterting the robot to solid node. Like this, all motors can be controlled from a single controller script


`@Simon Steinmann` Is there any example controller I can look at that uses a robot with another robot/gripper in the toolSlot ?

##### Simon Steinmann [Moderator] 08/15/2020 17:38:23
The new standard ROS-workflow is now external anyways. much easier ðŸ™‚


when working with multiple virtual environments and especially ROS, it can be a pain. Thankfully, external controllers work flawlessly

##### alxy 08/15/2020 17:16:45
I had no issues using external opackages when using a python controller

##### Kricklobderno 08/15/2020 17:13:36
Can You guys give me a hint how to use opencv in webots?

##### alxy 08/15/2020 17:00:50
Yeah i did that and it perfectly works from the separate script, but I really want to open/close the gripper from the same script as the robot arm and that doesnt work for me ðŸ˜¦

##### Simon Steinmann [Moderator] 08/15/2020 16:56:14
just initialize the gripper-robot seperately

##### alxy 08/15/2020 16:47:51
It is a robot Node indeed ( [https://github.com/cyberbotics/community-projects/tree/master/devices/robotiq/protos](https://github.com/cyberbotics/community-projects/tree/master/devices/robotiq/protos) ). Shouldnt I theoreitcally be able to DEF label the mtoros and then get them from a supervisor controller?

##### Simon Steinmann [Moderator] 08/15/2020 16:35:32
most grippers are solids though. Adding any of the official ones should work


if your gripper is a robot node, then it probably wont work

##### alxy 08/15/2020 16:23:51
How can I address the motors of the gripper from the arm controller? Was only able to get it working in the two different scripts. Simply calling `supervisor.getMotor(motorName)` only works for the arm motors when I am in the arm controller

##### Simon Steinmann [Moderator] 08/15/2020 16:21:42
you might wanna use external controllers. Can be easier when you use custom packages

##### Kricklobderno 08/15/2020 16:20:59
[https://discordapp.com/channels/565154702715518986/565154703139405824/744201248097435678](https://discordapp.com/channels/565154702715518986/565154703139405824/744201248097435678)

##### Å¾eljko 08/15/2020 16:17:31
I want to draw a circle which would denote a trajectory to be followed by my robot. So far I've used the Display node, but I only managed to draw the circle on the plane Shape and that also draws the     rectangular plane. I want only the circle to be visible and not the sorounding rectangle (the Shape plane).

  If I change the transparecny of the Display, then both the circle and the plane are transparent which defeats the point

##### Simon Steinmann [Moderator] 08/15/2020 16:16:14
I usually have a object for all arm motors, and another for all gripper motors


you can address the motors in the same script if you want. You just have to initialize them

##### alxy 08/15/2020 16:10:01
I have done that (actually you have done it), but still for the gripper I need to specify a separate controller script?

##### Simon Steinmann [Moderator] 08/15/2020 16:08:18
and easily control them with the same controller


it's good practice to add a toolslot to your robot. This allows you to easily atttach other grippers

##### alxy 08/15/2020 16:06:37
So genereally it works with separate controllers


they are not part of the same robot node

##### Å¾eljko 08/15/2020 15:58:15
> Is it possible to control the gripper and the arm from the same controller?

`@alxy` If they're a part of the same Robot node  then you just have to instantiate all the motors and other devices properly (you have to use the correct names of the motors and so on). You can find the names of devices in the world info window left of the simulation with the rest of the robot properties. If you don't see them then you're using the PROTO node and not the Robot node. To convert, just right click on the Robot in the world info window and the click conver to Base node(s)

##### alxy 08/15/2020 15:53:26
Is it possible to control the gripper and the arm from the same controller?


Alright, I just clicked at the wrong part, ity perfectly possible to see two robot menus side by side


And maybe another question: Now that I have added the gripper, I have two Robot nodes in my world, however, if I doubble click on the gripper to open the robot menu with the joints to be controlled manually, I only see the joints of the original arm, not the freshly added gripper



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/744217667082125373/unknown.png)
%end


at least visually it looks like the real robot now ðŸ˜„

##### Simon Steinmann [Moderator] 08/15/2020 15:34:21
I'm not an expert in this matter. Next week the devs can help I'm sure:)

##### alxy 08/15/2020 15:33:54
Ok, I was able to put it into a transform node which has the scale property indeed. Just unsure if this is the best option....


I dont see a scale option, and if I read the documentation correctly it appears this is on purpose:

> In PROTO nodes that correspond to real world objects, it is not recommend to add fields such as mass or scale. This is because in real life, you cannot change the mass or the size of an object. And we don't want to encourage users of the PROTO nodes to do so, as it may lead to non-realistic models and numerical instabilities. Some exceptions however exist. For example, it may be convenient to add a size field to a Matryoshka doll PROTO. Nevertheless, such a size field should be limited to a minimal and a maximal size or to a limited range of integer values. Therefore it could be either a floating point or an integer value.


this proto file only defines translation, rotation and controller als porperties

##### Simon Steinmann [Moderator] 08/15/2020 15:24:15
there should be a scale property

##### alxy 08/15/2020 15:20:08
Is it possible to change the size of a proto node? I tried to use this gripper ( [https://github.com/cyberbotics/community-projects/tree/master/devices/robotiq/protos](https://github.com/cyberbotics/community-projects/tree/master/devices/robotiq/protos) ) with my robot arm, but it is far too big for my rather small arm, so ideally I want to scale it sonehow. Unfortunatly, the original gripper for my arm is not yet available as urdf file or similar.

##### Kricklobderno 08/15/2020 14:30:04
Hello. I have to use opencv in my controller but it is compiling but not linking it say something like "undefined reference to...". (Note that linking error is only occuring during calling one of the opencv functions otherwise no error during building,). Also I use opencv version 4.4. My makefile is
> **Attachment**: [Makefile](https://cdn.discordapp.com/attachments/565154703139405824/744201247917342740/Makefile)

##### Å¾eljko 08/15/2020 13:55:38
i did not

great, thanks a lot ðŸ˜„

##### Simon Steinmann [Moderator] 08/15/2020 13:08:33
fixed exactly those 2 issues


`@Å¾eljko` did you download the newest version? They changes yesterday

##### Lukulus 08/15/2020 11:51:56
Is there a good solution for build a cable winch e.g. for a crane?

And if yes, how it would be realized?

##### Å¾eljko 08/15/2020 09:53:38
hey

i'm using kuka lbr iiwa from the community repozitory and i'm having a problem with controlling it.



the problem is that the robot is highly dragged down by gravity. everything works as expected when i set gravity to 0, but not otherwise. when i import the robot it says:

WARNING: KukaLbrIiwa14R820 (PROTO) > HingeJoint > Solid > HingeJoint > Solid > HingeJoint > Solid > HingeJoint > Solid > HingeJoint > Solid > HingeJoint > Solid > HingeJoint > Solid > Solid: Undefined inertia matrix: using the identity matrix. Please specify 'boundingObject' or 'inertiaMatrix' values.

WARNING: KukaLbrIiwa14R820 (PROTO) > Solid: Undefined inertia matrix: using the identity matrix. Please specify 'boundingObject' or 'inertiaMatrix' values.



do i have to change the masses or define the intertia matrix?

the same happens when i compile the robot from the urdf source

##### ContrastNull 08/15/2020 06:08:42
> I imported this object, but seems it's huge compared to the actual world. Can you help me fix it?

`@saditya` There's an option, size in the scene tree, which is set to 1,1,1. You can reduce the size accordingly then.

##### Simon Steinmann [Moderator] 08/14/2020 22:19:03
you can add and load things from code, so you can definitely do it manually.

##### areiban 08/14/2020 20:35:18
Hello I'm working on path planning problems using Webots, but I have thought to create more complex environment adding objects to scene procedurally; my question is, is it posible to generate procedural environments in Webots ?

##### saditya 08/14/2020 17:34:44
> I'm not sure if you can have a motor inside of a single model. You would probably have to split the part up, into the black and the golden part

`@Simon Steinmann` Alright I will have a look. Thanks! ðŸ™‚

##### Simon Steinmann [Moderator] 08/14/2020 16:51:35
I'm not sure if you can have a motor inside of a single model. You would probably have to split the part up, into the black and the golden part

##### saditya 08/14/2020 16:48:58
> make sure the units are correct in the .stl file. Webots uses meters as units

`@Simon Steinmann` Yeah my bad. What do you think about the rotation part? Can i add a motor?

##### Simon Steinmann [Moderator] 08/14/2020 16:48:08
make sure the units are correct in the .stl file. Webots uses meters as units

##### saditya 08/14/2020 16:47:09
> Should be actually this size?

`@saditya` Can I have a rotational motor attached to this to make the black part moving with a certain speed? `@Simon Steinmann`


Should be actually this size?
%figure
![photo_2020-08-14_18-28-31.jpg](https://cdn.discordapp.com/attachments/565154703139405824/743870482432131142/photo_2020-08-14_18-28-31.jpg)
%end

##### Simon Steinmann [Moderator] 08/14/2020 16:35:29
it looks to be a bridge. That should be huge

##### saditya 08/14/2020 16:34:57
I imported this object, but seems it's huge compared to the actual world. Can you help me fix it?
%figure
![rotor.png](https://cdn.discordapp.com/attachments/565154703139405824/743870290580471870/rotor.png)
%end

##### Simon Steinmann [Moderator] 08/14/2020 16:21:08
what OS are you on, and what configurations stop you?


that is by far the easiest. I'd highly recommend updating though

##### saditya 08/14/2020 16:20:15
> make sure you have the newest version of webots

`@Simon Steinmann` I am currently on 2020a, and I cant; update because of some issues with my internal configurations requirement. IS there any other way?

##### Simon Steinmann [Moderator] 08/14/2020 16:19:09
then you can just go File > Import 3D model


make sure you have the newest version of webots

##### saditya 08/14/2020 16:18:27
How can I import a .stl file to WEBOTS? DO i need to convert it to VRML 97 format? How can we do it?

##### Kricklobderno 08/14/2020 15:46:08
> Also you should print the position value you are sending, e.g., `AMPL * sin(phase)` and compare it to the one sent by the original C controller.

`@Olivier Michel` Ok. Thx for helping.

##### Olivier Michel [cyberbotics] 08/14/2020 15:43:49
Also you should print the position value you are sending, e.g., `AMPL * sin(phase)` and compare it to the one sent by the original C controller.

##### Kricklobderno 08/14/2020 15:43:45
T

> Does it help  to remove these lines which are not present in the original C controller?

> 
```C++
>     pistons[i]->setPosition(INFINITY);
>     pistons[i]->setVelocity(0.0);
> 
```

`@Olivier Michel` Thank You so much


Actually it did

##### Olivier Michel [cyberbotics] 08/14/2020 15:42:22
Does it help  to remove these lines which are not present in the original C controller?

```C++
    pistons[i]->setPosition(INFINITY);
    pistons[i]->setVelocity(0.0);
```

##### Kricklobderno 08/14/2020 15:35:13
Hello guys. I am converting the c code of stewart platform to cpp code. But my actuator doesn't move. I can't even move the actuators in generic motor windows. My controllers run and also ends succesfully but actuators dont move. The source code
> **Attachment**: [bouncer.cpp](https://cdn.discordapp.com/attachments/565154703139405824/743855257989283961/bouncer.cpp)

##### David Mansolino [cyberbotics] 08/14/2020 13:48:25
> `@David Mansolino` Alright! Is it easy to export it from there to WEBOTS? Also can we use AUTOCAD?

`@saditya` here are the supported format for importation (see 'Import 3D Model...'): [https://cyberbotics.com/doc/guide/the-user-interface#file-menu](https://cyberbotics.com/doc/guide/the-user-interface#file-menu)

##### Peter Huang 08/14/2020 13:39:07
> Changing `WorldInfo.coordinateSystem` to `"ENU"` is not sufficient, you also need to rotate and position objects in the Z-vertical environment. Here is a properly rotated world file:

`@Olivier Michel` Got it. Thank you!

##### saditya 08/14/2020 13:37:48
> You probably want to use another software (such as Blender) to design more complex 3D shapes.

`@David Mansolino` Alright! Is it easy to export it from there to WEBOTS? Also can we use AUTOCAD?

##### Olivier Michel [cyberbotics] 08/14/2020 13:28:23
ENU rotated world file
> **Attachment**: [reproduce\_ENU\_error.wbt](https://cdn.discordapp.com/attachments/565154703139405824/743823336555020378/reproduce_ENU_error.wbt)


Changing `WorldInfo.coordinateSystem` to `"ENU"` is not sufficient, you also need to rotate and position objects in the Z-vertical environment. Here is a properly rotated world file:

##### Peter Huang 08/14/2020 13:22:12
This is under ENU
> **Attachment**: [reproduce\_ENU\_error\_1.mp4](https://cdn.discordapp.com/attachments/565154703139405824/743821783312105522/reproduce_ENU_error_1.mp4)


This is under NUE
> **Attachment**: [reproduce\_ENU\_error.mp4](https://cdn.discordapp.com/attachments/565154703139405824/743821567351586866/reproduce_ENU_error.mp4)


I just created a new world file to reproduce this
> **Attachment**: [reproduce\_ENU\_error.wbt](https://cdn.discordapp.com/attachments/565154703139405824/743821319732330606/reproduce_ENU_error.wbt)

##### David Mansolino [cyberbotics] 08/14/2020 12:35:52
Can you share your simulation (world file)?

##### Peter Huang 08/14/2020 12:33:24
> `@Peter Huang` have you tried saving and reverting the world after changing the coordinate system?

`@David Mansolino` Yes, I have saved and even reloaded the world. I also tried creating a new world from scratch and it still have the same issue

##### David Mansolino [cyberbotics] 08/14/2020 10:22:32
You probably want to use another software (such as Blender) to design more complex 3D shapes.

##### saditya 08/14/2020 10:19:47
Trying to replicate line following behavior, used plane as solid to make the straight line. Need to make some arc now with the same plane. I can have multiple planes and add transform nodes to make an arc. But how I make them curve. IT will be dependent on the rotation and translation? If i am not wrong. Could you guide a bit.( You can see the arcs in the texture, that is how I need it)
%figure
![curve.png](https://cdn.discordapp.com/attachments/565154703139405824/743775873798373466/curve.png)
%end

##### Laojiang 08/14/2020 08:42:30
I reload the simulation and it's ok . thank you

##### David Mansolino [cyberbotics] 08/14/2020 08:39:35
Did you save and revert the simulation?

##### Laojiang 08/14/2020 08:39:09

%figure
![N1WPWGCJYNETW3I7D.png](https://cdn.discordapp.com/attachments/565154703139405824/743750552038408232/N1WPWGCJYNETW3I7D.png)
%end


I have add GPS in my robot node ,why there is Warning: "Gps" device not found when I run the program?

##### yash 08/14/2020 06:53:52
Okay thanks a lot !

##### Olivier Michel [cyberbotics] 08/14/2020 06:52:23
See for example [https://cyberbotics.com/doc/guide/samples-howto#rope-wbt](https://cyberbotics.com/doc/guide/samples-howto#rope-wbt).


This may not be easy as Webots relies on a rigid body physics engine (ODE). But you can approximate soft bodies by building a series of small rigid bodies connected to each other with joints.

##### yash 08/14/2020 06:50:38
That is instead of a rigid body link


Oh okay , and if I want to add a soft or flexible link .?

##### Olivier Michel [cyberbotics] 08/14/2020 06:49:04
You should probably add a hinge joint and tune the spring and damping parameters.

##### yash 08/14/2020 06:46:33
Hello ! How can I add flexure hinge based/compliant joint mechanisms in Webots .?

##### David Mansolino [cyberbotics] 08/14/2020 05:56:33
> Hi all, I am trying out 2020b version. When I use legacy NUE coordinateSystem, everything works normally. However, after I change it to the new ENU system, I found the gravity direction is incorrect (still in the -y axis), therefore any object with weight will fly horizontally. I am not sure if I missed anything or it is a bug. Could someone help me with this? Thanks!

`@Peter Huang` have you tried saving and reverting the world after changing the coordinate system?


> hello can i control only one wheel of youbot ?

`@MarioAndres7` Yes sure, for this you have to use low level control of the wheel. You can check how to do this in the sources of the youbot library: [https://github.com/cyberbotics/webots/blob/master/projects/robots/kuka/youbot/libraries/youbot\_control/src/base.c](https://github.com/cyberbotics/webots/blob/master/projects/robots/kuka/youbot/libraries/youbot_control/src/base.c)

But I would recommend following this tutorial (it works the smae way for the youbot): [https://www.cyberbotics.com/doc/guide/tutorial-4-more-about-controllers](https://www.cyberbotics.com/doc/guide/tutorial-4-more-about-controllers)


About the animation speed, you should try reducing the advanced rendering feature from the OpenGL tab of the preferences: [https://cyberbotics.com/doc/guide/preferences#opengl](https://cyberbotics.com/doc/guide/preferences#opengl)


> Hello 

> Is it normal for Webots to be slow in animations, and produce strange sound?

`@areiban` the strange sounds are contact sounds (which I have to admit are not calibrated for most of the simulation), but you can easily disable sound from the toolbar.

##### Peter Huang 08/14/2020 04:30:59
Hi all, I am trying out 2020b version. When I use legacy NUE coordinateSystem, everything works normally. However, after I change it to the new ENU system, I found the gravity direction is incorrect (still in the -y axis), therefore any object with weight will fly horizontally. I am not sure if I missed anything or it is a bug. Could someone help me with this? Thanks!

##### MarioAndres7 08/13/2020 21:20:19
hello can i control only one wheel of youbot ?

##### Simon Steinmann [Moderator] 08/13/2020 17:39:36
then it is not normal

##### areiban 08/13/2020 17:33:00
I was testing it with the examples that it brings by default

##### Simon Steinmann [Moderator] 08/13/2020 17:25:59
Not really. Is it just in your custom world, or does it happen in sample-worlds too?

##### areiban 08/13/2020 17:02:33
Hello 

Is it normal for Webots to be slow in animations, and produce strange sound?

##### MarioAndres7 08/13/2020 16:21:20
hello do you know how can i change the speed of movement of kuka youbot in c ?

##### David Mansolino [cyberbotics] 08/13/2020 15:08:32
When you try to save it Webots will ask you if you want to relacote the simulation, just say yes

##### saditya 08/13/2020 14:52:43
> That looks correct

`@David Mansolino` Alright! It doesn't let me modify the world though. How should I use in my robot and controller? in the same world

##### David Mansolino [cyberbotics] 08/13/2020 14:36:25
Maybe just to identify if the problem is at the world modelling level, you can try with your robot and your controller in this world: [https://www.cyberbotics.com/doc/guide/epuck#e-puck\_line-wbt](https://www.cyberbotics.com/doc/guide/epuck#e-puck_line-wbt)


That looks correct

##### saditya 08/13/2020 14:34:10
> And you can't measure any difference between the black and white part?

`@David Mansolino` That is how I implemented in the code.
%figure
![implement.png](https://cdn.discordapp.com/attachments/565154703139405824/743477507344564224/implement.png)
%end


This is an interface which is normal conditions should spit out values which have different values (tested before on different experiments) not on WEBOTS. They should have different values. But it doesn't.
%figure
![sensors.png](https://cdn.discordapp.com/attachments/565154703139405824/743477045610414080/sensors.png)
%end


> And you can't measure any difference between the black and white part?

`@David Mansolino` This is an interface which is normal conditions should spit out values which have different values (tested before on different experiments) not on WEBOTS. They should have different values. But it doesn't.

##### David Mansolino [cyberbotics] 08/13/2020 14:28:35
And you can't measure any difference between the black and white part?

##### saditya 08/13/2020 14:27:59
> Did you set the type of the distance-sensor to 'infra-red' ?

`@David Mansolino` Yes I did for all the sensors here.
%figure
![infra.png](https://cdn.discordapp.com/attachments/565154703139405824/743475950330708168/infra.png)
%end

##### David Mansolino [cyberbotics] 08/13/2020 14:02:51
Did you set the type of the distance-sensor to 'infra-red' ?

##### saditya 08/13/2020 12:54:42
> I think so, can you try it?

`@Olivier Michel` I did try but does not work well. I have distance sensors to be precise, however I am trying to have a line following behavior. Before I run any mission, i need to calibrate my sensors for edge detection. I move the robot on the white line and calibrate sensors , and i get certain values. When I need to calibrate it for the black environment, I get same values of Reflection from the reflections from the black surface. Am i doing something wrong here? `@Darko LukiÄ‡` if you could help?

##### David Mansolino [cyberbotics] 08/13/2020 11:21:29
You're welcome

##### Shadow 08/13/2020 11:21:12
Okay thanks

##### David Mansolino [cyberbotics] 08/13/2020 11:15:42
Is the distance sensor type 'sonar'?

If yes, this probably explains what you are experiencing: [https://cyberbotics.com/doc/reference/distancesensor#sonar-sensors](https://cyberbotics.com/doc/reference/distancesensor#sonar-sensors)

##### Shadow 08/13/2020 11:14:27
Hi, I'm having issues with distance sensors where if they are at a specific angle to a wall, the reading will be always max no matter the distance away. At other angles it works perfectly.

##### KelvinYang0320 08/13/2020 11:13:09
`@Stefania Pedrazzi` 

Thanks ðŸ‘

I will try it.

##### Stefania Pedrazzi [cyberbotics] 08/13/2020 11:01:39
`@KelvinYang0320` I'm inspecting the bug you reported and will be fixed in the next version of Webots R2020b revision 1 that we will be released soon.

For the moment I can suggest you a workaround that simply consists in explicitly deleting the `POLE_ENDPOINT` node before deleting the `ROBOT` node:

```
def respawnRobot(self):
        if self.robot is not None:
            # Despawn existing robot
            self.poleEndpoint.remove()  # NEW INSTRUCTION
            self.robot.remove()
                ...
```

This will reset the internal cache for the `POLE_ENDPOINT` DEF name so that the newly imported is found.

##### Olivier Michel [cyberbotics] 08/13/2020 08:48:04
I think so, can you try it?

##### saditya 08/13/2020 08:46:56
> You should be carreful abou tthe roughness and metalness values of the appearance

`@David Mansolino` Do you think this line should be noted well as a white line? Its actually not a line but a solid with very less thickness and then the color on top of it. This is just for trial. Do yo think this would work well with the line sensor?
%figure
![Selection_038.png](https://cdn.discordapp.com/attachments/565154703139405824/743390119725236264/Selection_038.png)
%end

##### Alex Nie 08/13/2020 07:23:02
Thanks

##### Simon Steinmann [Moderator] 08/13/2020 07:22:04
you have to set the supervisor to TRUE (left side in the robot options)

##### Alex Nie 08/13/2020 07:21:33
Why can't I use Supervisor on the internal controller? ðŸ˜¥
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/743368631525834792/unknown.png)
%end

##### KelvinYang0320 08/13/2020 05:37:12
The error comes from 

endpointVelocity = normalizeToRange(self.poleEndpoint.getVelocity()[3], -1.5, 1.5, -1.0, 1.0, clip=True)

in supervisorController.py


Ok, thank you!

##### David Mansolino [cyberbotics] 08/13/2020 05:33:27
I will have a look this morning and let you know

##### KelvinYang0320 08/13/2020 05:30:51
No, I'm doing a project about reinforcement learning in NTHU.ðŸ˜€

##### David Mansolino [cyberbotics] 08/13/2020 05:26:07
perfect, thank you. You are from the OpenDR project right?

##### KelvinYang0320 08/13/2020 05:22:51
I simply follow this deepbots tutorial.

[https://github.com/aidudezzz/deepbots-tutorials](https://github.com/aidudezzz/deepbots-tutorials)

Thanks

> `@KelvinYang0320` can you share your world + controller? It is difficult to understand what is hapennign without them.

`@David Mansolino`

##### David Mansolino [cyberbotics] 08/13/2020 05:15:30
`@KelvinYang0320` can you share your world + controller? It is difficult to understand what is hapennign without them.

##### KelvinYang0320 08/13/2020 00:52:48

%figure
![67c19513a6307127.PNG](https://cdn.discordapp.com/attachments/565154703139405824/743270800517234748/67c19513a6307127.PNG)
%end



%figure
![deepbots_err.PNG](https://cdn.discordapp.com/attachments/565154703139405824/743270763338924062/deepbots_err.PNG)
%end


I've come across a problem while using getVelocity() for a Solid node.

And it seems that my code work fine on webots 2020a revision 1, yet I get nan on webots 2020b.

Can you give me a hand?

##### saditya 08/12/2020 15:42:15
> You should be carreful abou tthe roughness and metalness values of the appearance

`@David Mansolino` Thanks! I will have a look at it ðŸ™‚

##### David Mansolino [cyberbotics] 08/12/2020 15:05:17
You should be carreful abou tthe roughness and metalness values of the appearance

##### saditya 08/12/2020 15:01:47
> `@saditya` as you prefeer, both solution should work, but I would recommend drawing the lines directly in the textures, this is the simplest solution.

`@David Mansolino` I tried having white lines with a black background and i tried to have that texture on my solid, but seems like it's not white. Idk if i am doing something wrong here.

##### David Mansolino [cyberbotics] 08/12/2020 14:37:32
> `@David Mansolino` Can I add polygons with minimum thickness and add a appearance to them? Or will I have to design the map in some third party and add as a texture?

`@saditya` as you prefeer, both solution should work, but I would recommend drawing the lines directly in the textures, this is the simplest solution.

##### Shadow 08/12/2020 14:32:20
Thanks I'll take a look

##### Olivier Michel [cyberbotics] 08/12/2020 14:25:14
`@Shadow`: or you can use SpotLight and ensure the spot cuts the light before the wall.


`@Shadow`: You can however enable shadows.

##### saditya 08/12/2020 14:23:13
> I would recommend following this tutorial to understand how appearances work: [https://cyberbotics.com/doc/guide/tutorial-3-appearance](https://cyberbotics.com/doc/guide/tutorial-3-appearance)

`@David Mansolino` Can I add polygons with minimum thickness and add a appearance to them? Or will I have to design the map in some third party and add as a texture?

##### Olivier Michel [cyberbotics] 08/12/2020 14:23:00
No, it's not possible.

##### Shadow 08/12/2020 14:22:24
Is it possible to block light from a PointLight going through walls? Am I making walls incorrectly? Thanks

##### Gowtham 08/12/2020 13:16:24
`@Simon Steinmann` thanks dude

##### Simon Steinmann [Moderator] 08/12/2020 13:15:10
check the link and go through the troubleshooting steps. Especially the poweroptions might help

##### Gowtham 08/12/2020 13:14:38
> you probably have a laptop dual or quad core. So it may very well be at 100%

`@Simon Steinmann` 



yeah I have done its upto date. ðŸ’¯ anyway thanks for the help guys ðŸ˜Š

##### Simon Steinmann [Moderator] 08/12/2020 13:12:19
for your bluescreen


check out this link


[https://answers.microsoft.com/en-us/windows/forum/windows\_10-performance/help-with-blue-screen-driver-power-state-failure/3a7427d5-8965-47d4-858d-b34601496f65](https://answers.microsoft.com/en-us/windows/forum/windows_10-performance/help-with-blue-screen-driver-power-state-failure/3a7427d5-8965-47d4-858d-b34601496f65)


try updating your nvidia drivers


you probably have a laptop dual or quad core. So it may very well be at 100%

##### Olivier Michel [cyberbotics] 08/12/2020 13:10:58
Depending on your simulation, this may be possible.

##### Gowtham 08/12/2020 13:10:25
CPU usage 100% is it normal on webots ? ðŸ˜¢

##### Olivier Michel [cyberbotics] 08/12/2020 13:09:51
Maybe.

##### Gowtham 08/12/2020 13:09:36
> Did you try the safe mode?

`@Olivier Michel` 



will it work ?  for my problem


cpu 100%



%figure
![InShot_20200812_183640018.jpg](https://cdn.discordapp.com/attachments/565154703139405824/743093696396001419/InShot_20200812_183640018.jpg)
%end

##### Olivier Michel [cyberbotics] 08/12/2020 13:07:53
[https://www.cyberbotics.com/doc/guide/starting-webots#safe-mode](https://www.cyberbotics.com/doc/guide/starting-webots#safe-mode)


Did you try the safe mode?

##### Simon Steinmann [Moderator] 08/12/2020 13:07:20
Is it crashing in your own world, or also in a sample world?

##### Gowtham 08/12/2020 13:06:24
guys I have used texture quality medium but my webots is always crashing. other apps are running fine only webots is crashing like this..



processor - i5 intel

graphics - nvidia 150mx

##### David Mansolino [cyberbotics] 08/12/2020 09:44:46
I would recommend following this tutorial to understand how appearances work: [https://cyberbotics.com/doc/guide/tutorial-3-appearance](https://cyberbotics.com/doc/guide/tutorial-3-appearance)

##### saditya 08/12/2020 09:43:58
> yes

`@David Mansolino` I tried to add this line, to the black plane structure. But it does not appear on the plane.  Going wrong somewhere?
%figure
![rsz_screenshot_from_2020-08-12_11-37-31.png](https://cdn.discordapp.com/attachments/565154703139405824/743042087666319450/rsz_screenshot_from_2020-08-12_11-37-31.png)
%end

##### Diglet 08/12/2020 09:24:36
`@Olivier Michel` Ok, thank you so much ðŸ™‚

##### David Mansolino [cyberbotics] 08/12/2020 09:19:19
yes

##### saditya 08/12/2020 09:17:36
> You can add a plane shape slightly on top of the floor.

`@David Mansolino` Alright thanks a lot! I will try it out now. For the white lines i should add texture on the plane floor now?

##### Olivier Michel [cyberbotics] 08/12/2020 09:17:26
Yes, I would recommend tutorials 1 to 6 to get a good understanding on how Webots works in general.

##### Diglet 08/12/2020 09:16:34
`@Olivier Michel` Thanks for replying. Can you tell me which of the tutorials should i real to know how to use third party software like OpenCV to use hand gesture controlling on Nao Robot in Webots. Do I have to create a new controller or there is an example how I can achieve it. Using nao-demo i could just change controlling robot with keybord on controlling with camera gesture. I am right ?

##### David Mansolino [cyberbotics] 08/12/2020 09:09:22
You can add a plane shape slightly on top of the floor.

##### saditya 08/12/2020 09:08:50
> Yes the simplest solution is to create your own texture.

`@David Mansolino` Do you recommend to use a third party software to create or I could use the floor from the objects and then have a very thin black solid part.

##### David Mansolino [cyberbotics] 08/12/2020 09:03:44
Yes the simplest solution is to create your own texture.

##### saditya 08/12/2020 09:03:03
> If you are using the RectangeArena PROTO node, you simply need to remove the node in the `floorAppearance` field and replace it by one of the wood apperance

`@David Mansolino` It;s a bit small, but I want to create something like that. A big map ( In brown floor) in which some part of it is covered in black on which we have white lines for line following. How would you suggest me to deal with it? Should I add texture to the floor or how?
%figure
![fieldview.jpeg](https://cdn.discordapp.com/attachments/565154703139405824/743031787894341662/fieldview.jpeg)
%end

##### David Mansolino [cyberbotics] 08/12/2020 09:00:50
Yes sure, in that case it is the `appearance` field instead of `floorAppearance`.

##### saditya 08/12/2020 08:53:19
> If you are using the RectangeArena PROTO node, you simply need to remove the node in the `floorAppearance` field and replace it by one of the wood apperance

`@David Mansolino` I dont need the walls around so I am trying to use In Nodes- floors- Floor Solid(Configurable standard flat floor). Can i change the appearance for this as well?

##### David Mansolino [cyberbotics] 08/12/2020 08:48:00
If you are using the RectangeArena PROTO node, you simply need to remove the node in the `floorAppearance` field and replace it by one of the wood apperance


Yes sure, you simply need to use the one of the wood appearances, such as this one: [https://cyberbotics.com/doc/guide/appearances#roughpine](https://cyberbotics.com/doc/guide/appearances#roughpine)

##### saditya 08/12/2020 08:44:47
I want a plain wooden floor for my environment and not the chequed style design. Can i change it within WEBOTS? Or do I need to have another texture or something?
%figure
![floor.png](https://cdn.discordapp.com/attachments/565154703139405824/743027193134710824/floor.png)
%end

##### Olivier Michel [cyberbotics] 08/12/2020 08:31:41
Hi, yes, you should probably follow the tutorials in the user guide to get started with robot programming.

##### Diglet 08/12/2020 08:29:29
Im trying to do something like this : [https://www.youtube.com/watch?v=U3qiZ6ZUWQE](https://www.youtube.com/watch?v=U3qiZ6ZUWQE)


Hi ! I'm trying to create a hand gesture controller with OpenCV and Nao Robot on Webots. I've created a CNN hand gesture model working in real time. Im trying to use it in Nao simulation but I dont know how to start. Is there something in User Guide that can help me ?

##### David Mansolino [cyberbotics] 08/12/2020 06:21:49
You're welcome ðŸ™‚

##### Gowtham 08/12/2020 06:21:40
thank you soo much this is what I am searching for ðŸ¤©

##### David Mansolino [cyberbotics] 08/12/2020 05:59:47
`@Gowtham` here is an example controller showing how to do this: [https://github.com/cyberbotics/webots/blob/master/projects/samples/devices/controllers/camera\_recognition/camera\_recognition.c#L54](https://github.com/cyberbotics/webots/blob/master/projects/samples/devices/controllers/camera_recognition/camera_recognition.c#L54)

##### Gowtham 08/12/2020 02:59:52

%figure
![Screenshot_2020-08-12-08-29-10-651_com.mxtech.videoplayer.pro.jpg](https://cdn.discordapp.com/attachments/565154703139405824/742940389547311164/Screenshot_2020-08-12-08-29-10-651_com.mxtech.videoplayer.pro.jpg)
%end


Atleast anyone tell me. how to print X,Y,height, width of the recognised object.


Guys I made my robot with recognition but I need to object tracking. So I need X,Y, height, width of the recognised object. can anyone help me with that.



%figure
![Screenshot_2020-08-11-22-21-54-819_com.android.chrome.jpg](https://cdn.discordapp.com/attachments/565154703139405824/742787592059355196/Screenshot_2020-08-11-22-21-54-819_com.android.chrome.jpg)
%end

##### Olivier Michel [cyberbotics] 08/11/2020 16:13:58
Sorry, we can't better help you.

##### Shadow 08/11/2020 16:07:38
No I do not

##### Olivier Michel [cyberbotics] 08/11/2020 16:07:11
Yes, it should work. I don't know why it doesn't for you. Do you have an active Premier service for user support?

##### Shadow 08/11/2020 16:05:50
So there is no way to increase the distance sensor range?

##### Olivier Michel [cyberbotics] 08/11/2020 16:05:01
Sorry, no.

##### Shadow 08/11/2020 16:04:28
Do you have any idea what the solution might be?


That is mostly the only thing I am changing about the e-puck

##### Olivier Michel [cyberbotics] 08/11/2020 15:09:06
Can you revert to a non-customized e-puck robot for which you would change only the lookupTable?

##### Shadow 08/11/2020 15:08:00
I'm using the e-puck robot and customising it and I've been using the visualisation and the length of the rays increase with the increasing lookup table max value however the colour goes red at the same distance every time.

##### Olivier Michel [cyberbotics] 08/11/2020 15:06:41
It could be some part of your robot occluding the sensor ray for a few time steps. Can you activate the distance sensor ray visualization in the View menu and run the simulation step-by-step?

##### Shadow 08/11/2020 15:03:48
It is a flat wall and the environment is a maze so only has flat walls.

##### David Mansolino [cyberbotics] 08/11/2020 15:01:59
did you tried with severa kind of obstacles?


It is probable that the problem is rather related to the environment rather to the sensor

##### Shadow 08/11/2020 14:59:52
No it does the same 0.16 to 100 issue.

##### Olivier Michel [cyberbotics] 08/11/2020 14:59:02
And when you set it to `[ 0 0 0, 100 100, 0]` the range doesn't change?

##### Shadow 08/11/2020 14:56:31
yes

##### Olivier Michel [cyberbotics] 08/11/2020 14:56:02
So, it's `[ 0 0 0, 10 10 0 ]`, correct?

##### Shadow 08/11/2020 14:54:10
It's just 0 0 then 10 10 with no noise

##### Olivier Michel [cyberbotics] 08/11/2020 14:51:33
Can you copy/paste your lookupTable here?

##### Shadow 08/11/2020 14:50:56
It goes from a read value of 0.16 instantly up to my maximum lookup table value of 10.

##### Olivier Michel [cyberbotics] 08/11/2020 14:50:01
What is the maximum distance value you get?

##### Shadow 08/11/2020 14:49:33
Yes

##### Olivier Michel [cyberbotics] 08/11/2020 14:49:19
Did you try to save and revert after changing the lookupTable?

##### Shadow 08/11/2020 14:48:01
This doesn't seem to help as no matter the value over a specific point the max distance seems to stay the same.

##### David Mansolino [cyberbotics] 08/11/2020 14:47:18
The maximum distance is indeed the last value of the lookup table.

##### Shadow 08/11/2020 14:46:29
Is there a maximum range for distance sensors? No matter how big my lookup table is it always seems to max out at the max lookup table value at the same distance every time.

##### Samir Hosny Mohamed 08/11/2020 08:13:08
Ok, i will do that as soon as i can, Thanks very much â¤ï¸

##### Olivier Michel [cyberbotics] 08/11/2020 08:04:33
I would strongly recommend you to upgrade to R2020b which fixes several issues with respect to simulation server.

##### Samir Hosny Mohamed 08/11/2020 08:03:49
R2020a

##### Olivier Michel [cyberbotics] 08/11/2020 05:39:41
Which version of Webots are you using?

##### Samir Hosny Mohamed 08/10/2020 23:13:10
> another question,, when i use the wwi socket it works only in the first time,, then it fails and give a "device not found" warning !

`@Samir Hosny Mohamed` this happens because using the function getPosition() in the supervisor mode !


another question,, when i use the wwi socket it works only in the first time,, then it fails and give a "device not found" warning !
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/742490775153279066/unknown.png)
%end


`@Olivier Michel` i tried the code but simulation\_server.py give an error "The system cannot find the path specified: '@UserDir/AppData/Local/Temp/webots/instances/1637901311944'"


> You need to write your own web page (index.html) that will initialize `webots.js` so that it uses the session and simulation servers you are running.

`@Olivier Michel` Ok, i will try that, thanks â¤

##### Olivier Michel [cyberbotics] 08/10/2020 13:34:29
Both solutions should work.


Yes, probably.

##### saditya 08/10/2020 13:29:42
> Sure.

`@Olivier Michel` I tried this way, the behavior and everything is fine. But I don't want the other side of the seesaw to completely hit the ground. Should I increase the size of the box(base) or the translation of the box(base)?
> **Attachment**: [trial.mp4](https://cdn.discordapp.com/attachments/565154703139405824/742374117474566164/trial.mp4)

##### Olivier Michel [cyberbotics] 08/10/2020 12:36:01
Sorry, but it's difficult to further help you without having a look at your simulation. I will be able to do that if you subscribe to a Premier service, see [https://www.cyberbotics.com/#plans](https://www.cyberbotics.com/#plans).

##### saditya 08/10/2020 12:29:38
> Simply positioning the slope next to the seesaw should be sufficient.

`@Olivier Michel` i DID THAT does not work , it doesnt remain flat.

##### Olivier Michel [cyberbotics] 08/10/2020 12:16:24
Sure.

##### saditya 08/10/2020 12:16:10
> If it is attached to the static world, the seesaw shouldn't fall.

`@Olivier Michel` Can I raise the height of the base , of the seesaw? To make it above from the grounD?

##### Olivier Michel [cyberbotics] 08/10/2020 12:15:24
If it is attached to the static world, the seesaw shouldn't fall.

##### saditya 08/10/2020 12:04:05
> Simply positioning the slope next to the seesaw should be sufficient.

`@Olivier Michel` This is the static world. I want this entire structure to be flat, but when I will run the simulation the see saw will fall down because it has mass and physics. Lol my bad. I don't understand this. I want the see saw at a certain height above the ground.
%figure
![ss2.png](https://cdn.discordapp.com/attachments/565154703139405824/742352570751909888/ss2.png)
%end

##### Olivier Michel [cyberbotics] 08/10/2020 11:52:56
Simply positioning the slope next to the seesaw should be sufficient.

##### saditya 08/10/2020 11:51:28
> There is no need for that.

`@Olivier Michel` Can you tell me in a few steps what should i do next? I have the structure ready. The see saw has 0.2kg structure below it to make it tilt as well.

##### Olivier Michel [cyberbotics] 08/10/2020 11:49:57
There is no need for that.

##### saditya 08/10/2020 11:49:09
> In that case simply attaching the seesaw base to the static environment (no Physics) and the slope to the static environment as well should make the two parts unmovable. That should be sufficient.

`@Olivier Michel` Alright, sounds good. But i am still a bit confused. Can I add a solid node to the the slope and make the the see saw rest on it? DO you think that is a good idea?

##### Olivier Michel [cyberbotics] 08/10/2020 11:45:18
In that case simply attaching the seesaw base to the static environment (no Physics) and the slope to the static environment as well should make the two parts unmovable. That should be sufficient.

##### saditya 08/10/2020 11:42:39
> Can you post a screenshot of what you have and what you want to achieve?

`@Olivier Michel` Right now the the see saw is on the floor. I want it to connect it to the green structure(slope). It needs to rest as the way I sent you the previous picture. When the simulation runs it should be resting flat, and when the robot moves on the top and move for some distance it will act as a see saw. `@Olivier Michel`
%figure
![ss_trial.png](https://cdn.discordapp.com/attachments/565154703139405824/742347179775229972/ss_trial.png)
%end

##### Olivier Michel [cyberbotics] 08/10/2020 11:38:06
Can you post a screenshot of what you have and what you want to achieve?

##### saditya 08/10/2020 11:36:43
> You can make the slope with a Box primitive that you will slightly rotate, but without Physics as I guess you want it to be static (not moveable).

`@Olivier Michel` Thanks, can you guide me a bit? I have the slope and see-saw ready? I just need to add a supporting structure to the base so that it is flat, and once the robot moves on top of it it act as a seesaw.

##### Olivier Michel [cyberbotics] 08/10/2020 11:35:08
You can make the slope with a Box primitive that you will slightly rotate, but without Physics as I guess you want it to be static (not moveable).

##### saditya 08/10/2020 11:32:33
Need a bit help for the simulation! I have the simulating Seesaw ready, I need to attach it to the slope structure as seen in the picture. How do I make the slope rest on the surface? Should i add a box with physics and make it rest on it? With physics node? `@David Mansolino`
%figure
![SS.png](https://cdn.discordapp.com/attachments/565154703139405824/742344634641940520/SS.png)
%end

##### Olivier Michel [cyberbotics] 08/10/2020 09:29:26
(or make two separate robots).


Yes.

##### Lukulus 08/10/2020 09:24:43
so I have to use a SliderJoint?

##### Olivier Michel [cyberbotics] 08/10/2020 09:22:43
You should probably use a `LinearMotor` to move the top part from the bottom one.

##### Lukulus 08/10/2020 09:21:25
Hello, I need some help with a robot.

I am trying to build one which contions like two trains.

One is relative to the ground and the other should move on top of the train. So a robot on top of a robot (I hope you can understand me^^).

But the spinning wheels of the upper train, don't move the upper robot...

If I make two seperate robots, it works perfectly.

##### Olivier Michel [cyberbotics] 08/10/2020 09:02:53
An example of this is provided here: [https://github.com/cyberbotics/simgait/blob/master/html/js/simulation.js](https://github.com/cyberbotics/simgait/blob/master/html/js/simulation.js)


You need to write your own web page (index.html) that will initialize `webots.js` so that it uses the session and simulation servers you are running.


> Hello, I need help to use the web simulation, after run the scripts "simulation\_server.py" and "session\_server.py" and open the index.html to connect it hangs on "Connecting to Webots instance..."

> What should i do to run the simulation ?

`@Samir Hosny Mohamed`: which index.html did you use? The one from the WEBOTS\_HOME/resources/web/streaming\_viewer/index.html? This one is actually to connect to a Webots instance without the session and simulation servers.

##### Alex Nie 08/10/2020 06:09:25
thanks


OKï¼


This error will appear when I increase the simulation speed

##### David Mansolino [cyberbotics] 08/10/2020 06:08:54
Ok that looks correct, can you please reprot this here: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

And include these part of the controller.

##### Alex Nie 08/10/2020 06:08:23

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/742263056561602671/unknown.png)
%end



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/742262981097816074/unknown.png)
%end

##### David Mansolino [cyberbotics] 08/10/2020 06:07:19
It seems you are starting two controllers in the same process

##### Alex Nie 08/10/2020 06:06:22
If I cannot start all of them, then an error will be reportedï¼š
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/742262548094517308/unknown.png)
%end


I started them in a for loop, they are sometimes normal, that is, all four robots can move

##### David Mansolino [cyberbotics] 08/10/2020 06:04:55
is there some error message in the console where you start it?


Ar you sure you are starting it?

##### Alex Nie 08/10/2020 06:04:22
Yes

##### David Mansolino [cyberbotics] 08/10/2020 06:04:01
It seems the controller of the fourth robot is not started

##### Alex Nie 08/10/2020 06:03:39
I have four external controllers and started them in multiple processes

##### David Mansolino [cyberbotics] 08/10/2020 06:03:31
What is the problem?

##### Alex Nie 08/10/2020 06:02:33
`@David Mansolino` I found a problem when using an external controller.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/742261590539239454/unknown.png)
%end

##### David Mansolino [cyberbotics] 08/10/2020 05:44:45
> I gave up and just converted the arena to base nodes and am changing the texture urls. That at least works nicely ðŸ™‚

`@Simon Steinmann` that's indeed another solution (probably more efficient indeed).


> Hi again, whenever I try to use a SolidReference to create a closed loop kinematic chain Webots crashes as I add the solidName. Is there anything I can do to get this to work?

`@FrostPhoenix` can you please report this here (with a procedure explaining how to reproduce it): [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)


> Hello, I have a problem when I use Webots to simulate the robot Darwin-op. When I want to show the robot window to debug the robot, there is an error related to "robot window initialization failed" and "cannot load robotis-op2-window.dll robot window library". So I cannot open the robot window.But in fact I can find this .dll file in my computer. Could you give me some suggestions?

`@Jeremy Jiang` there is probably a library in your path that is causing conflicts with the dll of the robot-window. Which version of Webots are you using and with which OS?


> Is it possible to extract the uploaded code? plz..

`@jinu061353` what do you mean by uploaded code? The controller code? If yes, then this is possible, the source code is available next to the executable, you can view it by selecting the `controller` field of the robot and pressing on the 'edit controller' button.

##### jinu061353 08/10/2020 03:21:31
Is it possible to extract the uploaded code? plz..

##### Jeremy Jiang 08/10/2020 01:06:03
Hello, I have a problem when I use Webots to simulate the robot Darwin-op. When I want to show the robot window to debug the robot, there is an error related to "robot window initialization failed" and "cannot load robotis-op2-window.dll robot window library". So I cannot open the robot window.But in fact I can find this .dll file in my computer. Could you give me some suggestions?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/742186974818992189/unknown.png)
%end

##### FrostPhoenix 08/09/2020 15:59:27
Hi again, whenever I try to use a SolidReference to create a closed loop kinematic chain Webots crashes as I add the solidName. Is there anything I can do to get this to work?

##### Samir Hosny Mohamed 08/09/2020 04:26:57
Hello, I need help to use the web simulation, after run the scripts "simulation\_server.py" and "session\_server.py" and open the index.html to connect it hangs on "Connecting to Webots instance..."

What should i do to run the simulation ?

##### hero 08/08/2020 17:21:21
Thanks so much Simon

##### Simon Steinmann [Moderator] 08/08/2020 13:39:11
The simulation and controller are also 2 different things. You can have a very complex controller, doing some compicated calculations, taking longer than the actual simulation step and vice versa


Generally, the complexer the scene, the more your GPU has to work to render it. That should not be a problem on most computers, unless you make it very complex. What is usually the limiting factor is the physics simulation. If you have mostly static objects in a large scene and what your are simulating is limited to a few objects, it should still be very fast.

##### hero 08/08/2020 13:20:39
Hi, Does the complex environment like as complete apartment affect the controller speed with respect to a simple rectangular area?

##### Simon Steinmann [Moderator] 08/08/2020 10:44:32
on my laptop that runs up to 12x realtime ðŸ˜„ (video is 1x)
> **Attachment**: [Domain\_Randomization\_2.mp4](https://cdn.discordapp.com/attachments/565154703139405824/741607778333884476/Domain_Randomization_2.mp4)


I gave up and just converted the arena to base nodes and am changing the texture urls. That at least works nicely ðŸ™‚

##### FrostPhoenix 08/08/2020 04:41:09
`@David Mansolino` Thanks so much David that works.

##### David Mansolino [cyberbotics] 08/07/2020 17:26:51
`@FrostPhoenix` you have to update your makefile, if you didn't manually edit it, the simplest is Juste to delete it, Webots will recreate one for you.


`@Simon Steinmann` you may also try with the Node.remove() method

##### FrostPhoenix 08/07/2020 17:04:56
Hi guys, any ideas on what is causing this error when trying to compile a controller: 



Makefile:72: Files/Webots /resources/Makefile.include: No such file or directory

make: *** No rule to make target 'Files/Webots /resources/Makefile.include'.  Stop.

##### Simon Steinmann [Moderator] 08/07/2020 16:02:37
hmm okay, changing the appearance only works once


okay

##### Olivier Michel [cyberbotics] 08/07/2020 15:52:07
If you can live with the first warning, that's probably the way to go... And open a bug report about removeSF()...

##### Simon Steinmann [Moderator] 08/07/2020 15:51:02
ðŸ¥³

##### Olivier Michel [cyberbotics] 08/07/2020 15:50:49
I am afraid you bumped into a bug...

##### Simon Steinmann [Moderator] 08/07/2020 15:47:31
robot.getFromDef('arena').getField('floorAppearance').removeSF() 

Now I get these two errors:

Warning wb\_supervisor\_field\_get/set\_mf\_*() called with index out of range.

Error: wb\_supervisor\_field\_import\_sf\_node\_from\_string() called with a non-empty field.

##### Olivier Michel [cyberbotics] 08/07/2020 15:41:18
[https://www.cyberbotics.com/doc/reference/supervisor?tab-language=python#wb\_supervisor\_field\_remove\_sf](https://www.cyberbotics.com/doc/reference/supervisor?tab-language=python#wb_supervisor_field_remove_sf)


call the `removeSF()` method on the field.

##### Simon Steinmann [Moderator] 08/07/2020 15:40:00
how do I do that? set it = None?

##### Olivier Michel [cyberbotics] 08/07/2020 15:39:01
Yes. You should clear it before importing to get rid of the warning.

##### Simon Steinmann [Moderator] 08/07/2020 15:38:16
guessing because it overwrites?


nice it works, but it gives me this error every time:

Error: wb\_supervisor\_field\_import\_sf\_node\_from\_string() called with a non-empty field.

##### Olivier Michel [cyberbotics] 08/07/2020 15:36:53
`robot.getFromDef('arena').getField('floorAppearance').importSFNodeFromString("BrushedAluminium {}")`

##### Simon Steinmann [Moderator] 08/07/2020 15:36:36
ohh

##### Olivier Michel [cyberbotics] 08/07/2020 15:36:26
No, it is a field method.

##### Simon Steinmann [Moderator] 08/07/2020 15:36:23

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/741318833696014346/unknown.png)
%end


appearance = robot.importSFNodeFromString("BrushedAluminium {}") 

throws an error

##### Olivier Michel [cyberbotics] 08/07/2020 15:32:52
you should use importSFNodeFromString("BrushedAluminium {}") instead.

##### Simon Steinmann [Moderator] 08/07/2020 15:28:13
this obviously does not work


robot.getFromDef('arena').getField('floorAppearance').setSFNode(BrushedAluminium {} )


How do I load these into my python code to address them?


thx ðŸ™‚  gonna try to implement that

##### David Mansolino [cyberbotics] 08/07/2020 15:20:36
Yes: [https://www.cyberbotics.com/doc/guide/appearances](https://www.cyberbotics.com/doc/guide/appearances)

##### Simon Steinmann [Moderator] 08/07/2020 15:20:03
it is a SFNode. Is there a collection of these appearances somewhere?

##### David Mansolino [cyberbotics] 08/07/2020 15:18:38
You have to change the `floorAppearance` field.

##### Simon Steinmann [Moderator] 08/07/2020 15:17:56
I want to use webots to create training data for machine learning. I already implemented random position, orientation and lighting conditions. What I can't figure out though, is how to randomly change the floor appearance
> **Attachment**: [Domain\_Randomization\_1.mp4](https://cdn.discordapp.com/attachments/565154703139405824/741314190563737670/Domain_Randomization_1.mp4)

##### David Mansolino [cyberbotics] 08/07/2020 15:17:53
Yes, there is a multiplication factor depending on the texture: [https://github.com/cyberbotics/webots/blob/master/projects/objects/backgrounds/protos/TexturedBackgroundLight.proto#L114](https://github.com/cyberbotics/webots/blob/master/projects/objects/backgrounds/protos/TexturedBackgroundLight.proto#L114)

##### Simon Steinmann [Moderator] 08/07/2020 15:06:20
but it doesnt seem to be exacgtly the same, adding a directional light and having it shine straight down, with intensity = 1, is quite a bit darker than the luminosity = 1

##### David Mansolino [cyberbotics] 08/07/2020 15:05:30
Yes, it is linked to the DirectionalLight.intensity field.

##### Simon Steinmann [Moderator] 08/07/2020 15:04:24
is luminosity the same as intensity in the directionLight?

##### David Mansolino [cyberbotics] 08/07/2020 15:03:14
It simply a directionnal light, whose direction and intensity mathes the background from 'texturedBackground'

##### Simon Steinmann [Moderator] 08/07/2020 15:02:27
what is TexturedBackgroundLight, and why does it make the floor of the RectangleArena glow?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/741310297956155403/unknown.png)
%end

##### Alex Nie 08/07/2020 14:32:43
ðŸ˜ƒ


Thanks for answering

##### David Mansolino [cyberbotics] 08/07/2020 14:31:35
No, but with some basic trigonometry you should be able to compute the required motor command.

##### Alex Nie 08/07/2020 14:30:41
Could we directly control the linear velocity and angular velocity of the robot? E.g. pioneer3dx.

##### saditya 08/07/2020 14:30:40
> Then you can simply increase the size of the box and rotate it.

`@David Mansolino` It is of the right size I want now, but it just goes below the map even on rotating it?

##### David Mansolino [cyberbotics] 08/07/2020 14:25:44
Then you can simply increase the size of the box and rotate it.

##### saditya 08/07/2020 14:25:12
> `@saditya` how did you define the slope ?

`@David Mansolino` 

> `@saditya` how did you define the slope ?

`@David Mansolino` As you can see it should be 3.63m long and 0.6m wide. But when i try to adjust with the height of the solid i connect to it just decreases because the rest of the solid(box) goes below the map to make the surface inclined.
%figure
![Slopetrial.png](https://cdn.discordapp.com/attachments/565154703139405824/741300919890739210/Slopetrial.png)
%end

##### Vaibhav 08/07/2020 12:52:43
> Google search "webots nightly build" should help you.

`@Olivier Michel` Aight thanks ðŸ¤£

##### Olivier Michel [cyberbotics] 08/07/2020 12:52:28
Google search "webots nightly build" should help you.

##### David Mansolino [cyberbotics] 08/07/2020 12:52:06
> How to display the coordinate mark of the modelï¼ŸThe red, green and blue arrows are not displayed

`@Laojiang` did you select it? Is it a PROTO or open node?

##### Vaibhav 08/07/2020 12:51:38
> `@Vaibhav`: This is a known bug of Webots R2020b. It was already fixed in the nightly build.

`@Olivier Michel` How can i get the nightly build?


Okay

##### Olivier Michel [cyberbotics] 08/07/2020 12:51:11
To work around the bug, you can edit the world file in a text editor.


`@Vaibhav`: This is a known bug of Webots R2020b. It was already fixed in the nightly build.

##### David Mansolino [cyberbotics] 08/07/2020 12:50:33
> `@David Mansolino` it's merged, perhaps you can update for pip.

`@Simon Steinmann` this is now done: [https://pypi.org/project/urdf2webots/#history](https://pypi.org/project/urdf2webots/#history)

##### Laojiang 08/07/2020 12:50:08
How to display the coordinate mark of the modelï¼ŸThe red, green and blue arrows are not displayed

##### Vaibhav 08/07/2020 12:49:01
Whenever i change checkered to something else the app crashes, what can i do?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/741276717099778048/unknown.png)
%end

##### Simon Steinmann [Moderator] 08/07/2020 12:30:04
`@David Mansolino` it's merged, perhaps you can update for pip.

##### David Mansolino [cyberbotics] 08/07/2020 12:29:23
You're welcome

##### Laojiang 08/07/2020 12:29:14
ok,thank you

##### David Mansolino [cyberbotics] 08/07/2020 12:28:54
Here is the documentation about contact properties: [https://www.cyberbotics.com/doc/reference/contactproperties](https://www.cyberbotics.com/doc/reference/contactproperties)

and an example similar to what you are trying to do:

[https://github.com/cyberbotics/webots/blob/master/projects/vehicles/worlds/city.wbt#L14-L23](https://github.com/cyberbotics/webots/blob/master/projects/vehicles/worlds/city.wbt#L14-L23)

##### Laojiang 08/07/2020 12:25:49
I just find contactMaterial property. So how can I define a contact property and settting the softCFM to around  1e-05?

##### Simon Steinmann [Moderator] 08/07/2020 12:24:27
From what I can tell, there are only 2 parts defined

##### David Mansolino [cyberbotics] 08/07/2020 12:21:20
Ok, in that case you should probably try defining a contact property and settting the `softCFM` to around  1e-05

##### Laojiang 08/07/2020 12:21:19
I just don't want the model to sink into the floor. What parameters can I set?


I set the mass is 500

##### David Mansolino [cyberbotics] 08/07/2020 12:19:55
> I found a weird issue. the urdf2webots converter turns this .dae file into 3 mesh files, even though there are only 2 materials in there. The link\_4\_0Mesh.proto is a empty undefined one. This throws an error in webots. I have no clue where this problem comes from. All the other .dae files get converted correctly

`@Simon Steinmann` even if they are 2 materialy, it is possible that the DAE defines 3 different parts.


> My model always sink in floor.

`@Laojiang` what is the weight of your robot?

##### Simon Steinmann [Moderator] 08/07/2020 12:18:54
awesome!

##### David Mansolino [cyberbotics] 08/07/2020 12:18:41
> `@David Mansolino` [https://github.com/cyberbotics/urdf2webots/pull/65](https://github.com/cyberbotics/urdf2webots/pull/65) this PR contains both changes. It's not much code, so perhaps dont bother with the other one and go straight to this

`@Simon Steinmann` this is now done and approved ðŸ˜„

##### Laojiang 08/07/2020 12:18:28
My model always sink in floor.

##### Simon Steinmann [Moderator] 08/07/2020 12:18:24
`@Laojiang` how is it sinking?


I found a weird issue. the urdf2webots converter turns this .dae file into 3 mesh files, even though there are only 2 materials in there. The link\_4\_0Mesh.proto is a empty undefined one. This throws an error in webots. I have no clue where this problem comes from. All the other .dae files get converted correctly
> **Attachment**: [dae\_conversion\_issue.zip](https://cdn.discordapp.com/attachments/565154703139405824/741268840171831447/dae_conversion_issue.zip)

##### Laojiang 08/07/2020 12:16:23
How to keep my model from sinkingï¼Ÿ

##### tomvdb 08/07/2020 12:16:19
cool, thank you. I'll work through that and probably be back with more questions. Excited to play with it, thank you ðŸ™‚

##### Simon Steinmann [Moderator] 08/07/2020 12:15:48
should not be too hard then, yes ðŸ™‚

##### tomvdb 08/07/2020 12:12:09
cool, I'll start with that then. so in theory after getting that to work, I would be able to then just make a single front steerable wheel ?

##### David Mansolino [cyberbotics] 08/07/2020 12:08:16
Yes sure, I would start by the tutorial, this one in particular explains how to create a non-steerable 4wheel vehicle: [https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot](https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot)

This could be a good basis to do what you need.

##### tomvdb 08/07/2020 12:06:05
Hi All, I'm a possible new user for webots, but have some questions. I would like to try and simulate a trike like robot, but the single front wheel both drives the robot and is steerable. the two backwheels are essentially caster wheels. is something like that possible to simulate using webots ?

##### David Mansolino [cyberbotics] 08/07/2020 12:03:33
> Maybe something very basic, I want to increase the length of the slope platform but the height should be max or less than the box. When I try to inc the length of the slope, the height also increases. Missing something here?

`@saditya` how did you define the slope ?

##### Simon Steinmann [Moderator] 08/07/2020 11:31:14
`@David Mansolino` [https://github.com/cyberbotics/urdf2webots/pull/65](https://github.com/cyberbotics/urdf2webots/pull/65) this PR contains both changes. It's not much code, so perhaps dont bother with the other one and go straight to this

##### saditya 08/07/2020 11:24:02
Maybe something very basic, I want to increase the length of the slope platform but the height should be max or less than the box. When I try to inc the length of the slope, the height also increases. Missing something here?
%figure
![slopee.png](https://cdn.discordapp.com/attachments/565154703139405824/741255330155200593/slopee.png)
%end

##### Simon Steinmann [Moderator] 08/07/2020 11:11:31
okay, restarting webots fixed the issue


this is my folder structure. This should be correct right?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/741251509253308466/unknown.png)
%end


what was the solution yesterday?


I now also got the error, where it can't find the multi-files meshes


okay

##### David Mansolino [cyberbotics] 08/07/2020 10:57:20
Very good news, it is probably better to create a new PR just to split the diff.

##### Simon Steinmann [Moderator] 08/07/2020 10:56:29
should I create a new PR or integrate it into the current one?


I also figured out how to add the toolSlot (finally, was tricky)

##### Olivier Michel [cyberbotics] 08/07/2020 09:06:39
Yes, that would be nice.

##### Simon Steinmann [Moderator] 08/07/2020 09:05:08
Awesome, I think this will be a great addition. Hopefully people will add more now ðŸ™‚


`@David Mansolino` How much work would it be to add a option '--robotic-arm' to urdf2webots. Adding in the static base and ToolSlot? IF that were to be added, I could convert the whole KUKA repo


[https://github.com/cyberbotics/webots/pull/2089](https://github.com/cyberbotics/webots/pull/2089) `@Olivier Michel` changes are commited


`@David Mansolino` awesome. will convert it

##### David Mansolino [cyberbotics] 08/07/2020 07:06:28
> Once that is implemented, I can convert it again, so we dont have to manually set the tags

`@Simon Steinmann` this is now done and released ([https://pypi.org/project/urdf2webots/#history](https://pypi.org/project/urdf2webots/#history)) as well as some of the new fields ([https://github.com/cyberbotics/urdf2webots/issues/57](https://github.com/cyberbotics/urdf2webots/issues/57)).

##### Å¾eljko 08/06/2020 15:15:16
great! ðŸ˜„

##### David Mansolino [cyberbotics] 08/06/2020 15:11:38
Yes that sounds good!

##### Simon Steinmann [Moderator] 08/06/2020 15:11:27
Once that is implemented, I can convert it again, so we dont have to manually set the tags

##### David Mansolino [cyberbotics] 08/06/2020 15:10:32
Yes exactly, I just open a issue about this: [https://github.com/cyberbotics/urdf2webots/issues/60](https://github.com/cyberbotics/urdf2webots/issues/60)

##### Simon Steinmann [Moderator] 08/06/2020 15:08:56
what does that tag look like?


--multi-file 

should probably automatically set that tag

##### David Mansolino [cyberbotics] 08/06/2020 15:08:08
They are listed in the submodule


hum... they should have a 'hidden' tag to not be displayed.

##### Simon Steinmann [Moderator] 08/06/2020 15:07:51
i mean they are proto as well


the meshes should not get listed here should they?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/740949074081218660/unknown.png)
%end

##### David Mansolino [cyberbotics] 08/06/2020 15:04:21
You're right, I am fixing it too

##### Simon Steinmann [Moderator] 08/06/2020 15:04:04
you gonna change it directly?


the mirobot in WLkata needs it too


just found that too, trying to add the extra repo

##### David Mansolino [cyberbotics] 08/06/2020 15:02:52
This is fixed here: [https://github.com/cyberbotics/community-projects/pull/8](https://github.com/cyberbotics/community-projects/pull/8)

ðŸ™‚

##### Å¾eljko 08/06/2020 15:02:21
nice, thanks ðŸ™‚

##### David Mansolino [cyberbotics] 08/06/2020 15:01:36
I can reproduce the issue too, I think I found the cause, I am creating a PR to fix this

##### Å¾eljko 08/06/2020 15:00:57
i have another computer on my hands so i also tried there, also with ubuntu 18.04 and webots 2020b and i've got the same result

##### Simon Steinmann [Moderator] 08/06/2020 14:55:15
Same files as the new PR in community projects

##### David Mansolino [cyberbotics] 08/06/2020 14:54:47
ok, strange, I will try too in that case

##### Å¾eljko 08/06/2020 14:53:55
this is in the protos folder
%figure
![meshes.png](https://cdn.discordapp.com/attachments/565154703139405824/740945759377162361/meshes.png)
%end



%figure
![folder_screenshot.png](https://cdn.discordapp.com/attachments/565154703139405824/740945758471061629/folder_screenshot.png)
%end

##### David Mansolino [cyberbotics] 08/06/2020 14:53:51
`@Å¾eljko` do you have a folder `/home/gospodar/testiranja(wbtsarms/protos/KukaLbrIiwa14R820_meshesfolder` folder?


It looks like the ``KukaLbrIiwa14R820\_meshes``folder was not copied.

##### Simon Steinmann [Moderator] 08/06/2020 14:50:49
added info: He also tried the file I converted and that works without issues for me. It's not the proto, but something with his system,  webots install, settings or set variables

##### Å¾eljko 08/06/2020 14:50:00
i'm using webots 2020b version and i used the newly updated urdf2webots

any help is appreciated :)



just to clarify a bit, the idea is to convert the KUKA LBR iiwa arm from urdf to a webots PROTO file


catkin\_make and urdf2webots finished without errors or warnings


hey, i followed the instructions but i got the following result
%figure
![importing_arm_status.png](https://cdn.discordapp.com/attachments/565154703139405824/740944100974526504/importing_arm_status.png)
%end

##### Simon Steinmann [Moderator] 08/06/2020 14:14:50
[https://github.com/cyberbotics/community-projects/pull/7](https://github.com/cyberbotics/community-projects/pull/7) added PR

##### David Mansolino [cyberbotics] 08/06/2020 14:11:28
Very nice !

##### Simon Steinmann [Moderator] 08/06/2020 14:11:13
Kuka lbr iiwa  converted. Will add to community projects
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/740935013331370060/unknown.png)
%end

##### David Mansolino [cyberbotics] 08/06/2020 13:24:17
You're welcome

##### Jeremy Jiang 08/06/2020 13:23:56
Oh, I got it. Thank you very much!

##### David Mansolino [cyberbotics] 08/06/2020 13:22:27
You should not put any 'Physics' node to the ground, it is a static object

##### Jeremy Jiang 08/06/2020 13:21:07
Hello, I have a question. I'm using the ElevationGrid node to simulate the uneven ground. However, there are two warnings "cannot compute inertia for ElevationGrid objects" and "Mass is invalid because 'boundingObject' is not defined". Besides, when I hold a robot on the ground and run the simulation, the robot will  bounce up. Could you have any ideas?

##### Gautier A. 08/06/2020 11:40:46
Ok, thank you !

##### David Mansolino [cyberbotics] 08/06/2020 11:37:56
No, but you can check if another connector is present in front of the connector: [https://cyberbotics.com/doc/reference/connector#wb\_connector\_get\_presence\_sampling\_period](https://cyberbotics.com/doc/reference/connector#wb_connector_get_presence_sampling_period)

##### Gautier A. 08/06/2020 11:37:00
Is it possible to retrieve the state of a connector (locked/unlocked) through a robot having that connector (and not a supervisor) ?


Hey !

##### David Mansolino [cyberbotics] 08/06/2020 11:07:29
Thank you

##### Simon Steinmann [Moderator] 08/06/2020 11:07:22
created request


ohhh right

##### David Mansolino [cyberbotics] 08/06/2020 11:05:59
It is already, the coulombFriction field can take more than one value.

##### Simon Steinmann [Moderator] 08/06/2020 11:05:31
then the mu2 should be added too

##### David Mansolino [cyberbotics] 08/06/2020 11:05:08
Probably the 3 rho should be added.

##### Simon Steinmann [Moderator] 08/06/2020 11:04:33
I havent fully understood how the directions work


hmm looking at  [http://ode.org/wiki/index.php?title=Manual#Contact](http://ode.org/wiki/index.php?title=Manual#Contact), the exact parameter to add would be rhoN right?

##### David Mansolino [cyberbotics] 08/06/2020 10:52:57
Yes please open a FeatureRequest, I indeed think this is important.

##### Simon Steinmann [Moderator] 08/06/2020 10:52:39
Should I open a FeatureRequest or is someone already doing it?


usually mu > rho. And in many application such as sliding objects or slip conditions for wheels, it would be very helpful to have this


the dynamic friction


oh, I meant adding rho

##### David Mansolino [cyberbotics] 08/06/2020 10:50:21
mu, is actually the ``coulombFriction`` field.

##### Simon Steinmann [Moderator] 08/06/2020 10:49:13
mu is static friction and rho dynamic right? I looked into this a while back, and back then it didnt seem possible to have proper dynamic friction. It would be great if mu is added to contactProperties

##### David Mansolino [cyberbotics] 08/06/2020 10:40:47
> `@David Mansolino` thanks, good to know. This is done purely on gpu though right? So it wouldnt affect physics simulation much

`@Simon Steinmann` yes, this is only for rendering and sensors (such as light sensors) simulation.


> I have an additional question in your previous reply.

> {the rho parameter is unfortunately not set it therefore keeps the default value (0 or very close to). IF you need this parameters and want us to add it, please open a feature request here to explain why this parameter is important and we will add it:}

> 

> Does the simulation assume that the robot has stopped at each sampling time and calculate the next movement with static friction coefficient?

> 

> If not, how does the robot stop when the dynamic friction coefficient is zero?

`@jinu061353` no, mu is used for dynamic friction too: [http://ode.org/wiki/index.php?title=Manual#Contact](http://ode.org/wiki/index.php?title=Manual#Contact)

##### Simon Steinmann [Moderator] 08/06/2020 10:39:01
`@David Mansolino` thanks, good to know. This is done purely on gpu though right? So it wouldnt affect physics simulation much

##### David Mansolino [cyberbotics] 08/06/2020 10:38:12
> What exactly does the value in coulomb friction mean ? . Is it the coefficient of friction between material 1 and 2?

`@watchdogs132` yes exactly.

##### watchdogs132 08/06/2020 10:37:57
What exactly does the value in coulomb friction mean ? . Is it the coefficient of friction between material 1 and 2?

##### David Mansolino [cyberbotics] 08/06/2020 10:37:29
keeping it low allows for better performances


It is the maximum distance to which the light illuminate objects

##### Simon Steinmann [Moderator] 08/06/2020 10:32:37
what does the radius variable specify in PointLight?

##### jinu061353 08/06/2020 09:19:39
I have an additional question in your previous reply.

{the rho parameter is unfortunately not set it therefore keeps the default value (0 or very close to). IF you need this parameters and want us to add it, please open a feature request here to explain why this parameter is important and we will add it:}



Does the simulation assume that the robot has stopped at each sampling time and calculate the next movement with static friction coefficient?



If not, how does the robot stop when the dynamic friction coefficient is zero?

##### EPIC 08/06/2020 08:43:07
I get some problems when I try to both enable bounding object on a box, and delete it, and import a new one in the same timestep.. webots crash when I try. But if I split up the actions in two (enable bounding object in one timestep, and delete+import in the next one) then it works just fine

##### David Mansolino [cyberbotics] 08/06/2020 08:41:15
No, but you should simply run a step in your controller and then perform the action

##### EPIC 08/06/2020 08:40:42
Hi! Is there a way to perform an action in the next/following timestep, instead of the current? Like putting an action into a queue?

##### Dennet 08/05/2020 19:53:22
will try


Ok Thanks.

##### Simon Steinmann [Moderator] 08/05/2020 19:51:16
3D Studio mesh, Blender, Biovision Hierarchy, Collada, Filmbox, STL, Wavefront, X3D  are now all supported. Can you export it as one of these files?

##### Dennet 08/05/2020 17:54:18
hi, does anyone know how to import an Inventor robot model into webots? I tried following this video [https://www.youtube.com/watch?v=L0FVsFD2rS4](https://www.youtube.com/watch?v=L0FVsFD2rS4), which tells me to import it into blender (2.79) and then export it as a .wrl, but blender dosnt let me export it as an .wrl



Any ideas???

##### Simon Steinmann [Moderator] 08/05/2020 15:10:19
I sent you a friend request for pm if you dont mind ðŸ™‚

##### David Mansolino [cyberbotics] 08/05/2020 15:07:11
That sounds indeed very interesting, unfortunately we are currently having quite a lot of work developing and improving the tool so that we don't have much time to invest into developing such examples.

##### Simon Steinmann [Moderator] 08/05/2020 15:05:12
just food for thought ðŸ™‚


Webots is already great with it's native support for multiple languages, but I havent seen many examples or implementations of AI related things yet


I dont know how much of a focus and priority AI / Reinforcement Learning / Machine Learing is  with you guys, but I highly recommend you look into this field in general. It is rapidly growing and robotics moves more and more into this direction.

##### David Mansolino [cyberbotics] 08/05/2020 15:02:38
Ok, sounds interesting

##### Simon Steinmann [Moderator] 08/05/2020 15:01:37
Domain randomization, a simple technique for training models on simulated images that transfer to real images by randomizing rendering in the simulator. With enough variability in the simulator, the real world may appear to the model as just another variation

##### David Mansolino [cyberbotics] 08/05/2020 15:00:23
Not really

##### Simon Steinmann [Moderator] 08/05/2020 14:58:40
on a similar note, are you familiar with domain randomization?


You might wanna look into adding the realsense cameras too. Having read countless robotics / Machine and Reinforcement Learing Papers, these are most commonly used. Integration would make webots very attractive for those sort of applications.

##### David Mansolino [cyberbotics] 08/05/2020 14:56:57
You're welcome

##### Simon Steinmann [Moderator] 08/05/2020 14:56:51
thx I'll have a look

##### David Mansolino [cyberbotics] 08/05/2020 14:56:12
On master too: 

 - [https://www.cyberbotics.com/doc/guide/sensors#rangefinder-sensors](https://www.cyberbotics.com/doc/guide/sensors#rangefinder-sensors)

 - [https://www.cyberbotics.com/doc/guide/range-finder-sensors#microsoft-kinect](https://www.cyberbotics.com/doc/guide/range-finder-sensors#microsoft-kinect)

##### Simon Steinmann [Moderator] 08/05/2020 14:55:41
is it on the developer branch?

##### David Mansolino [cyberbotics] 08/05/2020 14:55:16
Not yet, but we have a kinect model which is close.

##### Simon Steinmann [Moderator] 08/05/2020 14:54:41
In robotics and especialy computer vision, the intel realsense cameras are very popular and frequently used. Have you guys tried implementing those yet?

##### Robsicky 08/05/2020 14:51:57
Ah, very nice!ðŸ‘Œ

##### David Mansolino [cyberbotics] 08/05/2020 14:50:01
> With a handle to a TouchSensor, is it possible to get a handle to the node?

`@Robsicky` not yet, but we are currently introducing this feature here: [https://github.com/cyberbotics/webots/pull/2074](https://github.com/cyberbotics/webots/pull/2074)

##### Robsicky 08/05/2020 14:49:24
With a handle to a TouchSensor, is it possible to get a handle to the node?

##### Simon Steinmann [Moderator] 08/05/2020 14:49:11
ah nvm, there is already a commit


just saw. But can't guarantee that I will commit. That whole urdf2webots thing today was a complete sidetrack to my work ðŸ˜…

##### David Mansolino [cyberbotics] 08/05/2020 14:46:50
`@Simon Steinmann` just for info, I just open a new PR to document the script arguments: [https://github.com/cyberbotics/urdf2webots/pull/56](https://github.com/cyberbotics/urdf2webots/pull/56)

##### Simon Steinmann [Moderator] 08/05/2020 14:43:48
converting urdfs will be so much less headache inducing now ðŸ˜„


done ðŸ™‚

##### David Mansolino [cyberbotics] 08/05/2020 14:42:12
> `@Simon Steinmann` I checked your PR and it seems all fine, I will just make test on several URDF file a bit later before accepting it.

`@David Mansolino` it is now approved, feel free to merge ðŸ™‚

##### Alex Nie 08/05/2020 14:01:56
Thanks for answering ðŸ˜ƒ

##### Olivier Michel [cyberbotics] 08/05/2020 13:58:45
Supervisor are a special kind of "super-Robot" which can do all what a Robot can do, plus some extra things. A supervisor should be considered as an external actor which can observe and influence the simulation in many ways. A sort of "God" or human operator supervising a robotics experiment.

##### Alex Nie 08/05/2020 13:46:15
What is the difference between Supervisor and Robot? Does Supervisor have higher authority?

##### Simon Steinmann [Moderator] 08/05/2020 13:37:12
I can open an Issue ðŸ˜‰


added Mirobot.proto to the community-projects

##### Olivier Michel [cyberbotics] 08/05/2020 13:33:08
Yes... Could you open a PR for that? I would be happy to review it.

##### Simon Steinmann [Moderator] 08/05/2020 13:31:16
It would be nice if the urdf2webots readme included all the parseable arguments

##### Sukrati Chaturvedi 08/05/2020 13:24:15
Thanks `@David Mansolino` `@Olivier Michel`.

##### Olivier Michel [cyberbotics] 08/05/2020 13:15:29
`@Sukrati Chaturvedi`: not sure. The Webots to Choregraphe interface is not officially unsupported. However, some users reported it works partially. See [https://github.com/cyberbotics/naoqisim](https://github.com/cyberbotics/naoqisim) for details and help from the community.

##### David Mansolino [cyberbotics] 08/05/2020 13:13:56
No

##### Sukrati Chaturvedi 08/05/2020 13:13:44
Would i be able to interface webots R2020 version with choregraphe(software to implement Nao)?

##### Simon Steinmann [Moderator] 08/05/2020 13:03:45
awesome, will check it out ðŸ™‚

##### Olivier Michel [cyberbotics] 08/05/2020 13:03:07
It's called `--multi-file`, see [https://github.com/cyberbotics/urdf2webots/pull/53](https://github.com/cyberbotics/urdf2webots/pull/53)

##### David Mansolino [cyberbotics] 08/05/2020 13:01:58
> can you @ me here when it's ready to merge? I often dont get notifications for PRs

`@Simon Steinmann` I checked your PR and it seems all fine, I will just make test on several URDF file a bit later before accepting it.

##### Olivier Michel [cyberbotics] 08/05/2020 13:01:41
The latest version of urdf2proto has an option for storing meshes in separate proto files.


Or use the `Mesh` primitive to store mesh data in separate native 3D files.

##### Simon Steinmann [Moderator] 08/05/2020 12:57:02
how does one do that? and can that be automated with the urdf2proto?

##### David Mansolino [cyberbotics] 08/05/2020 12:56:37
One simple solution is to put the mesh in a dedicated file (i.e. another PROTO).

##### Simon Steinmann [Moderator] 08/05/2020 12:56:03
What is the best way to edit large protos? all my IDEs and text editors are really unresponsive due to the massive mesh information


can you @ me here when it's ready to merge? I often dont get notifications for PRs

##### David Mansolino [cyberbotics] 08/05/2020 12:48:39
Perfect !

##### Simon Steinmann [Moderator] 08/05/2020 12:45:32
created a PR


`@David Mansolino`  I fixed the issue. Wrong matrix multiplication in the math\_util

##### David Mansolino [cyberbotics] 08/05/2020 12:35:44
Can you please add this information to the issue?

If you want to try fixing it, the problem is them probably around here: [https://github.com/cyberbotics/urdf2webots/blob/e312833c7bcbbdbee86b7220b6b8f1ce99259ea4/urdf2webots/parserURDF.py#L783](https://github.com/cyberbotics/urdf2webots/blob/e312833c7bcbbdbee86b7220b6b8f1ce99259ea4/urdf2webots/parserURDF.py#L783)

The node orientation need to be taken into account.


> OMG I think I found the issue with the urdf creation. The issue arises when a joint in the urdf has an orientation (not just translation)

`@Simon Steinmann` Very good news! that will for sure help fixing the issue!

##### Olivier Michel [cyberbotics] 08/05/2020 12:30:28
`@saditya`: You should merge the red box with the board by creating a compound object. See tutorial here: [https://cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes](https://cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes)


`@Sukrati Chaturvedi`: the most recent version of Webots is the best.

##### Sukrati Chaturvedi 08/05/2020 12:04:36
hi..i want to simulate Nao robot. For this purpose, which version of Webots will be better option, Webots 8.x.x or webots latest version or any other version that you can suggest.

##### Simon Steinmann [Moderator] 08/05/2020 11:18:46
OMG I think I found the issue with the urdf creation. The issue arises when a joint in the urdf has an orientation (not just translation)

##### saditya 08/05/2020 11:05:39
> Yes, but I meant for testing purposes. The first thing you should achieve is probably to run a simple seesaw. Then you could extend it to your use case.

`@Olivier Michel` That is how it behaves when i keep the 0.2 kg above the board and run the simulation. Do you think it exhibits the right behavior? I want the this red box to be fixed on the seesaw somehow.
> **Attachment**: [trialseesaw-1.mp4](https://cdn.discordapp.com/attachments/565154703139405824/740525926189629510/trialseesaw-1.mp4)


> You have many Solid nodes, why so ?

`@David Mansolino` I just needed it for three different solids. The base, see saw, and the box.

##### David Mansolino [cyberbotics] 08/05/2020 10:58:58
You have many Solid nodes, why so ?

##### saditya 08/05/2020 10:57:47
> Is the red box a children of the structure or is it independant?

`@David Mansolino` That is where the red box is.
%figure
![SS1.png](https://cdn.discordapp.com/attachments/565154703139405824/740523949653229608/SS1.png)
%end

##### Olivier Michel [cyberbotics] 08/05/2020 10:56:47
Yes, but I meant for testing purposes. The first thing you should achieve is probably to run a simple seesaw. Then you could extend it to your use case.

##### saditya 08/05/2020 10:52:12
> It is strange that the box goes through the board. Can you put it at a better location (on the board instead of inside the board)?

`@Olivier Michel` Thanks for your reply.  I have to keep this design constraint  in mind- The normal position of the seesaw is horizontal and it is supported by the ramp. This means that the seesaw will remain horizontal when a vehicle moves from the ramp to the seesaw until the vehicle passes the support point. It will

require approx. 200 g of impact 20 cm from the support point before the seesaw tilts.--- So i moved it 0,2m in the direction.

##### David Mansolino [cyberbotics] 08/05/2020 10:51:41
> urdf2proto really screws up the joints. Seems related to this issue: [https://github.com/cyberbotics/urdf2webots/issues/42](https://github.com/cyberbotics/urdf2webots/issues/42)

`@Simon Steinmann` probably yes, can you add a comment on this issue including the urdf files so that when we fix it we have several test files to make sure the fix is correct.

##### Simon Steinmann [Moderator] 08/05/2020 10:51:00
Had same issue with kinova Gen3, there however, axis were only flipped. Here they are completely bokers


urdf2proto really screws up the joints. Seems related to this issue: [https://github.com/cyberbotics/urdf2webots/issues/42](https://github.com/cyberbotics/urdf2webots/issues/42)
> **Attachment**: [Mirobot.proto](https://cdn.discordapp.com/attachments/565154703139405824/740522078050189332/Mirobot.proto)



> **Attachment**: [Mirobot.urdf](https://cdn.discordapp.com/attachments/565154703139405824/740522075583807538/Mirobot.urdf)

##### Olivier Michel [cyberbotics] 08/05/2020 10:48:37
It is strange that the box goes through the board. Can you put it at a better location (on the board instead of inside the board)?

##### David Mansolino [cyberbotics] 08/05/2020 10:46:50
Is the red box a children of the structure or is it independant?

##### saditya 08/05/2020 10:38:20
> `@David Mansolino`  `@Olivier Michel` This is what happens when I simulate it, all the objects have mass, physics, and bounding object. I want the 0.2kg to take the side up just as it happens in a see-saw. Am I doing something wrong?

`@saditya`


> Yes, the red mass, but did you check that all the solid nodes of the structure have some?

`@David Mansolino` This is what happens when I simulate it, all the objects have mass, physics, and bounding object. I want the 0.2kg to take the side up just as it happens in a see-saw. Am I doing something wrong?
> **Attachment**: [seesaw.mp4](https://cdn.discordapp.com/attachments/565154703139405824/740518542243397642/seesaw.mp4)

##### David Mansolino [cyberbotics] 08/05/2020 10:22:21
ODE is responsible for collision detection, it will check collision with all the dynamic object not in sleep mode.

##### Robsicky 08/05/2020 10:21:28
With all boundings in the entire sim, and/or is there some optimization for search?

##### David Mansolino [cyberbotics] 08/05/2020 10:20:16
Usually with every step.

##### Robsicky 08/05/2020 10:16:14
Does TouchSensor check collision with all boundingObjects every step, or is there some search tree or algorithm?

##### David Mansolino [cyberbotics] 08/05/2020 09:49:59
Yes, the red mass, but did you check that all the solid nodes of the structure have some?

##### saditya 08/05/2020 09:49:26
> `@David Mansolino` Thanks a lot. It has a mass of 0.2kg, physics node and a bounding object.

`@saditya` But it still happens to fall down.


> `@saditya` some part ar probably missing bounding objects and/or physics node.

`@David Mansolino` Thanks a lot. It has a mass of 0.2kg, physics node and a bounding object.

##### David Mansolino [cyberbotics] 08/05/2020 09:34:37
`@Robsicky`, ok that may be a bug, can you please report this here (including a simple worlf + controller reproducing the issue): [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)


> I am trying to implement a see-saw behavior. The behavior is pretty simple, it has a mass 0.2kg on one side, so it should bend on one side as the other side has no mass. But on running the simulation the mass block(in red) also falls down. Going wrong somewhere?

`@saditya` some part ar probably missing bounding objects and/or physics node.

##### Robsicky 08/05/2020 09:30:27
It stops detecting collision when I add a child with boundingObject to my robot


No wait, I doesn't


In the same run

##### saditya 08/05/2020 09:28:29
I am trying to implement a see-saw behavior. The behavior is pretty simple, it has a mass 0.2kg on one side, so it should bend on one side as the other side has no mass. But on running the simulation the mass block(in red) also falls down. Going wrong somewhere?
%figure
![seesaw.png](https://cdn.discordapp.com/attachments/565154703139405824/740501475456712754/seesaw.png)
%end

##### Robsicky 08/05/2020 09:28:25
Then, if I import the same pallet elsewhere, it works again


No longer detect collision

##### David Mansolino [cyberbotics] 08/05/2020 09:27:42
What do you mean by break?

##### Robsicky 08/05/2020 09:26:58
Is there any known problems with the TouchSensor? When I import a pallet (with boundingObject [without works]) into my robot, its TouchSensor seem to break

##### David Mansolino [cyberbotics] 08/05/2020 07:21:22
The latest nightly yes. The latest stable is R2020b

##### Robsicky 08/05/2020 07:17:51
Hi.  The latest build is called R2021a, is this correct?

##### Alex Nie 08/05/2020 06:27:38
Thanks, it dose work!

##### David Mansolino [cyberbotics] 08/05/2020 06:26:02
> `@David Mansolino` How can I stop the motor? I can't find the relevant interface on the api of motor

`@Alex Nie` simply call the `wb_motor_set_velocity` ([https://cyberbotics.com/doc/reference/motor#wb\_motor\_set\_velocity](https://cyberbotics.com/doc/reference/motor#wb_motor_set_velocity)) with an argument of 0 for the velocity.


[https://cyberbotics.com/doc/guide/using-webots-makefiles?tab-language=ros#adding-an-external-library-ccp](https://cyberbotics.com/doc/guide/using-webots-makefiles?tab-language=ros#adding-an-external-library-ccp)

##### ContrastNull 08/05/2020 06:24:39
> Wanted to confirm that, is it possible to use an external header file in controller code? I put the c header file at include/controller/c/webots.

`@ContrastNull` 



Related to my previous issue, I put the file in the controller folder. But after building the project, it gives error, that no such file found.

##### Alex Nie 08/05/2020 06:23:10
`@David Mansolino` How can I stop the motor? I can't find the relevant interface on the api of motor

##### David Mansolino [cyberbotics] 08/05/2020 06:16:05
You're welcome

##### Alex Nie 08/05/2020 06:15:47
> `@Alex Nie` the latest speed command you sent will keep running, you need to stop the motor before exiting the controller, the same happen when usign non-extern controller

`@David Mansolino` Thanks!

##### David Mansolino [cyberbotics] 08/05/2020 05:33:50
You're welcome

##### chungshan 08/05/2020 05:33:42
ok, thanks!

##### David Mansolino [cyberbotics] 08/05/2020 05:31:39
It is actually correctly imported, but the unit are probably wrong (not meters) as it is big, this is the reason why you don't see it, you have to zoom out
%figure
![test.png](https://cdn.discordapp.com/attachments/565154703139405824/740441874610782208/test.png)
%end


let me try

##### chungshan 08/05/2020 05:27:11
Hello, I upgrade webots to R2020b. I want to import this 3D model directly. When I import, 3D model doesn't show up. Do I miss any steps? or the file is a wrong format
> **Attachment**: [Waterproof\_Male.stl](https://cdn.discordapp.com/attachments/565154703139405824/740440748138430484/Waterproof_Male.stl)

##### David Mansolino [cyberbotics] 08/05/2020 05:26:10
`@Alex Nie` the latest speed command you sent will keep running, you need to stop the motor before exiting the controller, the same happen when usign non-extern controller

##### Alex Nie 08/04/2020 22:43:59
When using an external controller to control the robot, why does the robot still move even if the external controller is stopped? ðŸ˜¨

##### alxy 08/04/2020 19:46:45
thanks

##### Simon Steinmann [Moderator] 08/04/2020 19:46:25
I'll take a look tomorrow

##### alxy 08/04/2020 19:34:45
mirobot\_test is the world with the mirobot



> **Attachment**: [my\_first\_simulation.zip](https://cdn.discordapp.com/attachments/565154703139405824/740291534783774771/my_first_simulation.zip)


`@Simon Steinmann` yes, that it is. I can also upload the webots project

##### Simon Steinmann [Moderator] 08/04/2020 18:31:05
[https://github.com/wlkata/RosForMirobot-master](https://github.com/wlkata/RosForMirobot-master) is it this one?


do they have a ros implementation?


I could have a look if you send me the urdf


yes, that's the one

##### alxy 08/04/2020 18:16:10
and is there an alternative to rviz, it appears to be hard to install on windows and is rather large


cause thats the one I was using


Just to make sure, its this lib which has the bug: [https://github.com/cyberbotics/urdf2webots](https://github.com/cyberbotics/urdf2webots) ?


Ok, I hope I can figure it, and if it works I will do it

##### Simon Steinmann [Moderator] 08/04/2020 18:09:52
Would be cool if you could add the robot here once you figure it out :

[https://github.com/cyberbotics/community-projects](https://github.com/cyberbotics/community-projects)


had the exact same issue when converting the kinova gen3 arm


That one took me a while ðŸ˜„

##### alxy 08/04/2020 18:08:43
ok, thats a good hint ðŸ˜„

##### Simon Steinmann [Moderator] 08/04/2020 18:04:44
if it is t he wrong way, change the rotation axis in the proto file from -1 to 1 or vice versa


try loading the urdf into rviz and check which way the robot rotates when increasing each joint. load the protos in webots with a void controller, doubleclick on the bot and increase the same motor. Make sure that it rotates the same way


that's a bug with that software. Some joints will be flipped

##### alxy 08/04/2020 18:00:30
right

##### Simon Steinmann [Moderator] 08/04/2020 18:00:25
converted it with urdf2proto


you're using your own urdf arent you?


ohhhh wait


then it is strange indeed

##### alxy 08/04/2020 17:58:18
no, the base is located in the origin at [0, 0, 0]

##### Simon Steinmann [Moderator] 08/04/2020 17:57:33
that should work


you forgot to translate the position ðŸ˜„


miro\_pos = np.array(mirobot.getPosition())

pos = np.subtract([x, y, z], miro\_pos)

coords\_trans = np.dot(miro\_rot, pos)


ohh, you're missing another line

##### alxy 08/04/2020 17:48:39
anyway, thanks for your help. Its really a quite active channel here ðŸ™‚


I have tried that as well without luck ðŸ˜¦ I mean it kind of works, on some axes I have the feeling the arm is moving correctly, but on others its completely wrong

##### Simon Steinmann [Moderator] 08/04/2020 17:44:38
`@alxy` does this work?


miro\_rot = np.array(mirobot.getOrientation())

miro\_rot = miro\_rot.reshape(3, 3)

miro\_rot = np.transpose(miro\_rot)

\# Transform coords to Mirobot-CoordinateSystem

coords\_trans = np.dot(miro\_rot, [x, y, z])



\# Call "ikpy" to compute the inverse kinematics of the arm.

ikResults = armChain.inverse\_kinematics(coords\_trans)



\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

This should be your code I think


you wanna get from the robot to your position, not from your position to your robot


I think you forgot this step: rot\_ur10e = np.transpose(rot\_ur10e)

##### alxy 08/04/2020 17:30:57
And I just checked, the arm itself is also rotated and translated, i.e not in the world origin


I have seen and used that already, Im just unsure if I need that, as the example does not use any transofmration on the coords ( [https://github.com/cyberbotics/webots/blob/master/projects/robots/abb/irb/controllers/inverse\_kinematics/inverse\_kinematics.py#L62-L67](https://github.com/cyberbotics/webots/blob/master/projects/robots/abb/irb/controllers/inverse_kinematics/inverse_kinematics.py#L62-L67) )

##### Simon Steinmann [Moderator] 08/04/2020 17:30:19
code should be easily adaptable to your needs


Take a look at this and read the example code  I made of how to get relative positions

[https://cyberbotics.com/doc/reference/supervisor?tab-language=python#wb\_supervisor\_node\_get\_position](https://cyberbotics.com/doc/reference/supervisor?tab-language=python#wb_supervisor_node_get_position)

##### alxy 08/04/2020 17:07:35
I have tried to apply the following transform to my coorinates, but still my arm is behaving very weird. It moves, but not to the coorinates I specify:

> miro\_rot = np.array(mirobot.getOrientation())

> miro\_rot = miro\_rot.reshape(3, 3)

> \# Transform coords to Mirobot-CoordinateSystem

> coords\_trans = np.dot(miro\_rot, [x, y, z])

> 

> \# Call "ikpy" to compute the inverse kinematics of the arm.

> ikResults = armChain.inverse\_kinematics(coords\_trans)


One more question regarding the inverse kinemticas example: If I rotate my robot arm or even translate it, I need to do the same transformations to my world x,y,z coordinates right? As the inverse kinematics chain will always be relative the arms base I assume (it doesnt know about rotations/translations with regards to the outer world)

##### Olivier Michel [cyberbotics] 08/04/2020 16:16:16
It could be. If something doesn't work with R2020b, I would advise to check the next nightly build...

##### alxy 08/04/2020 16:14:01
I also see that there have been some changes to the source files in this PR ( [https://github.com/cyberbotics/webots/pull/2062/files](https://github.com/cyberbotics/webots/pull/2062/files) ) which probably have not yet made it to the installer package. Is this an issue?


yes, just realized it from my very first test ðŸ˜„

##### Olivier Michel [cyberbotics] 08/04/2020 16:10:27
You need R2020b to get the URDF from a supervisor.

##### alxy 08/04/2020 16:09:47
Mh, let me see if I can get it working by taking the urdf definition directly from the supervisor. Do I absolutely need 2020b or is 2020a also fine?

##### Stefania Pedrazzi [cyberbotics] 08/04/2020 15:37:18
You're welcome

##### Simon Steinmann [Moderator] 08/04/2020 15:14:35
thanks ðŸ™‚

##### Stefania Pedrazzi [cyberbotics] 08/04/2020 15:13:51
[https://www.cyberbotics.com/doc/guide/starting-webots#command-line-arguments](https://www.cyberbotics.com/doc/guide/starting-webots#command-line-arguments)

[https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_simulation\_set\_mode](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_simulation_set_mode)

##### Simon Steinmann [Moderator] 08/04/2020 15:12:35
or adding something to the world file


can I change what simulation mode webots runs in through supervisor or launch parameters? (realtime, fast-ap, fast-ap-no graphics)

##### Olivier Michel [cyberbotics] 08/04/2020 15:03:14
Of course, you need to get the nodes from the children field, this is why I said it's complicated.

##### Robsicky 08/04/2020 15:02:38
But `wb_supervisor_node_get_parent_node()` is a node method? Tried it, and did not work with the field handle

##### Olivier Michel [cyberbotics] 08/04/2020 14:58:44
Yes, I believe it's better.


You can use `wb_supervisor_node_get_parent_node()` [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_get\_parent\_node](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_get_parent_node)

##### Robsicky 08/04/2020 14:57:52
Oki, so maybe better to just include the parent as arg?

##### Olivier Michel [cyberbotics] 08/04/2020 14:57:10
It's possible but a bit complicated...

##### Robsicky 08/04/2020 14:56:46
I often pass ".getField("children")" as argument in my methods, so the parent is not present in that scope


Hi! If I got:

```
field = parent.getField("children")
```

Is there a way to get a handle to the parent from  the variable "field"?

##### Olivier Michel [cyberbotics] 08/04/2020 14:50:19
GitHub, yes.

##### Simon Steinmann [Moderator] 08/04/2020 14:50:11
ah, got it


Through the gitlab issues right?

##### Olivier Michel [cyberbotics] 08/04/2020 14:49:38
Yes, please.

##### Simon Steinmann [Moderator] 08/04/2020 14:48:59
`@Olivier Michel` do you want me to open a feature suggestion?

##### David Mansolino [cyberbotics] 08/04/2020 14:48:47
You're welcome

##### Simon Steinmann [Moderator] 08/04/2020 14:48:29
okay,  thanks for the help ðŸ™‚

##### David Mansolino [cyberbotics] 08/04/2020 14:47:19
Ok, in that case it is indeed strange that it was working, but generally speaking it is safer to add the path to only one of the version

##### Simon Steinmann [Moderator] 08/04/2020 14:46:31
`@David Mansolino` it didnt matter which conda environment I was in, and whether it used python2 or 3 by default


`@Olivier Michel` Tooltips in general could be a great idea. Perhaps in the area where we can edit fields, there could be a tooltip tab (bottom left of image)
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/740218984330297505/unknown.png)
%end

##### David Mansolino [cyberbotics] 08/04/2020 14:44:56
Maybe you were using python2 by default before?

##### Simon Steinmann [Moderator] 08/04/2020 14:44:21
hmm why did it work in the past though? allowed for quick switching between python2 and 3


`@David Mansolino` only adding the actual python version used to the PYTHONPATH works

##### Olivier Michel [cyberbotics] 08/04/2020 14:43:11
Yes, I understand. I will be thinking to find a good solution to make it easier newcomers.

##### Simon Steinmann [Moderator] 08/04/2020 14:41:44
just a little suggestion for newcomer friendliness


I studied aerospace engineering and was not familiar with the term. I think there are a significant amount of people who aren't either. It can be easy to forget how daunting something new can be, when we've worked in an area for a while. I just started last year with robotics and simulation... so I still remember ðŸ˜„

##### Olivier Michel [cyberbotics] 08/04/2020 14:38:58
ENU is a well known convention. See [https://en.wikipedia.org/wiki/Axes\_conventions](https://en.wikipedia.org/wiki/Axes_conventions)

##### Simon Steinmann [Moderator] 08/04/2020 14:38:31
I'm thinking about newcomers to robotics and webots itself. It's just an extra thing that can be confusing


how about change it to EastNorthUp and NorthUpEast

##### Olivier Michel [cyberbotics] 08/04/2020 14:36:18
`@Simon Steinmann`: that is not easy to implement without making a special case for this. Anyhow, if you right click on `coordinateSystem` in the scene tree, you can get the Help menu that goes to the documentation page.

##### Simon Steinmann [Moderator] 08/04/2020 14:35:02
it worked before with the nightly build installed in  /usr/local

##### David Mansolino [cyberbotics] 08/04/2020 14:35:00
otherewise there might be some confusions.


PYTHONPATH should contain only one of the '/lib/controller/pythonXY'

##### Simon Steinmann [Moderator] 08/04/2020 14:34:14
my .bashrc
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/740216031427166208/unknown.png)
%end

##### David Mansolino [cyberbotics] 08/04/2020 14:33:21
About your error, it seems there are somme issue with PYTHON 2.7 VS 3.7

You are using 3.7 and you PYTHONPATH contains probably the path to the Webots Python 2.7 API

##### Simon Steinmann [Moderator] 08/04/2020 14:31:57
instead of just enu and nue


`@Olivier Michel` I think changing the dropdown options in the webots gui to 

"ENU" (X: east, Y: north, Z: Up)  

"NUE" (X: north, Y: up ,  Z: east)

would be nice

##### Olivier Michel [cyberbotics] 08/04/2020 14:30:38
It is explained on this documentation page: [https://cyberbotics.com/doc/reference/worldinfo](https://cyberbotics.com/doc/reference/worldinfo). Where else would you like to see it explained?

##### Simon Steinmann [Moderator] 08/04/2020 14:30:07
> import controller

> Traceback (most recent call last):

>   File "<stdin>", line 1, in <module>

>   File "/home/simon/webots/webots/lib/controller/python27/controller.py", line 42, in <module>

>     \_controller = swig\_import\_helper()

>   File "/home/simon/webots/webots/lib/controller/python27/controller.py", line 38, in swig\_import\_helper

>     \_mod = imp.load\_module('\_controller', fp, pathname, description)

>   File "/home/simon/anaconda3/lib/python3.7/imp.py", line 242, in load\_module

>     return load\_dynamic(name, filename, file)

>   File "/home/simon/anaconda3/lib/python3.7/imp.py", line 342, in load\_dynamic

>     return \_load(spec)

> ImportError: /home/simon/webots/webots/lib/controller/python27/\_controller.so: undefined symbol: PyClass\_Type


now I have the anaconda error though:


export WEBOTS\_HOME='/home/simon/webots/webots'   missed the extra webots ðŸ˜„

##### David Mansolino [cyberbotics] 08/04/2020 14:27:46
Did you set the PYTHONPATH?

IT seems you are using anaconda, did you recompile the PYthon API for anaconda?

##### Simon Steinmann [Moderator] 08/04/2020 14:27:46
nvm, found the issue



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/740214171034976366/unknown.png)
%end


I cannot import the controller in python since the tarball isntall


should I open an issue on github?


many people wont know what that is


I think it shoud say that where you can select it (what you said in bracket)

##### Olivier Michel [cyberbotics] 08/04/2020 14:09:12
You can choose between "ENU" (X: east, Y: north, Z: Up) and "NUE" (X: north, Y: up and Z: east).


By the "coordinateSystem" field of WorldInfo.

##### Simon Steinmann [Moderator] 08/04/2020 14:07:40
can we change what is 'up'


How is gravity direction defined now?


thx

##### Olivier Michel [cyberbotics] 08/04/2020 13:57:35
Go to the `webots` folder and type `./webots`.

##### Simon Steinmann [Moderator] 08/04/2020 13:56:54
how do I launch webots isntalled with tarball?

##### Vaibhav 08/04/2020 13:46:52
Okayy ill try that

##### David Mansolino [cyberbotics] 08/04/2020 13:46:17
They key point to solve the problem is to set the 'softCFM' of the contact properties to something around '1e-05' to make the ground less soft.


You're welcome

##### Vaibhav 08/04/2020 13:45:20
Okayy thanks I'm new to the software

##### David Mansolino [cyberbotics] 08/04/2020 13:43:53
You probably just need to set the contact properties between he wheel and the road.

Here is an example: [https://github.com/cyberbotics/webots/blob/master/projects/vehicles/worlds/city.wbt#L14-L74](https://github.com/cyberbotics/webots/blob/master/projects/vehicles/worlds/city.wbt#L14-L74)

##### Vaibhav 08/04/2020 13:42:52

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/740203106020884500/unknown.png)
%end

##### David Mansolino [cyberbotics] 08/04/2020 13:41:01
`@Vaibhav` can you post a printscreen of the problem?

##### Vaibhav 08/04/2020 13:40:06
Hey im trying to make a world with a road but the vehicles fall through the road what cab i do?

##### Olivier Michel [cyberbotics] 08/04/2020 13:39:57
In that case, I would recommend you to open and save your world with R2020b and require your users to use R2020b.

##### Simon Steinmann [Moderator] 08/04/2020 13:39:29
i'm just wanna make sure that people who use a normal install of webots dont run into that problem

##### Olivier Michel [cyberbotics] 08/04/2020 13:39:02
Then Webots R2020b should be able to open/convert it.


As a quick fix, you can simply change the header (first line) of your world/proto file and write R2020a instead of R2020b.

##### Simon Steinmann [Moderator] 08/04/2020 13:38:44
gravity 0 0 -9.81  vs gravity 9.81


I'm on 2020b and cannot open 2020a world

##### Olivier Michel [cyberbotics] 08/04/2020 13:37:48
(that may not work if the world was created with a nightly build of R2020b).

##### Simon Steinmann [Moderator] 08/04/2020 13:37:38
yes, but not the other way around. So if someone is running a old version and tries to open a file from a collegue, it doesnt work

##### David Mansolino [cyberbotics] 08/04/2020 13:37:36
What was the value of the gravity you were using in R2020a ?

##### Olivier Michel [cyberbotics] 08/04/2020 13:37:07
Webots R2020b should be able to open worlds created with R2020a and automatically update the gravity.

##### Simon Steinmann [Moderator] 08/04/2020 13:36:12
I think the gravity notation change causes the issue


One little thing, Im updating now, because worlds created with the new release cannot be opened with an old version. For people with a regular install, webots gets updated automatically?

##### Olivier Michel [cyberbotics] 08/04/2020 13:35:32
To stay on the bleeding edge, I would recommend you to compile Webots from the sources. Any update is easy: `git pull` will download only the files which changed and you simply have to recompile to use the latest version. Also, you will be able to easily switch between branches: `master` currently corresponds to `R2020b-rev1` and  `develop` currently corresponds to `R2021a`. Instructions to compile from the sources are provided here: [https://github.com/cyberbotics/webots/wiki](https://github.com/cyberbotics/webots/wiki). It is easier than it looks ðŸ˜‰ .

##### David Mansolino [cyberbotics] 08/04/2020 13:34:53
You're welcome

##### Simon Steinmann [Moderator] 08/04/2020 13:34:42
thank you ðŸ™‚

##### David Mansolino [cyberbotics] 08/04/2020 13:33:54
you may also have to install a few packages: [https://cyberbotics.com/doc/guide/installation-procedure#installing-the-tarball-package](https://cyberbotics.com/doc/guide/installation-procedure#installing-the-tarball-package)


Yes exactly

##### Simon Steinmann [Moderator] 08/04/2020 13:31:52
and when I get a new one, I extract it there too and change the variable again


okay, so I can download the tar.gz lets say to home/webots/version-xyz/ adjust the home variable and i'm done?

##### David Mansolino [cyberbotics] 08/04/2020 13:31:03
> can the nightly build be installed with apt?

`@Simon Steinmann` no, you need to download the package.


Ok, in that case yes you need to re-install, note that using the tar.gz is probably simpler for your setup so that you can even have several versions installed at the same time and just need to change the WEBOTS\_HOME environment variable.

##### Simon Steinmann [Moderator] 08/04/2020 13:29:45
can the nightly build be installed with apt?


downloaded the deb and installed it

##### David Mansolino [cyberbotics] 08/04/2020 13:28:30
It depends, how did you installed Webots?

##### Simon Steinmann [Moderator] 08/04/2020 13:28:04
is it possible to update, or do I have to do a fresh install every time?

##### David Mansolino [cyberbotics] 08/04/2020 13:27:48
yes sure

##### Simon Steinmann [Moderator] 08/04/2020 13:27:40
it uses the latest release as its base?

##### David Mansolino [cyberbotics] 08/04/2020 13:27:18
In that case you can simply get the new nightly of R2021a if you want to be the most up to date as possible

##### Simon Steinmann [Moderator] 08/04/2020 13:26:14
I'm still running a nightly build from before the release. What is the best way of updating?  I'm curious in general, as I create PRs etc, I wanna have the newest builds to test out features and bugfixes. What is the best procedure to update?

##### David Mansolino [cyberbotics] 08/04/2020 13:22:56
Latest version is 1.0.4: [https://pypi.org/project/urdf2webots/](https://pypi.org/project/urdf2webots/)

##### harunkurt00 08/04/2020 13:22:08
> Can you shared the PROTO generated with the latest version of the importer?

`@David Mansolino` urdf2webots 1.0.3 it is necessary

##### David Mansolino [cyberbotics] 08/04/2020 13:08:12
Can you shared the PROTO generated with the latest version of the importer?

##### harunkurt00 08/04/2020 13:06:18
> `@harunkurt00` can you please try with the latest version of the importer? 

`@David Mansolino` Same mistake,2020b I use

##### saditya 08/04/2020 13:02:26
> The hinge joint is simulated by the HingeJoint node in your model. Then, it should include a RotationalMotor node which you will be able to control from a controller program.

`@Olivier Michel` Thanks a lot! ðŸ™‚

##### Olivier Michel [cyberbotics] 08/04/2020 12:59:15
The hinge joint is simulated by the HingeJoint node in your model. Then, it should include a RotationalMotor node which you will be able to control from a controller program.

##### saditya 08/04/2020 12:57:49
> Yes, the gate Solid without Physics (so that it is attached to the static world) should be connect to the axe Solid using a HingeJoint allowing the rotation. Then, you should add a motor in the HingeJoint to control it.

`@Olivier Michel` How should I simulate the hinge joint to move the axe solid? Part of controller code?

##### Olivier Michel [cyberbotics] 08/04/2020 12:09:34
It works, but it's a bad practice.

##### ContrastNull 08/04/2020 12:08:49
Thank you. But my way works too, right? Or should I move it?

##### David Mansolino [cyberbotics] 08/04/2020 12:06:53
You can simply put it in your controller folder


Yes it is possible, but no need to pu it into `include/controller/c/webots`

##### ContrastNull 08/04/2020 12:05:57
Wanted to confirm that, is it possible to use an external header file in controller code? I put the c header file at include/controller/c/webots.

##### David Mansolino [cyberbotics] 08/04/2020 11:27:09
> Yes that seemed to work `@David Mansolino`

`@Shadow` perfect, thank you for the feedback


> I shared the moveo robot arm proto file on github [https://github.com/harunlakodla/BCN3D\_Moveo\_Robot\_Arm\_Webots\_Proto/blob/master/MoveoUrdf.proto](https://github.com/harunlakodla/BCN3D_Moveo_Robot_Arm_Webots_Proto/blob/master/MoveoUrdf.proto) 

> `@David Mansolino`

`@harunkurt00` can you please try with the latest version of the importer?

##### Shadow 08/04/2020 11:26:45
Yes that seemed to work `@David Mansolino`

##### harunkurt00 08/04/2020 11:14:44
I shared the moveo robot arm proto file on github [https://github.com/harunlakodla/BCN3D\_Moveo\_Robot\_Arm\_Webots\_Proto/blob/master/MoveoUrdf.proto](https://github.com/harunlakodla/BCN3D_Moveo_Robot_Arm_Webots_Proto/blob/master/MoveoUrdf.proto) 

> `@harunkurt00` can you please share the generated PROTO file

`@David Mansolino`

##### David Mansolino [cyberbotics] 08/04/2020 11:10:57
> Hello friends, I have converted the BCND Moveo robot arm to the protofile with urdf2webots library, but I couldn't fix it. I don't know much about proto files.

`@harunkurt00` can you please share the generated PROTO file


Can you try adding this file in 'WEBOTS\_HOME\msys64\mingw64\bin' ?
> **Attachment**: [imagequant.dll](https://cdn.discordapp.com/attachments/565154703139405824/740164526338605066/imagequant.dll)


Or wait, I may have a quick fix


Yes, we will fix it soon, in the meantime you can use the old version.

##### Shadow 08/04/2020 11:06:41
`@David Mansolino` Would you recommend me using the old version?

##### harunkurt00 08/04/2020 11:02:37
Hello friends, I have converted the BCND Moveo robot arm to the protofile with urdf2webots library, but I couldn't fix it. I don't know much about proto files.
%figure
![urdf2webots_error.PNG](https://cdn.discordapp.com/attachments/565154703139405824/740162778655883265/urdf2webots_error.PNG)
%end

##### David Mansolino [cyberbotics] 08/04/2020 10:57:28
It is indeed related to Webots, I can reproduce it in several worlds and PROTOs of the latest release on Windows

##### Shadow 08/04/2020 10:50:17
Thanks

##### David Mansolino [cyberbotics] 08/04/2020 10:48:54
Probbaly, I am still investigating

##### Shadow 08/04/2020 10:46:44
`@David Mansolino` Does this mean its a bug within webots?

##### David Mansolino [cyberbotics] 08/04/2020 10:45:53
> `@Shadow` I just tried your PROTO file and seems to work perfectly for me, maybe you don't have space anymore on your hard drive or Webots does not have write access in the temporary directory.

`@David Mansolino` second thought, on Windows 10 I can reproduce the problem


> `@Olivier Michel` Can we design these modified shapes on WEBOTS? Like the axe gate? Or do I need to use some designing software and import it to WEBOTS?

`@saditya` it is probably simpler to design the shape in an external 3D modelling software such as Blender


> Hi, may I ask you to check where could be a problem that my simulation never go past 2.176 second? Program in there is very simple, just send from one robots emitter to the other robots receiver desired joint angles - which executes.

> I thought that my problem might be within bounding boxes that I use same shape as I imported as visualized, so I tried to use boxes and cylinders but outcome was the same

`@(,-*-)` instead of encapsulating the call to `robot_receiver.nextPacket()` in a `try`, you should rather use this kind of structure:

```python
while robot_receiver.getQueueLength(self) > 0:
  msg = robot_receiver.getData()
  joint_positions = struct.unpack("ddddd",msg)
  robot_receiver.nextPacket()
```

##### saditya 08/04/2020 10:33:44
> Yes, the gate Solid without Physics (so that it is attached to the static world) should be connect to the axe Solid using a HingeJoint allowing the rotation. Then, you should add a motor in the HingeJoint to control it.

`@Olivier Michel` Can we design these modified shapes on WEBOTS? Like the axe gate? Or do I need to use some designing software and import it to WEBOTS?

##### (,-*-) 08/04/2020 10:30:19
Hi, may I ask you to check where could be a problem that my simulation never go past 2.176 second? Program in there is very simple, just send from one robots emitter to the other robots receiver desired joint angles - which executes.

I thought that my problem might be within bounding boxes that I use same shape as I imported as visualized, so I tried to use boxes and cylinders but outcome was the same
> **Attachment**: [DP\_Webots.zip](https://cdn.discordapp.com/attachments/565154703139405824/740154646412394496/DP_Webots.zip)

##### Olivier Michel [cyberbotics] 08/04/2020 10:18:16
Yes, the gate Solid without Physics (so that it is attached to the static world) should be connect to the axe Solid using a HingeJoint allowing the rotation. Then, you should add a motor in the HingeJoint to control it.

##### saditya 08/04/2020 10:14:36
> Sure.

`@Olivier Michel` Could you guide me a bit with the structure of it? The shape implementation of the axe gate? and the background door could be just a solid?

##### Olivier Michel [cyberbotics] 08/04/2020 10:10:53
What is the problem?


Sure.

##### saditya 08/04/2020 10:08:37
Could I implement something like this on WEBOTS? The axe gate is a rotating axe that periodically blocks the

passage of 2 gates. This is more like and obstacle for a robot to pass from while the circular gate moves with a door in the background.
%figure
![gate.png](https://cdn.discordapp.com/attachments/565154703139405824/740149188054220851/gate.png)
%end

##### Stefania Pedrazzi [cyberbotics] 08/04/2020 09:14:50
Yes, it was a generic nested PROTO issue.

##### Robsicky 08/04/2020 09:14:17
Fantastic!ðŸ˜€ Was it a PROTOs problem, and not Tinkerbots specific? Hope it solves my problem as well.

##### Stefania Pedrazzi [cyberbotics] 08/04/2020 09:08:54
Hi `@Robsicky`, yes the problem with the Tinkerbots parts translation is fixed in [https://github.com/cyberbotics/webots/pull/2063](https://github.com/cyberbotics/webots/pull/2063). It will probably be available tomorrow in the latest nightly build.

##### Robsicky 08/04/2020 09:07:25
Hi! Have you guys managed to fix this?ðŸ˜® [https://github.com/cyberbotics/webots/pull/2063](https://github.com/cyberbotics/webots/pull/2063)

##### David Mansolino [cyberbotics] 08/04/2020 06:44:19
> After updating to 2020b, I'm getting an error

> `FILE_NAME.proto': error: Template engine error: luaL_dostring error : ...m Files/Webots-2020-b/resources/lua/liluat/liluat.lua:520: attempt to perform arithmetic on local 'line_number' (a nil value).`

> I'm not sure what the issue is.

`@Shadow` I just tried your PROTO file and seems to work perfectly for me, maybe you don't have space anymore on your hard drive or Webots does not have write access in the temporary directory.


Hi `@alxy`, we are currently improving this sample to take advantage of the new version R2020b of Webots: [https://github.com/cyberbotics/webots/pull/2062/files](https://github.com/cyberbotics/webots/pull/2062/files)

I would recommend to start from this version of the controller as it is way more generic.

##### Alex Nie 08/04/2020 01:24:56
> `run real-time` tries to keep the speedometer value as close as possible to 1, based on system time and the recent history of time steps. It may hence speed-up or slow down depending on its evaluation of the amount of time needed to sleep.

`@Olivier Michel` Thanks a lot

##### alxy 08/03/2020 17:30:53
Hello, I am having problems adapting this example of a robotic arm ([https://cyberbotics.com/doc/guide/irb4600-40](https://cyberbotics.com/doc/guide/irb4600-40)) to a custom arm, namely the Mirobot by Wlkata ([https://www.wlkata.com/](https://www.wlkata.com/)). I created a proto file of the arm and that all worked nicely, but I am unable to get the integration with the inverse kinematics library working. The arm does move, however it is far from a position a would assume him to be. Is there anything I need to take care of if I go from world coordinates to the required joint angles? Here is my test world and the controller I use which is heavily based on the example: [https://drive.google.com/file/d/13HEgJ4vUrTgMWW1TyhGchBVH3JkzkNPz/view?usp=sharing](https://drive.google.com/file/d/13HEgJ4vUrTgMWW1TyhGchBVH3JkzkNPz/view?usp=sharing)

##### Olivier Michel [cyberbotics] 08/03/2020 15:57:58
`@Alex Nie`: with Emitter and a Receiver devices.


`run real-time` tries to keep the speedometer value as close as possible to 1, based on system time and the recent history of time steps. It may hence speed-up or slow down depending on its evaluation of the amount of time needed to sleep.

##### Simon Steinmann [Moderator] 08/03/2020 15:45:45
`@Olivier Michel` does the 'run realtime' try to keep the R factor at 1, or does it actually try to synchronize with system time? Meaning: does it speed up a little if there was a little hitch and it fell behind

##### Alex Nie 08/03/2020 15:44:15
How could robots communicate with each other?

##### Olivier Michel [cyberbotics] 08/03/2020 15:13:47
Yes, if you press the "run real-time" button (a single forward arrow), then, your simulation will be in sync with real time.

##### (,-*-) 08/03/2020 15:13:02
> Is there something like real time synchronization?

##### Shadow 08/03/2020 13:55:29
Will do

##### David Mansolino [cyberbotics] 08/03/2020 13:54:10
OK, let us know if it appears again

##### Shadow 08/03/2020 13:53:38
It appears I don't get the error any more

##### David Mansolino [cyberbotics] 08/03/2020 13:51:59
Can you share it?

##### Shadow 08/03/2020 13:51:50
Yes

##### David Mansolino [cyberbotics] 08/03/2020 13:51:38
> After updating to 2020b, I'm getting an error

> `FILE_NAME.proto': error: Template engine error: luaL_dostring error : ...m Files/Webots-2020-b/resources/lua/liluat/liluat.lua:520: attempt to perform arithmetic on local 'line_number' (a nil value).`

> I'm not sure what the issue is.

`@Shadow` are you getting this with one specific PROTO?

##### Stefania Pedrazzi [cyberbotics] 08/03/2020 13:44:13
you can work around this by adding a dummy Node at the Slot root location that is visible from the scene tree (i.e. that is defined in the PROTO fields)

##### Robsicky 08/03/2020 13:42:51
Thanks


Oki

##### Stefania Pedrazzi [cyberbotics] 08/03/2020 13:42:00
`@Robsicky` the `Supervisor.getPosition` node works only for Transform (or derived) nodes. So if your PROTO node is based on the `Slot` node, then the  `getPosition` function is not available.

##### Shadow 08/03/2020 13:39:36
After updating to 2020b, I'm getting an error

`FILE_NAME.proto': error: Template engine error: luaL_dostring error : ...m Files/Webots-2020-b/resources/lua/liluat/liluat.lua:520: attempt to perform arithmetic on local 'line_number' (a nil value).`

I'm not sure what the issue is.

##### Robsicky 08/03/2020 13:16:49
How to use getPosition (absolute position) for a PROTO node built on "Slot"?

##### Olivier Michel [cyberbotics] 08/03/2020 13:10:26
Strange... I am sorry I cannot further help on this one unless you have an active Premier service support contract.

##### saditya 08/03/2020 12:57:45
> It should move (rotate about the hinge)

`@Olivier Michel` As per your advice, I tried and it doesn't not move. It remains as it was on applying force.

##### Olivier Michel [cyberbotics] 08/03/2020 12:55:24
You may have a look at this example which relies on passive hinge joints as well: [https://cyberbotics.com/doc/guide/samples-howto#passive\_dynamic\_walker-wbt](https://cyberbotics.com/doc/guide/samples-howto#passive_dynamic_walker-wbt)


It should move (rotate about the hinge)


To test it, I would simply apply a force on the seesaw using Alt + mouse left click.

##### saditya 08/03/2020 12:49:18
> Your screenshot looks good. It should work as expected. If not you may have to adjust the HingeJointParameter fields.

`@Olivier Michel` A bit of visual to explain my see saw part. Does it matter on my robot's mass as well? Regarding hinge parameters, what attributes of it should i look at?
%figure
![Selection_019.png](https://cdn.discordapp.com/attachments/565154703139405824/739827236277977129/Selection_019.png)
%end

##### David Mansolino [cyberbotics] 08/03/2020 12:46:10
You're welcome

##### Shadow 08/03/2020 12:45:55
Thanks, didn't have the latest version!

##### David Mansolino [cyberbotics] 08/03/2020 12:44:36
It should be available: [https://cyberbotics.com/doc/reference/distancesensor?tab-language=python#wb\_distance\_sensor\_get\_lookup\_table](https://cyberbotics.com/doc/reference/distancesensor?tab-language=python#wb_distance_sensor_get_lookup_table)

But this is available only in the latest version of Webots (R2020b).

##### Shadow 08/03/2020 12:43:11
I get a no attribute error when I call `sensor.getLookupTable()`, is this method not available in python?

##### Alex Nie 08/03/2020 12:40:14
OK

##### David Mansolino [cyberbotics] 08/03/2020 12:39:51
You can use GPS + emitter-receiver mechanism: [https://www.cyberbotics.com/doc/guide/samples-devices#emitter\_receiver-wbt](https://www.cyberbotics.com/doc/guide/samples-devices#emitter_receiver-wbt)

##### Alex Nie 08/03/2020 12:39:12
Suppose I have multiple robots, how do I get these robots to get each other's position?

##### David Mansolino [cyberbotics] 08/03/2020 12:38:48
You can't, but you can get the content of the look up table to compute the raw value:  [https://cyberbotics.com/doc/reference/distancesensor#wb\_distance\_sensor\_get\_lookup\_table](https://cyberbotics.com/doc/reference/distancesensor#wb_distance_sensor_get_lookup_table)

##### Shadow 08/03/2020 12:37:39
Hi, I was wondering how you can get the raw sensor values bypassing the look up table so I can know what values the sensor is actually receiving (to then create a look up table).

##### Olivier Michel [cyberbotics] 08/03/2020 11:50:38
Your screenshot looks good. It should work as expected. If not you may have to adjust the HingeJointParameter fields.


Leaving the mass to -1 is fine (mass will be computed according to the density and bounding object volume).

##### saditya 08/03/2020 11:16:31
> Did you add a Physics node to your board Solid?

`@Olivier Michel` IN the SS you can see that this is the second half of the board which needs to act as a see saw? Should both the solids(main) and solid(end point) have a physics node? At the moment they both have a bounding object and one of them has a physics node as seen. Also does it have something to do with the mass? It's at -1 which i guess maybe wrong.
%figure
![Selection_017.png](https://cdn.discordapp.com/attachments/565154703139405824/739803888630104114/Selection_017.png)
%end

##### oroulet 08/03/2020 10:42:52
thanks. So at least it seems to be an enabling issue. Right now I am using enable(64) and step(64)....

##### Olivier Michel [cyberbotics] 08/03/2020 10:41:36
enable(10), step(10), GetRangeImage would return an image.


Like, enable(10), step(9) GetRangeImage would return None.


GetRangeImage should return None if the sensor is indeed disabled or was enabled but the robot step amount of time elapsed since enable is inferior to the value passed to the enable function.

##### oroulet 08/03/2020 10:40:00
at least very easy to reproduce in our environment. but our environment starts to be a bit complicated now

I can try to simplify it and send it over but  I was wondering if there is some known situastions where this can happen

##### Olivier Michel [cyberbotics] 08/03/2020 10:37:52
Is it a reproducible problem or does it occur randomly?

##### oroulet 08/03/2020 10:35:46
RangeFinder.GetRangeImage()sometimes returns None in python. Reloading and restarting robot controller seems to fix it.. until the next restart of robot controller...

What can be the reason? when does GetRangeImage is supposed to return None?

We enable the camera one step before taking the picture then disable it again in the same step

##### Olivier Michel [cyberbotics] 08/03/2020 10:05:15
This kind of error is often caused by mechanical loops (e.g., an object getting in contact with another object connected to itself via a series of joints)


I would recommend you to simplify the world file until the warning disappear. You will then understand who is the culprit...

##### watchdogs132 08/03/2020 10:02:13
"WARNING: The current physics step could not be computed correctly. Your world may be too complex. If this problem persists, try simplifying your bounding object(s), reducing the number of joints, or reducing WorldInfo.basicTimeStep."

I'm getting this error , as a result my bot, in majority of my iterations gets stuck while climbing the stairs . Is there a tool or a trick to know which bounding objects are causing the problem ? .

##### Olivier Michel [cyberbotics] 08/03/2020 09:59:18
And a boundingObject?


Did you add a Physics node to your board Solid?

##### saditya 08/03/2020 09:54:41
> Yes, it should work.

`@Olivier Michel` The second part which i added in the hinge joint , end point that part doesn't go down when the robot is on it. Did i do something wrong?

##### Olivier Michel [cyberbotics] 08/03/2020 09:31:41
Yes, it should work.

##### saditya 08/03/2020 09:29:03
> That seems correct. The rotating board should be added in the `endPoint` field of the `HingeJoint` node.

`@Olivier Michel` I added two solids now? Is there anything I need to add more? Anything in the hinge joint parameter? This structure should go down when the robot approaches towards the end of it.

##### Olivier Michel [cyberbotics] 08/03/2020 09:21:53
That seems correct. The rotating board should be added in the `endPoint` field of the `HingeJoint` node.

##### saditya 08/03/2020 09:18:55
> This can be implemented using a Solid node and a passive HingeJoint ([https://cyberbotics.com/doc/reference/hingejoint](https://cyberbotics.com/doc/reference/hingejoint)).

`@Olivier Michel`  Am I missing something here? I am new to this environment so a lot of questions.
%figure
![SS.png](https://cdn.discordapp.com/attachments/565154703139405824/739774289401872424/SS.png)
%end

##### Olivier Michel [cyberbotics] 08/03/2020 08:49:57
This can be implemented using a Solid node and a passive HingeJoint ([https://cyberbotics.com/doc/reference/hingejoint](https://cyberbotics.com/doc/reference/hingejoint)).

##### saditya 08/03/2020 08:34:56
A little guidance if someone could help? Have the slope structure and stairs but need some help with the "see saw" structure. The structure(see-saw) should go down on one side once the robot is on the slope. Sorry if this question is on the wrong place, I am trying to implement this now in WEBOTS if someone could help?
%figure
![Selection_010.png](https://cdn.discordapp.com/attachments/565154703139405824/739763222172663898/Selection_010.png)
%end

##### David Mansolino [cyberbotics] 08/03/2020 06:50:05
Yes, using the Supervisor APi is indeed simpler.

##### aplong 08/03/2020 06:46:01
Thanks David. I'll try if I can make it work. Otherwise, I'll use supervisor api instead. It seems I can get the status of the robots from there.


I am trying to get the positions of the bodies using the ode physics api.

##### David Mansolino [cyberbotics] 08/03/2020 06:28:57
Hi, I don't know anyone how did this, but in principle this should be doable. But why do you need to install it specifically from the physics plugin?

##### aplong 08/03/2020 06:26:58
Hello everyone, I'm new to webots and I've been trying it for the past week with a velodyne lidar. I installed ROS and webots on Windows 10.

Since I am working on Windows, my option is to use python in creating the custom controller and I was able to launch ROS node using rospy. Now, I am trying to launch an ROS node using the physics plugin. Has anyone tried launching an ROS node from physics plugin? Or is it possible? Appreciate any suggestions.

##### David Mansolino [cyberbotics] 08/03/2020 06:02:38
> Hi, I have some problem in built structure of my robot. May I send my project to someone to see where problem might be?

`@(,-*-)` feel free to share it here.


> In the section of 'Interfacing Webots to Third Party Software with TCP/IP', 

> how to run the code of client.c? 3Q

`@tangdan` you have to compile it and then you will be able to run it.


> How can I store the experimental values/console display values to a text file?

`@Akash` like in any regular programm, you simply have to open a file and write to it, which language are you using?


> Hey all, I've been trying to get Webots to use python3.7 for the past few days but constantly get this error:

> 

> Traceback (most recent call last):

>   File "BeerDelivery.py", line 5, in <module>

>     from controller import Robot

>   File "/Applications/Webots.app/lib/controller/python37/controller.py", line 32, in <module>

>     import \_controller

> ImportError: dlopen(/Applications/Webots.app/lib/controller/python37/\_controller.so, 2): Library not loaded: /Library/Frameworks/Python.framework/Versions/3.7/Python

>   Referenced from: /Applications/Webots.app/lib/controller/python37/\_controller.so

>   Reason: image not found

> WARNING: 'BeerDelivery' controller exited with status: 1.

> 

> So far I've tried:

> reinstalling python3

> installing pyenv and setting my version to everything from 3-3.8 (including 3.7.7 and 3.7.0)

> Adding a symlink to a different python.framework on my PC in the specified location

> 

> So far, nothing has been super helpful. Was wondering if anyone else has run into this issue and if they'd be willing to help

`@Tacobellington` did you installed Python from [https://www.python.org/downloads](https://www.python.org/downloads) ?

I would also try setting in the Webots Preferences the 'python command' to the absolute path of the Python application.

##### ST33LDI9ITAL 08/03/2020 05:00:33
think it was caused by not copying over all the world files...proto/plugin. fixed by just recopying original mavic world and copy/paste my own code over


trying to compile copy of mavic demo world I've been tinkering on


just upgraded to new version and now getting: 

Makefile:25: Files/Webots /resources/Makefile.include: No such file or directory

make: *** No rule to make target 'Files/Webots /resources/Makefile.include'.  Stop.

##### (,-*-) 08/02/2020 19:25:31
Hi, I have some problem in built structure of my robot. May I send my project to someone to see where problem might be?

##### oroulet 08/02/2020 05:23:56
I just opened that one:[https://github.com/cyberbotics/webots/issues/2057](https://github.com/cyberbotics/webots/issues/2057)

if anybody has an explanation/bypass I am interested

##### tangdan 08/02/2020 01:50:01
In the section of 'Interfacing Webots to Third Party Software with TCP/IP', 

how to run the code of client.c? 3Q

##### ST33LDI9ITAL 08/01/2020 20:05:15
Does this support setting vars to node properties for hotloading? So don't have to constantly reload world to test different values?

##### Akash 08/01/2020 15:14:37
How can I store the experimental values/console display values to a text file?

##### Tacobellington 07/31/2020 19:00:19
Hey all, I've been trying to get Webots to use python3.7 for the past few days but constantly get this error:



Traceback (most recent call last):

  File "BeerDelivery.py", line 5, in <module>

    from controller import Robot

  File "/Applications/Webots.app/lib/controller/python37/controller.py", line 32, in <module>

    import \_controller

ImportError: dlopen(/Applications/Webots.app/lib/controller/python37/\_controller.so, 2): Library not loaded: /Library/Frameworks/Python.framework/Versions/3.7/Python

  Referenced from: /Applications/Webots.app/lib/controller/python37/\_controller.so

  Reason: image not found

WARNING: 'BeerDelivery' controller exited with status: 1.



So far I've tried:

reinstalling python3

installing pyenv and setting my version to everything from 3-3.8 (including 3.7.7 and 3.7.0)

Adding a symlink to a different python.framework on my PC in the specified location



So far, nothing has been super helpful. Was wondering if anyone else has run into this issue and if they'd be willing to help

##### teetangh 07/31/2020 11:02:58
Thank you `@David Mansolino` . I will try the same and let you know

##### David Mansolino [cyberbotics] 07/31/2020 10:59:25
Hi, have you tried our ROS tutorial?

[https://cyberbotics.com/doc/guide/tutorial-8-using-ros](https://cyberbotics.com/doc/guide/tutorial-8-using-ros)

We have an example of SLAM simulation: [http://wiki.ros.org/webots\_ros/Tutorials/Sample%20Simulations#Simulation\_Pionneer\_3\_AT](http://wiki.ros.org/webots_ros/Tutorials/Sample%20Simulations#Simulation_Pionneer_3_AT)

##### teetangh 07/31/2020 10:58:15
Hello everyone. Hope everyone is safe and sound during the corona times.

I'm Kaustav. I wanted to attach a lidar to my differential drive and also make a cpp controller for it.

Consequently, i also want to use ROS cartographer for SLAM in vehicles environment. Any suggestions?

##### David Mansolino [cyberbotics] 07/31/2020 10:05:13
You're welcome

##### EPIC 07/31/2020 10:05:08
Ok, thanks ðŸ™‚

##### David Mansolino [cyberbotics] 07/31/2020 10:04:58
Then use a MFVec3f field.

##### EPIC 07/31/2020 10:04:49
So it's only the PROTO itself that need to know the values


In my PROTO, I've added a "SFInt32" field. This counter will decide how many objects I'm going to have as a child, in the Solid node. But I want the objects to be placed at specific places, and therefore use a table to give the new objects their translation and rotation

##### David Mansolino [cyberbotics] 07/31/2020 10:02:32
From where do you need to store these values?

##### EPIC 07/31/2020 10:02:14
Hi! I want to store some values in a table, in a PROTO node for later use. Where should this table be placed?

##### Robsicky 07/31/2020 09:11:55
Thanks a lot! You guys are doing a great job btwðŸ‘Œ

##### David Mansolino [cyberbotics] 07/31/2020 09:10:44
Yes sure, I will have a look as soon as I have some time and answer you directly in the issue.

##### Robsicky 07/31/2020 09:08:56
Do you have a moment to read my last comment? [https://github.com/cyberbotics/webots/issues/214](https://github.com/cyberbotics/webots/issues/214)

You might be familiar with what was causing the issue.

##### David Mansolino [cyberbotics] 07/31/2020 08:50:50
Perfect, thank you

##### Robsicky 07/31/2020 08:49:46
Doing it now ðŸ‘

##### David Mansolino [cyberbotics] 07/31/2020 08:49:27
ok good news, do not hesitate to add your conclusion to the issue ðŸ™‚

##### Robsicky 07/31/2020 08:48:56
I've tested a few things, on my own project as well as the one in the issue, and I think I have found something interesting

##### David Mansolino [cyberbotics] 07/31/2020 08:48:11
Oh ok I see.

##### Robsicky 07/31/2020 08:47:06
I tried to find a "workaround" for this issue: [https://github.com/cyberbotics/webots/issues/214](https://github.com/cyberbotics/webots/issues/214)

##### David Mansolino [cyberbotics] 07/31/2020 08:27:02
But in most of the case there are some workaround. What do you wahtn to achieve exactly?


Yes, that is indeed a bad idea, one problem for example will be that when you move the object with the handles in Webots, it will generate many many regeneration of the PROTO.

##### Robsicky 07/31/2020 08:11:26
But I also tried to set the translation and rotation of a Transform inside the Solid, and this also resulted in my simulation freezing for a moment


Hi! Is using Lua in protos to change translations and rotations generally a bad idea? From the warnings I get, I assume this should be avoided:

```
PROTO example [
    field SFVec3f       translation    0 0 0
    field SFRotation    rotation       0 1 0 0
]
{
    Solid {
        %{
            local T = fields.translation.value
            local R = fields.rotation.value
        }%
        translation %{=T.x}% %{=T.y}% %{=T.z}%
        rotation %{=R.x}% %{=R.y}% %{=R.z}% %{=R.a}%

    }
}
```

##### ST33LDI9ITAL 07/31/2020 06:41:54
Awesome

##### David Mansolino [cyberbotics] 07/31/2020 06:39:59
Yes, this controller is using the Joystick API to interface the controller with a racing wheel: [https://github.com/cyberbotics/webots/tree/master/projects/vehicles/controllers/racing\_wheel](https://github.com/cyberbotics/webots/tree/master/projects/vehicles/controllers/racing_wheel)

##### ST33LDI9ITAL 07/31/2020 06:38:29
Are there any demos that use joystick?

##### David Mansolino [cyberbotics] 07/31/2020 06:37:30
You're welcome

##### Alex Nie 07/31/2020 06:37:10
> `@Alex Nie` you can use in your controller the `wb_robot_get_time`  ([https://www.cyberbotics.com/doc/reference/robot#wb\_robot\_get\_time](https://www.cyberbotics.com/doc/reference/robot#wb_robot_get_time)) function to get the simulation time and act depending on the time.

`@David Mansolino` Thanks a lotðŸ˜ƒ

##### David Mansolino [cyberbotics] 07/31/2020 06:29:51
To make sure your world is 'clean' it is recommended to open your world file in a text edirot, and remove all the lines starting with 'hidden'.

##### trunc8 07/31/2020 05:58:28
> `@trunc8`  Saving the world and  reset simulation

`@Alex Nie` Thanks, worked for me! The tutorials had recommended to avoid doing this as it would accumulate error. How does that work?

##### David Mansolino [cyberbotics] 07/31/2020 05:50:37
Did you updated manually the header (`#VRML_SIM ...`) of the world file?


> Another remark. It's "gravity 9.81" now. My objects just flew away ðŸ¤£

`@Majanao` you should set 'gravity' to -9.81 and 'coordinateSystem' to 'ENU'.


> `@David Mansolino` does this approach completely disable moving objects?  I would still like to move them with Shift+Click/Drag.

`@kentevan` can you please remember me which approach you are talking about?


> Ok so if you save world state after closing camera fpv camera window in simulation then it won't open back up after world reload... and can't find way to manually do it.

`@TJR` You can re-open it from the 'Overlay' menu: [https://cyberbotics.com/doc/guide/the-user-interface#overlays-menu](https://cyberbotics.com/doc/guide/the-user-interface#overlays-menu)


> Or retrieve this environment in some other way? I wish to have it present at t=0.

`@trunc8` to avoid this in the Future I would recommend setting the starting mode to pause in the preferences: [https://cyberbotics.com/doc/guide/preferences#general](https://cyberbotics.com/doc/guide/preferences#general)


`@Alex Nie` you can use in your controller the `wb_robot_get_time`  ([https://www.cyberbotics.com/doc/reference/robot#wb\_robot\_get\_time](https://www.cyberbotics.com/doc/reference/robot#wb_robot_get_time)) function to get the simulation time and act depending on the time.

##### Alex Nie 07/31/2020 05:15:01
> I'm new to Webots. I built my world and did not realise that the simulation was running. Is there a way to reset simulation keeping the current world elements intact?

`@trunc8`  Saving the world and  reset simulation

##### trunc8 07/31/2020 05:06:27
Or retrieve this environment in some other way? I wish to have it present at t=0.


I'm new to Webots. I built my world and did not realise that the simulation was running. Is there a way to reset simulation keeping the current world elements intact?

##### Alex Nie 07/31/2020 02:46:33
> Ok so if you save world state after closing camera fpv camera window in simulation then it won't open back up after world reload... and can't find way to manually do it.

`@TJR` I meet the same question


How to make the robot's behavior change over time? For example, I want a robot to move to the left in 0~10 seconds, and to the right in 10 seconds to 20 seconds.

##### TJR 07/31/2020 02:05:39
Ok so if you save world state after closing camera fpv camera window in simulation then it won't open back up after world reload... and can't find way to manually do it.


Camera view was there... clicked the x in corner to close it.. but can't seem to get it to come up again, even after reload


I closed the camera and can't figure out how to reopen it...

##### kentevan 07/30/2020 18:37:07
`@David Mansolino` does this approach completely disable moving objects?  I would still like to move them with Shift+Click/Drag.

##### Majanao 07/30/2020 15:41:54
Another remark. It's "gravity 9.81" now. My objects just flew away ðŸ¤£


That worked. Thanks a lot `@EPIC`

##### EPIC 07/30/2020 15:36:31
I guess it now expect "gravity -9.81" instead of "gravity 0 0 -9.81" ðŸ™‚


In the new update, gravity is only one float instead of a 3D vector

##### Majanao 07/30/2020 15:34:14
The simulation was just running. And suddenly that error appeared.


But it makes no sense.


If I double click the error message, it shows me the error...
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/738418811052752896/unknown.png)
%end


Hi, I just this strange error message. The thing is, the wbt-file wasn't changed at all.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/738418557552951366/unknown.png)
%end

##### Robsicky 07/30/2020 15:05:38

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/738411995094581258/unknown.png)
%end


> This is the end of a 'if' condition or 'for' loop

`@David Mansolino` AaaðŸ™ƒ Thanks! I've read the docs. Got discombobulated due to the "end" sitting there all by itself:

##### David Mansolino [cyberbotics] 07/30/2020 15:01:07
Here is the doc with an example: [https://www.cyberbotics.com/doc/reference/procedural-proto-nodes](https://www.cyberbotics.com/doc/reference/procedural-proto-nodes)


This is the end of a 'if' condition or 'for' loop

##### Robsicky 07/30/2020 14:52:09
Hi. What is the purpose of

```
%{ end }%
```

when using Lua in PROTOs?

Also, does anyone know a good source for examples of usage of Lua in PROTOs?

##### EPIC 07/30/2020 13:44:22
It crashed when I tried to both change the bool, and remove the node in the same step. If I first changed the bool to "False", and later deleted the node it worked just fineðŸ‘

##### David Mansolino [cyberbotics] 07/30/2020 13:17:38
Ok, in that case, can you please report this here including a simple controller and simulation that reproduce the problem?

[https://github.com/cyberbotics/webots/issues/new/choose](https://github.com/cyberbotics/webots/issues/new/choose)

We will check what is happennign and fix the issue.

##### EPIC 07/30/2020 13:17:14
Maybe I messed up in my PROTO, so that the "enableBoundingObject" is not accessible for Supervisor..?


2020b


I think "getProtoField" would be better than "getField" though

##### David Mansolino [cyberbotics] 07/30/2020 13:16:22
Which version of Webots are you using?

##### EPIC 07/30/2020 13:16:05
Webots

##### David Mansolino [cyberbotics] 07/30/2020 13:15:49
is it Webots or your controller that is crashing?


Yes that should be feasible.

##### EPIC 07/30/2020 13:09:11
Hi! Is there a way to change a bool in a PROTO, in run-time via Supervisor? I tried to use "...getMFNode(0).getField("enableBoundingObject").setSFBool(False)", but my program keeps crashingðŸ˜…

##### chenpixx 07/30/2020 13:04:49
I know that property .   Thanks . I. Had used it previously. In fact This video also shows the problem . The solid is finally flying. Thanks

##### David Mansolino [cyberbotics] 07/30/2020 13:02:33
Webots provide some video recording functionnalities... your video are very difficult to check

##### chenpixx 07/30/2020 12:17:40
Do you have another idea to solve it?

##### David Mansolino [cyberbotics] 07/30/2020 11:58:39
[https://cyberbotics.com/doc/guide/the-user-interface#view-menu](https://cyberbotics.com/doc/guide/the-user-interface#view-menu)

##### chenpixx 07/30/2020 11:58:01
> `@chenpixx` you should probably check what is happenning with the contact point usign the optionnal renering

`@David Mansolino`  sorry where is renering? Or what

##### David Mansolino [cyberbotics] 07/30/2020 11:53:19
Thank you

##### Robsicky 07/30/2020 11:44:50
Yes, I will. Thanks!

##### David Mansolino [cyberbotics] 07/30/2020 11:42:55
> However, still not working when using the full path for all

`@Robsicky` ok, then there might be a problem on Windows, can you please report this here and I will try as soon as I have the time to do so?

[https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)


`@chenpixx` you should probably check what is happenning with the contact point usign the optionnal rendering

##### Robsicky 07/30/2020 11:40:56
However, still not working when using the full path for all


> Yes exactly, but did you set the environment variables before starting the controller 

`@David Mansolino`  Using 

` WEBOTS_HOME     C:\Program Files\Webots`

and

`${WEBOTS_HOME}\...`

does not seem to work for me

##### chenpixx 07/30/2020 11:32:10
I cant understand why the reason of it.


The solid is playing fidgety.  Please give me an idea

##### Robsicky 07/30/2020 11:28:00
Yes, but give me a second and I'll try once more

##### David Mansolino [cyberbotics] 07/30/2020 11:27:02
Yes exactly, but did you set the environment variables before starting the controller ([https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-os=windows&tab-language=python#environment-variables](https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-os=windows&tab-language=python#environment-variables)) ?

##### Robsicky 07/30/2020 11:26:12
Gives the same error


As in running "python my\_controller.py" in terminal?

##### David Mansolino [cyberbotics] 07/30/2020 11:18:21
Ok, thank you. In that case, would it be possible for you to test the extern controller feature (outside of Pycharm) for python with this new version of Webots in Windows?

[https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-os=windows&tab-language=python#introduction](https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-os=windows&tab-language=python#introduction)

##### Robsicky 07/30/2020 11:12:30
3.7

##### David Mansolino [cyberbotics] 07/30/2020 11:11:48
Ok, which version of Python are you using?

##### Robsicky 07/30/2020 11:10:44
Yes, and yesðŸ™‚

##### David Mansolino [cyberbotics] 07/30/2020 11:10:17
Are you on windows? Is your problem similar to the one of `@EPIC` a few message before?

##### Robsicky 07/30/2020 11:09:02
Also having trouble with environmental variables after installing R2020b. Triple checked documentation, and tried creating a new pycharm project. No luck

##### Simon Steinmann [Moderator] 07/30/2020 10:29:25
> Webots provides a cross-language APIs to control the simulated robots (C, C++, Python, Java and MATLAB) and some interface with frameworks such as ROS1 and ROS2.

`@David Mansolino` `@unda`   This is one of the biggest advantages of webots compared to all other simulators I've tried. Incredibly detailed documentation and native support for the listed languages. Not just a often slow and incomplete wrapper for let's say python

##### David Mansolino [cyberbotics] 07/30/2020 10:27:53
> This is actually the same problems I had when I tried to run the controller from PyCharm the first time.. but this time all the environment variables should be correct.. Maybe I should delete and reinstall?

`@EPIC` yes, maybe it would be good to try recreating a new pyCharm project from scratch (no need to delete the current one, keep it as a backup): [https://cyberbotics.com/doc/guide/using-your-ide?version=documentation-enhacement-pycharm-instructions](https://cyberbotics.com/doc/guide/using-your-ide?version=documentation-enhacement-pycharm-instructions)


> It has its own collision detection engine? Any name? ðŸ™‚

`@EPIC` no it uses ODE


Webots provides a cross-language APIs to control the simulated robots (C, C++, Python, Java and MATLAB) and some interface with frameworks such as ROS1 and ROS2.


Here are a few of the main differences:



Webots provides several advantages compared to other open-source robot simulators:

  - Simulations in Webots are reproducible: Reproducibility  is very important to make sure that if you use the same control algorithm your robot will behave exactly the same on two different runs. 

  - Webots is cross-platform, unlike Gazebo, Webots runs on Windows, Linux and macOS.

  - Realistic rendering: As vision is an important area in robotics, it is essential that a simulator can generate highly realistic camera images efficiently. Recently, the rendering engine of Webots has been rewritten from scratch. The new rendering engine allows the simulator to run much faster but also to take advantage of state-of-the-art rendering methods (such as Physics Based Rendering, ambient occlusion, bloom, focus blur, motion blur, etc.) to generate realistic camera images.

  - Improved physics engine: Webots uses an improved version of the Open Dynamics Engine (ODE) to simulate physics. The original version of this simulation engine is widely used by other robot simulators, however, it suffers from instability issues. In the Webots version, the collision detection algorithm was improved to generate much better contacts points (position and number of points) which results in much more stable simulations. This is fundamental for grasping and legged locomotion. Moreover, bug fixes, fluid dynamics and parallelisation were brought to the version of ODE used in Webots, bringing more stability, capabilities and performance comparing to other robot simulators.

##### Simon Steinmann [Moderator] 07/30/2020 10:22:55
`@unda`  webots uses an optimized and modified version of ODE physics engine. They added things like multicore processing and fluid simulation. But the devs will be able to tell you more

##### EPIC 07/30/2020 10:21:28
This is actually the same problems I had when I tried to run the controller from PyCharm the first time.. but this time all the environment variables should be correct.. Maybe I should delete and reinstall?


And the error occurs when it tries to import from \_controller


(I think "given" is the right word atleast, translated from my language)


"ImportError: DLL load failed. The given module was not found"


It has its own collision detection engine? Any name? ðŸ™‚

##### unda 07/30/2020 10:17:44
Can some explain how is webot different from gazebo?

##### David Mansolino [cyberbotics] 07/30/2020 10:16:55
and collision detection engine


> Another question: which module is responsible for detecting collisions? The ODE-engine?

`@EPIC` yes, ODE is the physics engine.


What is the error you get?

##### EPIC 07/30/2020 10:16:26
Another question: which module is responsible for detecting collisions? The ODE-engine?

##### David Mansolino [cyberbotics] 07/30/2020 10:16:26
Ok, that seems all good.

##### EPIC 07/30/2020 10:15:45
The Path is set to WEBOT\_HOME/lib/controller and WEBOT\_HOME/msys64/mingw64/bin, and the content root is set to my controller (and tried the WEBOT\_HOME/lib/controller/python37)

##### Alex Nie 07/30/2020 10:10:07
Maybe these environment variables were changed during the upgrade

##### David Mansolino [cyberbotics] 07/30/2020 10:08:17
And in the `Add Content Root` ?


What did you set as `PATH / LD_LIBRARY_PATH / DYLD_LIBRARY_PATH` ?

##### EPIC 07/30/2020 10:06:21
From R2020a to R2020b

##### David Mansolino [cyberbotics] 07/30/2020 10:04:58
From which and to which version of Webots did you updated?

##### EPIC 07/30/2020 10:04:31
Hi! After updating Webots, I can't run the simulation externally from PyCharm anymore. I saw someone else had the same problem, did you find out what the issue was? I installed Webots over the previous folder, so the environment variables should be the same (or do I have to delete the old, and add new ones even though they are the same?).

##### yash 07/30/2020 09:36:24
ohh okay okay , understood , it's done ! I was thinking in a wrong direction before . Thank You...ðŸ‘

##### Stefania Pedrazzi [cyberbotics] 07/30/2020 09:33:50
You should set the `--name=..` argument in the `Robot.controllerArgs` field of your robot

##### yash 07/30/2020 09:33:15
I am using webots+ ROS standard controller , so in this case what should I do ?

##### Stefania Pedrazzi [cyberbotics] 07/30/2020 09:31:39
`@yash` you should pass the `--name=..` argument to the Webots robot controllers, i.e., if you are not using extern controllers, you should set it in the `Robot.controllerArgs` field

##### yash 07/30/2020 09:29:36
Hi ! I 

> `@yash` yes, as described in the doc, you can use the `--name=...` controller argument: [https://www.cyberbotics.com/doc/guide/using-ros#using-the-standard-ros-controller](https://www.cyberbotics.com/doc/guide/using-ros#using-the-standard-ros-controller)

 I tried doing this but did'nt quite understand where and how to do this ? meaning where should I write the redefined name I want to give using --name controller argument?

##### David Mansolino [cyberbotics] 07/30/2020 09:02:56
That sounds good, Webots extern controller can indeed be started like any regular process.

##### Alex Nie 07/30/2020 09:02:24
ðŸ˜ƒ I found this method in python. I used the os.system() command in multi-process to start multiple controllers through a script file


> `@Alex Nie` what do you mean exactly? You want to start the controller from a script?

`@David Mansolino` Yes, i want to start the controller from a script

##### David Mansolino [cyberbotics] 07/30/2020 07:35:21
You're welcome

##### Sukrati Chaturvedi 07/30/2020 07:33:56
`@David Mansolino` thanks alot.

##### David Mansolino [cyberbotics] 07/30/2020 07:25:38
> Hi! I'm new to webots. I want to perform simulation for the nao robot. I googled and found that there is a tool named webots for nao( version webot  8.x.x ) that simulates nao in virtual environment.I downloaded the mentioned version. But after installation It asks me to register first. When i click to register i am directed to webot's official website but there is no option to register. Please guide me how can i register to use this tool.

`@Sukrati Chaturvedi` [https://cyberbotics.com/doc/guide/general-faq#can-i-still-use-a-webots-version-before-the-r2019a-release](https://cyberbotics.com/doc/guide/general-faq#can-i-still-use-a-webots-version-before-the-r2019a-release)


> `@David Mansolino` thanks for your answer! Another question, is it true that friction only works when a physics node is added? If it's true, how can I fix the solid with physics to the world(no matter how large force exterts to it)

`@chungshan` that's true, however if only one of the two solid has physics, the friction will work, so you can have one fix solid without physics and one with physics.


> The controller here refers to the external controllerâ€˜

`@Alex Nie` what do you mean exactly? You want to start the controller from a script?

##### Sukrati Chaturvedi 07/30/2020 07:22:19
Hi! I'm new to webots. I want to perform simulation for the nao robot. I googled and found that there is a tool named webots for nao( version webot  8.x.x ) that simulates nao in virtual environment.I downloaded the mentioned version. But after installation It asks me to register first. When i click to register i am directed to webot's official website but there is no option to register. Please guide me how can i register to use this tool.

##### chungshan 07/30/2020 07:12:56
`@David Mansolino` thanks for your answer! Another question, is it true that friction only works when a physics node is added? If it's true, how can I fix the solid with physics to the world(no matter how large force exterts to it)

##### Alex Nie 07/30/2020 07:12:33
The controller here refers to the external controllerâ€˜


`@David Mansolino` Is it possible to control the startup of the controller by programming?

##### David Mansolino [cyberbotics] 07/30/2020 07:05:07
You can for example use 2 and 16.

##### chungshan 07/30/2020 07:04:45
`@David Mansolino` what's ratio of controller time step to world time step do you recommend

##### David Mansolino [cyberbotics] 07/30/2020 06:56:45
Not that you can put a world timestep small and use a bigger time step for your controller to save computational power.


It actually depends on the speed of the motion of the object, there is a tradeoff to find between the time step and the motion of the object.

##### chungshan 07/30/2020 06:52:22
`@David Mansolino` I try setting the timestep to 2. It looks better for collision detection. So, is this the only way to get an accurate collision detection?

##### David Mansolino [cyberbotics] 07/30/2020 06:41:38
Ok, this should be fine indeed. Have you tried setting the timestep way smaller (e.g. 1 or 2) just to test?

##### chungshan 07/30/2020 06:39:02
The blue box is composed of four smaller blue box. (each set is the same like this picture
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/738284506166853703/unknown.png)
%end

##### David Mansolino [cyberbotics] 07/30/2020 06:36:30
Ok, this one look sperfect, and for the blue one?

##### chungshan 07/30/2020 06:35:42
`@David Mansolino`
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/738283666110939257/unknown.png)
%end

##### David Mansolino [cyberbotics] 07/30/2020 06:33:08
Can I see the definition of 'inserted\_box\_geo' ?

##### chungshan 07/30/2020 06:31:29
`@David Mansolino` Yes, each box node is set like this
%figure
![Screenshot_from_2020-07-30_14-30-27.png](https://cdn.discordapp.com/attachments/565154703139405824/738282604230344734/Screenshot_from_2020-07-30_14-30-27.png)
%end

##### David Mansolino [cyberbotics] 07/30/2020 06:29:06
> `@David Mansolino` the bounding object is set by using DEF-USE mechanism([https://cyberbotics.com/doc/guide/tutorial-2-modification-of-the-environment#def-use-mechanism](https://cyberbotics.com/doc/guide/tutorial-2-modification-of-the-environment#def-use-mechanism))

> the bounding object is set to the shape of solid (both white box and blue box)

`@chungshan` Ok so you are using only a set of box nodes right?


> hello quick UI question.  Is there a way to prevent an object's axes from displaying when that object is selected?  Thanks

`@kentevan` yes this is possible. From R2020b you can disable the handles, from the 'View -> Scene Interactions -> Disable Object Move' menu.

##### chungshan 07/30/2020 06:25:20
`@David Mansolino` the bounding object is set by using DEF-USE mechanism([https://cyberbotics.com/doc/guide/tutorial-2-modification-of-the-environment#def-use-mechanism](https://cyberbotics.com/doc/guide/tutorial-2-modification-of-the-environment#def-use-mechanism))

the bounding object is set to the shape of solid (both white box and blue box)

##### Alex Nie 07/30/2020 06:24:18
Thank youðŸ˜ƒ

##### David Mansolino [cyberbotics] 07/30/2020 06:22:55
> Does anyone know how to randomly set the initial position of the robot in the programï¼ŸFor example, I have 5 Pioneer robots. I want to randomly set them in different positions at the beginning of the simulation. Which function should I use?

`@Alex Nie` [https://cyberbotics.com/doc/guide/supervisor-programming#setting-the-position-of-robots](https://cyberbotics.com/doc/guide/supervisor-programming#setting-the-position-of-robots)

##### Alex Nie 07/30/2020 06:21:57
Does anyone know how to randomly set the initial position of the robot in the programï¼ŸFor example, I have 5 Pioneer robots. I want to randomly set them in different positions at the beginning of the simulation. Which function should I use?

##### David Mansolino [cyberbotics] 07/30/2020 06:20:07
`@chungshan` how did you defined the bounding object of both Solid ?

##### chungshan 07/30/2020 06:15:08
Hello, I'd like to know how to get an accurate collision detection.

I'm doing an insertion task. The white box connects with a connector on ur5.(The connection is rigid.) The white box is controlled straight down. However, I have two problems:

1. I found that the white box overlapped with blue box (a bad collision detection). I set basicTimeStep=8

2. There are slipping between white box and blue box when the collision occurs (I already set a large colombFriction(=200) between them)

I'd like to have the performance like this:

When the white box collides with blue box, it has a good collision detection (no overlap) and without slipping.
%figure
![collision.png](https://cdn.discordapp.com/attachments/565154703139405824/738278488657887312/collision.png)
%end

##### Simon Steinmann [Moderator] 07/29/2020 22:01:21
A webots controller interacts with the webots api. But it should be easily adaptable to the api of your robot. To make this easier, it can be a good idea to split your controller into modules that interact with each other and putting all the webots specific things in an extra module and all the logic in another.

##### Alex0u0 07/29/2020 20:28:18
hi, im new to webots, but i wanted to know if theres a way to upload a controller of a simulation made in webots to an actual robot in real world, or right  now the only way is uploading it with ros. Also if there isnt an upload option in webots yet, will there be in a future or will it stay as a simulation environment only? thanks for the answer in advance ðŸ™‚

##### kentevan 07/29/2020 17:02:23
hello quick UI question.  Is there a way to prevent an object's axes from displaying when that object is selected?  Thanks

##### Robsicky 07/29/2020 12:54:43
Thanks a lotðŸ˜€

##### Stefania Pedrazzi [cyberbotics] 07/29/2020 12:53:57
here there is also the Windows exe [https://github.com/cyberbotics/webots/releases/tag/nightly\_28\_7\_2020](https://github.com/cyberbotics/webots/releases/tag/nightly_28_7_2020)

##### Robsicky 07/29/2020 12:52:25
Is there an .exe for R2020b Windows?

##### Stefania Pedrazzi [cyberbotics] 07/29/2020 12:34:42
Ok! If you can add your models as well when fixing this issue we will check it works in your case too

##### Robsicky 07/29/2020 12:31:30
Btw, I seem to have the same issue as described here:

[https://github.com/cyberbotics/webots/issues/214](https://github.com/cyberbotics/webots/issues/214)


I understand. I'll test the new version, and open an issue if it's not working ðŸ‘

##### Stefania Pedrazzi [cyberbotics] 07/29/2020 12:09:56
Another thing that you could try, is to check if is maybe already fixed in the latest version by installing the latest nightly build of R2020b:   [https://github.com/cyberbotics/webots/releases/tag/nightly\_27\_7\_2020](https://github.com/cyberbotics/webots/releases/tag/nightly_27_7_2020)


There are some known issues with nested PROTO nodes but these are usually related to specific PROTO structures.

Not all the nested PROTO nodes have issues, so we can only inspect your issue by checking the models and the world.

Please open an issue on GitHub and we will have a look at it.

##### Robsicky 07/29/2020 12:05:21
I'm able to move "Axis1", but not "Axis2". Also, I'm not trying to move "Forks", so I guess that's why I can move Axis1 despite it being a child of "Forks"
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/738004234804527175/unknown.png)
%end


Translation and rotation of protos that are children of a proto, only take effect after saving and reloading world


`@Stefania Pedrazzi`  Hi again. I've done some more testing, and the problem with translating and rotating protos seem to be more general

##### Stefania Pedrazzi [cyberbotics] 07/29/2020 09:19:17
Yes, you can open an issue here [https://github.com/cyberbotics/webots/issues/new/choose](https://github.com/cyberbotics/webots/issues/new/choose) and add your world and PROTO files.

##### Robsicky 07/29/2020 09:18:43
I can post my "MyRobot" code? Might be doing something wrong?


R2020a

##### Stefania Pedrazzi [cyberbotics] 07/29/2020 09:17:43
Which version of Webots are you using?

##### Robsicky 07/29/2020 09:17:24
> Yes, this test is to check if there are some internal issues handling nested PROTO nodes.

`@Stefania Pedrazzi` It works when using base Robot instead of my Robot PROTO

##### David Mansolino [cyberbotics] 07/29/2020 09:08:24
Did you follow the Webots tutorial first?

[https://cyberbotics.com/doc/guide/tutorial-1-your-first-simulation-in-webots](https://cyberbotics.com/doc/guide/tutorial-1-your-first-simulation-in-webots)

##### tangdan 07/29/2020 09:08:01
I think I need a more detailed guide.


I have read it,but i don't know how to run the example world.

##### David Mansolino [cyberbotics] 07/29/2020 09:06:54
And here is an example in C: [https://github.com/cyberbotics/webots/blob/develop/projects/robots/k-team/khepera1/controllers/tcpip/tcpip.c](https://github.com/cyberbotics/webots/blob/develop/projects/robots/k-team/khepera1/controllers/tcpip/tcpip.c)


[https://cyberbotics.com/doc/guide/interfacing-webots-to-third-party-software-with-tcp-ip](https://cyberbotics.com/doc/guide/interfacing-webots-to-third-party-software-with-tcp-ip) ?

##### tangdan 07/29/2020 09:05:43
Do you have some guide for "Interfacing Webots to Third Party Software with TCP/IP"?

##### Stefania Pedrazzi [cyberbotics] 07/29/2020 09:03:29
Yes, this test is to check if there are some internal issues handling nested PROTO nodes.

##### Robsicky 07/29/2020 09:01:49
OkiðŸ‘

MyRobot is built on Robot though. And my python code is able to connect to it just as with a base Robot node. But will test now

##### Stefania Pedrazzi [cyberbotics] 07/29/2020 08:59:05
`@Robsicky` could you please try to use a base `Robot` node instead of the `MyRobot` PROTO and check if moving `Axis1` works correctly?

##### Robsicky 07/29/2020 08:56:49
If I change the rotation (or translation) field, then save and reload, the rotation (or translation) happens


My code is able to rotate "Axis1" (change the field in the image), but the actual "Axis1" proto (built on a solid) does not rotate



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/737956342983295026/unknown.png)
%end


Hi. I'm trying to build my robot using protos, but have some trouble with translating and rotating the proto nodes.

##### Stefania Pedrazzi [cyberbotics] 07/29/2020 08:27:14
You're welcome

##### watchdogs132 07/29/2020 08:26:32
Thanks a lot !


`@Stefania Pedrazzi`  Brilliant . Changing the max torque does the trick . Actually , I did do that earlier , but didn't restart  Webots . Note to self : Always restart Webots after making changes haha !

##### Stefania Pedrazzi [cyberbotics] 07/29/2020 08:20:10
Did you check that your motor has enough torque to move the endPoint? I would suggest you to try to increase the `maxTorque` and see if the solid and the tracks move


You should define the bounding object of the Track in the `Track.boundingObject` field.

But even without bounding object if you move the joint all the descendant nodes should be moved accordingly

##### watchdogs132 07/29/2020 08:16:43
> Yea , basically I created a solid node as the endpoint node , then put the 3 nodes in the child section . But in the bounding object ,I am only able to select the shape node , as a result only the outer boundary of the arms is rotating , the tracks and wheels are remaining intact . Maybe I'm doing something wrong , I will have a look again .



`@watchdogs132` As you can see , I have created a solid node as the end point node . Inside of the child node , I have placed the shape node and two track nodes . But in the bounding object I am only able to select the shape node . When I move the motor "rot1" , nothing happens .
%figure
![Rotating.png](https://cdn.discordapp.com/attachments/565154703139405824/737946698680369212/Rotating.png)
%end

##### Alex Nie 07/29/2020 07:58:33
> You're welcome

`@David Mansolino` Webots is really too smart. I just discovered that if there are multiple external controllers controlling multiple robots, then all the robots will only start to move when all the controllers are activated. So there is no need to write a program to control the car and start moving. This feature is greatï¼ðŸ‘

##### Stefania Pedrazzi [cyberbotics] 07/29/2020 06:42:00
Then, it is enough to define the boundingObject shape directly in the Track node, no need to defined again the boundingObject of the Track in the parent Solid node.


Not sure to understand what do you mean.

All the nodes in the endPoint will be rotated when the joint moves, independently if their shape is defined in the bounding object.

##### watchdogs132 07/29/2020 06:38:19
Yea , basically I created a solid node as the endpoint node , then put the 3 nodes in the child section . But in the bounding object ,I am only able to select the shape node , as a result only the outer boundary of the arms is rotating , the tracks and wheels are remaining intact . Maybe I'm doing something wrong , I will have a look again .

##### Stefania Pedrazzi [cyberbotics] 07/29/2020 06:36:30
`@watchdogs132` you can add a parent Solid node and put the Solid, Track and Track node in the children field

##### watchdogs132 07/29/2020 06:35:25
Is there anyway to have the endpoint node of a rotational motor as the combination of three nodes : shape ,track and track ?.  Right now , I have to create three hinge joint nodes for the above mentioned nodes .

##### David Mansolino [cyberbotics] 07/29/2020 06:29:00
You're welcome

##### Alex Nie 07/29/2020 06:28:49
Thank you for your answer.

##### David Mansolino [cyberbotics] 07/29/2020 06:27:29
[https://cyberbotics.com/doc/guide/running-extern-robot-controllers#single-simulation-and-multiple-extern-robot-controllers](https://cyberbotics.com/doc/guide/running-extern-robot-controllers#single-simulation-and-multiple-extern-robot-controllers)

##### Alex Nie 07/29/2020 06:23:39
`@David Mansolino` If there are multiple robots, and each robot has an external controller, how can these robots start simulation at the same time?ðŸ˜Š


emmmm..ok, thank you.

##### David Mansolino [cyberbotics] 07/29/2020 06:05:44
> `@David Mansolino` Do you know how put multi external controllers into the same folder? I found that every time I create a new external controller, I have to repeat the work of pycharm configuration environment according to the instructions of [https://www.cyberbotics.com/doc/guide/using-your-ide?tab-language=python](https://www.cyberbotics.com/doc/guide/using-your-ide?tab-language=python).

Hi `@Alex Nie`, unfortunately not, I am sorrry I am not very familliar with PyCharm

##### Alex Nie 07/29/2020 06:04:55
`@David Mansolino` Do you know how put multi external controllers into the same folder? I found that every time I create a new external controller, I have to repeat the work of pycharm configuration environment according to the instructions of [https://www.cyberbotics.com/doc/guide/using-your-ide?tab-language=python](https://www.cyberbotics.com/doc/guide/using-your-ide?tab-language=python).

##### David Mansolino [cyberbotics] 07/29/2020 05:39:14
> Alright, will try that. Anyone else been able to? I can't imagine no one else has tried..

`@TJR` yes, the controller of the mavic is extremely simple and therefore might not be very stable. But yes some people did create an improved version of it, for example:

  - [https://www.youtube.com/watch?v=vXC9\_T7ekWE&feature=youtu.be](https://www.youtube.com/watch?v=vXC9_T7ekWE&feature=youtu.be)

  - [https://github.com/PrasadNR/Webots-Quadcopter-Python-SITL](https://github.com/PrasadNR/Webots-Quadcopter-Python-SITL)

##### TJR 07/28/2020 19:05:31
Alright, will try that. Anyone else been able to? I can't imagine no one else has tried..

##### Simon Steinmann [Moderator] 07/28/2020 19:01:54
the issue might also be with your controllers


perhaps try lowering your timestep length

##### TJR 07/28/2020 19:00:35
hey so how come the mavic is so slow and unstable? I've tried tweaking it to better sim a more agile racing or freestyle quadcopter and no matter what values or how I try to tweak the algo I just can't seem to get it to be stable.... always just wigs out and flips, is it cause of user error or just the physics and engine isn't capable or made for that ?

##### Simon Steinmann [Moderator] 07/28/2020 16:57:52
you can disable the physics of the base node

##### (,-*-) 07/28/2020 16:48:26
Hi, how can I pin robot to a table, or any other solid?

##### Simon Steinmann [Moderator] 07/28/2020 14:29:15
you can always add a existing model of a robotic arm and convert it into base nodes and see how it should be set up

##### watchdogs132 07/28/2020 14:28:22
Thank you . The problem seems to be in my model setup .

##### Simon Steinmann [Moderator] 07/28/2020 14:23:38
to make sure the issue is your model setup, not the controller


try selecting void controller and doubleclicking your robot and manually changing the motor value there

##### watchdogs132 07/28/2020 14:22:39
`@Simon Steinmann`  Nah , it's using my own controller .

##### Simon Steinmann [Moderator] 07/28/2020 14:16:32
is the simulation running with a void controller?

##### watchdogs132 07/28/2020 14:15:27
Hello . I am trying to move my bot's arms but upon executing the code nothing happens . I have added a hinge joint node with rotational motor , inside of that I have set the anchor and axis to my desired location . In the code  , I have used the set position function to say rotate the arm by 90 degrees . In spite of all this , nothing seems to happen . Where am I going wrong ?

##### David Mansolino [cyberbotics] 07/28/2020 13:39:57
You're welcome

##### Alex Nie 07/28/2020 13:34:00
> Thank you for your help. ðŸ˜ƒ

##### David Mansolino [cyberbotics] 07/28/2020 13:22:46
> Just out of curiosity, can one have a wolrd with multiple bots, and use seperate extern controllers?

`@Simon Steinmann` [https://cyberbotics.com/doc/guide/running-extern-robot-controllers#single-simulation-and-multiple-extern-robot-controllers](https://cyberbotics.com/doc/guide/running-extern-robot-controllers#single-simulation-and-multiple-extern-robot-controllers)


Oh ok, in that case you can use the Robot 'customData' field instead which can be changed at rutime and retrieved from the controller using the 'wb\_robot\_get\_custom\_data' function: [https://cyberbotics.com/doc/reference/robot#wb\_robot\_get\_custom\_data](https://cyberbotics.com/doc/reference/robot#wb_robot_get_custom_data)

##### Alex Nie 07/28/2020 13:20:16
> `@Alex Nie` why controllerArgs is not working ?

`@David Mansolino` ontrollerArgs is good, but it cannot be edited while the program is running, eh. . It should not be changed during the running of the program, right?

##### Olivier Michel [cyberbotics] 07/28/2020 13:19:43
Sure.

##### Simon Steinmann [Moderator] 07/28/2020 13:19:29
Just out of curiosity, can one have a wolrd with multiple bots, and use seperate extern controllers?

##### David Mansolino [cyberbotics] 07/28/2020 13:15:34
> `@David Mansolino` Thank you very much for your previous help. But I regret to find that controllerArgs cannot satisfy the function I want to achieve. So I want to ask, is there any other way to use a script to control the movement of multiple robots, and the movement instructions of each robot are different. I want to use webots to simulate formation control. I want to use webots to simulate formation control based on deep reinforcement learning, so I must use a script file to control the movement of multiple robots. QAQ...

`@Alex Nie` why controllerArgs is not working ?

##### chenpixx 07/28/2020 13:14:56
> `@chenpixx` this is normal, you node is using ONLY a Transform node and no Solid node, so it can't be grasped by a robot.

> I would strongly recommend following (again) tutorial 1-6.

`@David Mansolino`  thanks i will work.

##### David Mansolino [cyberbotics] 07/28/2020 13:14:54
> `@David Mansolino` I think I've found the root to the problem (with the touch sensor, bounding objects and PROTO). Everything works fine as long as my touch sensor is higher up than every bounding object that belongs to the PROTO when the simulation starts (or when the PROTO is imported). The problem occurs when a bounding object from the PROTO-node is being spawned above the touch sensor.. (I've also written this in the bug report)

`@EPIC` ok thank you for the precise report!

##### Alex Nie 07/28/2020 13:14:41
`@David Mansolino` Thank you very much for your previous help. But I regret to find that controllerArgs cannot satisfy the function I want to achieve. So I want to ask, is there any other way to use a script to control the movement of multiple robots, and the movement instructions of each robot are different. I want to use webots to simulate formation control. I want to use webots to simulate formation control based on deep reinforcement learning, so I must use a script file to control the movement of multiple robots. QAQ...

##### David Mansolino [cyberbotics] 07/28/2020 13:14:24
> `@David Mansolino` thanks for getting back to me, unfortunately setting the visibility to false will remove the mesh/object, but not the emitted light from the PointLight protos.

`@Shadow` oh yes your right, in that case unfortunately I don't see any other solution.

##### EPIC 07/28/2020 13:14:22
`@David Mansolino` I think I've found the root to the problem (with the touch sensor, bounding objects and PROTO). Everything works fine as long as my touch sensor is higher up than every bounding object that belongs to the PROTO when the simulation starts (or when the PROTO is imported). The problem occurs when a bounding object from the PROTO-node is being spawned above the touch sensor.. (I've also written this in the bug report)

##### Shadow 07/28/2020 13:13:38
`@David Mansolino` thanks for getting back to me, unfortunately setting the visibility to false will remove the mesh/object, but not the emitted light from the PointLight protos.

##### David Mansolino [cyberbotics] 07/28/2020 13:09:28
`@chenpixx` this is normal, you node is using ONLY a Transform node and no Solid node, so it can't be grasped by a robot.

I would strongly recommend following (again) tutorial 1-6.

##### Simon Steinmann [Moderator] 07/28/2020 13:05:51
windows-key (super) -> type in 'screenshot' -> start screenshot program -> take screenshot

##### chenpixx 07/28/2020 13:03:46
> `@chenpixx` the 'Transform' 'scale' field

`@David Mansolino`  ok i did it. However robot arm cant grasp. Arm move throughout the box. That is invisible. That is not real box

##### yash 07/28/2020 13:03:15
> `@yash` yes, as described in the doc, you can use the `--name=...` controller argument: [https://www.cyberbotics.com/doc/guide/using-ros#using-the-standard-ros-controller](https://www.cyberbotics.com/doc/guide/using-ros#using-the-standard-ros-controller)

`@David Mansolino`  but where exactly can I find the ROS controller argument - - name = <robot\_unique\_name>?

##### EPIC 07/28/2020 12:57:45
`@chenpixx` Sorry, I must have misunderstood the problem

##### chenpixx 07/28/2020 12:48:53
> True. As long as the physic node is on, it will always fall down (unless you set gravity to 0). Do you not want it to fall down at all, or to fall on the table instead of the ground?

> An alternative way is to turn physics off, and do a pure kinematic simulation. You can use Supervisor to simulate grasping, though this require some work..

`@EPIC`  what is purer kinematic solution. This is just a box.

##### David Mansolino [cyberbotics] 07/28/2020 12:46:01
> Hello !  Webots displays the a new robotâ€™s unique name every time I start it , so is there way to fix the name so that everytime the same name is shown by Webots  for programming standard ROS controller ?

`@yash` yes, as described in the doc, you can use the `--name=...` controller argument: [https://www.cyberbotics.com/doc/guide/using-ros#using-the-standard-ros-controller](https://www.cyberbotics.com/doc/guide/using-ros#using-the-standard-ros-controller)

##### yash 07/28/2020 12:42:55
Hello !  Webots displays the a new robotâ€™s unique name every time I start it , so is there way to fix the name so that everytime the same name is shown by Webots  for programming standard ROS controller ?

##### chenpixx 07/28/2020 12:40:36
> True. As long as the physic node is on, it will always fall down (unless you set gravity to 0). Do you not want it to fall down at all, or to fall on the table instead of the ground?

> An alternative way is to turn physics off, and do a pure kinematic simulation. You can use Supervisor to simulate grasping, though this require some work..

`@EPIC`  i want that it is a normal box solid, it is on the table. By robot , i will grasp.  If Robot cant grasp , it may fall on the table.as lifting  , It is normal. (Ps i am using supervisor) . Now there is no supervisor. I just see  it on the table with gravity.

##### David Mansolino [cyberbotics] 07/28/2020 12:06:03
> Hi, I was wondering if there was a way for lights/point lights to emit some sort of colour/light but you can't see that light in the map but light sensors can still detect it. If there is a better way to do this with other sensors/nodes let me know. Thanks.

`@Shadow` you might use the 'wb\_supervisor\_node\_set\_visibility' Supervisor API function to hide that light to the viewpoint and cameras: [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_set\_visibility](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_set_visibility)


> Should i change which field?

`@chenpixx` the 'Transform' 'scale' field

##### EPIC 07/28/2020 11:52:18
True. As long as the physic node is on, it will always fall down (unless you set gravity to 0). Do you not want it to fall down at all, or to fall on the table instead of the ground?

An alternative way is to turn physics off, and do a pure kinematic simulation. You can use Supervisor to simulate grasping, though this require some work..

##### chenpixx 07/28/2020 11:48:55
> If you don't want it to fall at all (not even on the table), I guess you could just sett "physics" to NULL for the box

`@EPIC`  but the robot will grasp it.  I think that physic is necessaary.

##### EPIC 07/28/2020 11:47:26
`@Shadow` Have you tried "recognitionColors" on a Solid node? ([https://cyberbotics.com/doc/reference/solid](https://cyberbotics.com/doc/reference/solid))


If you don't want it to fall at all (not even on the table), I guess you could just sett "physics" to NULL for the box


`@chenpixx` Is the origo of the box below the table?

##### chenpixx 07/28/2020 11:21:58
> Should i change which field?

`@chenpixx`  do you have another idea?

##### Shadow 07/28/2020 11:09:39
Hi, I was wondering if there was a way for lights/point lights to emit some sort of colour/light but you can't see that light in the map but light sensors can still detect it. If there is a better way to do this with other sensors/nodes let me know. Thanks.

##### chenpixx 07/28/2020 10:26:22
Should i change which field?


I. Changed 1  1 1 the size field


> Then change the 'size' field of the box, and not the 'scale' one of the transform

`@David Mansolino`   Inany case, falls down. Icant solved it

##### Alex Nie 07/28/2020 09:41:05
ðŸ‘ good answer

##### David Mansolino [cyberbotics] 07/28/2020 09:21:30
you simply need to assign a value to this field, then the controller will be started with the argument set as value and you can retrieve them like in any regular program (depending on the language you are using).


Here you will find a description of the field:

[https://www.cyberbotics.com/doc/reference/robot#field-summary](https://www.cyberbotics.com/doc/reference/robot#field-summary)

##### Alex Nie 07/28/2020 08:59:31
> One simple solution is to use the `controllerArgs` field which can be used to defines the argument sent to the controller. This way you can use the same controller for every robot, but use different arguments.

`@David Mansolino` Could you please give me a  detailed example about using controllerArgs to defines the argument sent to the controller? I could hardly find information on how to use controllerArgs on [https://www.cyberbotics.com/doc/guide/](https://www.cyberbotics.com/doc/guide/).

##### chenpixx 07/28/2020 08:50:14
Size seems correct.  10 cm 10cm 4.5 cm

##### David Mansolino [cyberbotics] 07/28/2020 08:48:28
Then change the 'size' field of the box, and not the 'scale' one of the transform

##### chenpixx 07/28/2020 08:46:21
> `@chenpixx` yes, try setting the 'scale' field to '1 1 1'.

`@David Mansolino`  in that case my box is bigger than one wanted one.

##### EPIC 07/28/2020 07:44:00
OkðŸ‘

##### David Mansolino [cyberbotics] 07/28/2020 07:43:41
Ok, in that case that might be a bug, can you please report this here:

[https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

Including a sample simulation reproducing the problem

##### EPIC 07/28/2020 07:43:29
No, the robot does not have any bounding object itself (only the touch sensor's bounding object on the end-effector).


Update: when I use "USE BEAM1" (not the transform) it works. Then I will detect both the previously boxes aswell as the beam. But when I use the transform instead (and not the last line), it won't detect either the boxes or thea beam.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/737575621479366676/unknown.png)
%end

##### David Mansolino [cyberbotics] 07/28/2020 07:41:32
You mean it overlaps? Does the touchsensor bounding object overlaps with another bounding object of the same robot?

##### EPIC 07/28/2020 07:29:00
`@David Mansolino`  I'm using a Touch Sensor to detect collision with other objects. I have some boxes in the world already, where I receive a signal when their bounding objects are overlapping with the touch sensor. But when I add my PROTO to the world, the Touch Sensor will not send out/I won't receive signals when the Touch Sensor overlap with the same boxes as previously.

##### David Mansolino [cyberbotics] 07/28/2020 07:09:55
You're welcome

##### Alex Nie 07/28/2020 07:09:43
ðŸ‘ I truly appreciate your timely help.

##### David Mansolino [cyberbotics] 07/28/2020 06:31:27
One simple solution is to use the `controllerArgs` field which can be used to defines the argument sent to the controller. This way you can use the same controller for every robot, but use different arguments.

##### Alex Nie 07/28/2020 06:10:50
I would like to ask, how can I use one controller to control multiple robots and give different instructions to multiple robots. For example, I have two pioneer3dx (as shown in the figure below), and I want to use one controller to control them. One of them moves to the left and the other moves to the right. So how should I write the controller? Is there any kind person to answer? thank you very much! QAQ
%figure
![2020-07-28_141035.png](https://cdn.discordapp.com/attachments/565154703139405824/737552633598050364/2020-07-28_141035.png)
%end

##### David Mansolino [cyberbotics] 07/28/2020 05:55:58
> Hi! I'm trying to get the bounding object to work for my PROTO, but can't get it to work (only some simple instances work, e.g. when I add a simple box as bounding object). I did some testing with the PROTO-code for the "Simple Chair" - the bounding object worked as long as Physics were turned on, but not when I turned it off..

`@EPIC` what do you mean exactly by it doesn't work when physics is disabled? What is the behavior?


> Do you an idea what ehat is problem? Box falls down.

`@chenpixx` yes, try setting the 'scale' field to '1 1 1'.


Hi `@Alex Nie`

##### Alex Nie 07/28/2020 05:51:58
Hello everyoneðŸ˜ƒ

##### chenpixx 07/27/2020 21:25:59
Do you an idea what ehat is problem? Box falls down.



%figure
![image0.jpg](https://cdn.discordapp.com/attachments/565154703139405824/737420452183539762/image0.jpg)
%end

##### m0narch 07/27/2020 19:06:13
motinan

##### watchdogs132 07/27/2020 18:36:05
Hello ,something weird is happening with my tracked robot when it climbs a staircase. In every iteration , my bot seems to stop climbing at the 14th step , before and after that particular step everything goes smoothly . This only happens during ascending .

##### Simon Steinmann [Moderator] 07/27/2020 13:40:43
`@chenpixx` ubuntu has a screenshot software included

##### EPIC 07/27/2020 13:20:58
(I'm using the Touch Sensors "bumper" type, which should not require physics to work)


Hi! I'm trying to get the bounding object to work for my PROTO, but can't get it to work (only some simple instances work, e.g. when I add a simple box as bounding object). I did some testing with the PROTO-code for the "Simple Chair" - the bounding object worked as long as Physics were turned on, but not when I turned it off..

##### David Mansolino [cyberbotics] 07/27/2020 12:50:51
You're welcome

##### Purple Pachyderm 07/27/2020 12:50:41
Thank you

##### yash 07/27/2020 12:41:23
> `@yash` if you want Cyberbotics provoide professional consulting and can write/correct the code for you: [https://www.cyberbotics.com/#plans](https://www.cyberbotics.com/#plans)

`@David Mansolino`  alright, thank you ðŸ˜€

##### David Mansolino [cyberbotics] 07/27/2020 12:40:34
It is in a `Transform` node, so it will return the position respectively to the transformation.

##### Purple Pachyderm 07/27/2020 12:39:40
The GPS is defined like this, it should be centered on the robot right ?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/737288095686459392/unknown.png)
%end

##### David Mansolino [cyberbotics] 07/27/2020 12:38:13
> `@David Mansolino`  Yes , but due to some strange reason print(ds0\_val) doesnâ€™t change its value when the robot is near the wall , so the robot doesnâ€™t stop! 

> So further I checked using â€˜rostopic echoâ€™ and it does change here ðŸ˜…

`@yash` if you want Cyberbotics provoide professional consulting and can write/correct the code for you: [https://www.cyberbotics.com/#plans](https://www.cyberbotics.com/#plans)


> On the left the translation of robot0 and on the right the position by GPS of the robot0

`@Purple Pachyderm` maybe the GPS is not exactly at the center of the robot.

##### yash 07/27/2020 12:36:38
> `@yash` your code looks globally correct.

`@David Mansolino`  Yes , but due to some strange reason print(ds0\_val) doesnâ€™t change its value when the robot is near the wall , so the robot doesnâ€™t stop! 

So further I checked using â€˜rostopic echoâ€™ and it does change here ðŸ˜…

##### Purple Pachyderm 07/27/2020 12:36:36
On the left the translation of robot0 and on the right the position by GPS of the robot0


Not delayed



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/737287048360362034/unknown.png)
%end

##### David Mansolino [cyberbotics] 07/27/2020 12:30:45
>  In the script below print(ds0\_val) displays the distance sensor value but donot change when robot is near the wall, because the robot has to stop but it hits the wall.

> `@David Mansolino`  if you could help regarding this !

`@yash` your code looks globally correct.

##### Purple Pachyderm 07/27/2020 12:29:47
I can check


It is  hard to tell for the 1 step delay


No the GPS doesn't have noise

##### David Mansolino [cyberbotics] 07/27/2020 12:28:48
> Hello, I am observing small variation between the translation of my robot in webot and the position returned by the GPS. Do you know what could cause that ?

`@Purple Pachyderm` does you GPS have noise? If not, can you identify that the position has one step delay?

##### Purple Pachyderm 07/27/2020 12:27:57
Hello, I am observing small variation between the translation of my robot in webot and the position returned by the GPS. Do you know what could cause that ?

##### yash 07/27/2020 10:57:12

> **Attachment**: [ds\_subscriber.py](https://cdn.discordapp.com/attachments/565154703139405824/737262312020508722/ds_subscriber.py)


> Okay but then if I donâ€™t call it the distance sensor value donot change when robot is near the wall. So it hits the wall and doesnâ€™t stop. 

> But the values do change when I see it in robot window and â€˜rostopic echoâ€™

 In the script below print(ds0\_val) displays the distance sensor value but donot change when robot is near the wall, because the robot has to stop but it hits the wall.

`@David Mansolino`  if you could help regarding this !

##### Robsicky 07/27/2020 10:39:38
And it works! Thanks. There was a bug elsewhere in my code.

##### David Mansolino [cyberbotics] 07/27/2020 10:33:30
Yes exactly

##### Robsicky 07/27/2020 10:31:54
Like this? (the transform is inside my new proto)

```
Transform {
   
    children [
         my_proto {
         
         }
    ]
}
```

##### David Mansolino [cyberbotics] 07/27/2020 10:29:03
You can use it like any other regular node.

##### Robsicky 07/27/2020 10:28:18
But I can't seem to find anything on using a proto inside a new proto


I've read the manual at [https://cyberbotics.com/doc/reference/proto](https://cyberbotics.com/doc/reference/proto)

##### Olivier Michel [cyberbotics] 07/27/2020 10:05:57
OK, that should work, no problem. Can you please suggest more precisely where our documentation could be improved to clarify the doubt you had?

##### Robsicky 07/27/2020 10:05:02
Yes, I have a proto of a shape that I want to use in another proto

##### Olivier Michel [cyberbotics] 07/27/2020 10:01:16
Do you mean referring to a proto in the definition of another proto?

##### Robsicky 07/27/2020 10:00:27
Searching for documentation on it, but did not manage to find anything

##### Olivier Michel [cyberbotics] 07/27/2020 09:59:25
Yes.

##### Robsicky 07/27/2020 09:57:52
Hi. Is it possible to use protos inside protos?

##### Olivier Michel [cyberbotics] 07/27/2020 09:24:07
DLLs used by Webots R2020b:
> **Attachment**: [dlls.txt](https://cdn.discordapp.com/attachments/565154703139405824/737238885075124274/dlls.txt)


That is unfortunately difficult to determine. Did you installed any special software on your computer? Do you get any clue in the crash error message? Like it failed in a DLL? Otherwise, you may search for DLLs in your system that may be at the wrong place. I will post a list of DLLs used by Webots. Finally, the ultimate solution is to re-install Windows on your PC, install Webots and then install the other software you need, one-by-one, testing Webots after each install to determine the culprit...

##### Adriana 07/27/2020 09:14:27
`@Olivier Michel` Thanks for your reply, this information is very valuable to me! I have tried it on other computers and it can be installed successfully. Is there some way to know which dll file conflicts so that I can successfully run webots on my computer?

##### Olivier Michel [cyberbotics] 07/27/2020 08:23:25
`@Adriana`: can you try it on a different computer? It could be that there is some conflicting software installed on your computer causing Webots to crash... Typically such a crash may be caused by a DLL installed in your `C:\Windows\System32` folder by some third party software.

##### Adriana 07/27/2020 08:12:00
+ Webots Crash on start up 2020a-rev2-Win10

+ Hiï¼Œeverybodyï¼I have some questions about webots-2020a-rev2 on Win10.

+ Computer: win10 pro, 64 bit, 32 GB RAM, Nvidia Geforce GTX 1650 (4GB);

+ I canâ€™t open it once after installation. And the nvidia drivers are all up to date. I have tried safe mode, and also tried to install 2020a-rev1 and 2019b, and it doesn't work whether it is for the current user or all users. The installation path is also checked, and they are all English letters.+ Webots Crash on start up 2020a-rev2-Win10

+ Hiï¼Œeverybodyï¼I have some questions about webots-2020a-rev2 on Win10.

+ Computer: win10 pro, 64 bit, 32 GB RAM, Nvidia Geforce GTX 1650 (4GB);

+ I canâ€™t open it once after installation. And the nvidia drivers are all up to date. I have tried safe mode, and also tried to install 2020a-rev1 and 2019b, and it doesn't work whether it is for the current user or all users. The installation path is also checked, and they are all English letters.

##### yash 07/27/2020 08:06:24
but when i observe the values in robot window in webots and 'rostopic echo' they do change.



> **Attachment**: [ds\_subscriber.py](https://cdn.discordapp.com/attachments/565154703139405824/737219046935625838/ds_subscriber.py)


> Okay but then if I donâ€™t call it the distance sensor value donot change when robot is near the wall. So it hits the wall and doesnâ€™t stop. 

> But the values do change when I see it in robot window and â€˜rostopic echoâ€™

`@yash` In the script below print(ds0\_val) displays the distance sensor value but donot change when robot is near the wall, because the robot has to stop but it hits the wall.

##### David Mansolino [cyberbotics] 07/27/2020 07:55:09
> Ah, thanks again. Does the "children IS seatExtensionSlot" has to be inside a Transform-node? (I tried to just put "children IS seatExtensionSlot" on its own, but that didn't work)

`@EPIC` yes, or any other node having a 'children' field.

##### EPIC 07/27/2020 07:53:55
Ah, thanks again. Does the "children IS seatExtensionSlot" has to be inside a Transform-node? (I tried to just put "children IS seatExtensionSlot" on its own, but that didn't work)

##### yash 07/27/2020 07:53:49
Okay but then if I donâ€™t call it the distance sensor value donot change when robot is near the wall. So it hits the wall and doesnâ€™t stop. 

But the values do change when I see it in robot window and â€˜rostopic echoâ€™

##### David Mansolino [cyberbotics] 07/27/2020 07:50:24
> Is it necessary to use and call   /robot/time\_step service  for programming in  rospy script while using Standard ROS controller .? 

> Or the ROS controller by default does the time steps  when connected with Webots .?

> 

> Because I am facing an issue that is  if I manually donot call /robot/time\_step service in the python script the sensor values donot change  when the robot come near the wall . I use print() command to observe values.

> But when I use â€˜rostopic echoâ€™ and see the values when the robot comes near the wall they do change.

`@yash` No if you never call it, simulation will run on its own.

##### yash 07/27/2020 07:49:38
Is it necessary to use and call   /robot/time\_step service  for programming in  rospy script while using Standard ROS controller .? 

Or the ROS controller by default does the time steps  when connected with Webots .?



Because I am facing an issue that is  if I manually donot call /robot/time\_step service in the python script the sensor values donot change  when the robot come near the wall . I use print() command to observe values.

But when I use â€˜rostopic echoâ€™ and see the values when the robot comes near the wall they do change.

##### David Mansolino [cyberbotics] 07/27/2020 07:49:31
Here is an example with the `seatExtensionSlot` field: [https://cyberbotics.com/doc/reference/proto-example](https://cyberbotics.com/doc/reference/proto-example)

##### EPIC 07/27/2020 07:48:26
Hi! I'm trying to make a PROTO-node, but I'm struggling to add a children node (so that I can manually add nodes into the children field later on, in Webots). I haven't found any examples of it either.. any tips? ðŸ™‚

##### Lifebinder (tsampazk) 07/27/2020 07:37:18
`@Stefania Pedrazzi` Yes it certainly is a weird use case! Thanks

##### Stefania Pedrazzi [cyberbotics] 07/27/2020 05:42:08
`@Lifebinder (tsampazk)` thank you for reporting this crash, we will look at it. Note removing a Supervisor node from its controller doesn't seem a very good practice. We will fix this crash but I'm not sure that this would be feasible, otherwise we would simply prevent it.


`@watchdogs132` I would first suggest you to try on the latest nightly build of R2020b to check if the problem has not already been fixed. Then if you can still reproduce it, you should open an issue here describing the procedure to reproduce it: [https://github.com/cyberbotics/webots/issues/new/choose](https://github.com/cyberbotics/webots/issues/new/choose)

##### watchdogs132 07/26/2020 11:31:50
Webot crashes on modifying Texture Animation  . How to fix this ? . Version R2020A Revsion 1

##### Laojiang 07/26/2020 09:22:43
> `@Laojiang` You can go to Menu -> Overlays -> Camera Devices

`@Lifebinder (tsampazk)` thank you, I have solved it.

##### Lifebinder (tsampazk) 07/26/2020 09:21:58
`@Laojiang` You can go to Menu -> Overlays -> Camera Devices

##### Laojiang 07/26/2020 01:21:42
I closed the display window of the camera, how do I get it backï¼Ÿ

##### Lifebinder (tsampazk) 07/25/2020 21:10:58
Hello folks, i've noticed that if you initialize a supervisor and then do supervisor.getSelf().remove() crashes Webots. I searched here and in github and didn't find something related. Also tried the latest nightly build and still crashed.

##### amitsaini 07/25/2020 10:59:45
ok `@Olivier Michel` thank you!

##### Olivier Michel [cyberbotics] 07/25/2020 10:20:46
Simply stop the motors and perform a robot step with the waiting time.

##### amitsaini 07/25/2020 08:39:11
Hello can somebody help me! :)

I am trying to port my Robotic Dog code from CoppeliaSim to webots. In CoppeliaSim I used delay function sim.wait() to put some gap between sequences. How can i achieve similar thing in webots.

##### Simon Steinmann [Moderator] 07/24/2020 17:40:11
but it should show you how to do it in principle


you will have to adjust the names of your joints and such


yes

##### yash 07/24/2020 17:09:52
> [https://pastebin.com/PimdNrGD](https://pastebin.com/PimdNrGD)

`@Simon Steinmann`  just to be sure , this is a custom ROS controller right .?


Sure thanks , will check it out ðŸ‘

##### Simon Steinmann [Moderator] 07/24/2020 15:31:36
(ignore line 28, forgot to delete it


shows how to initialize motors and sensors and publish the clock


[https://pastebin.com/PimdNrGD](https://pastebin.com/PimdNrGD)


I also reduced one of my controllers to some of the basics. Perhaps that shows how to initialize some things and go about it


you can use the universal\_ros controller as a guideline

##### yash 07/24/2020 15:18:51
But thank you for your effort and help  ðŸ‘ðŸ˜…


Yes ðŸ˜…, ðŸ‘

##### Simon Steinmann [Moderator] 07/24/2020 15:13:58
okay


ahhhh

##### yash 07/24/2020 15:13:42
> I mean you can create your own ros controller, interacting directly with webots

`@Simon Steinmann`  yes ! Thatâ€™s what Iâ€™ve done. 



I just wanted an example code of ros.py that directly interacts with Webots , which is complex with multiple sensors and actuators involved , so that I can understand the code structure

##### Simon Steinmann [Moderator] 07/24/2020 15:10:33
I'm not sure what exactly you are asking


I mean you can create your own ros controller, interacting directly with webots

##### yash 07/24/2020 15:09:35
I am familiar with how to work with ros standard controller by using .......the problem is that when multiple sensors are used so I face some issue as the complexity rises due to increase in the number of sensors 

So thatâ€™s why wanted some example code done in python to see its control flow and structure which is a bit complex

##### Simon Steinmann [Moderator] 07/24/2020 15:08:24
import rospy

from webots\_ros.srv import set\_float, set\_floatRequest

rospy.init\_node('my\_controller') 



motor1 = rospy.ServiceProxy('/UR10e\_3208\_simon\_Legion\_Y540/shoulder\_pan\_joint/set\_position', set\_float) 

request = set\_floatRequest()



request.value = 1.0

motor1(request)



-----------------------

this is the sample code, in case you want to copy it


please use a screenshot program. just press win-key, and type screenshot

##### yash 07/24/2020 15:06:37
Yes this is what I get
%figure
![image0.jpg](https://cdn.discordapp.com/attachments/565154703139405824/736237915473969172/image0.jpg)
%end

##### Simon Steinmann [Moderator] 07/24/2020 15:04:34
3. call services from your own script like so
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/736237398798893136/unknown.png)
%end


run rosservice list
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/736237230619754556/unknown.png)
%end


2. select ros as conttroller in webots
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/736237055889113118/unknown.png)
%end


1. open terminal and run 'roscore'


I just checked again, and you mainly interact through services. Do you know how to call services from rospy?

##### yash 07/24/2020 14:47:45
> if you run your simulation with the standard ros controller, every motor and sensor will get it's own topics. You can check these by running 'rostopic list', 'rosnode list' and 'rosservice list'

`@Simon Steinmann`  yes this is what exactly I am doing ....... all the topics and services are already available since I am using the Standard ros controller , But I wanted some similar examples because when the complexity of my code increases I face some issues


No custom made world

##### Simon Steinmann [Moderator] 07/24/2020 14:42:26
`@yash` are you using an example world?

##### David Mansolino [cyberbotics] 07/24/2020 14:40:34
I think what `@yash` is looking for is an example of a ros node written in Python that communicates with the default C++ Webots ROS controller.

##### Simon Steinmann [Moderator] 07/24/2020 14:39:50
with ros, every node is independant and can run in either python or c++.


create your own little python script, where you for example change the position of a motor by publishing to the appropiate topic


you can then interact with these through ros


if you run your simulation with the standard ros controller, every motor and sensor will get it's own topics. You can check these by running 'rostopic list', 'rosnode list' and 'rosservice list'

##### yash 07/24/2020 14:37:10
I didnâ€™t understand exactly ! If you may elaborate it would be great `@Simon Steinmann`

##### Simon Steinmann [Moderator] 07/24/2020 14:33:52
`@yash` you can run the c++ roscontroller, but then interact with it through your own python scripts

##### yash 07/24/2020 13:44:57
Oh alright !  no problem will figure something out...

##### David Mansolino [cyberbotics] 07/24/2020 13:44:34
Unfortunately not for ROS1, we have some but only for ROS2

##### yash 07/24/2020 13:44:08
Yes ðŸ˜… ! Thatâ€™s why asked whether if python examples are available for the same

##### David Mansolino [cyberbotics] 07/24/2020 13:43:29
Unfortunately, we have only C++ example of what you want to do.


Oh yes you're right, wrong link

##### yash 07/24/2020 13:42:14
Yes but in this case itâ€™s an example for custom ROS controller

##### David Mansolino [cyberbotics] 07/24/2020 13:40:42
Ok, here is a simple example in that case: [https://github.com/cyberbotics/webots/blob/develop/projects/languages/ros/webots\_ros/scripts/ros\_python.py](https://github.com/cyberbotics/webots/blob/develop/projects/languages/ros/webots_ros/scripts/ros_python.py)

Used together with this launch file:

[https://github.com/cyberbotics/webots/blob/develop/projects/languages/ros/webots\_ros/launch/webots\_ros\_python.launch](https://github.com/cyberbotics/webots/blob/develop/projects/languages/ros/webots_ros/launch/webots_ros_python.launch)

##### yash 07/24/2020 13:39:27
Want to create a ROS node with standard ROS  controller

##### David Mansolino [cyberbotics] 07/24/2020 13:38:33
Do you want to create a ros node and communicate with the Webots ros standard controller, or write your own Python Webots ROS controller?


Hi!

##### yash 07/24/2020 13:37:11
Hello !

Are there any ROS standard controller examples using python available for reference ......and also any examples of how to synchronise the simulation with ROS node using - - synchronise argument .

##### David Mansolino [cyberbotics] 07/24/2020 13:16:53
You're welcome

##### mbusy 07/24/2020 13:07:13
`@David Mansolino` Thanks!

##### David Mansolino [cyberbotics] 07/24/2020 13:00:10
Hi, it is safer to use the `wb_supervisor_world_reload` as this completely recreates the world from scratch, however, in most of the cases the ``wb\_supervisor\_simulation\_reset``function will be enough.

##### mbusy 07/24/2020 12:47:26
Hello, I was looking at the conditions to make the simulation deterministic ([https://cyberbotics.com/doc/guide/modeling#how-to-make-replicabledeterministic-simulations](https://cyberbotics.com/doc/guide/modeling#how-to-make-replicabledeterministic-simulations)), regarding the first item (Each simulation must be restarted either by pushing the Reload button, or by using the wb\_supervisor\_world\_reload function, or by restarting Webots), can `wb_supervisor_simulation_reset` be used?

##### Simon Steinmann [Moderator] 07/24/2020 10:25:28
yes!

##### Olivier Michel [cyberbotics] 07/24/2020 10:24:38
Yes, `@David Mansolino` proposed this here: [https://github.com/cyberbotics/webots/issues/1992](https://github.com/cyberbotics/webots/issues/1992). Would that suit your need?

##### Simon Steinmann [Moderator] 07/24/2020 10:23:44
that would actually be really nice


or having an addition in supervisor like:

node\_get\_from\_device\_handle

##### Olivier Michel [cyberbotics] 07/24/2020 10:22:42
I see.

##### Simon Steinmann [Moderator] 07/24/2020 10:19:56
but not without major hassle. Would be nice to take your motor handle like:

motor1 = robot.getMotor('motor1')

and then do something like

motor1.getControlPID()

##### watchdogs132 07/24/2020 10:19:03
> `@David Mansolino`  I want that , that's possible in this picture too . But look at the offset ,I want the center of the 3 axis to be at the center of the wheel .

`@watchdogs132`  As it turns out , the origin wasn't aligned with the object in the solidworks model . Aligning the origin and then importing in Webots did the trick .

##### Olivier Michel [cyberbotics] 07/24/2020 10:17:20
You can do this from the supervisor.

##### Simon Steinmann [Moderator] 07/24/2020 10:15:58
it would be nice to be able to set and get all fields of any device

##### David Mansolino [cyberbotics] 07/24/2020 10:09:31
a device handle is to be used with the stadard API, a node ref is a reference to a node in the scene tree (regardless of it beeing a device or not) to be used with the Supervisor API only.

##### Simon Steinmann [Moderator] 07/24/2020 10:04:59
still, is there a explanation of devicehandles vs nodes? I would like to read up on it and understand it properly


but thank you, I can work from here


converting the robot to basenodes seems easier ^^

##### David Mansolino [cyberbotics] 07/24/2020 10:01:40
> and how do I get the nodehandle from a device handle?

`@Simon Steinmann` you can't, you have to use a DEFNAME or something like this, there is no way to link a device handle to its node ref.

##### Simon Steinmann [Moderator] 07/24/2020 09:59:19
supervisor controller with nodes is awesome and easy to implement. I still havent fully understood device handles and what the difference to nodes is


I have run into this issue before. That is something that is not very clear


and how do I get the nodehandle from a device handle?

##### David Mansolino [cyberbotics] 07/24/2020 09:57:51
You can't from the deviceHandle, you have to get the node reference and then get it's field.

##### Simon Steinmann [Moderator] 07/24/2020 09:57:22
(with a supervisor controller)


how can I read out the field of a deviceHandle?

##### David Mansolino [cyberbotics] 07/24/2020 09:57:02
There are unfortunately no way (except using a Supervisor controller) to read them out.

##### Simon Steinmann [Moderator] 07/24/2020 09:56:56
ah okay. Is there still a way to read them out?

##### David Mansolino [cyberbotics] 07/24/2020 09:56:09
The default value are documented here: [https://cyberbotics.com/doc/reference/motor](https://cyberbotics.com/doc/reference/motor)

They are 10, 0, 0

##### Simon Steinmann [Moderator] 07/24/2020 09:53:39
What are the default values for the PID of motors, if not set manually? Is there a way to read them out?

##### chenpixx 07/24/2020 08:55:06
Thanks

##### David Mansolino [cyberbotics] 07/24/2020 08:52:51
Ok then it might indeed be a bug, can you please report this here: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

Including your world file and a procedure to reproduce the problem.

##### chenpixx 07/24/2020 08:51:49
Yes

##### David Mansolino [cyberbotics] 07/24/2020 08:51:40
But it falls trhought the table?

##### chenpixx 07/24/2020 08:51:25
Norma no?


It is on the table and touches

##### David Mansolino [cyberbotics] 07/24/2020 08:49:51
but this is normal no? Or is it touching the ground?

##### chenpixx 07/24/2020 08:48:58
D ensiry 1e+3 mass 0.5  but when i selecetd boundaryobject a box it fall down.


It falls


I added physics and mass also.

##### David Mansolino [cyberbotics] 07/24/2020 08:47:16
If you add a physics and mass, then the box dynamic is enabled and it therefore falls because of the gravity.

##### chenpixx 07/24/2020 08:43:26
> `@chenpixx` I think the reason of the solid fall down is it doesn't have right 'boundingObject' node

`@Laojiang`   I selected a standart box .

##### David Mansolino [cyberbotics] 07/24/2020 07:22:18
You should probably follow tutorial 1 to 6: [https://cyberbotics.com/doc/guide/tutorial-1-your-first-simulation-in-webots](https://cyberbotics.com/doc/guide/tutorial-1-your-first-simulation-in-webots)

##### watchdogs132 07/24/2020 07:10:22
This is a shape created in webots . Is there any way to make the axes of imported parts aligned like this ?
%figure
![3.png](https://cdn.discordapp.com/attachments/565154703139405824/736118063279112223/3.png)
%end


`@David Mansolino`  I want that , that's possible in this picture too . But look at the offset ,I want the center of the 3 axis to be at the center of the wheel .
%figure
![2.png](https://cdn.discordapp.com/attachments/565154703139405824/736116135841497128/2.png)
%end

##### David Mansolino [cyberbotics] 07/24/2020 06:43:57
> When I change that or move the axes with my cursor , the entire wheel moves .

`@watchdogs132` yes that's normal, that's not what you need?

##### watchdogs132 07/24/2020 06:36:19
When I create a shape in webots , then the axis is totally aligned , but that's not the case with imported objects


Ideally , I want the intersection of the 3 axis to be aligned with the center of the wheel


When I change that or move the axes with my cursor , the entire wheel moves .

##### David Mansolino [cyberbotics] 07/24/2020 06:34:46
You can align them by changing the `translation` and `rotation` fields of the Transform node.

##### watchdogs132 07/24/2020 06:33:54
I did that , but as you can see the axes is still not aligned .
%figure
![1.png](https://cdn.discordapp.com/attachments/565154703139405824/736108886792077343/1.png)
%end

##### David Mansolino [cyberbotics] 07/24/2020 06:24:22
I would recommend following this tutorial: 

[https://cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes](https://cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes)

[https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot](https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot)


Hi `@watchdogs132`, you have to add a Transform (or Solid) node as children of the robot node, and then put the shape in the children field of this Transform/Solid ndoe.

##### watchdogs132 07/24/2020 06:18:07
Hello . I have imported my .wrl file to .wbt using Blender ,  my bot shows up accurately on Webot ,with all the nodes as shape . But when I put one of the shape nodes (say the wheel)as the child node of a robot node , ideally I want the axes of the child node to be totally aligned with the wheel but that is not the case. There is a major offset . How can I fix this? . This offset axes problem is with all the shape nodes .

##### David Mansolino [cyberbotics] 07/24/2020 05:58:48
> `@Stefania Pedrazzi` see file here for a controller that replicates my proble: as the arm moves, the gripper falls apart (and falls completely apart in some other cases)

`@culurciello` let's continue the discussion on : [https://github.com/cyberbotics/webots/issues/1963#issuecomment-663137831](https://github.com/cyberbotics/webots/issues/1963#issuecomment-663137831)


> I was planning to run my Webots world on a github page, using the HTML and x3d file I exported from webscene option. But I am not able to figure out how should the controller code be executed. 

> `extra notes:`

> `I looked into the cross-compilation article in documentation. But I thought of confirming it beforehand here, because that process is too complex for me. `

`@ContrastNull` if you want your controller to run you have to export not the scene, but an animation and let the simulation run: [https://cyberbotics.com/doc/guide/web-animation](https://cyberbotics.com/doc/guide/web-animation)

If you want to be able to dynamically change the controller from the web scene, then this is a bit more complexe and requires in adition to GitHub pages a web server able to run Webots i nthe background: [https://cyberbotics.com/doc/guide/web-simulation](https://cyberbotics.com/doc/guide/web-simulation)


> Hey, I have a little question. I am trying to determine the dimensions and position of a recognized object bounding box. When i get size\_on\_image attribute it returns a SwigPyObject that I can't do anything with it. Any tips on how can use it to get the dimension and coordinates of the bounding box?

`@GeoCSBI` are you using the `CameraRecognitionObject.get_position_on_image()`  function? If yes, you should be able to use the return value as a simple list.

##### Laojiang 07/24/2020 00:42:46
> `@Laojiang` I moved them solid node. then I add physics physics to add mass. the solid fall down? Why? How can I correct it?

`@chenpixx` I think the reason of the solid fall down is it doesn't have right 'boundingObject' node

##### chenpixx 07/23/2020 19:15:44
> I can't use it from camera 'AttributeError: 'Camera' object has no attribute 'CameraRecognitionObject' , and I have use 'camera.getRecognitionNumberOfObjects()' to recognite objects successfully. Then what should I do next?

> And the camera node doesn't have 'CameraRecognitionObject' node.

`@Laojiang` I moved them solid node. then I add physics physics to add mass. the solid fall down? Why? How can I correct it?

##### GeoCSBI 07/23/2020 15:53:44
Hey, I have a little question. I am trying to determine the dimensions and position of a recognized object bounding box. When i get size\_on\_image attribute it returns a SwigPyObject that I can't do anything with it. Any tips on how can use it to get the dimension and coordinates of the bounding box?

##### ContrastNull 07/23/2020 15:32:48
I was planning to run my Webots world on a github page, using the HTML and x3d file I exported from webscene option. But I am not able to figure out how should the controller code be executed. 

`extra notes:`

`I looked into the cross-compilation article in documentation. But I thought of confirming it beforehand here, because that process is too complex for me. `

##### culurciello 07/23/2020 15:07:35
> This seems a problem of your controller program that requires an invalid position to the gripper motor.

> About your world, you didn't send the controller. But I moved the arm using the robot window (double click on the robot and then move the joints using the sliders) and it works correctly.

`@Stefania Pedrazzi` see file here for a controller that replicates my proble: as the arm moves, the gripper falls apart (and falls completely apart in some other cases)
> **Attachment**: [test\_gripper.py](https://cdn.discordapp.com/attachments/565154703139405824/735875768839700490/test_gripper.py)

##### David Mansolino [cyberbotics] 07/23/2020 13:36:02
You're welcome

##### Gautier A. 07/23/2020 13:35:56
Understood, thank you a lot !

##### David Mansolino [cyberbotics] 07/23/2020 13:34:24
Unfortunately not, but if you use the 'Overlays' menu, this will be saved for all the world files 'forever'.

##### Gautier A. 07/23/2020 13:33:13
Is there a way to do it automitcally when loading the world ?

##### David Mansolino [cyberbotics] 07/23/2020 13:31:36
You can close them manually using the small cross on the top right of the box. Or disable all of them at once from the 'Overlays' menu.

##### Gautier A. 07/23/2020 13:30:51
Is there a way to desactivate it by default ?


Because these camera are only used through Ros, I'm not really interested having the visualizer "open" by default



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/735851245075562506/unknown.png)
%end


When I'm opening a world with two camera, I have these two box


So it's just a little question


Hi David, thank you !

##### David Mansolino [cyberbotics] 07/23/2020 13:29:43
hi, yes sure!

##### Gautier A. 07/23/2020 13:29:10
Hello, might I ask you something ?

##### Olivier Michel [cyberbotics] 07/23/2020 10:39:08
Yes, certainly.

##### (,-*-) 07/23/2020 10:31:00
Hi,

there exist a library named aruco ([https://docs.opencv.org/trunk/d5/dae/tutorial\_aruco\_detection.html](https://docs.opencv.org/trunk/d5/dae/tutorial_aruco_detection.html)), can I simulate similar coordinate systems as described in picture?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/735806165384167434/unknown.png)
%end

##### David Mansolino [cyberbotics] 07/23/2020 07:43:56
You're welcome

##### watchdogs132 07/23/2020 07:36:53
Amazing .  Thank you so much .

##### David Mansolino [cyberbotics] 07/23/2020 07:23:40
Here is a tutorial explaining how to create a new controller and assign it to a robot: [https://cyberbotics.com/doc/guide/tutorial-1-your-first-simulation-in-webots#create-a-new-controller](https://cyberbotics.com/doc/guide/tutorial-1-your-first-simulation-in-webots#create-a-new-controller)


Ok, in that case this is probably the reason ðŸ˜‰

##### watchdogs132 07/23/2020 07:22:31
I clicked on Wizard -> Create a new Robot controller . Do I have manually assign controller to the robot ? . How do I do that ? .

##### David Mansolino [cyberbotics] 07/23/2020 07:20:32
Did you assigne the controller to your robot?

##### watchdogs132 07/23/2020 07:14:58
Thank you for your reply , but since I am completely new to Webots , before I report this , I just want to make sure that I didn't mess anything up . Here's a step by step of what I did .

Created a world -> Added a Robot node -> Child node-> Added a camera node .

I created a controller cpp file .

Here's the code :

 #include <webots/Robot.hpp>

\#include <webots/Camera.hpp>

\#define TIME\_STEP 64

using namespace webots;

int main(int argc, char **argv) {

  Robot *robot = new Robot();

  int timeStep = (int)robot->getBasicTimeStep();

  Camera *cm;

  cm=robot->getCamera("camera");

  cm->enable(TIME\_STEP);

  while (robot->step(timeStep) != -1) {

  };

  delete robot;

  return 0;

}

It compiles but the camera window is pitch black .

##### David Mansolino [cyberbotics] 07/23/2020 07:07:40
In that case it should update the image. Can youplease report this here (including the controller and world files): [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)


Yes this.

##### watchdogs132 07/23/2020 06:46:11
while (robot->step(timeStep) != -1) {}; Do you mean this ? . This is there , just left empty .

##### David Mansolino [cyberbotics] 07/23/2020 06:44:39
You need to call the robot.step otherwise simulation will not run and the sensors will not be updated.

##### watchdogs132 07/23/2020 06:35:20
`@watchdogs132` no , there is no code inside the while loop . I just want to see the display of camera or range finder .

##### David Mansolino [cyberbotics] 07/23/2020 06:05:55
> I remember reading something here about anaconda having issues. But python2 with conda works no problem

`@Simon Steinmann` yes the problem is anaconda, Webots Python API is compiled for the regular version of Webots, here is instructions how to compile for other version of Python: [https://cyberbotics.com/doc/guide/using-python#use-an-alternative-python-version](https://cyberbotics.com/doc/guide/using-python#use-an-alternative-python-version)


`@watchdogs132`, are you doing robot steps after enabling the camera?

##### Laojiang 07/23/2020 04:13:00
I have solved it.


When I use Emitter/Receiver under different robot node in different  controller,should I use 'receiver.getData()' or 'emitter.send()' in Infinite loop statement? In fact, no matter how I use the command, there are error in both emitter and receiver. How can I solve it ?

##### Axel M [Premier Service] 07/22/2020 22:42:53
> add ${WEBOTS\_HOME}/lib/controller/python3X


[https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-language=python](https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-language=python)


> I'm sure this has been asked before, but running external controller under python3 doesnt work for me. I get this error:

`@Simon Steinmann` could this be the PYTHONPATH that must be exported to python3X ?

##### Simon Steinmann [Moderator] 07/22/2020 17:03:37
I remember reading something here about anaconda having issues. But python2 with conda works no problem


`@Olivier Michel` The webots external controller keeps waiting, until a webots instance is open and ready. So I can just start both at the same time ðŸ™‚

##### watchdogs132 07/22/2020 15:52:35
> I am having trouble in implementing camera node . I created a Robot node , the child node of which is a Camera node . Now in the controller program I added these three lines

>  Camera *cm;

>   cm=robot->getCamera("camera");

>   cm->enable(TIME\_STEP);.

> The code compiles but the display window is pitch black .  Sorry if this is a noob question .

##### Olivier Michel [cyberbotics] 07/22/2020 15:33:17
I would recommend you to have a supervisor process sending some signal to your script to notify that the simulation started. You may use various IPC for that, like pipes, TCP/IP socket, files, etc.

##### Simon Steinmann [Moderator] 07/22/2020 15:29:22
Is there a way to check if the world is fully loaded? The goal is for a python script to automatically launch webots with a wolrd, run several benchmarks, close it, start up another simulation like Mujoco or Gazebo and so on


okay i'm blind ðŸ˜„ ... I just saw the listed options, not the worldfile. Thanks ðŸ™‚

##### Stefania Pedrazzi [cyberbotics] 07/22/2020 15:24:33
`@Simon Steinmann` you simply pass the world as argument `webots <my_path_to_wbt_file>`  [https://www.cyberbotics.com/doc/guide/starting-webots#command-line-arguments](https://www.cyberbotics.com/doc/guide/starting-webots#command-line-arguments)

##### Simon Steinmann [Moderator] 07/22/2020 15:23:23
how can I launch webots and automatically load a specified world? Ultimately I need to be able to do it from within my code, but a terminal command should work

##### Stefania Pedrazzi [cyberbotics] 07/22/2020 15:11:58
> `@culurciello` Am also getting this warning: WARNING: DEF ARM UR5e (PROTO) > DEF GRIPPER Pioneer3Gripper (PROTO) > DEF LIFT\_SLIDER SliderJoint > DEF LIFT Solid > DEF LEFT\_FINGER\_SLIDER SliderJoint > LinearMotor: too low requested position: -0.0845174 < 0

This seems a problem of your controller program that requires an invalid position to the gripper motor.

About your world, you didn't send the controller. But I moved the arm using the robot window (double click on the robot and then move the joints using the sliders) and it works correctly.

##### Olivier Michel [cyberbotics] 07/22/2020 15:10:19
`@GeoCSBI`: not sure how to help you. Did you modify anything to your controller or simulation?

##### GeoCSBI 07/22/2020 14:58:36
Hey guys, for some reason webots crashes when the Robot.step(duration) method is being executed. It's very weird since two days ago it was working just fine. I am running the controller code from PyCharm on Windows.

##### culurciello 07/22/2020 14:46:01
Am also getting this warning: WARNING: DEF ARM UR5e (PROTO) > DEF GRIPPER Pioneer3Gripper (PROTO) > DEF LIFT\_SLIDER SliderJoint > DEF LIFT Solid > DEF LEFT\_FINGER\_SLIDER SliderJoint > LinearMotor: too low requested position: -0.0845174 < 0


`@Stefania Pedrazzi` thank you so much you are very kind. Using Webots R2020 r1. here is the world we use:
> **Attachment**: [ur5\_grip.wbt](https://cdn.discordapp.com/attachments/565154703139405824/735506078011228190/ur5_grip.wbt)

##### Stefania Pedrazzi [cyberbotics] 07/22/2020 13:44:41
Hi `@culurciello`, quickly tested on the latest version in the `ure.wbt` world just replacing the default gripper with the Pioneer3Gripper and it seems to work fine.

Which Webots version are you using?

Did you save and revert your world after adding the gripper?

##### culurciello 07/22/2020 13:27:27
Hi Guys, I added a Pioneer3Gripper to a UR-5 robot and when I move the robot the gripper falls apart (see pic). What can I do to fix this? Also is there a simple 2-finger alternative gripper I can use with the UR robots? Thanks a lot for all your kind help~
%figure
![gripper_problem.jpg](https://cdn.discordapp.com/attachments/565154703139405824/735488182455369768/gripper_problem.jpg)
%end

##### Laojiang 07/22/2020 10:00:14
OK,thank you

##### Stefania Pedrazzi [cyberbotics] 07/22/2020 09:57:28
The controllers are started automatically. You just have to make sure that the `Robot.controller` field points to the controller you want to run.

##### Laojiang 07/22/2020 09:56:00
I make two controller in one world, but It just run one controller when I click 'run'. And I have more than one robot node in this world. How can I run both of controllers at the same time?


OK , I think I like easier way, thank youðŸ˜†

##### (,-*-) 07/22/2020 09:28:02
> `@Stefania Pedrazzi` That's a great link . But are there any tutorials available on how to simulate a custom made robot imported in vrml format ? . I have imported my robot , and it shows every node as transform . I tried converting one of the the nodes to say range finder but the display is black .I'm at an impasse .

`@watchdogs132` 

I used that converter to import meshes and then I built my robot by adding one mesh after another. 

However, I need to do some little more work on it, as it sometimes gives me error that my mass of robot is set to 1 due to some error in proto file

##### Stefania Pedrazzi [cyberbotics] 07/22/2020 09:26:34
`@Laojiang` no there is no other way to set variables available on all the controllers.

If you don't want to use IP methods as I suggested before to shared data between the controllers ((note that it is quite easy to use the Emitter/Receiver method) and the variable is simply a string or int or simple data, you could set it for example in the `Robot.customData` field and read it in the other robot controller using the Supervisor API


You should import your model in blender instead of converting it to VRML and use the converter to generate directly the Webots model.


`@watchdogs132` if you import from VRML format, then you have to adjust all the Transform nodes and convert them to the appropriate Robot, Solid, etc. and basically rebuild the robot structure manually keeping just the translation/rotation of parts and the meshes.

An alternative is to use this converter: [https://github.com/cyberbotics/blender-webots-exporter](https://github.com/cyberbotics/blender-webots-exporter)

##### Laojiang 07/22/2020 09:20:39
Is there such a way?


Can I set a variable that all of these controllers can Identify it?

##### watchdogs132 07/22/2020 09:18:25
> `@watchdogs132` here is a tutorial explaining how to build a robot, add sensors and actuators and write the controller program:

> [https://www.cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot](https://www.cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot)

`@Stefania Pedrazzi` That's a great link . But are there any tutorials available on how to simulate a custom made robot imported in vrml format ? . I have imported my robot , and it shows every node as transform . I tried converting one of the the nodes to say range finder but the display is black .I'm at an impasse .

##### Stefania Pedrazzi [cyberbotics] 07/22/2020 09:17:00
You could use the Emitter and Receiver Webots nodes:

- Emitter: [https://www.cyberbotics.com/doc/reference/emitter](https://www.cyberbotics.com/doc/reference/emitter)

- Receiver: [https://www.cyberbotics.com/doc/reference/receiver](https://www.cyberbotics.com/doc/reference/receiver)

or any interprocess communication method([https://en.wikipedia.org/wiki/Inter-process\_communication](https://en.wikipedia.org/wiki/Inter-process_communication)).

##### Laojiang 07/22/2020 09:15:03
And How can I make these controllers connect with each other?


OK , thank you.

##### Stefania Pedrazzi [cyberbotics] 07/22/2020 09:12:41
but you can run multiple robots and their controllers in a simulation


Each robot runs its own instance of the controller program.

##### Laojiang 07/22/2020 09:11:11
> `@Laojiang` from a robot controller you cannot access and control devices from another robot.

`@Stefania Pedrazzi` That means I can't add more than one robot?

##### Stefania Pedrazzi [cyberbotics] 07/22/2020 09:08:43
`@Laojiang` from a robot controller you cannot access and control devices from another robot.

##### Laojiang 07/22/2020 09:06:41
I have two robot nodes, and both of them have camera node. However, I can just use only one camera.The other has warning ""camera1" device not found".How can I solve it?

##### (,-*-) 07/22/2020 08:58:14
Well, if there would be problem in my program, why would it run for 2,176s exactly every time and then simulation stops? Does not make sense to me ðŸ˜¦

##### Olivier Michel [cyberbotics] 07/22/2020 08:56:11
Then, the problem is probably in your program...

##### (,-*-) 07/22/2020 08:55:40
Reserves memory to 2,7GB of 3GB max - with or without webots


it does the same when I start the main program without webots

##### Olivier Michel [cyberbotics] 07/22/2020 08:51:56
This is normal as Webots uses GPU resources (textures, vertices, etc.).

##### (,-*-) 07/22/2020 08:50:23
That big is jump is start of webots with program.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/735418458434437154/unknown.png)
%end


In task manager it doesnt show any increase of memory

##### Olivier Michel [cyberbotics] 07/22/2020 08:46:04
Yes, it could be a problem. You should compare the footprint of your controller program with a simple python controller program to better understand the problem.

##### (,-*-) 07/22/2020 08:40:25
When I run my program, it reserves by default (unchangably) almost 3GB of GPU memory. So maybe there is problem it runs out of memory after this time if some from webots are stored into it


Are there any simulation data from controllers stored somewhere?

##### Laojiang 07/22/2020 08:07:12
ok ,thank you!

##### (,-*-) 07/22/2020 08:06:50
`@Laojiang` Yes it does

##### Laojiang 07/22/2020 08:03:38
Does the camera have to be under the robot node?

##### Stefania Pedrazzi [cyberbotics] 07/22/2020 06:13:24
`@watchdogs132` here is a tutorial explaining how to build a robot, add sensors and actuators and write the controller program:

[https://www.cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot](https://www.cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot)

##### Olivier Michel [cyberbotics] 07/22/2020 06:09:14
`@Laojiang`: now that you have the list of CameraRecognitionObject, you can use the specific methods of this object, e.g., get\_id(), get\_position(), etc., see details here: [https://cyberbotics.com/doc/reference/camera?tab-language=python#wb\_camera\_recognition\_get\_objects](https://cyberbotics.com/doc/reference/camera?tab-language=python#wb_camera_recognition_get_objects)

##### Stefania Pedrazzi [cyberbotics] 07/22/2020 06:07:07
Actually it is just the tooltip that is wrong. The shortcut is CTRL+SHIFT+T (T instead of F)


Which version are you using?


`@Zerfallskonstante` unfortunately it is not possible to change the shortcuts from the UI. But we already fixed this and in the latest version of Webots and changed the shortcut.


`@chenpixx` Yes, it is correct to put all of them in the children field of a parent container node. But if your solid box is not a robot but just an object, then it is better to use:

* `Solid` node for dynamic objects (with physics properties)

* `Transform` node for static objects (pure graphical objects)

##### Laojiang 07/22/2020 00:09:53
I can't use it from camera 'AttributeError: 'Camera' object has no attribute 'CameraRecognitionObject' , and I have use 'camera.getRecognitionNumberOfObjects()' to recognite objects successfully. Then what should I do next?

And the camera node doesn't have 'CameraRecognitionObject' node.

##### chenpixx 07/21/2020 22:40:44
I have multiple solids. I will do a single solid box (for wbo) by using all of them.

How can we combine them. Which node should I use to combine? I used robot node and moved into children. Is it correct?

##### Zerfallskonstante 07/21/2020 17:59:05
Is there a way to change the shortcut for resetting the simulation? The shortcut is Ctrl + Shift + F, which does not work because it is also the default shortcut for fullscreen mode.

##### watchdogs132 07/21/2020 16:59:13
Hello , I need some help in understanding the processes involved in simulating my robot . I'm a complete newbie to Webots , so please go easy on me . So I've created my bot on Solidworks , then converted it to .vrml97 format to import it to  Webots .  Now When I went through the website , I saw that one can simulate sensors like Kinect , Gyroscope and Accelerometer and also motors on Webots. This is the  part where I am having trouble with .  My bot is a stair climber which uses the above mentioned sensors and of course motors  to climb. How can I incorporate those sensors and motors into my robot in order to simulate the process? . If possible , please provide suitable links which cover this part in detail. Thanks !

##### Laojiang 07/21/2020 15:37:53
And the camera node doesn't have 'CameraRecognitionObject' node.


I can't use it from camera 'AttributeError: 'Camera' object has no attribute 'CameraRecognitionObject' , and I have use 'camera.getRecognitionNumberOfObjects()' to recognite objects successfully. Then what should I do next?

##### Olivier Michel [cyberbotics] 07/21/2020 15:30:03
See [https://www.cyberbotics.com/doc/reference/camera?tab-language=python#wb\_camera\_recognition\_get\_objects](https://www.cyberbotics.com/doc/reference/camera?tab-language=python#wb_camera_recognition_get_objects)


Using the getRecognitionObjects() method.


Yes, you should get the CameraRecognitionObject from a Camera device.

##### Laojiang 07/21/2020 15:26:06
How can I use 'CameraRecognitionObject' suitably?   I used it like that 'from controller import Robot,CameraRecognitionObject', 'id=CameraRecognitionObject.get\_id()', but it has error 'TypeError: get\_id() missing 1 required positional argument: 'self''. Can you help me about that?


OK, I didn't set it of solid nodes. thank you!

##### David Mansolino [cyberbotics] 07/21/2020 14:24:50
You're welcome

##### John520 07/21/2020 14:24:36
Thanks again `@David Mansolino` !

##### David Mansolino [cyberbotics] 07/21/2020 14:22:26
> I have enabled the camera and camera.recognitionEnable(), but it doesn't recognition any solid. Can you teach me about that?

`@Laojiang` did you set the `recognitionColor` field of your Solid nodes? and model field?


Yes exactly!

##### John520 07/21/2020 14:21:32
For example, the "16", does it mean that if the engine RPM is 1600, and the wheel RPM is 100?


I have a question about the gear ratio.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/735139136419266610/unknown.png)
%end

##### Laojiang 07/21/2020 14:19:38
I have enabled the camera and camera.recognitionEnable(), but it doesn't recognition any solid. Can you teach me about that?

##### John520 07/21/2020 14:19:35
Thank you `@David Mansolino`  for your answer. It is really helpful for me.

##### Olivier Michel [cyberbotics] 07/21/2020 11:13:20
You can use a Group node or a Transform node to put them together.

##### David Mansolino [cyberbotics] 07/21/2020 06:00:19
For this, the `engineFunctionCoefficients` and `gearRatio` fields of the truc should be calibrated ([https://cyberbotics.com/doc/automobile/car](https://cyberbotics.com/doc/automobile/car)).


Hi `@John520`, the throttle of the car was unfortunately not calibrated agains a real vehicle.

##### John520 07/20/2020 21:08:10
Hi guys, I am having an issue with controlling the speed of the truck (using Truck.proto). In the practical test, our real vehicle needs to have continuous throttle values to reach and maintain a desired speed. In Webots simulations, we notice that the truck only needs a few throttle values and it will run forever. I wonder if I miss some settings on the road or the truck (for example, tire-road friction). Please kindly advise me. Thank you.

##### David Mansolino [cyberbotics] 07/20/2020 13:55:15
Perfect thank you, we will take a look as soon as we have the time.

##### Simon Steinmann [Moderator] 07/20/2020 13:42:53
I created a PR with the jaco2 proto. It works now, only thing is the missing shadow


The strange thing is, this has only been an issue for these 3 fingers. The rest works fine. It might be worth to investigate though


webots seems to do something different with the Euler angles. If I convert the urdf euler angles to the axis angles, I get a different result. If I put these into webots, the finger is oriented wrongly. So webots seems to do that conversion correctly.


We get this matrix. And entering the last column as our hingeJoint axis, finally gives the correct behavior
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/734762026898817084/unknown.png)
%end


now if we enter the axis angles, that webots calculated for the enpoint like so:
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/734761867838488677/unknown.png)
%end


This is what webots does as well. This however gives us a wrong axis


as we are rotating around the z-axis, we multiply by [0 0 1] vector (vertical) and we get the last column as our hing joing axis


if you use this tool and enter the Euler angles from the urdf files you get this:
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/734761351729119252/unknown.png)
%end


[https://www.andre-gaschler.com/rotationconverter/](https://www.andre-gaschler.com/rotationconverter/)


okay I have found the issue


how can I tell webots to use the z-axis of the endpoint to use as the rotational axis for the hinge joint?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/734758139206959144/unknown.png)
%end


it's not that it rotates the wrong direction, It doesnt rotate on the correct axis at all


I installed the latest fixes for the converter, which fixed the issues for me

##### David Mansolino [cyberbotics] 07/20/2020 12:31:01
> I'm guessing that anchor and axis of the Hingejoint has to be changed, but I have no clue on how to do that correctly.  Here I find the urdf way of doing it much more intuitive. Defining translation and rotation AND then the axis in that new frame

`@Simon Steinmann` this is probably related to: [https://github.com/cyberbotics/urdf2webots/issues/42](https://github.com/cyberbotics/urdf2webots/issues/42)

##### Simon Steinmann [Moderator] 07/20/2020 12:29:49
hmm I manually calculated the axis, and the values should be correct... but for some reason, the joint is rotating incorrectly

##### Stefania Pedrazzi [cyberbotics] 07/20/2020 12:15:01
`@Laojiang` did you try to simplify your model as much as possible but keeping the issue?

We can help you only if you share your model because we cannot reproduce it with the built-in models distributed in Webots.

I would suggest you to open an issue on the GitHub repo where you upload the project files and you describe your issue.: [https://github.com/cyberbotics/webots/issues/new/choose](https://github.com/cyberbotics/webots/issues/new/choose)

##### Laojiang 07/20/2020 12:08:15
How to slove the problem that click "reset simulation" webots shut down caused by the overly complex model?

##### Simon Steinmann [Moderator] 07/20/2020 12:07:02
I'm guessing that anchor and axis of the Hingejoint has to be changed, but I have no clue on how to do that correctly.  Here I find the urdf way of doing it much more intuitive. Defining translation and rotation AND then the axis in that new frame


Final issue, the joints for the fingers rotate around the wrong axis. The screenshot also shows the urdf definition. One can see that the translation of the hingeJoint is correct. The rotation seems correct as well, as the in position = 0, the finger is placed correctly. However it does not rotate around its own z-axis like it should
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/734742559175475230/unknown.png)
%end

##### David Mansolino [cyberbotics] 07/20/2020 11:48:44
yes, looks good

##### Simon Steinmann [Moderator] 07/20/2020 11:47:26
like this? Left the solid in, but I would delete it then right?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/734738238492901386/unknown.png)
%end

##### David Mansolino [cyberbotics] 07/20/2020 11:45:33
then you might connect the 'children' field to a proto parameter

##### Simon Steinmann [Moderator] 07/20/2020 11:45:33
got rid of the error

##### David Mansolino [cyberbotics] 07/20/2020 11:45:16
But probabyl transform is simpler/cleaner


ok, then just the physics

##### Simon Steinmann [Moderator] 07/20/2020 11:44:31
this is it atm
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/734737502807654420/unknown.png)
%end

##### David Mansolino [cyberbotics] 07/20/2020 11:44:26
and boudning object

##### Simon Steinmann [Moderator] 07/20/2020 11:44:08
so I just delete the physics part of it?

##### David Mansolino [cyberbotics] 07/20/2020 11:43:44
You right, in that case empty solid or transform should do the job

##### Simon Steinmann [Moderator] 07/20/2020 11:43:19
most likely not, but someone converting their project from gazebo to webots might

##### David Mansolino [cyberbotics] 07/20/2020 11:42:42
Yes, or a Solid without bounding object or physics. But probably you even don't need it?

##### Simon Steinmann [Moderator] 07/20/2020 11:41:46
as it is just a virtual link, how should I deal with it? convert it to a transform?


webots throws an error that the solid doesnt have an inertia matrix


other question, there is a empty link at the end of the arm
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/734736519528710264/unknown.png)
%end


ah okay... well I can live with it ðŸ˜„

##### Stefania Pedrazzi [cyberbotics] 07/20/2020 11:38:36
For this particular IndexedFaceSet the shadows are not displayed because it has too many vertices. If you want to get the shadow, then you should simplify the mesh

##### Simon Steinmann [Moderator] 07/20/2020 11:23:12
this is the shape in question, colored it red as a check, no changes otherwise
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/734732139022647376/unknown.png)
%end


transparency is set to 0

##### Stefania Pedrazzi [cyberbotics] 07/20/2020 11:20:13
about the shadows issue, is the object semi-transparent? because this could be a reason why shadows cannot be displayed

##### Simon Steinmann [Moderator] 07/20/2020 11:09:17
uh I think that is the answer


okay, I'll give it a shot... last try though ðŸ˜„

##### Stefania Pedrazzi [cyberbotics] 07/20/2020 11:05:22
then you simply have to copy the `endPoint` Solid translation and rotation values in your PROTO file


a simpler solution than computing the new `endPoint` translation and rotation manually is to convert the PROTO to base nodes and change the `position` field so that the endPoint will be automatically updated

##### Simon Steinmann [Moderator] 07/20/2020 11:04:32
but it also has the issue of no shadow for the hand (converting to base nodes, the shapes seem to be correct and CastShadow field is set to TRUE)
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/734727439296626758/unknown.png)
%end


I think I give up. Getting that starting position to work is too much of a headache. I can still create a PR for the proto. It seems correct and can probably be worked with, if one disables SelfCollision (added a field for that), moves it to the correct pose and saves the world file


oh god, this model is truly ugly. it needs rotations around several axis.

##### David Mansolino [cyberbotics] 07/20/2020 10:52:46
Yes this is the rotation you have to change (and define the axis, otherwise the rotation will have no effect).

##### Simon Steinmann [Moderator] 07/20/2020 10:51:05
I guess in this case I will have to define the axis too


so here I add the position of the hinge joint to the rotation of the endPoint Solid? (marked)



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/734723866232094830/unknown.png)
%end


hmm okay, I'll try to get behind that part later. For now, I wanna figure out the correct proto settings though

##### David Mansolino [cyberbotics] 07/20/2020 10:46:32
No you should not have to call it, what I am trying to say is that you should not rely on the value display in the 'motor' tab of the robot window to know the current angle, but rather to the position sensor one.

##### Simon Steinmann [Moderator] 07/20/2020 10:45:41
would be nice if it would go to the position defined in the proto file, which is 0, if not explicitly specified


So if I dont call the function at all? my robot will always collapse? Going to 0

##### David Mansolino [cyberbotics] 07/20/2020 10:41:15
This happens with any controller not calling the `wb_motor_set_position` function.

##### Simon Steinmann [Moderator] 07/20/2020 10:38:30
this only happens with the void controller?

##### David Mansolino [cyberbotics] 07/20/2020 10:37:11
Because this is the default target position since you did not call wb\_motor\_set\_position.

##### Simon Steinmann [Moderator] 07/20/2020 10:36:40
but the question is, why is the target position 0?


they show 0 as well. but they probably updated to the target values of 0

##### David Mansolino [cyberbotics] 07/20/2020 10:35:09
This indicates the latest target position, but not the actual curent position of the joint, for this you need to look at the position sensors.

##### Simon Steinmann [Moderator] 07/20/2020 10:34:10

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/734719798767779860/unknown.png)
%end

##### David Mansolino [cyberbotics] 07/20/2020 10:33:24
Where do you see this?

##### Simon Steinmann [Moderator] 07/20/2020 10:33:06
but the position of the motors is 0, even when I specify otherwise

##### David Mansolino [cyberbotics] 07/20/2020 10:32:30
No if you change both the position of the joint and rotation of the Solid, then the matching will remains untouched

##### Simon Steinmann [Moderator] 07/20/2020 10:31:43
But that would alter what a pose with specific joint values would look like right?

##### David Mansolino [cyberbotics] 07/20/2020 10:30:54
I just tested, you are right, this is working when editing the rotation field from the scene-tree because the rotation of the endpoint Solid is automatically updated, but not when manually editing the PROTO file (in that case you need to manually rotate the Solid).

##### Simon Steinmann [Moderator] 07/20/2020 10:23:02
it has also a issue with the "j2n6s300\_end\_effector" not having a inertia matrix. As it is only a virtual link I think. Also the hand shape doesn't cast a shadow


this is the proto in question
> **Attachment**: [J2n6s300.proto](https://cdn.discordapp.com/attachments/565154703139405824/734716747684511764/J2n6s300.proto)

##### David Mansolino [cyberbotics] 07/20/2020 10:21:35
What you did should work, let me try

##### Simon Steinmann [Moderator] 07/20/2020 10:03:20
looks like that
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/734712039397785621/unknown.png)
%end


because all joints at 0, is an invalid state


I would like to have the default position when adding the robot, to be its home position


I tried this, but the initial position is still 0
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/734711558109659196/unknown.png)
%end


How can I define the initial postition of joints in a proto file?

##### (,-*-) 07/20/2020 09:52:48
`@chenpixx` if you have CAD model off that box, you can extract it to webot file using this [https://github.com/cyberbotics/blender-webots-exporter](https://github.com/cyberbotics/blender-webots-exporter)

##### Olivier Michel [cyberbotics] 07/20/2020 09:51:17
`@chenpixx`: yes, you need a 3D model of it.


`@Laojiang`: not sure to understand what you mean.

##### Laojiang 07/20/2020 09:22:26
So there isn't a solution about it?


When I cut my "robot" node, it become normalï¼Œbut I can't without the node.

##### Olivier Michel [cyberbotics] 07/20/2020 09:13:58
That looks like a crash, isn't it? Could you try to simplify your world file until it doesn't crash any more? This way, you will understand what is causing the crash.

##### Laojiang 07/20/2020 09:12:59
When I click "reset simulation"button , my webots will turn off.  How can I solve it?

##### David Mansolino [cyberbotics] 07/20/2020 09:11:03
[https://cyberbotics.com/doc/guide/tutorial-3-appearance](https://cyberbotics.com/doc/guide/tutorial-3-appearance)


You're welcome

##### chenpixx 07/20/2020 09:05:29
> `@chenpixx` you can put it in the children field of a Transform node.

`@David Mansolino`  thanks it works

##### David Mansolino [cyberbotics] 07/20/2020 09:01:07
You're welcome.

##### Laojiang 07/20/2020 09:00:48
I solved it by download a new python ,thanks

##### David Mansolino [cyberbotics] 07/20/2020 08:24:30
> I don't know how to check it , but I have anaconda3 in my  computer

`@Laojiang` unfortunately, the Webots Python API supports only the standard version of Python by default. However, you can recompile the Python API for another version of Python: [https://cyberbotics.com/doc/guide/using-python#use-an-alternative-python-version](https://cyberbotics.com/doc/guide/using-python#use-an-alternative-python-version)

##### (,-*-) 07/20/2020 08:24:20
press win + r and type SystemPropertiesAdvanced, then press Edit environment variables or so - check system variables and search for Path

##### Laojiang 07/20/2020 08:23:43
I don't use linux.


My system is window10

##### (,-*-) 07/20/2020 08:22:14
are you using win on linux

##### Laojiang 07/20/2020 08:21:57
I don't know how to check it , but I have anaconda3 in my  computer

##### (,-*-) 07/20/2020 08:20:18
do you have python in your path?

##### Laojiang 07/20/2020 08:19:51
"WARNING: "python.exe" was not found.  " How can I solve itï¼Ÿ

##### David Mansolino [cyberbotics] 07/20/2020 05:45:29
> Can we change the size of wooden chair ?

`@chenpixx` you can put it in the children field of a Transform node.


and the `wb_display_attach_camera` function ([https://cyberbotics.com/doc/reference/display#wb\_display\_attach\_camera](https://cyberbotics.com/doc/reference/display#wb_display_attach_camera))


> Can I bind Camera overlay to physical camera?

`@(,-*-)` Yes, but you need to us a display for this.

##### (,-*-) 07/19/2020 17:08:42
Can I bind Camera overlay to physical camera?

##### chenpixx 07/19/2020 16:22:08
No size field

##### (,-*-) 07/19/2020 15:40:52
yeah, that was rough syntax error ðŸ˜„ shame on me

##### Simon Steinmann [Moderator] 07/19/2020 15:40:36
but try fixing the syntax error i mentioined


No idea how pycharm and windows works.


that is probably the cause of the syntax error

##### (,-*-) 07/19/2020 15:37:56
that python37 is imported ; shouldnt I make it package to be importable?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/734433854466555984/unknown.png)
%end

##### Simon Steinmann [Moderator] 07/19/2020 15:37:45
but you never have an 'except:'


in line 35 you start a 'try:'


I think I found your mistake


perhaps the code above is not correct, so any line that comes there will throw a syntax error


just do something like print("test") before the while loop


ohh, lets look at the code before


ehhhm

##### (,-*-) 07/19/2020 15:33:51
Kind of insanity check


while True:

        ^

SyntaxError: invalid syntax ; ðŸ˜† ðŸ’¯

##### Simon Steinmann [Moderator] 07/19/2020 15:32:07
just as a sanity check, try:

while True:

     robot.step(timestep)

##### (,-*-) 07/19/2020 15:31:19
didnt work


both what you typed and also : 

    while (robot.step(timestep)) != (-1):

        ^

SyntaxError: invalid syntax

##### Simon Steinmann [Moderator] 07/19/2020 15:30:30
syntax error is werid


try 

while (robot.step(timestep) != -1):

##### (,-*-) 07/19/2020 15:29:03
I am using another libraries - like openpose ; every .dll for running openpose is included in path


[https://pastebin.com/gpHj5Qkd](https://pastebin.com/gpHj5Qkd) ; it is very simple code

##### Simon Steinmann [Moderator] 07/19/2020 15:27:01
can you post your code?

##### (,-*-) 07/19/2020 15:24:55
May I ask once again a question? 

I am trying to connect PyCharm with webots, I think I did everything in those papers (using windown rn)

[https://www.cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-os=linux&tab-language=python](https://www.cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-os=linux&tab-language=python) ; [https://cyberbotics.com/doc/guide/using-your-ide?tab-language=python#pycharm](https://cyberbotics.com/doc/guide/using-your-ide?tab-language=python#pycharm)



I have whole PATH in environment variables in PyCharm configuration my code is something like this:

*imports* 



print(sys.version)

--blah blah--

while robot.step(timestep) != -1:

   --- blah blah ---



It gives me error right away 

 File "C:/DP\_Webots/controllers/contr/contr.py", line 70

    while robot.step(timestep) != -1:

        ^

SyntaxError: invalid syntax



And not even printing out that sys.version ; am i missing something very important?


Thank you for clarification, `@Darko LukiÄ‡`

##### Darko LukiÄ‡ [cyberbotics] 07/18/2020 13:20:28
> Hi, is it mandatory to have URDF file of robot for simulation in webots?

`@(,-*-)` No. In context of `webots_ros2` URDF is used to visualize a robot in RViz

##### (,-*-) 07/18/2020 05:39:37
Hi, is it mandatory to have URDF file of robot for simulation in webots?


Was sending action to robot state and goal was rejected. I don't have a single clue where could be aproblem. I have valid joint\_names params

##### David Mansolino [cyberbotics] 07/17/2020 13:02:35
Not to me.

##### (,-*-) 07/17/2020 13:02:17
ever happened to you after colcon build --packages-select you could no more source setup.bash in your workspace directory<

##### David Mansolino [cyberbotics] 07/17/2020 12:36:54
Yes, you are free to set whatever name for this node.

##### (,-*-) 07/17/2020 12:30:20
and its custom name which i can refer to later in code? I can put there whatever I want there?

##### David Mansolino [cyberbotics] 07/17/2020 12:26:42
Ok, in that case, the `ActionServerNode` class inherits from the `WebotsNode` one, which inherits from the `Node` one from rclpy.node.

As described in the documentation of rclpy ([http://docs.ros2.org/foxy/api/rclpy/api/node.html](http://docs.ros2.org/foxy/api/rclpy/api/node.html)) the first argument is the name of the node.

##### (,-*-) 07/17/2020 12:24:42
ROS2

##### David Mansolino [cyberbotics] 07/17/2020 12:24:37
Are you refeerign to ROS1 or ROS2 ?

##### (,-*-) 07/17/2020 12:23:43
I am trying to make my own ros controller for robot I've made in webots, so I am looking into the universal robots package on how it wokrks there and I can't figure out what on line         super().\_\_init\_\_('ur\_driver', args=args)  is "ur\_driver" and where to find it.  Any sugestions?





class ActionServerNode(WebotsNode):



    def \_\_init\_\_(self, args):

        super().\_\_init\_\_('ur\_driver', args=args)

        prefix = self.get\_parameter\_or('prefix',

                                       Parameter('prefix', Parameter.Type.STRING, '')).value

        self.jointStatePublisher = JointStatePublisher(self.robot, prefix, self)

        self.trajectoryFollower = TrajectoryFollower(self.robot, self, jointPrefix=prefix)

        self.jointStateTimer = self.create\_timer(0.001 * self.timestep, self.joint\_state\_callback)



    def joint\_state\_callback(self):

        # update joint state and trajectory follower

        self.jointStatePublisher.publish()

##### ContrastNull 07/17/2020 10:27:19
> Did you set `LD_LIBRARY_PATH` and `PYTHONPATH` environment variables appropriately? Can you print them?

`@Olivier Michel` Thanks for reminding. I did set them before, but restarted my system after that. Sorry for your trouble. ðŸ˜‰

##### (,-*-) 07/17/2020 09:28:36
Okay, thank, wasn't sure about it because there was no information about it

##### David Mansolino [cyberbotics] 07/17/2020 09:25:29
Yes sure, the Webots nodes are regular ros nodes.

##### (,-*-) 07/17/2020 09:24:24
Hi all,

I have a question regarding using ROS2 with webots. Is creating webots node in ROS same procedure as creating normal ROS2 node?

##### Olivier Michel [cyberbotics] 07/17/2020 08:27:57
Did you set `LD_LIBRARY_PATH` and `PYTHONPATH` environment variables appropriately? Can you print them?


See [https://cyberbotics.com/doc/guide/running-extern-robot-controllers](https://cyberbotics.com/doc/guide/running-extern-robot-controllers)

##### ContrastNull 07/16/2020 16:23:28
I wanted to run my controller code script (python) outside Webots. But obviously it gives ImportError for controller module. How should I proceed??!

##### David Mansolino [cyberbotics] 07/16/2020 10:56:15
I sorry, but this difficult and requires some test and trial or expertise at it depends a lot on the simulations.

But if you want Cyberbotics provides professional consulting ([https://www.cyberbotics.com/#plans](https://www.cyberbotics.com/#plans)) and can help you.

##### Luiz Felipe 07/16/2020 10:52:19
"The explosion is usually caused by inappropriate values passed to the physics engine (ODE)." Any tip on how to find which values are the inappropriate ones leading to crashes?

##### David Mansolino [cyberbotics] 07/16/2020 10:50:00
Exactly, allowing the robot to sink a bit in the floor make the simulation stabler.

##### Luiz Felipe 07/16/2020 10:49:15
i tought it also resulted in a crash this situation


Ah ok... now i got it... the robot sinks into the ground but it is not a crash

##### David Mansolino [cyberbotics] 07/16/2020 10:48:03
The doces seems correct, increasign the CFM will make the contact more spingy and therefore improve the stability, however the robot make therefore sink a bit in the floor.

##### Luiz Felipe 07/16/2020 10:46:29
"My robot/simulation explodes" and "My robot sinks to the ground"


[https://cyberbotics.com/doc/guide/modeling](https://cyberbotics.com/doc/guide/modeling)

##### David Mansolino [cyberbotics] 07/16/2020 10:45:50
Can you point to which documentation you are taking these sentences?

##### Luiz Felipe 07/16/2020 10:40:48
So in this part of the documentation should also be "Increase"?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/733271785751183440/unknown.png)
%end

##### David Mansolino [cyberbotics] 07/16/2020 10:40:06
Yes, to increase the stability you should increase the CFM

##### Luiz Felipe 07/16/2020 10:40:02
And then



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/733271698417123378/unknown.png)
%end


I think maybe I am misunderstanding the softCFM value. Increasing the CFM I understand.

##### David Mansolino [cyberbotics] 07/16/2020 10:35:41
Yes:

> Therefore, increasing the CFM will decrease the system precision but increase its staibility.

##### Luiz Felipe 07/16/2020 10:34:57
> This is indeed for heavy robots

`@David Mansolino` To reduce this value would not make the simulation more unstable also?

##### David Mansolino [cyberbotics] 07/16/2020 06:53:39
This is indeed for heavy robots

##### Luiz Felipe 07/16/2020 06:23:14
Yups. However, the softCFM in the contact properties should be reduced? As stated in "My Robot Sinks into the Ground, How to Remove this effect"... or this just applies to really heavy robots?

##### David Mansolino [cyberbotics] 07/16/2020 06:12:14
About the CFM, increasing the CFM will decrease the constraints on the physics. Therefore, increasing the CFM will decrease the system precision but increase its staibility.

##### Luiz Felipe 07/16/2020 06:09:43

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/733203696501915688/unknown.png)
%end


About the softCFM then, it tells me to reduce the value:



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/733203567275540611/unknown.png)
%end


`@David Mansolino` I thought that I solved the instability in my simulation, but explosions after collisions still happen. I find that is probably caused by CFM and ERP values, but that is really hard to debug and solve it. Crashes are really critical for my application that is going to run for a long time or in real time. I am in doubt how to tune the CFM, soft CFM values, because in the "My Robot/Simulation Explodes, What should I do?" section it tells me to increase the CFM:

##### David Mansolino [cyberbotics] 07/16/2020 05:42:58
Oh ok sorry, then the links is: [https://github.com/cyberbotics/webots/edit/master/projects/samples/demos/controllers/soccer\_referee\_supervisor/soccer\_referee\_supervisor.c](https://github.com/cyberbotics/webots/edit/master/projects/samples/demos/controllers/soccer_referee_supervisor/soccer_referee_supervisor.c)

##### hp 07/15/2020 15:49:59
> `@hp` yes sure, if you are not familiar with git/Github, the simplest thing is to use the built-in editor (you need to create a Github account): [https://github.com/cyberbotics/webots/edit/master/projects/robots/softbank/nao/controllers/nao\_soccer\_supervisor/nao\_soccer\_supervisor.c](https://github.com/cyberbotics/webots/edit/master/projects/robots/softbank/nao/controllers/nao_soccer_supervisor/nao_soccer_supervisor.c)

> Don't worry, the repository is protected, there is now way you break something without a review from one of the maintainers.

`@David Mansolino` Ok, I did it like that. (But I was actually talking about the demo soccer simulation: webots/projects/samples/demos/controllers/soccer\_referee\_supervisor )

##### David Mansolino [cyberbotics] 07/15/2020 10:10:57
[https://cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes](https://cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes)

##### Reza 07/15/2020 10:10:54
if not, can we define two solid nodes and merge their physics?


Hello all, one question: can we have a solid node with two bounding objects?

##### David Mansolino [cyberbotics] 07/15/2020 07:54:39
You're welcome

##### æ±‰å ¡æ¶éœ¸ 07/15/2020 07:54:19
thank you for your help

##### David Mansolino [cyberbotics] 07/15/2020 05:18:16
> `@David Mansolino` I'm sorry: I have never used github before and I am afraid of breaking something. Could you give me some more details on how to open this pull request?

`@hp` yes sure, if you are not familiar with git/Github, the simplest thing is to use the built-in editor (you need to create a Github account): [https://github.com/cyberbotics/webots/edit/master/projects/robots/softbank/nao/controllers/nao\_soccer\_supervisor/nao\_soccer\_supervisor.c](https://github.com/cyberbotics/webots/edit/master/projects/robots/softbank/nao/controllers/nao_soccer_supervisor/nao_soccer_supervisor.c)

Don't worry, the repository is protected, there is now way you break something without a review from one of the maintainers.


HI `@æ±‰å ¡æ¶éœ¸`, I would first recommend to follow the Webots tutorials, in particular the one about controllers:

[https://cyberbotics.com/doc/guide/tutorial-4-more-about-controllers](https://cyberbotics.com/doc/guide/tutorial-4-more-about-controllers)

Then you will find the description of the radar C API here:

[https://cyberbotics.com/doc/reference/radar#radar-functions](https://cyberbotics.com/doc/reference/radar#radar-functions)

Finally, you can find the implementation of the radar C API here:

[https://github.com/cyberbotics/webots/blob/master/src/lib/Controller/api/radar.c](https://github.com/cyberbotics/webots/blob/master/src/lib/Controller/api/radar.c)

And the Webots side:

[https://github.com/cyberbotics/webots/blob/master/src/webots/nodes/WbRadar.cpp](https://github.com/cyberbotics/webots/blob/master/src/webots/nodes/WbRadar.cpp)

##### æ±‰å ¡æ¶éœ¸ 07/15/2020 02:27:07
Brain box. I work in Linux with C language. I want to know how API functions work. For example,wb\_radar\_get\_number\_of\_targets(WbDeviceTag tag), how can I find its implementation code, that is, its. C code

##### hp 07/14/2020 17:32:31
> Hi, feel free to open a pull request to fix this: 

> [https://github.com/cyberbotics/webots](https://github.com/cyberbotics/webots)

> Thank you!

`@David Mansolino` I'm sorry: I have never used github before and I am afraid of breaking something. Could you give me some more details on how to open this pull request?

##### David Mansolino [cyberbotics] 07/14/2020 13:35:58
You're welcome

##### lojik 07/14/2020 13:35:47
Perfect, thank you, you saved my day to modify only some parts of the model I work on.

##### David Mansolino [cyberbotics] 07/14/2020 13:30:01
For each individual part you should specify it.

##### lojik 07/14/2020 13:14:38
And to specify physics and boundingObject, it is better to specify them for each solid separately or having one specification for the overall robot (especially for bounding object part)?


Makes sense, thank you ðŸ‘

##### David Mansolino [cyberbotics] 07/14/2020 13:08:41
Hi `@lojik`, 2 and 3.

##### lojik 07/14/2020 13:07:58
Hello everyone,



Question about physics node. In the case of a robotic arm where each segment has a physics node with a specified mass. What will be the effect of specifying the mass of the robot node?



1. The overall mass of the robot will be the one specified in the robot node?

2. The overall mass of the robot will be the sum of all the different mass?

3. The mass affect only objects specified inside boundingObjects node?



Thank you and I hope that I am understandable enough. I did not find the answer in the documentation.

##### David Mansolino [cyberbotics] 07/14/2020 12:49:15
We have indeed improved it for our ROS2 version of the interface between ROS and Webots ðŸ˜‰

##### Simon Steinmann [Moderator] 07/14/2020 12:47:52
I created something along those lines, but I am not free to share that code. However, the universal\_ros controller with its joint state publisher and trajectory follower are already quite close. Might be something you want to look into ðŸ™‚


having a multipurpose/universal trajectory follower controller would be a great addition to webots. It would allow easy integration with moveit. Seeing as most robotic arm manufacturers provide all the configs already, That would be a huge value add

##### David Mansolino [cyberbotics] 07/14/2020 11:50:36
Thank you! I just reviewed it ðŸ™‚

##### Simon Steinmann [Moderator] 07/14/2020 11:42:02
created a PR for the community repo

##### David Mansolino [cyberbotics] 07/14/2020 11:40:55
You're welcome

##### estrada 07/14/2020 11:40:45
Great, makes sense. Thank you for the quick response, `@David Mansolino` !

##### David Mansolino [cyberbotics] 07/14/2020 11:38:41
> Ok, duly noted. I assume it's not possible to define shapes outside of other nodes? 

> 

> I notice the file I've received is initially defining these shapes in Transform nodes above the main Robot node. It would be useful to define these somewhere slightly separated from the main lines of the  robot model-- the volumes are custom points (I assume generated from CAD) that are horribly long.

`@estrada` to define outside you have to created another PROTO file.

##### estrada 07/14/2020 11:37:45
Ok, duly noted. I assume it's not possible to define shapes outside of other nodes? 



I notice the file I've received is initially defining these shapes in Transform nodes above the main Robot node. It would be useful to define these somewhere slightly separated from the main lines of the  robot model-- the volumes are custom points (I assume generated from CAD) that are horribly long.

##### David Mansolino [cyberbotics] 07/14/2020 11:32:50
here is how ti should looks like:

```
PROTO MyRobot[
    ...
]
{
  Robot {
    children [
      DEF MY_SHAPE1 Shape { 
        ...
      }
      ...
    ]
  }
}
```

##### estrada 07/14/2020 11:31:21
Thanks `@David Mansolino` ! It is only references from the PROTO file . Is there an example or documentation on where such definitions should go? I've tried defining these before the robot definition but it didn't seem to work correctly. E.g. : 



```
PROTO MyRobot[
    ...
]
{
  DEF MY_SHAPE1 Shape { 
    ...
  } 

  Robot {
  ... USE MY_SHAPE1 
  }
} 
```



If this is the correct placement, I still haven't done the due diligence to debug the node. My first doubt was whether this was even close to best practice in Webots.

##### David Mansolino [cyberbotics] 07/14/2020 11:22:04
Hi, it depends, if you will use these shapes only from the PROTO file (and only from a single one) it is simpler to add them in the PROTO file, if you need to use them from elsewhere of the PROTO it is better to define sub-PROTO nodes.

##### estrada 07/14/2020 11:20:08
Hello. I am wrapping a fairly complicated robot model into a self-contained PROTO node.  The file I've inherited relies on several, custom-defined shape definitions. These are all currently defined in the Webots world file but not within the robot node itself. Is there a way to encapsulate these custom shapes into the `.PROTO` node, or would best practice be to somehow define each of these shapes as another self-contained unit (e.g. objects?) and reference those?

##### David Mansolino [cyberbotics] 07/14/2020 11:08:34
Hi, feel free to open a pull request to fix this: 

[https://github.com/cyberbotics/webots](https://github.com/cyberbotics/webots)

Thank you!

##### hp 07/14/2020 11:06:12
robot\_rotation[i] = wb\_supervisor\_field\_get\_sf\_rotation(robot\_rotation\_field[i]);


packet[3 * i + 1] = robot\_translation[i][2];  // robot i: Z

it needs the following line to update the rotations:


In my opinion, the soccer supervisor is missing a line of code: After

##### Olivier Michel [cyberbotics] 07/14/2020 09:58:28
But we provide consulting services if you need expertise on this topic.


No.

##### Reza 07/14/2020 09:57:42
I mean Hydrodynamic interactions of course


another question: is there anyone in Cyberbotics now who is actively working on Fluid mediums and robot interactions?


!


OK thanks~

##### Olivier Michel [cyberbotics] 07/14/2020 09:34:52
Hi, unfortunately, I don't remember how this was calibrated. It was done a long time ago by a colleague who is not working with us any more.

##### David Mansolino [cyberbotics] 07/14/2020 09:33:19
Yes, maybe `@Olivier Michel` do you remember how the immersionProperties of the salamander were calibrated?

##### Reza 07/14/2020 09:31:58
is there any of your colleagues who has some hydrodynamical vision on ImmersionProperties of Salamander robot?


Hello `@David Mansolino`. I tried to ask some questions regarding some ImmersionProperties and you mentioned that your colleagues that were responsible for them are not available at that moment and I can reach you guys this week

##### David Mansolino [cyberbotics] 07/14/2020 09:30:22
We will do our best to fix it sson ðŸ˜‰

##### chopin1998 07/14/2020 09:29:58
ic... i hope it can be fixed soon

##### David Mansolino [cyberbotics] 07/14/2020 09:15:18
If you are using Ubuntu 20.04, this is normal, we are aware of the problem and are currently fixing it, you can follow this issue to get notification about the issue: [https://github.com/cyberbotics/webots/issues/1605](https://github.com/cyberbotics/webots/issues/1605)

##### chopin1998 07/14/2020 09:14:36
14'' thinkpad, 2560 x 1440


Ubuntu 20.04

##### David Mansolino [cyberbotics] 07/14/2020 09:13:28
Which version? I am not sure to understand the problem, what is exactly too small?

##### chopin1998 07/14/2020 09:12:58
Linux

##### David Mansolino [cyberbotics] 07/14/2020 09:12:52
Which OS are you using?

##### chopin1998 07/14/2020 09:11:28

%figure
![image0.jpg](https://cdn.discordapp.com/attachments/565154703139405824/732524660423655534/image0.jpg)
%end


hi, i'm a newbie on Webots, on my laptop, the font size of "Simulation View" is too small, but cannot find where to adjust

##### oroulet 07/14/2020 08:40:20
> A rendering is performs in any case at each step, but you can reduce this from the `Viewpoint.FPS` field ([https://cyberbotics.com/doc/reference/worldinfo](https://cyberbotics.com/doc/reference/worldinfo)) or usign the fast mode.



Works of course very well . I thought rendinering was linked to cycle time but it is obviously not...

##### David Mansolino [cyberbotics] 07/14/2020 07:08:03
`@Simon Steinmann` the nw community repository is now live at: [https://github.com/cyberbotics/community-projects](https://github.com/cyberbotics/community-projects)


Perfect, thank you for the feedback.

##### hp 07/14/2020 06:55:44
message=receiver.getData()

dataList=struct.unpack('20d',message)


Thanks a lot, that helped! This code works:

##### David Mansolino [cyberbotics] 07/14/2020 05:53:31
Hi `@hp`, since the supervisor is sending a struct ([https://github.com/cyberbotics/webots/blob/master/projects/robots/softbank/nao/controllers/nao\_soccer\_supervisor/RoboCupGameControlData.h#L76](https://github.com/cyberbotics/webots/blob/master/projects/robots/softbank/nao/controllers/nao_soccer_supervisor/RoboCupGameControlData.h#L76)) I would try in Python to read it with the `struct` module ([https://docs.python.org/3/library/struct.html](https://docs.python.org/3/library/struct.html)).

##### hp 07/13/2020 18:32:12
But this gives me the following error: UnicodeDecodeError: 'utf-8' codec can't decode byte 0xd9 in position 8: invalid continuation byte


To specify, I would like to leave the Supervisor untouched (that means in C) and only translate the players to python. That means, I need to find the right 'decode' parameters so that the python receiver can understand the C emitter. At the moment, my code for this looks like this: message=receiver.getData().decode('utf-8')


Hello, I was wondering if there was an easy way to translate the soccer demo (which is written in C) into python. I am trying manually and I am having a hard time using the Receiver correctly..

##### Clara Cardoso Ferreira 07/13/2020 16:02:57
Yeah, that's my strategy. It seems like it ran... i just had to wait a minute for the code to finish. I still dont know why the robot gets stuck, but Ill play around with the code a little longer. Thanks

##### Stefania Pedrazzi [cyberbotics] 07/13/2020 15:31:37
If you copy one to one the sample controller and set the robot DEF name, then the sample controller works as expected.


The problem is probably the integration of the sample code with your already existing controller code.

You should inspect step by step what is the resulting controller doing, which are the differences from the previous controller and where does the issue come from.

##### Clara Cardoso Ferreira 07/13/2020 15:20:57
Im curious as to how I can get the code I copied  from the supervisor documentation to run as expected.


[https://cyberbotics.com/doc/guide/supervisor-programming?tab-language=c](https://cyberbotics.com/doc/guide/supervisor-programming?tab-language=c)


the simulation never runs the for loopðŸ§

##### Stefania Pedrazzi [cyberbotics] 07/13/2020 15:10:12
It depends on what you are doing with the Supervisor API, but if you do not modify the world then it should run exactly as before adding the Supervisor API instructions

##### Clara Cardoso Ferreira 07/13/2020 15:06:44
Even though I m not getting an error anymore, Im not sure if the simulation is functioning properly... Would you have any suggestions as to why the robot moves about 1 m but gets stuck? 

When I m not running the supervisor, the robot runs the course without problems


all I did was change the DEF name as you suggested


Nice! I think it worked because I m not getting the error anymore
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/732250798825930802/unknown.png)
%end

##### Stefania Pedrazzi [cyberbotics] 07/13/2020 14:59:51
In this tutorial it is explained how to set the DEF name: [https://www.cyberbotics.com/doc/guide/tutorial-2-modification-of-the-environment#def-use-mechanism](https://www.cyberbotics.com/doc/guide/tutorial-2-modification-of-the-environment#def-use-mechanism)


To set the DEF name you have to select the node and write the DEF name in the field editor


You did not set the DEF name. "Sojourner" is the node name not the DEF name.

##### Clara Cardoso Ferreira 07/13/2020 14:55:46
yes, thanks for the prompt response



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/732248871190790164/unknown.png)
%end

##### Stefania Pedrazzi [cyberbotics] 07/13/2020 14:55:00
It seems that no node with DEF name "Sojourner" is found. Are you sure that such a node exists?

##### Clara Cardoso Ferreira 07/13/2020 14:53:41
Im trying to use the supervisor example on the documentation and for this line:

  WbNodeRef robot\_node = wb\_supervisor\_node\_get\_from\_def("Sojourner");

  WbFieldRef trans\_field = wb\_supervisor\_node\_get\_field(robot\_node, "translation");



Im getting this error: [supervisorExample] Error: wb\_supervisor\_node\_get\_field() called with NULL or invalid 'node' argument.



Would you please help me understand how to fix it?

##### David Mansolino [cyberbotics] 07/13/2020 13:42:05
Ok, in that case, is the `WEBOTS_HOME`  environment variable set?

##### Machini 07/13/2020 13:33:29
I've build the Webots from .deb, should I uninstall it and build Webots by the webots\_ros2 package?

##### David Mansolino [cyberbotics] 07/13/2020 13:31:54
Do you have internet access from where you build the package? It seems the package is having issue downloadign Webots

##### Machini 07/13/2020 13:29:02
build  the webots\_ros2 package from sources this happened


Starting >>> webots\_ros2\_desktop

Traceback (most recent call last):s2\_desktop - 2.7s]

  File "/usr/lib/python3.6/urllib/request.py", line 1325, in do\_open

    encode\_chunked=req.has\_header('Transfer-encoding'))

  File "/usr/lib/python3.6/http/client.py", line 1264, in request

    self.\_send\_request(method, url, body, headers, encode\_chunked)

  File "/usr/lib/python3.6/http/client.py", line 1310, in \_send\_request

    self.endheaders(body, encode\_chunked=encode\_chunked)

  File "/usr/lib/python3.6/http/client.py", line 1259, in endheaders

    self.\_send\_output(message\_body, encode\_chunked=encode\_chunked)

  File "/usr/lib/python3.6/http/client.py", line 1038, in \_send\_output

    self.send(msg)

  File "/usr/lib/python3.6/http/client.py", line 976, in send

    self.connect()

  File "/usr/lib/python3.6/http/client.py", line 1417, in connect

    super().connect()

  File "/usr/lib/python3.6/http/client.py", line 948, in connect

    (self.host,self.port), self.timeout, self.source\_address)

  File "/usr/lib/python3.6/socket.py", line 724, in create\_connection

    raise err

  File "/usr/lib/python3.6/socket.py", line 713, in create\_connection

    sock.connect(sa)

ConnectionRefusedError: [Errno 111] Connection refused

##### David Mansolino [cyberbotics] 07/13/2020 08:30:09
You're welcome

##### oroulet 07/13/2020 08:29:43
> A rendering is performs in any case at each step, but you can reduce this from the `Viewpoint.FPS` field ([https://cyberbotics.com/doc/reference/worldinfo](https://cyberbotics.com/doc/reference/worldinfo)) or usign the fast mode.

`@David Mansolino` OK I will play with that. Thanks


also ctrl-c on that loop kills the interpreter.. .. I am not sure this is correct behaviour... Although this a common issue with C wrappers...

##### David Mansolino [cyberbotics] 07/13/2020 08:28:12
A rendering is performs in any case at each step, but you can reduce this from the `Viewpoint.FPS` field ([https://cyberbotics.com/doc/reference/worldinfo](https://cyberbotics.com/doc/reference/worldinfo)) or usign the fast mode.

##### oroulet 07/13/2020 08:26:54
yes it is webots. OK if you says it is normal . We trust you ;-). although when nothing happens I would have expected some optimization

##### David Mansolino [cyberbotics] 07/13/2020 08:25:44
> stupide question: why does a simple script like this one

> 

> In [1]: from controller import Supervisor as S                                                         

> In [2]: s = S()                         

> In [3]: while True: 

>    ...:     s.step(1000) 

>    ...:                                           

> Uses a lot of GPU?                                                        

> 

> that script does nothing apart calling step() every second . GPU uses goes to 0 if not running the loop

`@oroulet` because the step is makeing Webots run and therefore perform rendering, it is probably not your controller, but Webots that is using this GPU.


> When relocating we already are treating to not overlap them... But in the case of the robot 'exploding' after a collision, what can i change to avoid that (in addition to improve the bounding objects -> regarding improving the bounding objects would be simplifying them?)

`@Luiz Felipe` yes, makeign sure to use only basic geometries and avoiding thin geometries.

##### oroulet 07/13/2020 08:24:13
stupide question: why does a simple script like this one



In [1]: from controller import Supervisor as S                                                         

In [2]: s = S()                         

In [3]: while True: 

   ...:     s.step(1000) 

   ...:                                           

Uses a lot of GPU?                                                        



that script does nothing apart calling step() every second . GPU uses goes to 0 if not running the loop
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/732150380561170462/unknown.png)
%end

##### Luiz Felipe 07/13/2020 08:23:21
Will try this: [https://cyberbotics.com/doc/guide/modeling](https://cyberbotics.com/doc/guide/modeling)


When relocating we already are treating to not overlap them... But in the case of the robot 'exploding' after a collision, what can i change to avoid that (in addition to improve the bounding objects -> regarding improving the bounding objects would be simplifying them?)

##### David Mansolino [cyberbotics] 07/13/2020 08:05:37
that can indeed be a good explanation. In that case you should make sure that they do not 'explode', you can try improvign the boundign objects, make sure that if you 'teleport' the robot you don't overlap them, etc.

##### Luiz Felipe 07/13/2020 08:04:00
It seems that after a collision, the robot is sent to a position so far in the space that it crashes the webots physics dynamics library. Now I can reproduce the error selecting a robot and grabbing it really far from the field.


I just got a crash for the one with the physics plugin (recompiled with CFLAGS=-g). Visually I see that one of the 10 robots disappeared from the screen. Only 9 are visible... Regarding the backtrace, I got the same backtrace I sent you once again (3 times i get the same backtrace). Nothing related to the functions contained in the collision\_detector.cpp file (e.g. webots\_physics\_step(), webots\_physics\_collide())...

##### David Mansolino [cyberbotics] 07/13/2020 07:49:52
Yes it is called by Webots indeed. So it will be called even if you don't have physics plugin, but since the physics plugin interact with this fucntion, it can be the cause of the crash in this function.

##### Luiz Felipe 07/13/2020 07:48:15
I am running one simulation without the physics plugin and one simulation with the physics plugin (but recompiled with CFLAGS=-g). Both running via gdb. This dWorldStep() function is from the ODE dynamics library right? If I don't have a physics plugin, only call a step() in the supervisor, does this function is still used?


It is already set to 1.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/732129261909180416/unknown.png)
%end

##### David Mansolino [cyberbotics] 07/13/2020 06:57:17
Make sure the 'WorldInfo.optimalThreadCount' field is set to 1.

##### Luiz Felipe 07/13/2020 06:56:32
I will re-run with the collision plugin disabled... what do you mean by "did you enable multithreading of the physics in your simulation?"

##### David Mansolino [cyberbotics] 07/13/2020 06:52:56
Yes, that might be the reason indeed, the simplest is probably to try runnign your simulation without physics plugin and check if it still crashes.

##### Luiz Felipe 07/13/2020 06:06:44
Do you think the crash is related to the physics plugin or related to calling the step function in webots?


we have a physics plugin that uses a mutex, like this: [https://github.com/omichel/test\_world/blob/develop/plugins/physics/collision\_detector/collision\_detector.cpp](https://github.com/omichel/test_world/blob/develop/plugins/physics/collision_detector/collision_detector.cpp)


`@David Mansolino` the first 15 steps... (I got 2 crashes, 2 backtraces during the weekend and they are the same...)
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/732115583000248441/unknown.png)
%end

##### David Mansolino [cyberbotics] 07/13/2020 06:01:04
> Hi there. I've designed a robot in creo which i want to simulate in webots. After watching a couple of tutorials and reading the documentation, it told me that the best possible way to import my model into webots is via blender. however whenever i install the addon provided in github for importing into blender, it gives an error that "upgrade to 2.8x required" while i'm already using 2.83.2 version of blender. Is there any way to fix it or should i install 2.79 version of blender for which the addon was originally made?

`@DragonBorne` unfortunately, this plugin doesn't support Blender >= 2.8, so for now the only possible solution to use it is to install Blender 2.79.

Alternatively, the beta version of Webots R2020b support import from way more file format (maybe some of them can be exported directly from creo), see ' Import 3D Model...': [https://cyberbotics.com/doc/guide/the-user-interface?version=develop#file-menu](https://cyberbotics.com/doc/guide/the-user-interface?version=develop#file-menu)

Here is a link to the beta: [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)


> `@David Mansolino` I got a backtrace. I guess the most important functions in the bt are related to dWorldStepAndSpaceCollide() and dlcp::transfer\_i\_from\_C\_to\_N() ... The first 10 lines of the backtrace looks like this:

`@Luiz Felipe` did you enable multithreading of th e physics in your simulation?


`@camillebrucky` Webots Python API is compiled for the stadard version of Python and not for anaconda. Here are some information about how to compile the API for another version of Python: [https://cyberbotics.com/doc/guide/using-python#use-an-alternative-python-version](https://cyberbotics.com/doc/guide/using-python#use-an-alternative-python-version)

##### camillebrucky 07/11/2020 13:48:07
Hey everyone, I'm new to Webots and I'm having trouble setting up the correct python version. When I change the python command from "python" to "python3" in the general preferences, my script crashes every time. My python3 version is 3.7.6 and I'm using the base environment in anaconda. The error message I get in the console is: WARNING: epuck\_go\_forward: The process crashed some time after starting successfully.

WARNING: 'epuck\_go\_forward' controller crashed.

##### Luiz Felipe 07/11/2020 03:57:46
`@David Mansolino` I got a backtrace. I guess the most important functions in the bt are related to dWorldStepAndSpaceCollide() and dlcp::transfer\_i\_from\_C\_to\_N() ... The first 10 lines of the backtrace looks like this:
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/731358552274501772/unknown.png)
%end

##### DragonBorne 07/10/2020 22:06:50
Hi there. I've designed a robot in creo which i want to simulate in webots. After watching a couple of tutorials and reading the documentation, it told me that the best possible way to import my model into webots is via blender. however whenever i install the addon provided in github for importing into blender, it gives an error that "upgrade to 2.8x required" while i'm already using 2.83.2 version of blender. Is there any way to fix it or should i install 2.79 version of blender for which the addon was originally made?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/731270236204040312/unknown.png)
%end

##### Luiz Felipe 07/10/2020 07:20:31
> `@Luiz Felipe` yes, adding '/usr/local/webots/lib/webots' to your path might help.

`@David Mansolino` Now it seems to be working ðŸ™‚ a lot of Thread exited appearing in the terminal I have GDB opened... it seems that i need to wait for a crash ðŸ™ƒ

##### David Mansolino [cyberbotics] 07/10/2020 07:16:16
You're welcome

##### Lifebinder (tsampazk) 07/10/2020 07:16:09
`@David Mansolino` Thank you david!

##### David Mansolino [cyberbotics] 07/10/2020 07:14:18
> `@David Mansolino` Actually it was not attached correctly hehe... when i use "gdb /usr/local/webots/bin/webots-bin" and then use the command 'run' I get "/usr/local/webots/bin/webots-bin: error while loading shared libraries: libQt5WebSockets.so.5: cannot open shared object file: No such file or directory"... I don't get this error when opening running "webots" on the terminal... should I add any path to LD\_LIBRARY\_PATH?

`@Luiz Felipe` yes, adding '/usr/local/webots/lib/webots' to your path might help.


> `@David Mansolino` Oh that's unfortunate. Is there any known workaround?

`@Lifebinder (tsampazk)` completely importing a new robot if it works with yoru use case.

Otherwise if you ready need it, you can open a feature request so that we add the support for this:  [https://github.com/cyberbotics/webots/issues/new?template=feature\_request.md](https://github.com/cyberbotics/webots/issues/new?template=feature_request.md)

##### Luiz Felipe 07/10/2020 07:11:36
> Once you attached it you can type un gdb 'continue' to let Webots run, then you can use Webots as usual, when it crashed you can go back to gdb and get the stack with 'backtrace'.

`@David Mansolino` Actually it was not attached correctly hehe... when i use "gdb /usr/local/webots/bin/webots-bin" and then use the command 'run' I get "/usr/local/webots/bin/webots-bin: error while loading shared libraries: libQt5WebSockets.so.5: cannot open shared object file: No such file or directory"... I don't get this error when opening running "webots" on the terminal... should I add any path to LD\_LIBRARY\_PATH?

##### Lifebinder (tsampazk) 07/10/2020 07:05:28
> `@Lifebinder (tsampazk)` This is unfortunately not supported, devices imported during the simulation are not available from the controller.

`@David Mansolino` Oh that's unfortunate. Is there any known workaround?

##### David Mansolino [cyberbotics] 07/10/2020 06:57:39
Once you attached it you can type un gdb 'continue' to let Webots run, then you can use Webots as usual, when it crashed you can go back to gdb and get the stack with 'backtrace'.

##### Luiz Felipe 07/10/2020 06:55:21
> `@Luiz Felipe` your right, however, the simplest solution is to start Webots normaly and then start GDB and attach the webots-bin process to it, here is an example for controller (works exactly the same way for Webots): [https://cyberbotics.com/doc/guide/debugging-c-cpp-controllers](https://cyberbotics.com/doc/guide/debugging-c-cpp-controllers)

`@David Mansolino` This works. I opened webots with one terminal, and open "gdb /usr/local/webots/bin/webots-bin" with other terminal. Now i can get the variables with "info variables" for example. As the crash happens randomly (i cannot control when it happens) and i am quite noobie with gdb I don't know how I can get the stack from gdb after the webots crash and shut down.

##### David Mansolino [cyberbotics] 07/10/2020 06:37:20
Here are some related files:

[https://github.com/cyberbotics/webots/blob/master/src/lib/Controller/api/request.c](https://github.com/cyberbotics/webots/blob/master/src/lib/Controller/api/request.c)

[https://github.com/cyberbotics/webots/blob/master/src/lib/Controller/util/g\_pipe.c](https://github.com/cyberbotics/webots/blob/master/src/lib/Controller/util/g_pipe.c)


> btw what protocol is used between external controllers and webots? can we wireshark it?

`@oroulet` Webots uses it's own protocol to communicate with the controller processes (it is exactly the same for normal or 'extern' controllers), it uses pipes (and shared memory for camera images).


> `@David Mansolino` 2020b did not solve the issue of get\_range\_image() returning None sometimes after startup in python   

> Also adding `del robot` and `del supervisor` do not in fact change the behaviour, we still often an error message after closing the python controlle with ctrl-c.

> So there is something else going on here... we have threads but are carefull to only call webot from main thread and I remember that early rototypes without threads also had that issue. must be something with the clenaup of connection...

`@oroulet` that strange, once the del robot is called, the connection with webots should be closed. When you do the del, do you see any exit message in Webots?


> `@David Mansolino` , I think I need additional help using the debug version. I ran the simulation using the debug version, I got the crash but the same error message only in my terminal ("/usr/local/bin/webots: line 88: 28099 aborted (core dumped)"). I guess I need to use gdb to get additional information, but using 'gdb webots-bin' I get an error...

`@Luiz Felipe` your right, however, the simplest solution is to start Webots normaly and then start GDB and attach the webots-bin process to it, here is an example for controller (works exactly the same way for Webots): [https://cyberbotics.com/doc/guide/debugging-c-cpp-controllers](https://cyberbotics.com/doc/guide/debugging-c-cpp-controllers)


> Hey there, i'm running into an issue using R2020a rev1 and python. 

> 

> I am importing a .wbo node which is just a default light sensor i exported earlier, into the children of supervisor robot node.  I am then trying to get a handle to the light sensor device by using the getLightSensor() method, but it returns a warning that it is not found. I even tried delaying several steps between importing the light sensor and calling getLightSensor. 

> 

> Is there something i'm missing? I have a simple project reproducing the issue, i can share it if needed.

`@Lifebinder (tsampazk)` This is unfortunately not supported, devices imported during the simulation are not available from the controller.


> Hello, Can I fill an object like a bag of flour while respecting its physical properties such as weight, density, etc.? Thank you.

`@Steven Granizo` yes sure, here is a tutorial about creating objects: [https://cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes](https://cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes)

##### Luiz Felipe 07/10/2020 02:32:22
`@David Mansolino` , I think I need additional help using the debug version. I ran the simulation using the debug version, I got the crash but the same error message only in my terminal ("/usr/local/bin/webots: line 88: 28099 aborted (core dumped)"). I guess I need to use gdb to get additional information, but using 'gdb webots-bin' I get an error...

##### oroulet 07/09/2020 18:04:54
btw what protocol is used between external controllers and webots? can we wireshark it?


`@David Mansolino` 2020b did not solve the issue of get\_range\_image() returning None sometimes after startup in python   

Also adding `del robot` and `del supervisor` do not in fact change the behaviour, we still often an error message after closing the python controlle with ctrl-c.

So there is something else going on here... we have threads but are carefull to only call webot from main thread and I remember that early rototypes without threads also had that issue. must be something with the clenaup of connection...

##### Lifebinder (tsampazk) 07/09/2020 17:46:35
Hey there, i'm running into an issue using R2020a rev1 and python. 



I am importing a .wbo node which is just a default light sensor i exported earlier, into the children of supervisor robot node.  I am then trying to get a handle to the light sensor device by using the getLightSensor() method, but it returns a warning that it is not found. I even tried delaying several steps between importing the light sensor and calling getLightSensor. 



Is there something i'm missing? I have a simple project reproducing the issue, i can share it if needed.

##### Steven Granizo 07/09/2020 17:00:15
Hello, Can I fill an object like a bag of flour while respecting its physical properties such as weight, density, etc.? Thank you.

##### Simon Steinmann [Moderator] 07/09/2020 12:18:56
okay, thank you ðŸ™‚

##### David Mansolino [cyberbotics] 07/09/2020 12:18:35
The simulationReset from the supervisor is performing the exact same action than the one from the user interface (except that the controller are not restarted).

But yes, except deleted node it should behave the same.

##### Simon Steinmann [Moderator] 07/09/2020 12:16:25
I'm talkinig about the supervisor function simulationReset, which doesnt restart the controller. But If I dont create or delete any nodes, I should be good?

##### David Mansolino [cyberbotics] 07/09/2020 12:14:37
For example node removed during the simulation are not re-inserted.

Here is the complete list of what a reset does:

[https://cyberbotics.com/doc/guide/the-user-interface#file-menu](https://cyberbotics.com/doc/guide/the-user-interface#file-menu)

##### Simon Steinmann [Moderator] 07/09/2020 12:13:31
with a reset


which aspects might not be 'clean'

##### David Mansolino [cyberbotics] 07/09/2020 12:12:59
the behavior is not exactly the same, the advantage of the reset are:

  - Much faster

  - The controller keeps running

And on the other side reload, make sure you are starting from a completely clean environment (like if you had close and re-open Webots).

##### Simon Steinmann [Moderator] 07/09/2020 12:10:55
or are there some things that might need to be considered?


quick question, given a small enough timestep, it should not matter if I reload the world or just reset the simulation between runs right?


Alright, thank you, will make benchmark automation much easier ðŸ™‚

##### David Mansolino [cyberbotics] 07/09/2020 12:09:14
Yes, this is less generic but in the Worldinfo case this should indeed work perfectly too

##### Simon Steinmann [Moderator] 07/09/2020 12:08:15
as Worldinfo is always on top, would this work?

root\_children\_field.getMFNode(0)

##### David Mansolino [cyberbotics] 07/09/2020 12:07:25
You're welcome

##### Simon Steinmann [Moderator] 07/09/2020 12:07:19
thanks so much ðŸ™‚

##### David Mansolino [cyberbotics] 07/09/2020 12:06:41
Here is an (untested) example:

```Python
root_children_field = supervisor.getRoot().getField('children')
for i in range(root_children_field.getCount()):
    node = root_children_field.getMFNode(i)
    if node.getType() == Node.WORLD_INFO:
        pass  # do something with the node
```

##### Simon Steinmann [Moderator] 07/09/2020 12:03:33
python

##### David Mansolino [cyberbotics] 07/09/2020 12:03:29
Sure, which language?

##### Simon Steinmann [Moderator] 07/09/2020 12:03:11
can you give me a code snippet for '2.'?

##### David Mansolino [cyberbotics] 07/09/2020 12:01:43
1. get the root node handle (which is a hidden Group node)

2. loop through the nodes in its children field

3. check the type of each node in the children field.


One solution would be to:

##### Simon Steinmann [Moderator] 07/09/2020 11:43:01
How can I get a nodehandle to 'worldinfo' without using DEF?

##### David Mansolino [cyberbotics] 07/09/2020 10:24:34
The first solution is not possible. But you can:

  - use a touchesensor to detect collision.

  - define a DEF for the Solid in the PROTO file and get it with the new `wb_supervisor_node_get_from_proto_def` function (only available in th ebeta of R2020b: [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)): 

  - [https://www.cyberbotics.com/doc/reference/supervisor?version=develop#wb\_supervisor\_node\_get\_from\_proto\_def](https://www.cyberbotics.com/doc/reference/supervisor?version=develop#wb_supervisor_node_get_from_proto_def)

  - [https://www.cyberbotics.com/doc/reference/supervisor?version=develop#wb\_supervisor\_node\_get\_proto\_field](https://www.cyberbotics.com/doc/reference/supervisor?version=develop#wb_supervisor_node_get_proto_field)

##### EPIC 07/09/2020 09:59:23
Or even better, send the value (or it's own DEF/ID) directly to supervisor


About the contact properties: Is it possible (in the PROTO) to make the node return a value/bool when another bounding object intersects with it? And then read the value with supervisor?

##### David Mansolino [cyberbotics] 07/09/2020 09:44:15
You're welcome

##### EPIC 07/09/2020 09:44:08
Ah, I see. Nice, thank you! ðŸ˜

##### David Mansolino [cyberbotics] 07/09/2020 09:43:13
Yes sure, you should remove the static only when you use a random part in your PROTO (which is a very rare case).

##### EPIC 07/09/2020 09:42:18
And I can still set the node to static right? Is it when a node depends on other variables/arguments one should not set it as static?

##### David Mansolino [cyberbotics] 07/09/2020 09:40:28
Yes exactly, if you write your own PROTO you have to do it, but this is quite simple, here is a simple example: [https://github.com/cyberbotics/webots/blob/74c086292a96bc0d372480e440de2fc56dc3a50e/projects/objects/buildings/protos/SimpleTwoFloorsHouse.proto#L263-L285](https://github.com/cyberbotics/webots/blob/74c086292a96bc0d372480e440de2fc56dc3a50e/projects/objects/buildings/protos/SimpleTwoFloorsHouse.proto#L263-L285)

##### EPIC 07/09/2020 09:32:53
Sorry. I found some example-code from the E-puck, where the code is written. I'll assume that's the way to do it ðŸ™‚


Hi! I see that one can enable and disable boundingObject when writing the PROTO with enableBoundingObject (True/False). Is the boolean value automatically connected to the boundingObject? Or do I have to write some code inside the PROTO?

##### David Mansolino [cyberbotics] 07/09/2020 08:26:26
Thank you ðŸ™‚

##### oroulet 07/09/2020 08:25:58
btw we are looking at webots to replace gazebo for robot simulation (we wanted something we could run without physicsc but with collilsion) and so far this looks very promissing. Much easier to install, better control over dependencies, more flexible architecture and less buggy. Great work!

##### David Mansolino [cyberbotics] 07/09/2020 08:23:15
You're welcome

##### oroulet 07/09/2020 08:23:06
thanks `@David Mansolino` We will check that

##### David Mansolino [cyberbotics] 07/09/2020 08:10:32
If you try with R2020b let us know if this fixes the issue or not.


> everything else seems to work. It is only the RangeFinder that breajs...

`@oroulet` the range-finder issue is a bug we fixed very recently in our development environment: [https://github.com/cyberbotics/webots/pull/1858](https://github.com/cyberbotics/webots/pull/1858)

You can get a beta of R2020b containing the fix here: [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)

##### oroulet 07/09/2020 08:08:23
everything else seems to work. It is only the RangeFinder that breajs...

##### Stefania Pedrazzi [cyberbotics] 07/09/2020 08:08:21
`@ContrastNull` yes, you can implement any movement from a controller. In the controller you should check the joint position and when it is close to the limits switch the motion direction

##### oroulet 07/09/2020 08:06:52
interesting. 

```
try:
    supervisor.plc_run_simulation(plc)
except (KeyboardInterrupt, BaseException):
    print("!!!!!!!!!!!!!!!!!!!!EXCPET CATCH!!!!!!!!!!!!")
    del plc
    del supervisor
    sys.exit(1) 
```



that kind of code allows reconnection after ctrl-c but triggers every time another issue we have had a few times before: RangeFinder.get\_range\_image() returns None... so the exit is still not clean enough..

Also generally I do not think it is a good idea to have a sys.exit() under a try catch,...

##### ContrastNull 07/09/2020 08:05:07
Is there any way to move an object, say a table, with an oceanic movement (technically, 'sea state level 3 movement') ?

I tried using a hinge2Joint and setting its minPosition and maxPosition, but after it reaches the limits, it stops. If it could somehow retrace its path backwards, will do the work.

##### oroulet 07/09/2020 07:53:20
As far as I know that code is supposed to be called anyway. You cannot catch it or avoid it when closing a script. The only issue is that you do not have control of WHEN it is called. So maybe it gets called AFTER the connection to webots is closed or something similar

Might be an issue in wrapper here

##### David Mansolino [cyberbotics] 07/09/2020 07:51:09
yes exactly, that's the key point

##### oroulet 07/09/2020 07:50:37
OK so that is the `__del__` method that has the code for cleaning up. I will try to test as soon as I get two minutes

##### David Mansolino [cyberbotics] 07/09/2020 07:49:25
None of them, this is to close Webot, you just want to close cleanly the controller. just something like:

```Python
del robot
sys.exit()
```

##### EPIC 07/09/2020 07:47:50
Should one use "simulationQuit()" or "simulationReset()" in that case?

##### David Mansolino [cyberbotics] 07/09/2020 07:46:43
Yes that's probably the reason, the kill just stop the script and does not call the 'Robot destructor', one possible way would be to catch the kil signal in your controller and delte the Robot instance and then quit

##### oroulet 07/09/2020 07:45:34
ummm , We are using python and just closing the script. I would have expected the cleanup to happen automatically... Maybe ctrl-C kills something before clenaup....

Is there a way to force cleanup from python?

##### EPIC 07/09/2020 07:45:25
I have the same issue in Python, when I stop the the python-script (and not the simulation)

##### David Mansolino [cyberbotics] 07/09/2020 07:41:47
This may indicate that you robot controller did not exited cleanly (e.g. by calling wb\_robot\_cleanup in C, or destructing the Robot instance in OO languages), then Webots is not aware that the controller closed and think that there is no free 'extern' controller.

##### oroulet 07/09/2020 07:00:11
to make it work again we need to reset simulation and then start controller again


I am getting that message quite often right after  restarting the robot controller. What is the reason? and Is there a way to avoid it? some better cleanup?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/730679457685438506/unknown.png)
%end

##### Andrei 07/09/2020 06:28:29
I guess I should have thought that a solid can be left passable and with really low height it can be used as a goal designation


ya, I added lots of rectangular obstacles.

##### David Mansolino [cyberbotics] 07/09/2020 06:26:01
If you want to be able to easily change and read its position, then the simplest solution is to add a simple rectangular 2D shape ([https://cyberbotics.com/doc/guide/tutorial-2-modification-of-the-environment](https://cyberbotics.com/doc/guide/tutorial-2-modification-of-the-environment)).

##### Andrei 07/09/2020 06:24:41
as long as I can def it and read it's position in supervisor, also drag it when I wanna change goal it's perfect

##### David Mansolino [cyberbotics] 07/09/2020 06:24:15
Ok then I would suggest following the tutorials as this is clearly explaine in the tutorials, in particular this one: [https://cyberbotics.com/doc/guide/tutorial-3-appearance](https://cyberbotics.com/doc/guide/tutorial-3-appearance)

##### Andrei 07/09/2020 06:23:29
texture in best

##### David Mansolino [cyberbotics] 07/09/2020 06:23:04
Hi, an you explain a bit more about your square?

Should it a be simply a texture on the floor or should it be a phyical 3D object with physics enabled?

##### Andrei 07/09/2020 06:21:25
hello. In a rectangle arena can I add a very thin square that can be read in supervisor and used as goal for robot? how can I change robot's goal without changing code or adding random to code?

##### David Mansolino [cyberbotics] 07/09/2020 05:37:08
The controller is executed on the Webots side before exportation, then the motion is recorded in the animation.

If you want to be able to change the controller in the web interface (similar to what is done at: [https://robotbenchmark.net/](https://robotbenchmark.net/), by the way the source code of this site is available at: [https://robotbenchmark.net/](https://robotbenchmark.net/)robotbenchmark.zip) you need to setup a simulation streaming server: 

[https://www.cyberbotics.com/doc/guide/web-streaming](https://www.cyberbotics.com/doc/guide/web-streaming)

[https://www.cyberbotics.com/doc/guide/web-simulation](https://www.cyberbotics.com/doc/guide/web-simulation)

##### Rajesh Roy 07/09/2020 04:25:00
Hey,

In Webots, one can write Python code to simulate and run the objects present inside the simulation. If I try to export my Webots project into HTML WebGL simulation how should I execute the Python script then?

##### David Mansolino [cyberbotics] 07/08/2020 14:36:27
I agree this is not 100% clear, we will tr to improve this.

##### GeoCSBI 07/08/2020 14:31:22
`@David Mansolino` A little note, in the documentation the names are in the form of "MultiSenseS21.name some device", the correct names that I was able to retrieve the devices by name was "MultiSense S21 some device".  I understand that by MultiSenseS21.name implies the name-field of MultiSenseS21  but it was somewhat confusing till I figured it out.

##### David Mansolino [cyberbotics] 07/08/2020 14:23:37
then the names of the devices are documented here (not simply `MultiSenseS21`) as this PROTO contains several internal Webots devices:

[https://cyberbotics.com/doc/guide/camera-sensors#internal-devices-names](https://cyberbotics.com/doc/guide/camera-sensors#internal-devices-names)


> `@David Mansolino` Thank you! I have already check it, I am having a hard time though to get it (sorry if this is a trivial question but I am fairly new with webots). I am trying to get the device from a Pedestrian(Supervisor) class -> self.getDevice("MultiSenseS21") but it returns None. I think I am messing up the tag but it is somewhat confusing. What tag am I supposed to use to get the object?

`@GeoCSBI` the issues in your code are:

You should never use the `getDevice` in python, but rather `getCamera`, `getRangeFinder` etc. I would recommend following this tutorial in Python: [https://www.cyberbotics.com/doc/guide/tutorial-4-more-about-controllers?tab-language=python](https://www.cyberbotics.com/doc/guide/tutorial-4-more-about-controllers?tab-language=python)

##### Stefania Pedrazzi [cyberbotics] 07/08/2020 14:22:23
`@GeoCSBI` note that the default MultiSenseS21 device name is `MultiSense S21` (with a space before S21)

##### GeoCSBI 07/08/2020 14:21:59
`@David Mansolino` I used the getDeviceByIndex method and managed to retrieve the devices thank you


`@David Mansolino` Thank you! I have already check it, I am having a hard time though to get it (sorry if this is a trivial question but I am fairly new with webots). I am trying to get the device from a Pedestrian(Supervisor) class -> self.getDevice("MultiSenseS21") but it returns None. I think I am messing up the tag but it is somewhat confusing. What tag am I supposed to use to get the object?

##### David Mansolino [cyberbotics] 07/08/2020 14:12:46
Ok, in that case, may I ask you to try with a beta version of Webots R2020b (we fixed many crashes since the latest version): [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)

##### EPIC 07/08/2020 14:11:58
Tried both safe mode and to remove the proto, still crashes

##### David Mansolino [cyberbotics] 07/08/2020 14:06:24
> I've added a PROTO inside the "protos" folder,, that's the only change I know off

`@EPIC` and if you remove it (temporarily), does it fix the crash?

##### EPIC 07/08/2020 14:06:11
No, I can try ðŸ™‚


I've added a PROTO inside the "protos" folder,, that's the only change I know off

##### David Mansolino [cyberbotics] 07/08/2020 14:05:50
Have you tried the safe mode?

##### EPIC 07/08/2020 14:05:32
Yeah, no luck :/

##### David Mansolino [cyberbotics] 07/08/2020 14:05:21
Have you tried rebooting?

##### EPIC 07/08/2020 14:04:54
Hi again ðŸ™‚ Since about 2-3 hours ago, my program keeps randomly crashing. Now it even crash if I just try to search for a node to add to the world.. I don't think I've made any changes in the program today either.. any clues why this could be happening?

##### David Mansolino [cyberbotics] 07/08/2020 14:00:04
and you can get the device handle using the Robot class: [https://cyberbotics.com/doc/reference/robot?tab-language=python#wb\_robot\_get\_device](https://cyberbotics.com/doc/reference/robot?tab-language=python#wb_robot_get_device)


`@GeoCSBI` as stated in the doc ([https://cyberbotics.com/doc/guide/camera-sensors#multisense-s21](https://cyberbotics.com/doc/guide/camera-sensors#multisense-s21))

The device contains the following device:

an inertial unit: [https://cyberbotics.com/doc/reference/inertialunit?tab-language=python](https://cyberbotics.com/doc/reference/inertialunit?tab-language=python)

several cameras: [https://cyberbotics.com/doc/reference/camera?tab-language=python](https://cyberbotics.com/doc/reference/camera?tab-language=python)

one range-finder: [https://cyberbotics.com/doc/reference/rangefinder?tab-language=python](https://cyberbotics.com/doc/reference/rangefinder?tab-language=python)

##### Reza 07/08/2020 13:56:36
Of course `@David Mansolino` . Thanks a lot!

##### GeoCSBI 07/08/2020 13:56:20
Guys I have another question, how do I use Multisense S21 from python? I can't seem to find which class i need to use to init it and use it

##### David Mansolino [cyberbotics] 07/08/2020 13:55:33
You're welcome.

Can you please re-ask the question on Monday as currently some of my colleagues which are more familliar with the subject are currenlty out of office.

##### Reza 07/08/2020 13:38:53
`@David Mansolino` Thank you very much David for your answers. For the case of the question 1, do you know anyone who might possess some hydrodynamic intuition on why these particular properties are defined? For the 2nd question that was very nice solution!

##### David Mansolino [cyberbotics] 07/08/2020 13:28:44
To check which part is selected, the simplest solution is to convert the PROTO node to base node (right click on the node in the scene-tree).

Then select the root salamander node in the Webots scene-tree and then select a part of the salamander in the 3D view, this part will then be auto-selected in the Webots scene-tree.


> My first question is that how one can decide on which properties in the ImmersionProperties are best to be defined.  I can see in the case of Salamander PROTO, there are some instances of dragForceCoefficients but not any case of dragTorqueCoefficients and just one instance of viscousResistanceTorqueCoefficient but not any of viscousResistanceForceCoefficient.

`@Reza` to my knowledge they have been choosen empirically to have a realistic motion of the salamender.

##### Reza 07/08/2020 13:22:33
In webots simulation window I mean so we can see which part is referring to since the names can be confusing sometimes


My second question is that can we highlight in anyway the parts of the PROTO node for which the properties are being defined

##### David Mansolino [cyberbotics] 07/08/2020 13:20:59
Hi `@Reza`~~ sure, what is your question?~~

##### Reza 07/08/2020 13:20:56
My first question is that how one can decide on which properties in the ImmersionProperties are best to be defined.  I can see in the case of Salamander PROTO, there are some instances of dragForceCoefficients but not any case of dragTorqueCoefficients and just one instance of viscousResistanceTorqueCoefficient but not any of viscousResistanceForceCoefficient.


ðŸ˜„

##### Simon Steinmann [Moderator] 07/08/2020 13:13:48
okay, different Reza then ðŸ˜‰

##### Reza 07/08/2020 13:13:26
Switzerland ðŸ™‚

##### Simon Steinmann [Moderator] 07/08/2020 13:13:15
`@Reza` are you at UBCO in Canada?

##### Reza 07/08/2020 13:12:23
Hello Everyone, I would like to ask some questions in regards to the Salamander robot Immersion Properties if someone can provide some info

##### GeoCSBI 07/08/2020 11:45:11
Thank you!

##### Simon Steinmann [Moderator] 07/08/2020 11:45:07
ðŸ¥³

##### GeoCSBI 07/08/2020 11:44:58
It worked!


`@Simon Steinmann` trying it now

##### Simon Steinmann [Moderator] 07/08/2020 11:35:45
Did you follow the tutorial Stefania posted above?

##### GeoCSBI 07/08/2020 11:35:40
Windows

##### EPIC 07/08/2020 11:34:56
Windows here

##### Simon Steinmann [Moderator] 07/08/2020 11:34:51
you guys on linux or windows?


The start of your controller in your own IDE should look something like this:



from controller import Supervisor



robot = Supervisor()

timestep = int(robot.getBasicTimeStep())

##### EPIC 07/08/2020 11:34:17
I remember I got the same errors as `@GeoCSBI`, regarding the DLL load. My controller itself found the files it needed. But when the controller imports "controller.py", "controller.py" again tried to import "\_controller.py" or something. And I somehow had only given the files in my project access to what I needed, and not other files like "controller.py".. (Atleast that's what I think was happening)

##### Simon Steinmann [Moderator] 07/08/2020 11:32:45
If your paths are correct and you import the controller in pycharm, you set the controller to extern in webots, then you should be able to run the controller inside pycharm

##### GeoCSBI 07/08/2020 11:31:51
even if i had done something wrong on the webots side, shouldn't Pycharm run the code? I will try and re-modify the paths

##### Stefania Pedrazzi [cyberbotics] 07/08/2020 11:31:25
Here is the documentation for extern controllers:

[https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-language=python](https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-language=python)

##### Simon Steinmann [Moderator] 07/08/2020 11:31:04
Just set your paths like I posted above and it shoulud work.

 export WEBOTS\_HOME='/usr/local/webots' 

you might have to change, depending on your install


ah okay, know what you mean

##### EPIC 07/08/2020 11:29:10
True `@Simon Steinmann`, but to set up the controller to use externally, it's nice to get a default set-up by Webots (by using their Wizard) ðŸ™‚

##### GeoCSBI 07/08/2020 11:29:04
`@EPIC` I didnt create a new virtual environment, i followed `@Simon Steinmann` way, set controller to extern

##### Stefania Pedrazzi [cyberbotics] 07/08/2020 11:27:36
yes, PYTHONPATH should also contain `${WEBOTS_HOME}\lib\controller\python37`

##### Simon Steinmann [Moderator] 07/08/2020 11:27:31
you dont need to create a new controller inside webots. Simply select 'extern' as the controller

##### EPIC 07/08/2020 11:26:00
Hi `@George`! I've been struggling a bit with PyCharm aswell. One of the thing I keep forgetting is to create a new project (and thereby a virtual environment) in PyCharm, after I have used Webots' "Wizard" to create a new controller. Have you created one?

##### Simon Steinmann [Moderator] 07/08/2020 11:25:21
my .bashrc contains this:

export WEBOTS\_HOME='/usr/local/webots'

export LD\_LIBRARY\_PATH="${LD\_LIBRARY\_PATH}:${WEBOTS\_HOME}/lib/controller"

export PYTHONPATH="${PYTHONPATH}:${WEBOTS\_HOME}/lib/controller/python27"

export PYTHONPATH="${PYTHONPATH}:${WEBOTS\_HOME}/lib/controller/python37"

##### Stefania Pedrazzi [cyberbotics] 07/08/2020 11:12:18
[https://cyberbotics.com/doc/reference/robot#wb\_robot\_mutex\_new](https://cyberbotics.com/doc/reference/robot#wb_robot_mutex_new)


About threadsafe properties, here are some additional documentation:

[https://cyberbotics.com/doc/reference/robot#wb\_robot\_task\_new](https://cyberbotics.com/doc/reference/robot#wb_robot_task_new)


`@oroulet` the `supervisor.step` function makes the simulation (physics computation, rendering, sensor measurements etc.) to run for the specified time step. If you don't call it regularly, then the simulation doesn't run.

##### oroulet 07/08/2020 11:05:23
just to make sure I understand clearly the way webots work:  Every call to the webots API is not threadsafe and must be done in that big loop:



          while supervisor.step(self.time\_step) != -1:

                # do something

##### David Mansolino [cyberbotics] 07/08/2020 09:09:13
You're welcome

##### oroulet 07/08/2020 09:08:58
OK . that is what we do now. Thanks

##### David Mansolino [cyberbotics] 07/08/2020 09:07:48
Unfortunately not, you have to get all of them and then check the distance manually to the point.

##### oroulet 07/08/2020 09:07:10
Is there a way to get a list of solids within a given volume? or within a range from a point?

##### David Mansolino [cyberbotics] 07/08/2020 08:44:06
A very simple simulation world + controller would be nice.

##### EPIC 07/08/2020 08:43:13
Sure ðŸ™‚ I manually added the object now (when the simulation were running), and the same problem occurred. When reporting, should I just describe the problem (like above)? Or do you need the code and the simulation-world?

##### David Mansolino [cyberbotics] 07/08/2020 08:23:58
Ok, in that case that is maybe a bug, can you try reproducing the issue with a very simple example (even if it implies adding manually the new object while the siulation is running) and report it here: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

thank you

##### EPIC 07/08/2020 08:20:53
No :/ I also tried to add the object as a child before I started the simulation - then everything worked just fine

##### David Mansolino [cyberbotics] 07/08/2020 08:20:04
Hi, does the object you imported overlap the bounding object of the touch sensor?

##### EPIC 07/08/2020 08:18:25
The output from the touch sensor is != 1 while I'm holding the object, both while overlapping other bounding objects and not


Hi! I'm having trouble with my touch sensor. The bounding object of the sensor is set at the end-effector of a robot, and is working just fine when there is nothing attached to the end-effector. But when the end-effector (gripper) is picking something up, the touch sensor doesn't work anymore (it starts working when I let go of the object that I picked up). Any idea why this could be happening?

Additional info: I'm not using physics (pure kinematic simulation). When I grab/pick up an object, I'm importing the object as a child of the end-effector/gripper (and then remove/delete the original object). When I put the object down/let go, I reverse the process (import the object into the world, then remove/delete the child-object from the end-effector/gripper).
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/730336402662752256/unknown.png)
%end

##### ð‘³ð‘¶ð‘¹ð‘« ð‘¶ð‘µð‘° 07/07/2020 12:09:20
`@Simon Steinmann` thank you very much .

##### Simon Steinmann [Moderator] 07/07/2020 11:50:45
`@ð‘³ð‘¶ð‘¹ð‘« ð‘¶ð‘µð‘°` you can change your controller here. If you want to create a new controller inside webots, use the wizard (top of the screen). If you select extern, you can have your controller running outside in your Terminal or IDE of your choice
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/730028027165147186/unknown.png)
%end

##### ð‘³ð‘¶ð‘¹ð‘« ð‘¶ð‘µð‘° 07/07/2020 11:47:56
Hi. I'm new to webots and i've to make a multi-robot system coordonation project using Webots. After i went through the tutorial and saw the basics i'm trying to make my own project. But when i add the pr2 robot for example to my world and project the robot does the things he do in the demo and uses the controller from demo. all i want is to use the robot but to code myself the controller. Can someone help me with some answers or to explain me what i've to do ? i know it sounds dumb ,but as i said i'm new to Webots .I tried to look up for other tutorials than the cyberbotics ones and i couldn't find  things related to my problem.

##### yash 07/07/2020 09:34:43
Okay let me check it out

##### David Mansolino [cyberbotics] 07/07/2020 09:31:56
Not necessarily, you can also define yourself the  `LD_LIBRARY_PATH` and `PYTHONPATH` environment variable before starting your node (see more explanation here: [https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-os=linux&tab-language=python#environment-variables](https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-os=linux&tab-language=python#environment-variables))

##### yash 07/07/2020 09:23:19
webots\_test01.py is a publisher node . So do I create a webots\_ros\_python.launch file and include the content as given in the above link .?

##### David Mansolino [cyberbotics] 07/07/2020 08:25:01
It seems you are not using the standard controller, what does 'webots\_test01.py? contain?

Did you set the PYTHONPATH to point to the Webots Python library?

Something like this: [https://github.com/cyberbotics/webots/blob/33d834e8debcc7c38a9be1144a48ae52971d303e/projects/languages/ros/webots\_ros/launch/webots\_ros\_python.launch#L12-L13](https://github.com/cyberbotics/webots/blob/33d834e8debcc7c38a9be1144a48ae52971d303e/projects/languages/ros/webots_ros/launch/webots_ros_python.launch#L12-L13)

##### yash 07/07/2020 08:22:43
Hello ! I am using a standard ROS controller , so when I run the node using rosrun I get this error ...
%figure
![image0.png](https://cdn.discordapp.com/attachments/565154703139405824/729975674886029322/image0.png)
%end

##### David Mansolino [cyberbotics] 07/07/2020 07:04:53
You're welcome, let us know when you have a stack or need help.

##### Luiz Felipe 07/07/2020 07:04:33
Thank you so much `@David Mansolino` , you are the best!

##### David Mansolino [cyberbotics] 07/07/2020 07:03:45
`@Luiz Felipe` here are the debug versions of R2020a-rev2 (webots-R2020a-rev2-x86-64\_debug.tar.bz2 and  webots\_2020a-rev2\_amd64\_debug.deb): [https://github.com/cyberbotics/webots/releases/tag/nightly\_6\_7\_2020](https://github.com/cyberbotics/webots/releases/tag/nightly_6_7_2020)


You're welcome

##### Gowtham 07/07/2020 06:31:19
thank you â™¥ï¸

##### David Mansolino [cyberbotics] 07/07/2020 06:24:46
I would recommend to check the code of the soccer-op, a very similar algorithm can be used for you robot.

If you want, Cyberbotics provide professional consulting and can write it for you: [https://www.cyberbotics.com/#plans](https://www.cyberbotics.com/#plans)

##### Gowtham 07/07/2020 06:22:39
if its possible can you help me to get atleast co-ordinates of the object. ( I  am asking similar function of vision library of robotis-op soccer robot)

##### David Mansolino [cyberbotics] 07/07/2020 06:19:40
What do you mean exactly by 'fixed frame'.

Since you can now the resolution and field of views of the camera, if you know the position and orientation of your camera (which you can get using a gps and inertial unit for example) you have everything you need to compute the object position (except the distance).

##### Gowtham 07/07/2020 06:12:27
I was trying to add object tracking to my mobile robot. I need  xCenter and yCenter of the object in a fixed frame can anyone help me ?


[https://photos.app.goo.gl/PhVTEAd6dYFYo2yG9](https://photos.app.goo.gl/PhVTEAd6dYFYo2yG9)

##### David Mansolino [cyberbotics] 07/07/2020 05:51:16
> Guys I have made a 4 wheeled mobile robot I have added a camera. I am planning to make robot can track the object like robotis soccer robot. But I am facing lots of error in library. I have sorted out but I can't use tge camera. ,! does anyone have custom object tracking library ?

`@Gowtham` hi, what is not working exactly with the camera, can you share th eproblematic part of your code?

##### ContrastNull 07/07/2020 04:44:14
`@DrVoodoo` thank you.

##### DrVoodoo [Moderator] 07/06/2020 20:28:58
you will need to specify the ImmersionProperties of the kite


density of 1.225 in my experience


`@ContrastNull` I have done simulations using Fluid nodes where Air is a low density fluid

##### ContrastNull 07/06/2020 17:16:47
Is there a way to simulate air drag on objects? Like a kite?

##### Gowtham 07/06/2020 17:16:20
Guys I have made a 4 wheeled mobile robot I have added a camera. I am planning to make robot can track the object like robotis soccer robot. But I am facing lots of error in library. I have sorted out but I can't use tge camera. ,! does anyone have custom object tracking library ?

##### David Mansolino [cyberbotics] 07/06/2020 12:53:20
You're welcome .-)

##### zeynepp 07/06/2020 12:53:05
Thank you so much. It worked in this version.

##### David Mansolino [cyberbotics] 07/06/2020 12:04:05
Perfect, let us know

##### zeynepp 07/06/2020 12:03:54
Of course, I will try

##### David Mansolino [cyberbotics] 07/06/2020 12:02:07
Ok, thank you for checking it. Can I ask you to test with a beta version of R2020b available here?

[https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)

##### zeynepp 07/06/2020 12:01:01
Yes. I tried it on two different computers to make sure.

##### David Mansolino [cyberbotics] 07/06/2020 11:42:51
That's strange because another user reported the exact same issue and for him it worked.

Are you sure you changed the correct file and it is this one that is been used?

##### zeynepp 07/06/2020 11:39:48
I applied the solution you recommended but got the same error


I will try, thank you

##### David Mansolino [cyberbotics] 07/06/2020 11:21:24
Ok, this is due to an incompatible new version of ikpy, we updated the controller to be compatible with the latest version of ikpy recently, but this is not yet released.

Can you try applying this patch to your controler?

[https://github.com/cyberbotics/webots/pull/1782/files](https://github.com/cyberbotics/webots/pull/1782/files)

##### zeynepp 07/06/2020 11:20:14
ikpy 3.0.1


pytho 3.7

##### David Mansolino [cyberbotics] 07/06/2020 11:19:16
which version of ikpy and python are you using?

##### zeynepp 07/06/2020 11:18:47

%figure
![hata.JPG](https://cdn.discordapp.com/attachments/565154703139405824/729657598185308200/hata.JPG)
%end


Hi. I want to run the example of the Irb robot but I get this error:

##### yash 07/06/2020 10:49:21
> Yes exactly

`@David Mansolino`  thanks , will try it out ðŸ‘

##### David Mansolino [cyberbotics] 07/06/2020 10:23:15
Yes exactly

##### yash 07/06/2020 10:17:16
> Hi `@yash` if yoru publisher and subscriber is using the services and topics provided by the default ros controller of Webots, you should simply assign the controller to 'ros'. Here are some example: [https://github.com/cyberbotics/webots\_ros](https://github.com/cyberbotics/webots_ros)

`@David Mansolino`  Understood! You mean to say standard ROS controller .?

##### Emna 07/06/2020 10:01:59
`@Stefania Pedrazzi` thanks for response i will do it

##### Stefania Pedrazzi [cyberbotics] 07/06/2020 09:58:52
Webots doesn't include any built-in generic navigation controller, in the provided simulations the robots are mainly using obstacle detection based on sensors


Hi `@Emna`, knokwing the target position you can use for example the GPS device to compare the current position with the target position and compute the motion direction. Based on that you just have to set your robot motors to move in that direction.

##### David Mansolino [cyberbotics] 07/06/2020 09:56:32
Hi `@yash` if yoru publisher and subscriber is using the services and topics provided by the default ros controller of Webots, you should simply assign the controller to 'ros'. Here are some example: [https://github.com/cyberbotics/webots\_ros](https://github.com/cyberbotics/webots_ros)

##### yash 07/06/2020 09:54:14
Hello .!

I am using Webots with ROS . I am programming a publisher and subscriber node using visual studio code , then should have to save the nodes in the source file(src) of  webots\_ros Package? 

And what about the controller field of the robot node , which controller should I select there .?

##### Emna 07/06/2020 09:49:29
hi, how can i get a navigation controller to a specific target, i will use it to implement my model

##### Stefania Pedrazzi [cyberbotics] 07/06/2020 09:49:11
you're welcome

##### EPIC 07/06/2020 09:48:26
Ah, clever.. I didn't understand how to use it from the documentation, but that example were really nice. Will see if I can make it work as in the example, thank you!

##### Stefania Pedrazzi [cyberbotics] 07/06/2020 09:41:42
this is for example done in the SumoSupervisor controller: [https://github.com/cyberbotics/webots/blob/master/projects/default/controllers/sumo\_supervisor/Objects.py#L158](https://github.com/cyberbotics/webots/blob/master/projects/default/controllers/sumo_supervisor/Objects.py#L158)


for example storing all the box description in a variable (or file) and just adding the DEF name part dynamically just before calling the import instruction


so you can dynamically build the string in the controller


With the Supervisor API you can also import a node from string:

[https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_field\_import\_mf\_node\_from\_string](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_field_import_mf_node_from_string)

##### EPIC 07/06/2020 09:35:45
How could I set a different DEF name? ðŸ™‚


Oh, really? That would be a better solution indeed

##### Stefania Pedrazzi [cyberbotics] 07/06/2020 09:35:05
It is also possible to import objects in runtime and set a different DEF name

##### EPIC 07/06/2020 09:34:29

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/729631350306504744/unknown.png)
%end


They all have the same DEF, as I import the same object in run-time (a robot is picking up a box - I'm importing a box inside the grippers child-node, and deletes the original box when picking it up). To keep track of all the boxes, I sort them by ID

##### Stefania Pedrazzi [cyberbotics] 07/06/2020 09:32:39
what I could suggest you is to use DEF nodes to identify your boxes instead of the internal unique id


the best would be to provide a fully working example


sorry but this part of code doesn't help very much given that most of the functionality is still missing

##### EPIC 07/06/2020 09:28:30
Where "self.id\_box\_list" is the list of ID's it's looping through. I have checked that it's not an index-error. The new ID is added to the list, but it doesn't seem to find the object with the given ID



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/729629297832230972/unknown.png)
%end

##### Stefania Pedrazzi [cyberbotics] 07/06/2020 09:24:28
`@EPIC` could you provide some code so that we can better understand what you are doing?

##### EPIC 07/06/2020 09:23:06
Hi! I'm trying to loop through a list of ID's but I'm having some problems. I also read in your documentation that looping through ID's is not recommend. Is there an obvious reason it doesn't work? (I'm adding a node in run-time, adding its ID to a list, and loop through the list)

##### David Mansolino [cyberbotics] 07/06/2020 08:21:52
You're welcome

##### Robsicky 07/06/2020 08:21:40
OkiðŸ˜€ Thanks a lot!

##### David Mansolino [cyberbotics] 07/06/2020 08:20:58
yes

##### Robsicky 07/06/2020 08:20:47
Also, is it formatted from top left by rows?


Ah, thanks!

##### David Mansolino [cyberbotics] 07/06/2020 08:19:39
The last value can be ignored.


The format is BGRA ([https://cyberbotics.com/doc/reference/camera#camera-image](https://cyberbotics.com/doc/reference/camera#camera-image))

##### Robsicky 07/06/2020 08:18:50
Hi!ðŸ˜€ 

Quick question:

The format of the raw image bytes from

 `getImage()`

, is it b, g, r and a 4th value? What is the 4th?

##### David Mansolino [cyberbotics] 07/06/2020 08:02:15
You're welcome ðŸ™‚

##### chenpixx 07/06/2020 08:02:06
Thanks a lot. It works

##### David Mansolino [cyberbotics] 07/06/2020 07:59:31
Ok, the problem is probably related tot he fact that you have to do a robot.step between the camera activation and the getImageArray call

##### chenpixx 07/06/2020 07:59:03
It normally works.


I received after reset

##### David Mansolino [cyberbotics] 07/06/2020 07:57:11
neither us without the rest of the code

##### chenpixx 07/06/2020 07:56:48
I cant understanr the problem.


This is camera error for op3.



%figure
![image0.jpg](https://cdn.discordapp.com/attachments/565154703139405824/729606606307721236/image0.jpg)
%end

##### David Mansolino [cyberbotics] 07/06/2020 05:40:20
You're welcome!

##### mint 07/06/2020 05:40:03
Thank you David and Luiz!


Oh.. I understood

##### David Mansolino [cyberbotics] 07/06/2020 05:38:40
> Hello, my Webots R2020a displays ModuleNotFoundError when importing numpy in python supervisor. python 2, python 3 and numpy are all correctly installed on the local PC, and numpy is imported with no error when python is run on the terminal. Could you help with this  issue?

`@mint` the problem come from the fact that you are using the snap package, the snap package is running in a kind of sandbox and does not have access to external modules. You should either use another installation procedure for Webots either use extern controller: [https://cyberbotics.com/doc/guide/running-extern-robot-controllers](https://cyberbotics.com/doc/guide/running-extern-robot-controllers)


> `@David Mansolino`, I think i will need the debug version to find what is responsible for the webots crash in my environment. In the 2020b the error still happens.

`@Luiz Felipe` ok, I will create it an let you know when it is ready


> Hi all, I created a factory scene and the Physics simulation complains that its too big: "WARNING: The current physics step could not be computed correctly. Your world may be too complex. If this problem persists, try simplifying your bounding object(s), reducing the number of joints, or reducing WorldInfo.basicTimeStep." I tried changing the basicTimeStep option but my robot still jumps around in the scene like crazy. Are there some more tricks to get such scene working in Webots? thanks

`@ThomasH` very nice simulation world!

as `@Simon Steinmann` said, you should be able to improve the stability by simplifying the bounding objects (make sure to use only basic geometries such as box, sphere, cylinder, etc.)


> *Note: The playback option may not work correctly depending on your default Web browser.*

> These are the lines from X3D and Web Scene documentation. I have tried using a web scene many times, but cant figure out how to play the simulation? 

> Any idea how should I play the simulation in the webpage?

`@ContrastNull` did you checked this page?

[https://www.cyberbotics.com/doc/guide/web-animation](https://www.cyberbotics.com/doc/guide/web-animation)


> Getting some weird shadow behaviour which you might be able to help with?

> Shadows on the floor pane look fine for one PNG then disappear for another. The only thing that's changed between the two is the image texture path. Any idea what could cause this please?

`@Doc` probably that the one not receiving shadows has an alpha channel, if a textures has an alpha channel then the object is considered as partially transparent and therefore doesn't receive or cast shadows

##### mint 07/06/2020 05:15:08
*the one with the issue


my other PC's webot has a text box with "python3" written in it. but the one is the issue has no text box


it just says "built-in python (snap)"

##### Luiz Felipe 07/06/2020 05:09:00
The python command in Webots -> Tools -> Preferences is pointing to the right command of your python environment?

##### mint 07/06/2020 05:08:04
Hello, my Webots R2020a displays ModuleNotFoundError when importing numpy in python supervisor. python 2, python 3 and numpy are all correctly installed on the local PC, and numpy is imported with no error when python is run on the terminal. Could you help with this  issue?

##### Luiz Felipe 07/06/2020 02:06:27
`@David Mansolino`, I think i will need the debug version to find what is responsible for the webots crash in my environment. In the 2020b the error still happens.

##### ThomasH 07/05/2020 12:10:09
A very low basicTimeStep=2 seems to work fine (though the simulation speed is very slow). thanks for your help


though the warning still pops up every second


I just run the simulation with time step 4 and did not see the robot "explode" so far


I am using the iRobot create

##### Simon Steinmann [Moderator] 07/05/2020 12:04:51
what robot are you usingÃŸ


The bounding objects that is


instead of a triangle/point mesh, defining things as base geometries like spheres, cylinders and boxes, immensely increases accuracy and performance


and the biggest difference you can make, is to simplify geometries

##### ThomasH 07/05/2020 12:02:30
ok thanks, I already tried 4 and still had issues, but I will try again

##### Simon Steinmann [Moderator] 07/05/2020 12:02:16
you still have the issues with 4?


4-8 is much more reasonable


32 and 50 are HUGE

##### ThomasH 07/05/2020 12:01:53
I tried using 32, 50 and 4

##### Simon Steinmann [Moderator] 07/05/2020 12:01:34
What timeStep are you using?

##### ThomasH 07/05/2020 12:00:27

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/729305696109330432/unknown.png)
%end


Hi all, I created a factory scene and the Physics simulation complains that its too big: "WARNING: The current physics step could not be computed correctly. Your world may be too complex. If this problem persists, try simplifying your bounding object(s), reducing the number of joints, or reducing WorldInfo.basicTimeStep." I tried changing the basicTimeStep option but my robot still jumps around in the scene like crazy. Are there some more tricks to get such scene working in Webots? thanks

##### ContrastNull 07/05/2020 10:05:36
*Note: The playback option may not work correctly depending on your default Web browser.*

These are the lines from X3D and Web Scene documentation. I have tried using a web scene many times, but cant figure out how to play the simulation? 

Any idea how should I play the simulation in the webpage?

##### Doc 07/04/2020 08:36:33

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/728891993043894342/unknown.png)
%end


Getting some weird shadow behaviour which you might be able to help with?

Shadows on the floor pane look fine for one PNG then disappear for another. The only thing that's changed between the two is the image texture path. Any idea what could cause this please?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/728891916053119017/unknown.png)
%end

##### David Mansolino [cyberbotics] 07/03/2020 15:09:29
Thank you, you too

##### Simon Steinmann [Moderator] 07/03/2020 15:08:38
have a good weekend ðŸ™‚

##### David Mansolino [cyberbotics] 07/03/2020 15:08:37
> fairly recent, like a month old or so

`@Simon Steinmann` maybe you should try with a more recent one.

##### Simon Steinmann [Moderator] 07/03/2020 15:08:32
will do

##### David Mansolino [cyberbotics] 07/03/2020 15:08:21
I am sorry but I have to leave, can you please report this here (includeing the urdf): [https://github.com/cyberbotics/urdf2webots/issues/new](https://github.com/cyberbotics/urdf2webots/issues/new)

Or come back here on Monday.

##### Simon Steinmann [Moderator] 07/03/2020 15:07:58
fairly recent, like a month old or so

##### David Mansolino [cyberbotics] 07/03/2020 15:07:19
that looks strange, are you using an up to date version of the impoter?

##### Simon Steinmann [Moderator] 07/03/2020 15:05:46
does it matter, or simply use the visual mesh instead, if collision is not set?


and why can't .stl be used for colllision?


or shoulud I add args


python demo.py --input=Kinova\_Gen3\_6DOF.urdf  --box-collision


what command should I use?

##### David Mansolino [cyberbotics] 07/03/2020 15:04:25
Make sense then that your bounding object are not set

##### Simon Steinmann [Moderator] 07/03/2020 15:03:39
Parsing Mesh: /home/simon/Documents/gitlab/sim2real\_baselines\_webots/simulations/ros\_workspace/src/ros\_kortex/kortex\_description/arms/gen3/6dof/meshes/base\_link.STL

Unsupported mesh format for collision: ".STL"

Parsing Mesh: /home/simon/Documents/gitlab/sim2real\_baselines\_webots/simulations/ros\_workspace/src/ros\_kortex/kortex\_description/arms/gen3/6dof/meshes/shoulder\_link.STL


oh wait, during generation, this came up:

##### David Mansolino [cyberbotics] 07/03/2020 15:03:37
argument in bracket are just to mention that they are optionnal, if you want to use them remove the brackets, if you don't want to use them remove both brackets and argument

##### Simon Steinmann [Moderator] 07/03/2020 15:02:35
exact command I used


python demo.py --input=Kinova\_Gen3\_6DOF.urdf [--output=outputFile] [--box-collision] [--normal]


let me check


yeah, looks like they were not generated

##### David Mansolino [cyberbotics] 07/03/2020 15:02:03
Have you tried with the `--box-collision` argument?

##### Simon Steinmann [Moderator] 07/03/2020 15:01:39

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/728626517252505671/unknown.png)
%end


links in the urdf have the inertial definitions:

##### David Mansolino [cyberbotics] 07/03/2020 15:01:35
the boundign object where not generated?

##### Simon Steinmann [Moderator] 07/03/2020 15:00:52
Getting this error message for all joints for my urdf generated proto:

HingeJoint > Solid: Undefined inertia matrix: using the identity matrix. Please specify 'boundingObject' or 'inertiaMatrix' values.

##### David Mansolino [cyberbotics] 07/03/2020 14:19:59
Here is an example: [https://github.com/cyberbotics/webots/blob/master/projects/samples/robotbenchmark/visual\_tracking/controllers/visual\_tracking/visual\_tracking.py#L114-L133](https://github.com/cyberbotics/webots/blob/master/projects/samples/robotbenchmark/visual_tracking/controllers/visual_tracking/visual_tracking.py#L114-L133)


The `getImageArray` implies a conversion to create the array pixel by pixel which is costly, you might use `getImage` instead for better performances.

##### Robsicky 07/03/2020 14:09:43
Hi again. Another question about cameras/getImageArray().

I'm trying to extract an image  in 1080p, but my simulation halts for 2-4 seconds when doing "getImageArray()". Is there anything I can do about this?

##### David Mansolino [cyberbotics] 07/03/2020 14:07:08
Your'e welcome

##### tangdan 07/03/2020 14:05:22
`@David Mansolino` thank you very much,I'll try it

##### David Mansolino [cyberbotics] 07/03/2020 14:01:39
> Like sending the code/world made on Webots, to QT. you can google to understand what QT is

`@tangdan` maybe you can use the X3D exportation feature of Webots to then import the resulting X3D file in the platform you want (X3D is a quite standard format): [https://cyberbotics.com/doc/guide/web-scene#how-to-export-a-web-scene](https://cyberbotics.com/doc/guide/web-scene#how-to-export-a-web-scene)

##### EPIC 07/03/2020 13:49:54
I'm working on a robot atm, built from scratch/own models together with two others. As long as they have access to the same files as I do, there is no problem ðŸ™‚

##### tangdan 07/03/2020 13:49:33
Like sending the code/world made on Webots, to QT. you can google to understand what QT is


`@EPIC` nonono, just another client


the model is made of  robotA's arm and robotB's body, robotA and robotB are already provided robot

##### EPIC 07/03/2020 13:43:28
Like sending the code/world made on your Windows computer, to a computer who runs Linux?

##### Simon Steinmann [Moderator] 07/03/2020 13:42:38
your own model or an already provided robot or model? If it is the latter, it might be easier to use different sources

##### tangdan 07/03/2020 13:41:05
the aim is to run the webots model by other platform


`@EPIC`i want to  move the  code or related files of a world in webots to another platform like QT ,and simulate it by another paltform.

##### EPIC 07/03/2020 13:39:17
`@tangdan` What do you mean by moving the source code to another platform?

##### tangdan 07/03/2020 13:37:10
`@David Mansolino` do you have any suggestions about that?thanks


is there anyone who has done successfully like that? my teacher want me to realise that, so i feel  a little bit stressed.

##### David Mansolino [cyberbotics] 07/03/2020 13:29:14
> Even if I move the source code of Webots models  to another platform, can't I run the Webots models  on other platforms?

`@tangdan` that should be feasible, but not so easy


> thx, I'll comment on it

`@Simon Steinmann` perfect

##### Simon Steinmann [Moderator] 07/03/2020 13:28:50
thx, I'll comment on it

##### tangdan 07/03/2020 13:28:45
Even if I move the source code of Webots models  to another platform, can't I run the Webots models  on other platforms?

##### David Mansolino [cyberbotics] 07/03/2020 13:28:15
> do you want me to still write the feature request?

`@Simon Steinmann` just did it ðŸ˜‰


I jsut created an issue to record what we talk about and will try to handle this next week: [https://github.com/cyberbotics/webots/issues/1874](https://github.com/cyberbotics/webots/issues/1874) (we can subscribe to the issue to get updates)

##### Simon Steinmann [Moderator] 07/03/2020 13:27:54
do you want me to still write the feature request?

##### David Mansolino [cyberbotics] 07/03/2020 13:27:29
I agree it is not so easy for a  beginner to create complex model.

##### Simon Steinmann [Moderator] 07/03/2020 13:23:40
almost a year ago I looked at webots, but didnt end up using it, because implementing the kinova arm was too difficult for me at the time ðŸ˜…


cool, let me know once it's up and I'll upload my things

##### David Mansolino [cyberbotics] 07/03/2020 13:22:47
Yes that looks like a good idea!

##### Simon Steinmann [Moderator] 07/03/2020 13:22:33
perhaps you can make a new repository with 'community-beta-models' or 'unofficial models'

##### David Mansolino [cyberbotics] 07/03/2020 13:21:35
That's a good idea, can you please open an issue here and we will talk internally about a temporary solution: [https://github.com/cyberbotics/webots/issues/new?template=feature\_request.md](https://github.com/cyberbotics/webots/issues/new?template=feature_request.md)

##### Simon Steinmann [Moderator] 07/03/2020 13:20:49
Perhaps we can create something temporary, where people can easily upload

##### David Mansolino [cyberbotics] 07/03/2020 13:20:28
Worse case feel free to create a github repository with your model and we can then host it under the 'cyberbotics' Github organization.


Yes sure, but if you create a model, do not hesitate to create a pull request to include it in Webots: [https://github.com/cyberbotics/webots](https://github.com/cyberbotics/webots)

I know that we are a bit picky with the model quality for integrating them, but it is on our roadmap to create a system allowing users to upload model in beta quality.

##### Simon Steinmann [Moderator] 07/03/2020 13:19:12
would make webots more attractive as well, if people can simply load their stuff


I know that optimizing a model is more work, but having some working sample easily accessible would be nice


It would be nice to have a "alpha" version of more robots. Say I make a proto for a kinova arm, it would be nice if other people can get it too. And vice versa ofc

##### David Mansolino [cyberbotics] 07/03/2020 13:16:22
> Do you have .protos of kinova arms?

`@Simon Steinmann` no, but it should be quite simple to convert one from URDF as we have already tested our URDF converter with some kinova model and it was working quite well: [https://github.com/cyberbotics/urdf2webots#notes](https://github.com/cyberbotics/urdf2webots#notes)


> just move the  code or related files of a world in webots to another platform like QT ,and simulate it.

`@tangdan` Webots model and worlds can be used by Webots only.

##### Simon Steinmann [Moderator] 07/03/2020 13:14:25
Do you have .protos of kinova arms?

##### tangdan 07/03/2020 13:07:46
just move the  code or related files of a world in webots to another platform like QT ,and simulate it.

##### David Mansolino [cyberbotics] 07/03/2020 13:03:42
I am sorry, but I don't understand your question.

##### tangdan 07/03/2020 13:03:08
how can i move the model that in webots to QTï¼Ÿthanks!

##### David Mansolino [cyberbotics] 07/03/2020 12:01:43
Perfect, thank you

##### Robsicky 07/03/2020 12:01:34
I'll try. Will get back to you ðŸ‘

##### David Mansolino [cyberbotics] 07/03/2020 11:59:06
Ok, can you create a minimal example world + controller reproducing the problem so that we can investigate?

##### Robsicky 07/03/2020 11:58:10
None directly

##### David Mansolino [cyberbotics] 07/03/2020 11:57:19
Ok, in that case it should ineed not return nay None value. the fucntion is returning directly None, or the array is filled with None value?

##### Robsicky 07/03/2020 11:55:19
I'm using python. And yes, I enable several steps before getImageArray

##### David Mansolino [cyberbotics] 07/03/2020 11:51:13
Hi,

Which language are you using?

Are you doing at least one step between the enable and the getImageArray?

##### Robsicky 07/03/2020 11:49:16
Hi. When I use 

`getImageArray()` 

on my camera, it mostly returns None. Does anyone know the reason for this? My camera is enabled.

##### David Mansolino [cyberbotics] 07/03/2020 09:42:04
Perfect, thank you for the feedback!

##### chenpixx 07/03/2020 09:40:33
> You're welcome

`@David Mansolino` I did it. It works. thanks

##### David Mansolino [cyberbotics] 07/03/2020 09:12:00
You're welcome

##### chenpixx 07/03/2020 09:11:48
Thank I will work it.

##### David Mansolino [cyberbotics] 07/03/2020 09:11:04
You should see at as long as you don't reset the simulation

##### chenpixx 07/03/2020 09:10:43
Do you mean that I would not see the glass during one episode.

##### David Mansolino [cyberbotics] 07/03/2020 09:06:03
As documented (see 'Reset Simulation': [https://www.cyberbotics.com/doc/guide/the-user-interface#file-menu](https://www.cyberbotics.com/doc/guide/the-user-interface#file-menu)) the reset will remove all the nodes inserted.

##### chenpixx 07/03/2020 09:04:04

%figure
![image0.jpg](https://cdn.discordapp.com/attachments/565154703139405824/728536531370901534/image0.jpg)
%end


Thanks, now there is no error but I see the glass  after the first reset  and the other resets later it vanish. I wait to see it during one/more  episode. If I use      while not self.step(self.timeStep) == -1:

         self.getRoot().getField('children').importMFNode(3,'Glass.wbo'), figure is below as:

##### David Mansolino [cyberbotics] 07/03/2020 08:35:18
It is worth testign with the beta of R2020b ([https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)) too.


I am sorry, but i just checked and it worked perfectly for me.

Here is the complete instruction I used, maybe you should try if this one works fine for you too:

```Python
self.getRoot().getField('children').importMFNode(3,'Glass.wbo')
```


ok, thank you, I will try

##### chenpixx 07/03/2020 08:07:54
> `@David Mansolino` controller = Driver()

> controller.initialization()

> controller.objectcall()

> controller.run()

`@chenpixx` I delete controller.objectcall(). I moved     self.importMFNode(3,'Glass.wbo') into controller.run. -----            if message == 'reset':

                self.resetworld()

                self.importMFNode(3,'Glass.wbo');----         new error :

 return \_swig\_getattr\_nondynamic(self, class\_type, name, 0)



 return object.\_\_getattr\_\_(self, name)

 AttributeError: type object 'object' has no attribute '\_\_getattr\_\_'

##### Luiz Felipe 07/03/2020 08:03:06
`@Olivier Michel`  With the new Makefile it works. ðŸ™‚

##### chenpixx 07/03/2020 08:00:44
def objectcall(self):

        self.importMFNode(3,'Glass.wbo');


> That strange, can you share a bit more of your code (as this part looks correct, maybe the problem is somewhere else) as well as the complete error?

`@David Mansolino` controller = Driver()

controller.initialization()

controller.objectcall()

controller.run()

##### Olivier Michel [cyberbotics] 07/03/2020 07:59:49
See for example: [https://github.com/cyberbotics/webots/blob/master/projects/robots/clearpath/moose/controllers/moose\_path\_following/Makefile](https://github.com/cyberbotics/webots/blob/master/projects/robots/clearpath/moose/controllers/moose_path_following/Makefile)


`@Luiz Felipe`: they were some little changes, but it should be working. Can you try to replace your Makefile with one coming with the version of Webots you installed?

##### David Mansolino [cyberbotics] 07/03/2020 07:57:02
That strange, can you share a bit more of your code (as this part looks correct, maybe the problem is somewhere else) as well as the complete error?

##### chenpixx 07/03/2020 07:56:16
Thanks. but it is same error:  self.importMFNode(3,'Glass.wbo');

 TypeError: 'str' object is not callable

##### Luiz Felipe 07/03/2020 07:56:09

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/728519439687090176/unknown.png)
%end


did something changed in the WEBOTS\_HOME? It seems i have an extra space using the makefile


okz!

##### David Mansolino [cyberbotics] 07/03/2020 07:46:10
In case you need, the complete list of changes is available here: [https://cyberbotics.com/doc/reference/changelog-r2020?version=develop#webots-r2020b](https://cyberbotics.com/doc/reference/changelog-r2020?version=develop#webots-r2020b)

##### Olivier Michel [cyberbotics] 07/03/2020 07:45:57
Yes, the controllerArg field has changed from SFString to MFString. You should update your Referee.proto according to this.

##### Luiz Felipe 07/03/2020 07:45:10
where can i check the changes in this build?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/728516639024480256/unknown.png)
%end


ah, is still in the nightly build


The R2020b is here `@Olivier Michel` [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases) ?

##### David Mansolino [cyberbotics] 07/03/2020 07:24:15
ok perfect, let us know.

##### Luiz Felipe 07/03/2020 07:21:36
I will try to realize if it is really related to collisions. If it is, I think i will need to use the debug version with GDB `@David Mansolino` , even I am not very familiar with that.


oh... ok. I will see if it is possible to port directly to R2020b and test again.

##### Olivier Michel [cyberbotics] 07/03/2020 07:19:40
It also may be worth trying with a recent nightly build of Webots R2020a revision 2 or R2020b as we fixed several crashes since the release of R2020a revision 1.

##### David Mansolino [cyberbotics] 07/03/2020 07:18:00
In that case you might use the contrary, make sure you never relocate two robots to the same position and check if it still crashes.

##### Luiz Felipe 07/03/2020 07:17:26
R2020a revision 1


Yes. The way we tried to reproduce was relocating two robots to the same position. But we don't if that is what actually happen in our environment right before the crash.

##### Olivier Michel [cyberbotics] 07/03/2020 07:17:05
`@Luiz Felipe`: which version of Webots are you using?

##### David Mansolino [cyberbotics] 07/03/2020 07:09:27
This is indeed a crash. The simplest solution to find where it comes from is to try to reproduce the crash in a very simple example.

Alternatively, if you know how GDB works I can provide you a debug version of Webots so that you can try generating a stack.

##### Luiz Felipe 07/03/2020 07:07:13
Is there a way to exactly know where the problem is happening?


But we don't know how to solve that, which part of the environment to simplify to solve that...


We tried to do some tests in which we relocate 2 robots to the same position on the environment, and we experienced webots turning off like this also.


I have the intuition that this can be related to collisions, or other situation that the physics cannot handle.



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/728506699656200242/unknown.png)
%end


While running my environment I sometimes experiences webots turning off. With the following kind of message:


hehehe ok. Actually I think last time I also explained about another problem.

##### David Mansolino [cyberbotics] 07/03/2020 07:02:52
I am sorry, but can please refresh my memory by summarizing the initial problem (I am sorry, but I had probably more than 100 other questions since last time we spoke ðŸ˜… )

##### Luiz Felipe 07/03/2020 07:01:52
Is there a more effective way to debug this problem?


But we still don't know if the collisions that can end up in this situation is the responsible for this problem.


We tried to do some tests in which we relocate 2 robots to the same position of the environment, and we experience the turn off problem.


`@David Mansolino` I am still getting the /usr/local/bin/webots line 86 (core dumped error).

##### David Mansolino [cyberbotics] 07/03/2020 05:34:36
Hi `@chenpixx`, you should not include the self in the argument:

```Python
self.importMFNode(2,'Glass.wbo')
```

##### chenpixx 07/02/2020 22:41:56
What can I add it.


Glass.wbo is in supersior folder.


I use self.importMFNode(self,2,'Glass.wbo')  to add Glass node after the second reset in supervisor file. However it shows  self.importMFNode(self,2,'Glass.wbo');     

TypeError: 'str' object is not callable

##### David Mansolino [cyberbotics] 07/02/2020 08:56:31
You're welcome

##### l\_eslam\_l 07/02/2020 08:56:09
Ok, I will.

Thank you.

##### David Mansolino [cyberbotics] 07/02/2020 08:50:16
Ok, in that case that's probabyl a bug, but I am sorry I don't have the time to look at it right now, can you please open an issue here so that we can fix it soon: [https://github.com/cyberbotics/webots\_ros/issues/new](https://github.com/cyberbotics/webots_ros/issues/new)

Thank you.

##### l\_eslam\_l 07/02/2020 08:42:27
In .bashrc file


Yeah I did, export WEBOTS\_HOME=/usr/local/ webots/

##### David Mansolino [cyberbotics] 07/02/2020 08:41:39
have you defined 'WEBOTS\_HOME' before starting the launch file?


It all depends on how you installed Webots. but /usr/local/webots with the debian package is correct

##### l\_eslam\_l 07/02/2020 08:41:13
Melodic

##### David Mansolino [cyberbotics] 07/02/2020 08:41:03
Which version of ROS are you using?

##### l\_eslam\_l 07/02/2020 08:40:40
Where should the installation directory of webots be on linux?

Mine is in /usr/local/webots


`@David Mansolino`

Yeah, I tried all of them,  non of them are working

The only way it works when I run the world and the ROS nodes separately 

Actually I did have this problem a while ago, but I changed my laptop so I'm doing it all over again but the same problem appeared

##### Olivier Michel [cyberbotics] 07/02/2020 06:40:19
(depending on the calibration)


You will probably get similar results with the real robot.


When the robot walks, the measurements oscillate between 5 and 8 kg, which seems fair.


I checked the `nao_demo.wbt` simulation and the total mass of the robot is 5.3 kg and the mass measured by the foot sensors is 6.1 kg which makes an error of 0.8 kg that can be explained by the dynamics model.

##### David Mansolino [cyberbotics] 07/02/2020 06:34:37
What do you mean by nano ??

##### elkelkmuh 07/02/2020 06:26:58
Hi,

I reviewed fsr on demo nano application in webots.Nano is 5.4kg.But in webots demo program, it varies between 6kg to 10 kg. 

[nao\_demo]    left       right

[nao\_demo] +--------+ +--------+

[nao\_demo] |0.0  25.0| |25.0  0.0|  front

[nao\_demo] |        | |        |

[nao\_demo] |0.0  25.0| |25.0  0.0|  back

[nao\_demo] +--------+ +--------+

[nao\_demo] total: 100 Newtons, 10.1937 kilograms

##### David Mansolino [cyberbotics] 07/02/2020 04:51:02
HI `@l_eslam_l`, did you use the launch file provided with webots\_ros?

[http://wiki.ros.org/webots\_ros/Tutorials/Sample%20Simulations](http://wiki.ros.org/webots_ros/Tutorials/Sample%20Simulations)

##### l\_eslam\_l 07/01/2020 23:40:46
Thanks a lot, I will read it

##### Simon Steinmann [Moderator] 07/01/2020 22:51:21
might need to read the extern-controllers part


[https://www.cyberbotics.com/doc/guide/installation-procedure#extern-controllers](https://www.cyberbotics.com/doc/guide/installation-procedure#extern-controllers)


you can run your ROS code in an external Terminal / IDE. much simpler


Running ROS inside of webots has some peculiarities. For example, the code is only running, if you have the step(timestep) function inside of your main loop

##### l\_eslam\_l 07/01/2020 22:48:47
It only works when I run roscore and the node of the robot I want separately then starting webots and open the .wbt file of the same robot


Thank you for your response.

But the documentation says that unless we want to create our own controller, we should use the standard "ros" controller, it's an interface between webots and the ROS network.

But the given examples seemingly don't work!

##### Simon Steinmann [Moderator] 07/01/2020 22:15:28
then I suggest running your ROS code externally, and using the < extern> controller inside webots


Do you want to implement ROS yourself?

##### l\_eslam\_l 07/01/2020 20:48:57
I don't know what I'm missing


Hello,

I'm trying to run ROS with Webots

But I'm not sure whether webots\_ros is working or not

When I try robot\_information\_parser, what should the output be? I get nothing in the terminal nor in webots console

Also pioneer3at example, the robot doesn't move

##### Robsicky 07/01/2020 11:52:38
I understand. I think I got an idea on how to "solve" my PROTO now. Thanks!

##### Stefania Pedrazzi [cyberbotics] 07/01/2020 11:51:09
3. The `translation`/`rotation` field of the PROTO base node should not be set using a lua statement


I know that this could not be very clear, but to get the graphical translation/rotation handle in the 3D view for a PROTO node these three conditions has to be fullfilled:

1. "translation"/"rotation" words should not be used in template/lua statements

2. The `translation`/`rotation` field of the PROTO base node should be IS connected with an open PROTO field


The only option is to use the IS statement instead of the template/lua statement. But also in this case, the graphical handles will only be displayed if the field is also IS connected to the base node translation field


Yes, but if you use them in template/lua statement, then you won't have the graphical handles visible in the 3D scene

##### Robsicky 07/01/2020 11:38:37
Is it possible to make these fields equal to the trans/rot fields?

##### Stefania Pedrazzi [cyberbotics] 07/01/2020 11:35:30
the best practice would be to use other fields with other names for the inner child. Otherwise the graphical handle for the top PROTO node won't be visible

##### Robsicky 07/01/2020 11:34:01
Not sure if I understand your last sentence. I want to keep the graphical handle, but also want to use its values for inner child.

##### Stefania Pedrazzi [cyberbotics] 07/01/2020 11:28:42
yes, this is correct. Graphical handles are not displayed if the translation/rotation fields are not open PROTO fields, or if they are template/lua fields.

The best practice if you are using the translation and rotation fields for inner child nodes is to rename them (for example using "childTranslation").

##### Robsicky 07/01/2020 11:25:49
The graphical translation of my PROTO disappears when i do

```
%{trans = fields.translation.value}%
```


Ah, makes sense. Can always set translation/rotation etc to be the same as the field using lua, I guess?

##### Olivier Michel [cyberbotics] 07/01/2020 11:01:54
Normally, you should IS connect only the main translation and rotation for a PROTO.


That would likely make strange results...

##### Robsicky 07/01/2020 11:00:42
I was setting translations and rotations using lua for "child frames". The graphical frame is the one linked to the translation and rotation field? What happens if several children "inherit" translation via "IS"?

##### David Mansolino [cyberbotics] 07/01/2020 10:57:27
> For the quadruped spot, I need parameters to be able to apply the trajectory I have specified with inverse kinematics. How can I find? Or Are there any created equations? I could not find it in documentation.

`@w3. eydi` you should be able to find them in the documentation of the real spot robot. Or you can convert the robot to base node to extract them from the model (right click on the spot node => 'Convert to Base Node(s)').

##### Robsicky 07/01/2020 10:57:13
I was using "IS".

##### David Mansolino [cyberbotics] 07/01/2020 10:56:26
> Yes. And I can translate via the translation field of the Proto. Just not "graphically".

`@Robsicky` Are they connected in the PROTO using `IS` statement or generated (using lua for example)?

##### Robsicky 07/01/2020 10:54:34
Yes. And I can translate via the translation field of the Proto. Just not "graphically".

##### w3. eydi 07/01/2020 10:52:58
For the quadruped spot, I need parameters to be able to apply the trajectory I have specified with inverse kinematics. How can I find? Or Are there any created equations? I could not find it in documentation.
%figure
![IMG_20200701_134833.jpg](https://cdn.discordapp.com/attachments/565154703139405824/727839159049388132/IMG_20200701_134833.jpg)
%end

##### David Mansolino [cyberbotics] 07/01/2020 10:51:05
`@Robsicky` do you PROTO have a `translation` and a `rotation` fields ?

##### Robsicky 07/01/2020 10:49:24
Hi. Trying to "build" PROTOs. When inserting into world, I'm not allowed to translate from the "graphical frame" of the PROTO. I can rotate. Does anyone know what might be causing this?

##### David Mansolino [cyberbotics] 07/01/2020 10:12:16
- The robot is not colliding with an object or the floor when you move it from the supervisor.

  - Once you have moved it, reset the physics of the robot from the supervisor too.


Make sure that:

##### aalmanso 07/01/2020 10:06:28
Hi, I made an experiment using e-puck. Every regular time the robot place in a random position and rotation inside arena. By using supervisor function I doing that, but the problem is sometimes the robot rolls and turns( like a ball) and not stable at arena in correct way. Please any suggestions to disable this feature inside webots?

##### David Mansolino [cyberbotics] 07/01/2020 09:52:56
Which parameters are you tryign to change? And how?

What do you mean by you can't, is Webots crashing?

##### Bharath Kumar 07/01/2020 09:49:31
Hi, This is Bharath. I frequently get an issue while working with Webots. I can't modify the parameters in the scene try at times. Now after two restarts of the Webots application, I can modify the parameters. I has been happening a few times now. Why am I getting this issue?

##### David Mansolino [cyberbotics] 07/01/2020 05:25:58
What do you mean by change PROTO? You want to chang the some internal fields/nodes of the PROTO from the Supervisor?

##### Soft\_illusion 07/01/2020 01:36:30
Any suggestions on how to dynamically change proto in the Webots simulators? While it is running.

##### Robsicky 06/30/2020 13:36:38
Perfect. It worksðŸ¥³  Thank you very much!

##### Olivier Michel [cyberbotics] 06/30/2020 13:35:34
As a hint, you can check the return value of these getter functions and if you get `None`, that means it failed to retrieve the requested node or field. In your first example, `shape_geometry` was probably set to `None`.


Yes.

##### Robsicky 06/30/2020 13:29:30
Thanks a lot! This gives me "geometry" node? And from there I can get "size" field, and set/get vector?

##### Olivier Michel [cyberbotics] 06/30/2020 13:24:50
```python
shape_geometry = box_shape.getField('geometry').getSFNode()
```


You can't get the box geometry this way. You should retrieve from the geometry field.

##### Robsicky 06/30/2020 13:21:20
Also, please ignore my terrible (temporary) variable names ðŸ™ƒ


... but don't know how to reach it*


Goal is to set the "size" field, but don



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/727513489408524348/unknown.png)
%end


I'm having some trouble setting the geometry size of a shape within a solid. My attempt is:

```
box_child = box.getField("children")
box_shape = box_child.getMFNode(0)
shape_geometry = box_shape.getMFNode(0)
geometry_field = shape_geometry.getField("size")
```

##### David Mansolino [cyberbotics] 06/30/2020 12:58:53
Hi, I know one but unfortunately can't share it as this one is condifential, but the idea is quite simple, you can use 2 connector devices, one at the end of the arm (in the vacuum gripper) and the other on the object to grasp.

##### Stanislas Larnier 06/30/2020 12:55:35
Hi. Do you know some example in Webots of a robotic arm with a vacuum gripper (suction cup)? It is the last missing part of my simulation. It could make me win some time. Thank in advance.

##### Olivier Michel [cyberbotics] 06/30/2020 12:15:24
I see, then you should call `parentNode.getMFNode().getId()` to get the ID.

##### Robsicky 06/30/2020 12:07:41
Is this the same as WbNodeRef?


To use as arg in getFromID( ) later


Unique identifier?

##### Olivier Michel [cyberbotics] 06/30/2020 12:05:18
If so, you can retrieve it from `getMFNode()` after the import.


I am not sure what do you mean by ID? WbNodeRef?


You cannot set the ID when importing, Webots will do it automatically.

##### Robsicky 06/30/2020 12:02:24
Hi. Quick question. I'm using "importMFNode( )" to import a solid as child of another solid. Is there a method to get the ID for this new import? Or maybe better, set the ID when importing?

##### David Mansolino [cyberbotics] 06/30/2020 09:49:01
That's indeed possible, I never tried using WSL. You may use extern controller to workaround this issue, this way you can start yourself the controller instead of letting Webots doing it for you: [https://cyberbotics.com/doc/guide/running-extern-robot-controllers](https://cyberbotics.com/doc/guide/running-extern-robot-controllers)

##### Jatin Sharma 06/30/2020 09:47:51
> `@Jatin Sharma` is your controller compiled?

`@David Mansolino` Hi yes, i tried running in Ubuntu it worked well. Seems like the webots running on windows is not able to communicate with the simulation environment running in the Ubuntu WSL. Thanks for your support.

##### David Mansolino [cyberbotics] 06/30/2020 09:43:19
thank you

##### yash 06/30/2020 09:43:13
Okay , will try it ðŸ‘

##### David Mansolino [cyberbotics] 06/30/2020 09:42:44
May I ask you also to try with a beta version of R2020b available here: [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)

I think this problem is already fixed in our development environment.

##### yash 06/30/2020 09:42:13
Okay thanks ðŸ‘

##### David Mansolino [cyberbotics] 06/30/2020 09:41:53
No, don't worry, this shouldn't prevent you at all from using Webots.

##### yash 06/30/2020 09:41:00
Sure will do it ... but will it be a problem if I use it now .?

##### David Mansolino [cyberbotics] 06/30/2020 09:39:34
> 18.04

`@yash` in that case that seems indeed like a bug, can you please report this here: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)


No problem, next week is fine too, thank you.

##### lojik 06/30/2020 09:38:20
>   ok in that case that looks indeeed like a bug, can you please report this here, with a very simple example simulation (world + controller) and we will fix this: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

`@David Mansolino` Ok I note that and I will take time to do it next week. Unfortunately I have to finish my master thesis this Friday and cannot give you my files as they are.

##### yash 06/30/2020 09:36:31
18.04

##### David Mansolino [cyberbotics] 06/30/2020 09:36:00
`@yash`, whish version of Ubuntu are you using?


> Yep, it is exactly what I have ðŸ‘

  ok in that case that looks indeeed like a bug, can you please report this here, with a very simple example simulation (world + controller) and we will fix this: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

##### yash 06/30/2020 09:22:14
So just wanted to make sure itâ€™s not an issue ?



%figure
![image0.jpg](https://cdn.discordapp.com/attachments/565154703139405824/727453713093886002/image0.jpg)
%end


I installed Ubuntu using Debian package with APT tool 

So after installation this what the Webots icon looks like !?

##### lojik 06/30/2020 09:09:24
Yep, it is exactly what I have ðŸ‘

##### David Mansolino [cyberbotics] 06/30/2020 09:08:40
Ok, so both getMaxTorque and getAvailableTorque returns the old value? Unless you explicitely set it wihth setAvailableTorque, am I correct?

##### Jajaka 06/30/2020 09:08:32
my webots always stack while create directory on wizard
%figure
![stack.png](https://cdn.discordapp.com/attachments/565154703139405824/727450489771524106/stack.png)
%end

##### lojik 06/30/2020 09:07:42
The same results, it changes only if I set with setAvailableTorque() function

##### David Mansolino [cyberbotics] 06/30/2020 09:06:49
And about  getAvailableTorque?

##### lojik 06/30/2020 09:06:29
Ok, what I saw is that it change the value in Webots interface but not when I call functions like getMaxTorque. And it is not taken into account in the controller.


No, I did not check with these. I tried using setAvailableTorque with the same value as MAX\_TORQUE and it worked. So I thought that did not change the value as expected. I will try it now.

##### David Mansolino [cyberbotics] 06/30/2020 09:01:44
Ok, have you tried using `getAvailableTorque` and `getMaxTorque` just to make sure the value you set is taken into account?

##### lojik 06/30/2020 09:00:06
Yes, sorry

##### David Mansolino [cyberbotics] 06/30/2020 08:59:33
getTorqueFeedback ?

##### lojik 06/30/2020 08:58:57
I get them with the getTorques Webots function.

##### David Mansolino [cyberbotics] 06/30/2020 08:58:03
Ok, how are you getting the value you plot?

##### lojik 06/30/2020 08:57:15
But as shown on this plot, torques are not bounded by MAX\_TORQUE = 100



%figure
![Screenshot_from_2020-06-30_10-53-08.png](https://cdn.discordapp.com/attachments/565154703139405824/727447550558470144/Screenshot_from_2020-06-30_10-53-08.png)
%end


What I would like to do when loading the world is to modify some of the parameters automatically to be sure having the same parameters from one simulation to an other. So I do it like follow with some parameters :



sup.getFromDef('motor\_{}'.format(i+1)).getField('maxTorque').setSFFloat(param.MAX\_TORQUE)

##### David Mansolino [cyberbotics] 06/30/2020 07:59:53
I checked and it seems to work, what is not working exactly?


torque should indeed not be one of these constant parameters (if it is, then it is a bug), let me check.


You're welcome

##### lojik 06/30/2020 07:20:56
`@David Mansolino` Thank your for your answers and sorry, I did not think to check on python side for arguments...



For the torque, last time we discussed about some parameters that stays constant during simulation. I did not expected torques to be in these ones. Actually my controller is run by webots. But inside the controller I have a "setup" fonction to modify some world parameters. But as you suggested I should do inverse. Set in the world file then load it.

##### David Mansolino [cyberbotics] 06/30/2020 07:17:05
You're welcome

##### Jajaka 06/30/2020 07:16:59
thank you

##### David Mansolino [cyberbotics] 06/30/2020 07:14:36
No that's not what I mean

##### Jajaka 06/30/2020 07:14:10
Oke, so i cant use webots on my computer, do you mean ?

##### David Mansolino [cyberbotics] 06/30/2020 07:12:01
Most probably yes, this just means that your GPU is not very powerfull and that Webots will disable advanced rendering features to save performance.

##### Jajaka 06/30/2020 07:11:36
my webots is lastest version on website


could my computer running webots ?
%figure
![error_graphic.png](https://cdn.discordapp.com/attachments/565154703139405824/727420791758651452/error_graphic.png)
%end

##### David Mansolino [cyberbotics] 06/30/2020 07:08:18
Which version of Webots are you using? And n which OS?

Do you have write right where you are trying to create the new project?

If you create just a new world is it working?

##### Jajaka 06/30/2020 07:06:44
my webots always not respond when make first simulation project on wizard menu

##### David Mansolino [cyberbotics] 06/30/2020 05:13:49
> Has anybody tried SITL simulation with Ardupilot? I am running the webots on windows 10 and the ardupilot is running in the Unix WSL app provided by Microsoft. Is this sort of arrangement even possible to simulate? I am getting the warning "ardupilot\_SITL\_ROVER: Could not find controller file:". I checked in the controller node that the correct controller file is selected, but i still get the error

`@Jatin Sharma` is your controller compiled?


That's not normal for the maxTorque, what is not working exactly?


`@lojik` you can access it like you would access any arguments of a python script, e.g. `sys.argv`.

##### lojik 06/29/2020 18:48:19
Ok, for the first point, I finally managed to take the argument with :



world.getFromDef("Robot").getField('controllerArgs').getMFString(0)


Hello everyone,

I have two small questions :



1. How can I access to the controllerArgs in python, Webots 2020b Nightly Build 9/6/2020 ?



I tried like this, without success :

world = Supervisor()

    args = world.getControllerArguments()



It gives this error :

AttributeError: type object 'object' has no attribute '\_\_getattr\_\_'



2. Someone can confirm me that it is normal to not be able to change the maxTorque value of a device with getField('maxTorque').setSFFloat(param.MAX\_TORQUE) ?



Thank you

##### Jatin Sharma 06/29/2020 16:34:03
related logs
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/727200220684747068/unknown.png)
%end


Has anybody tried SITL simulation with Ardupilot? I am running the webots on windows 10 and the ardupilot is running in the Unix WSL app provided by Microsoft. Is this sort of arrangement even possible to simulate? I am getting the warning "ardupilot\_SITL\_ROVER: Could not find controller file:". I checked in the controller node that the correct controller file is selected, but i still get the error

##### kentevan 06/29/2020 15:35:46
`@Stefania Pedrazzi` You're right I just re-read what he wrote and realized I misinterpreted it.  Too much coffee this morning, need to slow down and read things completely!  That makes sense, thank you for clarifying

##### Stefania Pedrazzi [cyberbotics] 06/29/2020 15:32:25
`@kentevan` not sure what you mean by subsequent objects...

if you toggle the "physics" field (from the scene tree or a supervisor controller), the object will be deleted and new object with the new physcis condition will be instantiated, so you won't practically notice the object regeneration

##### kentevan 06/29/2020 15:29:28
No problem, thank you for the insight.  So if an object is added to the world, the physics field will be present or not depending on some condition, but there is no way to change this field once instantiated.  However subsequent objects will be affected by that condition when they are spawned

##### David Mansolino [cyberbotics] 06/29/2020 15:19:18
(I am sorry I have to leave, but I will be here again from tomorrow morning)


Yes, if you create a PROTO, you can create a condition around the physics (like in the example I sent), and then change in runtime from the supervisor the field that is trigerring this condition.

##### kentevan 06/29/2020 15:17:26
`@David Mansolino` just to clarify for myself:  is this physics field changeable mid-simulation?  The overall goal here is to differentiate a demonstrated motion from a robot action by making the demonstrated motion separate from robot actuation.  I am running the object through a generated path by directly manipulating the translation field of the solid object, but as soon as there is a pause, the object drops as it is beholden to physics.  My understanding of the above code is that a proto object can be instantiated with one value of the physics boolean field, but this would not allow "toggling" of the physics.  Is that correct?

##### David Mansolino [cyberbotics] 06/29/2020 15:11:42
> ahh, so replace the node I want to manipulate with one that does not have physics, do the manipulation, then replace again with one that does have physics

`@kentevan` that's another possibility indeed.

##### kentevan 06/29/2020 15:11:21
ahh, so replace the node I want to manipulate with one that does not have physics, do the manipulation, then replace again with one that does have physics

##### David Mansolino [cyberbotics] 06/29/2020 15:11:21
Here is an example doing this with a simple object:

  - [https://github.com/cyberbotics/webots/blob/master/projects/objects/garden/protos/Gnome.proto#L11](https://github.com/cyberbotics/webots/blob/master/projects/objects/garden/protos/Gnome.proto#L11)

  - [https://github.com/cyberbotics/webots/blob/master/projects/objects/garden/protos/Gnome.proto#L84-L96](https://github.com/cyberbotics/webots/blob/master/projects/objects/garden/protos/Gnome.proto#L84-L96)


Unfortunately the SFNode manipulation was not available in R2019. A workaround could be to create a procedural PROTO with a boolean field defining if the node has physics or not: [https://www.cyberbotics.com/doc/reference/procedural-proto-nodes](https://www.cyberbotics.com/doc/reference/procedural-proto-nodes)

##### kentevan 06/29/2020 15:07:16
`@David Mansolino` I can talk to my team about that, but we are working on a bit of a deadline and I anticipate that being an unpopular option.  Is there any other way?

##### yash 06/29/2020 15:03:16
> no you don't need, you can use the installed one.

`@David Mansolino`  thank you !

##### David Mansolino [cyberbotics] 06/29/2020 15:02:42
You're welcome, the simplest solution is to update your version of Webots.

##### kentevan 06/29/2020 14:56:53
`@David Mansolino` Thank you for the response David.  In that case, is there an alternative approach for achieving what I'd like to do?

##### David Mansolino [cyberbotics] 06/29/2020 14:56:09
no you don't need, you can use the installed one.

##### yash 06/29/2020 14:54:36
The Webots

##### David Mansolino [cyberbotics] 06/29/2020 14:54:23
Which one? the webots or weots\_ros one?

##### yash 06/29/2020 14:53:58
Okay ... and do I have to clone the git hub repository .?

##### David Mansolino [cyberbotics] 06/29/2020 14:51:48
Just note that to use it with webots\_ros you have to define $WEBOTS\_HOME to point to this location


Yes, this is where it is supposed to be

##### yash 06/29/2020 14:51:03
Thatâ€™s fine right .?


However I just found out the Webots folder at usr/local


No the path is not displayed

##### David Mansolino [cyberbotics] 06/29/2020 14:45:08
can you type `echo $WEBOTS_HOME` in your terminal and see if it displays the path?

##### yash 06/29/2020 14:38:52
I want to copy the Webots\_ros file and msg and srv file inside the catkin workspace .!

But I can find the Webots folder to copy these files


With the Debian package

##### David Mansolino [cyberbotics] 06/29/2020 14:36:36
How did you install it? with the debian package, with the snap package or with the archive?


Why would it be in the home directoy?

##### yash 06/29/2020 14:35:49
So what could be the issue .?


Iâ€™ve installed Webots in Ubuntu , but there is no folder named Webots in the home directory

##### Stefania Pedrazzi [cyberbotics] 06/29/2020 12:28:24
note that this not very efficient if you have to parse the whole scene tree


You can adapt and extend the controller from samples/devices/supervisor.wbt simulation: 

[https://www.cyberbotics.com/doc/guide/samples-devices#supervisor-wbt](https://www.cyberbotics.com/doc/guide/samples-devices#supervisor-wbt)

[https://github.com/cyberbotics/webots/blob/master/projects/samples/devices/controllers/sample\_supervisor/sample\_supervisor.c](https://github.com/cyberbotics/webots/blob/master/projects/samples/devices/controllers/sample_supervisor/sample_supervisor.c)

##### Simon Steinmann [Moderator] 06/29/2020 12:25:36
is there an example script?

##### Stefania Pedrazzi [cyberbotics] 06/29/2020 12:25:20
At the moment you can get all the NodeRef instances by looping through the robot or scene using the Supervisor API and check for the type.

##### Simon Steinmann [Moderator] 06/29/2020 12:24:00
I can easily retrieve a list of all devices in a world. Would be nice to be able to get the node handles too

##### Stefania Pedrazzi [cyberbotics] 06/29/2020 11:46:43
There is no direct method to get the NodeRef from a DeviceTag because they are used in different classes and for different purposes.


`@Simon Steinmann`:

- a NodeRef is reference to the node instance: this is used mainly by the Supervisor API to get/set fields.

- a DeviceTag is a unique number that identifies the nodes (mainly devices nodes) on the controller side and that is used by the device APIs to to call device-specific functions.

The best way to get a NodeRef is to directly use the Supervisor API (for example retrieving the node from the DEF name).

##### Simon Steinmann [Moderator] 06/29/2020 11:34:36
what is the difference between DeviceTag and NodeRef? And how can I get a nodehandle from a device?

##### l\_eslam\_l 06/29/2020 08:42:28
Ok, thank you

##### David Mansolino [cyberbotics] 06/29/2020 08:41:46
yes

##### l\_eslam\_l 06/29/2020 08:41:07
`@David Mansolino`

So, does this mean it's ok for the tires to be red as they collide with the floor?

##### chenpixx 06/29/2020 06:27:22
Too


Do webots include sponge object? I think that it is simple.

##### David Mansolino [cyberbotics] 06/29/2020 05:35:42
> Well, I think I found it!

> The black-coloured boundaries appeared when I render bounding object CTRL+F2 and when I pressed them back again they were gone and turned to white

> The red ones were the same shape defined more than once instead of using the USE keyword

> Kindly, correct me if I'm wrong

`@l_eslam_l` not exactly, the red ones are the ones that are colliding another object.


> Do webots include sponge object

`@chenpixx` no, but you can easily create your own.


> Hello all, 

> 

> I am using webots 2019, and I'd like to remove the Physics SFNode within a simple solid object for a short time period and then re-enable the physics.  From the docs, I understand there should be an importSFNodeFromString function for the physics field of a Solid, however i get an attribute error when I try this.  running dir(Field-object) shows the following screenshot.  From this I conclude that there is not, in fact, the function I would like to use.  Can anyone make a comment or recommendation for me?

`@kentevan` this function is not available in R2019, it was added in R2020a: [https://cyberbotics.com/doc/reference/changelog-r2020#webots-r2020a](https://cyberbotics.com/doc/reference/changelog-r2020#webots-r2020a)

##### l\_eslam\_l 06/28/2020 22:09:44
Well, I think I found it!

The black-coloured boundaries appeared when I render bounding object CTRL+F2 and when I pressed them back again they were gone and turned to white

The red ones were the same shape defined more than once instead of using the USE keyword

Kindly, correct me if I'm wrong



%figure
![JPEG_20200628_183056.jpg](https://cdn.discordapp.com/attachments/565154703139405824/726837158249496606/JPEG_20200628_183056.jpg)
%end



%figure
![JPEG_20200628_182848.jpg](https://cdn.discordapp.com/attachments/565154703139405824/726836671080824842/JPEG_20200628_182848.jpg)
%end


Hello all,

I'm wondering why is the color of the bounding object is different for some bodies? Generally it's white, but for some bodies I have it black and for some others it's red!

What does it mean?

##### chenpixx 06/27/2020 22:05:32
Do webots include sponge object

##### kentevan 06/27/2020 19:41:44
> Hello all, 

> 

> I am using webots 2019, and I'd like to remove the Physics SFNode within a simple solid object for a short time period and then re-enable the physics.  From the docs, I understand there should be an importSFNodeFromString function for the physics field of a Solid, however i get an attribute error when I try this.  running dir(Field-object) shows the following screenshot.  From this I conclude that there is not, in fact, the function I would like to use.  Can anyone make a comment or recommendation for me?

`@kentevan`

##### Simon Steinmann [Moderator] 06/27/2020 17:23:29
what is the difference between DeviceTag and NodeRef? And how can I get a nodehandle from a device?


The PR for the correct 3f-robotiq gripper will have to wait I guess ðŸ˜„


I suck at cpp, so I wont try to provide a solution, but I think it should set the position to either the min or max position (whichever is closer to 0)


I submitted a bug report on gitlab just now

##### Olivier Michel [cyberbotics] 06/27/2020 16:38:01
Yes, that's it.

##### Simon Steinmann [Moderator] 06/27/2020 16:28:40
And I'm guessing that the default position of the parentJoint = 0. So if we dont explicitly define it, the position is 0, and minPosition / maxPosition get's reset, if above or below 0


I think I have found the issue. I didn't dive deep into the code, but it seems to reset min and max pos, if the current value is not inbetween
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/726472798934925352/unknown.png)
%end


I'm running a nightly build from 2 moth ago or so


just with a void controller, moving the motors of the gripper


can you check quickly whether it is the same for you?
> **Attachment**: [ur10e\_gripper.zip](https://cdn.discordapp.com/attachments/565154703139405824/726470275675324456/ur10e_gripper.zip)

##### Olivier Michel [cyberbotics] 06/27/2020 16:09:57
Really? It should work normally. If not, that's a bug and you should report it.

##### Simon Steinmann [Moderator] 06/27/2020 16:09:53
neither is this
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/726469365330870352/unknown.png)
%end


for example, this is not possible
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/726469170971017226/unknown.png)
%end


what do you mean?

##### Olivier Michel [cyberbotics] 06/27/2020 16:08:19
That's normal minPosition should be inferior to maxPosition.

##### Simon Steinmann [Moderator] 06/27/2020 16:01:45
this is true for using the node api, as well as checking the motors in webots robot view


when minPosition is positive, or maxPosition is negative, getting those Values returns a 0


a motor CAN'T have a positive minPosition and a negative maxPosition


`@Olivier Michel`  Woooow... I just discovered a major bug!


alright, I'll create one, once I verified everything

##### Olivier Michel [cyberbotics] 06/27/2020 15:50:38
Yes, that would be great.

##### Simon Steinmann [Moderator] 06/27/2020 15:50:35
uhh, that looks promising

##### Olivier Michel [cyberbotics] 06/27/2020 15:50:01
See this function: [https://cyberbotics.com/doc/reference/robot#wb\_robot\_get\_device\_by\_index](https://cyberbotics.com/doc/reference/robot#wb_robot_get_device_by_index)

##### Simon Steinmann [Moderator] 06/27/2020 15:48:09
I might check it out when I have time. I'm working on the 3f robotiq gripper. The proto you guys have in webots, has the wrong joint limits. Do you want me to create a PR with an updated proto?

##### Olivier Michel [cyberbotics] 06/27/2020 15:46:55
No, however you can have a look at the source code of the generic html robot window to understand how a robot can automatically generate the list of its devices.

##### Simon Steinmann [Moderator] 06/27/2020 15:42:37
is there a command to retrieve all devices via code?


thank you ðŸ™‚


ohhh, starting it with a void controller is the answer ðŸ˜„

##### Olivier Michel [cyberbotics] 06/27/2020 15:38:40
I don't believe the devices need to be enabled to see them in the robot window. So running the void controller should be sufficient to display device names in the robot window.

##### Simon Steinmann [Moderator] 06/27/2020 14:33:54
do you have a script by any chance, that uses a supervisor node to get all devices in a world by going through the scene tree?


to do that, I need the names


`@Olivier Michel` that only works, when the joints and motors are already initialized through the controller.

##### Olivier Michel [cyberbotics] 06/27/2020 14:31:42
`@Simon Steinmann`: double-click on the robot to open the robot window where all the devices should be listed.

##### Simon Steinmann [Moderator] 06/27/2020 12:27:21
What is the quickest way to get all motor and sensor nodes of a robot / world? The nature of the .proto files makes them verry slow to dig through

##### kentevan 06/27/2020 00:20:06
Hello all, 



I am using webots 2019, and I'd like to remove the Physics SFNode within a simple solid object for a short time period and then re-enable the physics.  From the docs, I understand there should be an importSFNodeFromString function for the physics field of a Solid, however i get an attribute error when I try this.  running dir(Field-object) shows the following screenshot.  From this I conclude that there is not, in fact, the function I would like to use.  Can anyone make a comment or recommendation for me?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/726230340812668948/unknown.png)
%end

##### David Mansolino [cyberbotics] 06/26/2020 14:03:08
Perfect, thank you.

##### Lifebinder (tsampazk) 06/26/2020 14:02:21
Ok then, i'll keep you updated if it occurs again, thank you!

##### David Mansolino [cyberbotics] 06/26/2020 13:56:51
It would indeed help to reproduce the issue on a standard sample so that we can investigate it.

##### Lifebinder (tsampazk) 06/26/2020 13:56:10
Should i try to run a sample simulation to see if it pops up again?


`@David Mansolino` no, it's on my own project and it popped up just once after many hours of simulated time ðŸ˜•

##### David Mansolino [cyberbotics] 06/26/2020 13:00:26
Hi, do you have it with the samples simulations? If yes, with all of them?

##### Lifebinder (tsampazk) 06/26/2020 12:59:26
Webots seems to have somehow silently crashed, the UI is responsive but the simulation won't run after this error (which appeared in white in the console)


hello! i got the following error " [javascript] Uncaught RangeError: Failed to execute 'getImageData' on 'CanvasRenderingContext2D': Out of memory at ImageData creation (timeplot\_widget.js:130)" which i guess comes from robot windows. 

The thing is that i am not using robot windows whatsoever. Any idea where it might originate? 

(I got it on ubuntu 20.04, running python controllers for the robots)

##### Robsicky 06/26/2020 11:27:33
Blender UI got a discombobulating effect. The exported model from the pic above had no offset. Thank you!


Problem solved. Was my incompetence in Blender that caused the problem. I made the offset on my model to get it out of the "default" blender box the first time i exported to vrl.

##### David Mansolino [cyberbotics] 06/26/2020 11:17:59
Looks correct indeed. Is there some transforms once imported in Webots?

##### Robsicky 06/26/2020 11:17:12
And it's not a small offset in Webots either. Meters.


Pretty sure, yes. Not too familiar with Blender either, thoughðŸ™ƒ
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/726033210294796418/unknown.png)
%end

##### David Mansolino [cyberbotics] 06/26/2020 11:15:22
Is the origin of the model correctly set in Blender?

##### Robsicky 06/26/2020 11:14:38
I've exported some .vrl 3D models from blender, but when I attach them to a solids in Webots, their origin get shifted (relative to the solid frame of reference). Anyone got an idea on how to get this right? I'm not too familiar with the .vrl format.

##### David Mansolino [cyberbotics] 06/26/2020 10:17:25
This is handle by our physicy engine, everything is defined in the contact properties, it is not defined in the wheel model, but rather in the world definition: [https://www.cyberbotics.com/doc/reference/contactproperties](https://www.cyberbotics.com/doc/reference/contactproperties)

##### nelsondmmg 06/26/2020 10:06:20
Hi, does webots have defined as expression to calculate the lateral stiffness of the tire (or the lateral force generated by the tire given the slip angle) for the different vehicles available? Thanks.

##### nap 06/26/2020 08:52:00
`@David Mansolino` :  Worked really well.  Essentially wasted the last 3 hrs stuffing around.


`@David Mansolino` :  I did what you suggested about exploding the proto into base nodes.

As such, I've been able to get the Nao into the pose I want.  But how can I put them all back so they work as a Nao again?

Never mind, dumb question.....  Just select the same Root Node.

##### David Mansolino [cyberbotics] 06/26/2020 08:14:52
You import should work, it will create the DEF when importing

##### EPIC 06/26/2020 08:13:51
Ok ðŸ˜‰ How about setting the Def-name while importing? Like in one of the examples, this function is being used: "wb\_supervisor\_field\_import\_mf\_node\_from\_string(root\_children\_field, 4, "DEF MY\_ROBOT Robot { controller \"my\_controller\" }")". 

Is there a specific robot with the name MY\_ROBOT being imported, or are they setting the name of the robot while importing?

##### David Mansolino [cyberbotics] 06/26/2020 08:12:24
By the way, to get the root of the robot it is the `wb_supervisor_node_get_self` function ðŸ˜‰


No, this is unfortunately not possible.

##### EPIC 06/26/2020 08:11:22
Aaah, I thought that gave you the root of the robot.. very nice! Is there also a command like "setDef(self, string)" ?

##### David Mansolino [cyberbotics] 06/26/2020 08:09:18
The root node is a hidden  `Group` node, you can therefore get its 'children' field.


Yes, you can use the `wb_supervisor_node_get_root` function that gets the root node: [https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_get\_root](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_get_root)

##### EPIC 06/26/2020 08:07:23
What command could I use in that case, to change the Def name? ðŸ™‚


Also when importing a node in run-time: I want to import a robot from the console, but not inside another field. Is this possible, since the "import"-functions derive from "Field"?

##### David Mansolino [cyberbotics] 06/26/2020 08:06:42
Yes of course, the USE nodes will be changed accordingly too.

##### EPIC 06/26/2020 08:05:04
Hi! Is it possible to edit Def-names in run-time?

##### David Mansolino [cyberbotics] 06/26/2020 07:53:18
That's possible, but very tricky and unrecommended. The simplest solution is either to convert the node to base node (right click in the scene tree on the node) either to edit the PROTO to open these fields.

##### Stanislas Larnier 06/26/2020 07:48:22
`@David Mansolino` Yes.

##### David Mansolino [cyberbotics] 06/26/2020 07:46:23
Hi! You mean you want to change the initial joint angles?

##### Stanislas Larnier 06/26/2020 07:44:42
Hello. I have a similar question than the previous one. I'm working on a simulation with a robotic arm. Is it possible to define a new arm position at the start of a simulation without touching the PROTO file and without performing an arm movement? Sincerely

##### nap 06/26/2020 07:30:45
np, I'll figure it out.

##### Olivier Michel [cyberbotics] 06/26/2020 07:29:52
I can't tell without investigating, it's pretty tricky.

##### nap 06/26/2020 07:28:46
I'm going to add fields so I can set them in the UI.


This is what the proto has for RHipPitch:

                      RotationalMotor {

                        name "RHipPitch"

                        maxVelocity 6.40239

                        minPosition -1.77378

                        maxPosition 0.48398

                        maxTorque %{= (version == "3.3") and 8 or 9.8 }%

                      }


What parameter would I use to do this?  Say RHipPitch

##### Olivier Michel [cyberbotics] 06/26/2020 07:24:51
Yes.

##### nap 06/26/2020 07:23:33
`@Olivier Michel` :  If I make a copy of the Nao proto, can I set the motor angles in the proto so that the nao appears in my scene already in the pose I want?


Oh, thanks.  Ok, I can see it when I turned on Bounding Objects.  They looked far enough away.

##### Olivier Michel [cyberbotics] 06/26/2020 06:20:55
It's simply a collision with the feet of the robots. Moving the two robot slightly backwards fixes the problem.

##### nap 06/26/2020 06:13:46
Here is the world I'm having the problem with.  There do not appear to be any hidden velocities or inertia.
> **Attachment**: [robocup\_moderator.wbt](https://cdn.discordapp.com/attachments/565154703139405824/725956959618072637/robocup_moderator.wbt)


Yep, it does not move.

##### Olivier Michel [cyberbotics] 06/26/2020 06:07:57
Can you do this as well?


Well, if I edit the original file and set the ball position to `-3.22 0.05 0`, the ball stays still when I start the simulation.

##### nap 06/26/2020 06:05:24
No.  I thought it may have something to do with how the ball was contacting the ground, so I've changed the Y axis from the normal 0.5, to bring it down.  But it still does that.

##### Olivier Michel [cyberbotics] 06/26/2020 06:04:25
It there any initial collision with that ball which may cause an initial motion?

##### nap 06/26/2020 06:02:48
Yes, that's where I got that stanza from.

##### Olivier Michel [cyberbotics] 06/26/2020 06:02:27
The speed is stored in a hidden field (you should open the world file in a text editor to see it).

##### nap 06/26/2020 06:01:26
I understand what you mean, but there is no speed:

     RobocupSoccerBall {

      translation -3.22 0.0479 0

  }

##### Olivier Michel [cyberbotics] 06/26/2020 06:01:16
About the kneeling behavior, you should generate a trajectory for each motor that ensures that the robot is always in a stable position (the projection of the center of mass on the floor should lie in the support polygon, select a robot and from the View menu -> Optional Rendering -> Show Support Polygon).


OK, that's because the ball had some initial speed when you saved your simulation. In general, it's not recommended to save a simulation after it has run (you should have received a warning for that). You should re-open the original world file, in which the ball is not initially rolling, stop the simulation, revert the world, move the ball and save the simulation. This way, the ball will not have an initial speed.

##### nap 06/26/2020 05:54:29
I need to make the Nao kneel from a standing position.  If I command it to go to the kneeling position directly, the robot tips over forward.  Is there a way of interpolating the points?


I moved the ball to one of the penalty spots (near the blue goal). And yes, it rolls away without any other interactions.

##### Olivier Michel [cyberbotics] 06/26/2020 05:52:42
For me, the ball doesn't roll away in this simulation. Does it roll away for you before being kicked by a robot?

##### nap 06/26/2020 05:45:16
`@Olivier Michel` yes, it does.  What I've done is put a solid box to prevent it from running away.  That's fine for my purpose.

##### Olivier Michel [cyberbotics] 06/26/2020 05:31:50
`@nap`: it shouldn't roll away, does it?

##### David Mansolino [cyberbotics] 06/26/2020 05:23:57
> Does the Accelerometer sensor readings include noise ?

> When I try to integrate the values to get the velocity, The velocities are shifted over time.

> I'm using Robot OP3 model

`@Samir Hosny Mohamed` yes of course, if the noise is defined in the lookup table, then it is included in the reading.

##### nap 06/26/2020 04:02:20
In the `nao_robocup` demo, how does one ensure the soccer ball does not roll away when the simulation is started?  I'm using `Webots R2020`.

##### Samir Hosny Mohamed 06/25/2020 23:42:34
Does the Accelerometer sensor readings include noise ?

When I try to integrate the values to get the velocity, The velocities are shifted over time.

I'm using Robot OP3 model

##### Shadow 06/24/2020 08:19:18
`@David Mansolino` Don't worry we managed to get it fixed, the error was due to a python installation issue.

##### David Mansolino [cyberbotics] 06/24/2020 07:33:40
Ok, in that case something is probably making your controller wait, not sure what ðŸ˜•

##### chenpixx 06/24/2020 07:21:59
I wait just one step.

##### David Mansolino [cyberbotics] 06/24/2020 07:20:54
but are you waitign for to training in some way in your controller?

##### chenpixx 06/24/2020 07:18:04
I am call  training file outside my controller. Is it problem.  or Are there a solution about this problem?

##### David Mansolino [cyberbotics] 06/24/2020 07:13:47
ok this should work (provided that you defined `self.timeStep`), i am sorry but this is probably related to your controller that takes time to compute

##### chenpixx 06/24/2020 07:12:38
self.step(self.timeStep) , infact it my op2 environment

##### David Mansolino [cyberbotics] 06/24/2020 07:11:59
what is env ?

##### chenpixx 06/24/2020 07:11:09
it is just simulation.    I am using env.step(env.timeStep)

##### David Mansolino [cyberbotics] 06/24/2020 07:09:34
Just to make sure, you are speaking about simulation or real robot?

##### chenpixx 06/24/2020 07:03:02
approximately after 60-90 steps,


at the begining, it seems synchronous. later problem


Yes, I am using camera

##### David Mansolino [cyberbotics] 06/24/2020 05:57:38
`@chenpixx`, are you using the camera? Is your controller synchronous?


> Hi, we are having problems with running a webots simulation in macOS Catalina, is webots supported on catalina?

`@Shadow` Yes it is supposed to work, what is the problem you are having?

##### chenpixx 06/24/2020 00:48:41
Robotis-op2 slow move and even sometimes freeze.  Are there an idea for its reason?  timestep or the other criteria to change. Using tensorflow for Reinforcement Learning, DQN,, there is no problem, robot is perfect. However, for exactly Keras at similar code, robotis-op2 slow move and even sometimes freeze at iterative algorithm.   Are there an idea for its reason?  Which criteria or command should I check?

##### Shadow 06/23/2020 16:14:15
Hi, we are having problems with running a webots simulation in macOS Catalina, is webots supported on catalina?

##### Tosidis 06/23/2020 13:48:48
ok, thanks, will try it soon, if we have any problems i will come back ðŸ˜„

##### Olivier Michel [cyberbotics] 06/23/2020 13:48:47
But I never did that and I am not sure whether this is possible at all.


Webots needs a connection to an X server anyhow. So you can configure it to use the onboard VGA if you need the NVIDIA card for other purposes.

##### Tosidis 06/23/2020 13:41:23
What we want to achieve: Run webots on onboard vga, so the Nvidia stays empty for model training


If you have a headless system, i.e., a system without any physical monitors attached, then with the NVIDIA graphics card you could fake a monitor in the X session


will this start using the onboard VGA? or does it still require a more powerfull one?

##### Olivier Michel [cyberbotics] 06/23/2020 13:38:23
See also this: [https://cyberbotics.com/doc/guide/web-simulation#server-display](https://cyberbotics.com/doc/guide/web-simulation#server-display)

##### Tosidis 06/23/2020 13:37:30
Hmm will check it, thanks

##### Olivier Michel [cyberbotics] 06/23/2020 13:36:36
See [https://stackoverflow.com/questions/58208419/does-webots-have-headless-mode](https://stackoverflow.com/questions/58208419/does-webots-have-headless-mode)


You have to run a virtual X server.


Hi, yes.

##### Tosidis 06/23/2020 13:34:35
Hey, is there a way to run webots headless?

##### David Mansolino [cyberbotics] 06/23/2020 12:34:02
Yes, or directly the box, or use a USE-DEF.

I would recommend following this tutorial: [https://cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes](https://cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes)

##### Andrei 06/23/2020 12:33:18
so add again as shape  wish same geometry

##### David Mansolino [cyberbotics] 06/23/2020 12:31:55
You're welcome

##### Andrei 06/23/2020 12:31:46
thanks

##### David Mansolino [cyberbotics] 06/23/2020 12:31:05
Ok, in that yase you should define the 'boundingObject' of the solid too, the shape is only for the visual part and not the physics

##### Andrei 06/23/2020 12:30:18
add solid add shape box as children

##### David Mansolino [cyberbotics] 06/23/2020 12:29:46
How did you build your Solid blocks?

##### Andrei 06/23/2020 12:29:19
right now it can't pass through boxes but can pass Solid blocks


exactly

##### David Mansolino [cyberbotics] 06/23/2020 10:16:22
What do you mean by unpasable? You don't want your robot to be able to pass through?

##### Andrei 06/23/2020 09:11:19
how do I make solid blocks "unpassable" ?

##### Jiajun Wang 06/23/2020 08:57:56
`@David Mansolino` if i model the planar joint one by one, the mass of the intermediary Solid between Joints should be massless or light enough.

##### David Mansolino [cyberbotics] 06/23/2020 08:54:19
no minimum. But you should pay attention to avoid big differences between Solid masses to avoid unstabilities

##### Jiajun Wang 06/23/2020 08:53:39
What is the minimum mass of a Solid allowed for simulation calculation(ODE physics)?


planar jointï¼Œsorry

##### David Mansolino [cyberbotics] 06/23/2020 08:50:04
No, you have to add 2 slider-joints one after the other to do this.

##### Jiajun Wang 06/23/2020 08:49:25
Another quesition: How to model the planner joint? i mean 3 DoF in plan, two slide and one rotation. is there a joint option?

##### David Mansolino [cyberbotics] 06/23/2020 08:47:23
Yes indeed, that's the way to go

##### Jiajun Wang 06/23/2020 08:38:30
i have to manually calculate the angle values of q1 and q2, then set value to the jointParameters to make sure the right axis position of the last closed-joint, when i was modeling?

##### David Mansolino [cyberbotics] 06/23/2020 08:32:17
The angles you want to set are not at the last jo9nt level, but rather at the intermediary joint level, for which the rotation is completely available.

##### Jiajun Wang 06/23/2020 08:31:48
`@David Mansolino`  is the photo clear?



%figure
![JPEG_20200623_163034.jpg](https://cdn.discordapp.com/attachments/565154703139405824/724904235514200084/JPEG_20200623_163034.jpg)
%end



%figure
![JPEG_20200623_162721.jpg](https://cdn.discordapp.com/attachments/565154703139405824/724903452685238302/JPEG_20200623_162721.jpg)
%end

##### David Mansolino [cyberbotics] 06/23/2020 08:26:29
Then for the axis, you should simply change the anchor field of the joint parameter

##### Jiajun Wang 06/23/2020 08:25:46
even thought i know how to specify the successor(another Solid, i.e. SolidReference) , I must make sure that the axis of the successor is exactly at the same position of the first Solid?

##### David Mansolino [cyberbotics] 06/23/2020 08:24:35
> i mean Webots cannot specify the rotation position of the successor of the joint. `@David Mansolino`

`@Jiajun Wang` no because the sucessor is a Solid already existing, so if you want to change the rotation you should change it at the Solid definition

##### Jiajun Wang 06/23/2020 08:21:44
i mean Webots cannot specify the rotation position of the successor of the joint. `@David Mansolino`

##### Rajesh Roy 06/23/2020 08:20:55
> It looks like you are missing the textures. Are they available through the corresponding URL?

`@Olivier Michel` This is the console showing errors in Google Chrome.

The texture folder is missing.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/724901792726384761/unknown.png)
%end

##### ContrastNull 06/23/2020 08:20:16
`@Olivier Michel` you are right sir. I figured that out. The console of inspect element was showing errors, saying the textures were not provided.

##### David Mansolino [cyberbotics] 06/23/2020 08:19:25
The SolidReference is quite simple to use actually, when you add the second joint, instead of adding a `Solid` node in the endPoint field you add a SolidReference node, and you set it's `solidName` to be the name of the Solid in the endpoint field of thefirst joint.

##### Jiajun Wang 06/23/2020 08:16:56
`@David Mansolino`  the example is not so clearly. 

So, can it be understood this way: when i was modeling, the position of Solid was the assembly position? The rotational axis of the joint must be coaxial when modeling zhe two Solids, and if they are separated(not coaxial), the rotational axis will not be what i want.

is that soï¼Ÿ

##### Olivier Michel [cyberbotics] 06/23/2020 08:12:52
It looks like you are missing the textures. Are they available through the corresponding URL?

##### Rajesh Roy 06/23/2020 08:11:01

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/724899300156506142/unknown.png)
%end


> `@David Mansolino` I missed one thing! The GitHub pages search for index.html so I just had to rename the main\_arena.html to index.html

> 

> Worked perfectly after that.

`@Rajesh Roy` As a follow up to this message





The simulation which was created using Webots Application for Windows looks like the image attached with this message but the result of the hosted webpage is
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/724899187812073482/unknown.png)
%end

##### adaptive 06/23/2020 08:06:45
ok thx

##### Olivier Michel [cyberbotics] 06/23/2020 08:06:31
Simply by removing the files (`rm -rf webots`).

##### adaptive 06/23/2020 08:05:37
How can the tarball version be deinstalled if neccessary?

##### Jiajun Wang 06/23/2020 07:56:43
ok. i will try it. thx~

##### David Mansolino [cyberbotics] 06/23/2020 07:55:23
You should probably have a look at the example I sent

##### Jiajun Wang 06/23/2020 07:54:56
i sought the SolidReference of Jointï¼Œbut when start simulating, it does not work well... i wanna know how to assemble the passive-closed hinge joint correctly.

##### David Mansolino [cyberbotics] 06/23/2020 07:52:36
Hi, you should use the SolidReference node to create a mechanical loop: [https://cyberbotics.com/doc/reference/solidreference](https://cyberbotics.com/doc/reference/solidreference)

Here is a simple example:

[https://cyberbotics.com/doc/guide/samples-howto#pedal\_racer-wbt](https://cyberbotics.com/doc/guide/samples-howto#pedal_racer-wbt)

##### Jiajun Wang 06/23/2020 07:51:10
hiï¼ŒHow can Webots model a closed-loop kinematic chainï¼Ÿthx

##### Rajesh Roy 06/23/2020 07:49:21
> That's strange, but I am sorry, this has nothing to do with Webots, I can't help you more about this ðŸ˜• You should probably ask this directly on a Github support forum.

`@David Mansolino` I missed one thing! The GitHub pages search for index.html so I just had to rename the main\_arena.html to index.html



Worked perfectly after that.

##### David Mansolino [cyberbotics] 06/23/2020 07:49:07
The log is indeed usefull, it looks like a bug we fixed recently, can you please try with a beta version of Webots R2020a-rev2 available here: [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)

##### adaptive 06/23/2020 07:47:39
this is the output which appears from webots terminal if im starting with te run-button


`@David Mansolino` here is the output [https://bpa.st/M7HQ](https://bpa.st/M7HQ), installing the tarball didnt help

##### David Mansolino [cyberbotics] 06/23/2020 07:25:17
That's strange, but I am sorry, this has nothing to do with Webots, I can't help you more about this ðŸ˜• You should probably ask this directly on a Github support forum.

##### Rajesh Roy 06/23/2020 07:24:24
Even after renaming the repository from repositoryname.github.io to repositoryname is not helpin


> Usually it looks more like 'myusername.github.io/repositoryname/'

`@David Mansolino` that's fine, I just named my repository like repositoryname.github.io by following the step 3 from the image
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/724887425502937108/unknown.png)
%end

##### David Mansolino [cyberbotics] 06/23/2020 07:21:26
Usually it looks more like 'myusername.github.io/repositoryname/'

##### Rajesh Roy 06/23/2020 07:20:04
> `@Rajesh Roy` then you should use a link who looks like (not sure it is exactly this as some part are hidden on the picture): [http://rajeshroy402.github.io/main\_arena.html](http://rajeshroy402.github.io/main_arena.html)

`@David Mansolino` The link is of type myusername.github.io/repositoryname.github.io/



This shouldn't have happened right?

##### David Mansolino [cyberbotics] 06/23/2020 07:14:44
> `@David Mansolino` which installation is recommend for Arch? I think the tar.bz2 install?

`@adaptive` yes, tar.bz2 and you probably have to install a few dependencies manually


> `@David Mansolino` I've hosted the repository according to the guidelines.

`@Rajesh Roy` then you should use a link who looks like (not sure it is exactly this as some part are hidden on the picture): [http://rajeshroy402.github.io/main\_arena.html](http://rajeshroy402.github.io/main_arena.html)

##### adaptive 06/23/2020 07:13:13
`@David Mansolino` which installation is recommend for Arch? I think the tar.bz2 install?

##### Rajesh Roy 06/23/2020 07:11:51
> `@Rajesh Roy` you should not directly watch the pages on Github, but rather use Github pages: [https://pages.github.com/](https://pages.github.com/)

`@David Mansolino` I've hosted the repository according to the guidelines.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/724884411472019476/unknown.png)
%end

##### David Mansolino [cyberbotics] 06/23/2020 07:09:50
> `@David Mansolino` Here are the files which I committed to my repository and then I turned on the setting for GitHub Pages.

> 

> When I use my link, I don't see anything apart of the Readme.md file

`@Rajesh Roy` you should not directly watch the pages on Github, but rather use Github pages: [https://pages.github.com/](https://pages.github.com/)

##### adaptive 06/23/2020 07:08:57
yes maybe

##### David Mansolino [cyberbotics] 06/23/2020 07:08:47
Ok, maybe you should try using another way to install Webots

##### Rajesh Roy 06/23/2020 07:08:42
> which webpage ?

`@David Mansolino` Here are the files which I committed to my repository and then I turned on the setting for GitHub Pages.



When I use my link, I don't see anything apart of the Readme.md file
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/724883618446704750/unknown.png)
%end

##### adaptive 06/23/2020 07:07:58
hm i tried to touch an file for an diary and the Folder is read-only.. "var/lib/snapd/snap/webots/14/usr/share/weboits/lib/controller/matlab"

##### David Mansolino [cyberbotics] 06/23/2020 07:06:08
Maybe there is an argument when you launch it


No idea ðŸ˜•

##### adaptive 06/23/2020 07:05:16
how can i pipe out of matlab-cmd?


i shall pipe i


No ðŸ˜„ but it is the only one i can read before matlab closes

##### David Mansolino [cyberbotics] 06/23/2020 07:00:19
'error in Loadlibrary' is the only error message you get?

##### adaptive 06/23/2020 06:59:53
how? Matlab crashes and the terminal output dissappears


R2020a Rev 1

##### David Mansolino [cyberbotics] 06/23/2020 06:59:21
Which version of Webot are you using?

Can you share the complete crash stack?

##### adaptive 06/23/2020 06:58:47
`@David Mansolino` if im running the matlab-launcher matlab crashed "error in Loadlibrary"

##### David Mansolino [cyberbotics] 06/23/2020 06:47:23
which webpage ?

##### Rajesh Roy 06/23/2020 06:47:01
> Yes this should work, using Github pages for visualizing should work.

`@David Mansolino` Certainly for mine project, it did not.

I uploaded the x3d and html file but the webpage is not showing anything apart from the Readme.md

##### David Mansolino [cyberbotics] 06/23/2020 06:45:37
Yes this should work, using Github pages for visualizing should work.

##### Rajesh Roy 06/23/2020 06:44:53
How can I host my webGL exported simulation project on GitHub?

Is there any other free options available too?

##### David Mansolino [cyberbotics] 06/23/2020 05:08:11
Or using an extern controller: [https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-language=matlab&tab-os=linux](https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-language=matlab&tab-os=linux)


`@adaptive`, can you try from the tar.gz package?

##### Andrei 06/22/2020 21:59:10
> Yes, from a supervisor process.

`@Olivier Michel` 

> can I create objects(obstacles) at runtime ?

`@Andrei`   does anyone have an example in C++ ?

##### adaptive 06/22/2020 16:51:00
also the sample world "Robots/Nao" with Matlab-Controller behaves the same with the Warning..


matlab is callable from the terminal so the bin-dir is linked properly


I have a Problem getting the "matlab" sample world controller running on Arch Linux with Matlab 2020a (installed and works properly) and Webots (R2020a rev 1).. Webots is installed via "snap". If i click Run nothing happens, in the output terminal prompts "Warning: matlab: MATLAB Controllers should be launched as extern controllers with the snap package of webots"

##### Olivier Michel [cyberbotics] 06/22/2020 15:42:51
Yes, from a supervisor process.

##### Andrei 06/22/2020 15:40:04
can I create objects(obstacles) at runtime ?

##### Quantumfox 06/22/2020 15:32:09
thx for your help ðŸ™‚

##### Olivier Michel [cyberbotics] 06/22/2020 15:31:26
OK, I see.


And does it crash without the --stream option?

##### Quantumfox 06/22/2020 15:31:09
there was a random node who bugged


jep

##### Olivier Michel [cyberbotics] 06/22/2020 15:30:41
Why world was causing the crash? Your own world?

##### Quantumfox 06/22/2020 15:26:54
i tried a different world to stream then the exception code doesnt show up

##### Olivier Michel [cyberbotics] 06/22/2020 15:23:04
[https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)


`@Quantumfox`: can you please open a complete bug report so that we can try to reproduce and fix it?

##### Quantumfox 06/22/2020 15:21:56
Hi. I tried to stream webots with "webots --stream" and Webots crashes with this error: 

`Exception code=0xc0000005 flags=0x0 at 0x00000000005D786E. Access violation - attempting to read data at address 0x0000000000000000`

##### Andrei 06/22/2020 15:08:39
hi

##### G1020BS 06/22/2020 14:42:14
> That would interesting...

`@Olivier Michel` Tested it on my brand new laptop. Almost no programs on there. Still a grey image. I tested with the stable release tho. I'll try the nightly build now

##### David Mansolino [cyberbotics] 06/22/2020 14:33:16
You might use a lidar instead: 

  - [https://cyberbotics.com/doc/reference/lidar](https://cyberbotics.com/doc/reference/lidar)

  - [https://cyberbotics.com/doc/guide/samples-devices#lidar-wbt](https://cyberbotics.com/doc/guide/samples-devices#lidar-wbt)

  - [https://cyberbotics.com/doc/guide/samples-devices#sick-wbt](https://cyberbotics.com/doc/guide/samples-devices#sick-wbt)

##### Musaab 06/22/2020 14:29:06
Hi, Im using distance sensors (a lot) on my robot to avoid obstacles. Is there a better way to avoid obstacle  ?

##### Olivier Michel [cyberbotics] 06/22/2020 14:03:16
Let us know.


That would interesting...

##### G1020BS 06/22/2020 14:02:53
Im currently installing Webots on my laptop. Maybe that works..


No. Only the version you told me to use

##### Olivier Michel [cyberbotics] 06/22/2020 14:00:38
Do you have several versions of Webots installed on your PC?


I see ðŸ˜•

##### G1020BS 06/22/2020 13:56:46
Here it is
%figure
![blue_blob.jpg](https://cdn.discordapp.com/attachments/565154703139405824/724623923400147004/blue_blob.jpg)
%end

##### Olivier Michel [cyberbotics] 06/22/2020 13:56:36
The blue\_blob.

##### G1020BS 06/22/2020 13:56:28
The blue\_blob or from my own project?

##### Olivier Michel [cyberbotics] 06/22/2020 13:56:09
Can you share this image here?

##### G1020BS 06/22/2020 13:56:08
So its a problem on my machine..


Jep, I got the same gray, distorted image

##### Olivier Michel [cyberbotics] 06/22/2020 13:49:41
Do you get the same problem with the `camera.wbt` example world I just mentioned?

##### G1020BS 06/22/2020 13:44:11
Did a complete uninstall of Webots and installed 2020a rev 2 again. Still no change..


I'll try to reinstall once more

##### Olivier Michel [cyberbotics] 06/22/2020 13:37:19
If files are remaining after the uninstall, they should be removed manually. However, this should not happen normally...

##### G1020BS 06/22/2020 13:36:10
It appears theres nothing in my PATH that uses that .dll


I scanned my drive for it and it only found Openshot Video Editor using it. It didn't appear to be in my path though.. When I removed it nothing changes. Is it a possibility, when I reinstalled webots with the nightly built, that some files were kept and not reinstalled? Or does the install erase all the files first?


Will do

##### Olivier Michel [cyberbotics] 06/22/2020 13:14:41
Can you check if you have some libjpeg-8.dll in your PATH that might conflict with the one shipped with Webots?


So, I would suspect that in your case, a conflicting JPEG library is found in your PATH and causes problems with JPEG save.


OK, I confirm I can run the example in `WEBOTS_HOME/samples/devices/worlds/camera.wbt` and it works as expected when I change the image type from PNG to JPG (and recompile the controller). The resulting JPG images are well saved (and look correct) in my home folder `C:\Users\username\blue_blob.jpg`


OK, let me check again.

##### G1020BS 06/22/2020 12:57:27
I installed 2020a rev2 and I can open the world also. When I save the camera image as a jpeg I still get a distorted image


I see. Both a 2020a and 2020b are on that page


The exe on that page is a 2020b

##### Olivier Michel [cyberbotics] 06/22/2020 12:50:29
I thought you were already using R2020a revision 2 as I told you...

##### G1020BS 06/22/2020 12:49:18
Okay. So if 2020b doesn't work I'll downgrade to r2020a rev2. Do you want me to send the proto files and such or is that no necessary?

##### Olivier Michel [cyberbotics] 06/22/2020 12:48:19
OK, I am getting many warnings when loading it (missing proto files, images, etc.) but it shows up and seems fine. I am testing it with an older R2020a revision 2. I will test the last nightly now...


Got it!

##### G1020BS 06/22/2020 12:43:11
I've sent an email


Sure.

##### Olivier Michel [cyberbotics] 06/22/2020 12:41:15
Can you please send your world file to support@cyberbotics.com so that we can check it?

##### G1020BS 06/22/2020 12:41:03
I did a ctrl + f search when I opened the world file in notepad++


There is no node of that kind as far as I can see.

##### Olivier Michel [cyberbotics] 06/22/2020 12:40:00
Does your world file uses an UnevenTerrain proto?


Oops...

##### G1020BS 06/22/2020 12:39:00
Only one problem. I cant load my world anymore..
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/724604354962784326/unknown.png)
%end

##### Olivier Michel [cyberbotics] 06/22/2020 12:35:36
I just tested in development environment and the save to JPG image seems to work fine.


Great. Thank you.

##### G1020BS 06/22/2020 12:29:22
Let's do that. If I do find the issue later on, I will inform you about it.

##### Olivier Michel [cyberbotics] 06/22/2020 12:28:55
Strange... So, shall we consider the problem is solved for you (although we don't understand how)?

##### G1020BS 06/22/2020 12:27:20
Regarding this question. I loaded another world and it just worked. Same Robot, same World settings. So I really dont know what the problem was..

> Please try to see how you example differ from the provided `track.wbt` example which works for turning. This will allow you to understand why your robot is not turning as expected. And keep us posted about your findings.

`@Olivier Michel`


Thanks!

##### Olivier Michel [cyberbotics] 06/22/2020 12:26:21
You get it from here: [https://github.com/cyberbotics/webots/releases/tag/nightly\_19\_6\_2020](https://github.com/cyberbotics/webots/releases/tag/nightly_19_6_2020)

##### G1020BS 06/22/2020 12:26:14
Sure I'll go ahead and try that. I'll keep you updated

##### Olivier Michel [cyberbotics] 06/22/2020 12:25:54
May I ask you to try the latest R2020a revision 2 from the github nightly builds. It may fix this problem.

##### G1020BS 06/22/2020 12:25:09
The last stable release from github. 2020A Rev. 1

##### Olivier Michel [cyberbotics] 06/22/2020 12:24:34
Which version of Webots are you using?

##### G1020BS 06/22/2020 12:24:18
Windows 10 64bit

##### Olivier Michel [cyberbotics] 06/22/2020 12:24:12
On which platform you running Webots?


That's a bug...


Try switching to JPEG, it may be faster and will fore sure generate smaller files.

##### G1020BS 06/22/2020 12:23:46
if I save as jpeg, the whole image is gray and distorted...


PNG

##### Olivier Michel [cyberbotics] 06/22/2020 12:23:20
Are you saving to PNG or JPEG image?

##### G1020BS 06/22/2020 12:21:38
Hi. cam.saveImage() is really slowing my simulation down. I save the cam image every step because I am sending the images to a local website that functions as a "remote viewing site". Do you know how to make this process faster or is it just not really possible?

##### David Mansolino [cyberbotics] 06/22/2020 08:35:03
You're welcome

##### bug 06/22/2020 08:34:31
> In that case I am sorry, but the devices are only accessible for the robot whose they belong. But if you want you can use the emitter/receiver API to share the images of the camera between controllers.

`@David Mansolino`  

thank you!

##### David Mansolino [cyberbotics] 06/22/2020 08:31:46
In that case I am sorry, but the devices are only accessible for the robot whose they belong. But if you want you can use the emitter/receiver API to share the images of the camera between controllers.

##### bug 06/22/2020 08:30:58
yes

##### David Mansolino [cyberbotics] 06/22/2020 08:30:43
so you mean that the camera does not belong to the robot from which you want to access it?

##### bug 06/22/2020 08:29:52
> `@bug` can you see the 'camera3' camera in the robot-window of the robot who is using this controller?

`@David Mansolino` 

i can't see it in the Generic-robot-window , the robot doesn't contain  the 'cameras', which is a external camera, so i want to using supervisor controller to get the camera, but i don't know how to do.

##### David Mansolino [cyberbotics] 06/22/2020 05:34:47
> `@Olivier Michel` 

> Thank you for your answer, and i try using API  getCamera ,but it doesn't work, and ouputs [Warning: "camera3" device not found.] , this pic show the  relation of  robot and camera3

`@bug` can you see the 'camera3' camera in the robot-window of the robot who is using this controller?


> Thanks for fixing the camera problem.

`@chenpixx` you're welcome


> I think that the final nighly build (19.06) is for windows not linux. Is it correct? When will you publish for linuz?

`@chenpixx` IT seems indeed there were an issue while creating the nightly build for Linux, but the next one will be available for linux.

##### bug 06/21/2020 08:50:54
and my code is  [camera3 = supervisor.getCamera("camera3");]


> The Supervisor object inherits from the Robot object, so you should be able to use any Robot API function from your Supervisor object.

`@Olivier Michel` 

Thank you for your answer, and i try using API  getCamera ,but it doesn't work, and ouputs [Warning: "camera3" device not found.] , this pic show the  relation of  robot and camera3
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/724184239783936070/unknown.png)
%end

##### Olivier Michel [cyberbotics] 06/21/2020 07:28:37
The Supervisor object inherits from the Robot object, so you should be able to use any Robot API function from your Supervisor object.

##### bug 06/21/2020 04:09:46
Hi, guys.

i have a question and need you help, now i create  a robot and a independent camera device (within the robot), i use a supervisor controller in the robot so that i can control the  independent camera, and i can get node by using the API getFromDef, but i can't control the camera (i think i should using API like getCamera,but i can't find in supervisor  class), so how to control camera (enable, get image and so on ) by using supervisor controller? by the way, the language i use is python .  Thanks!


> Hey!

> I'm new to Webots and I'm trying to implement inverse kinematics algorithms for robotic manipulators (arms).

> I'm currently using the UR10e manipulator.

> I already implemented the algorithms in Python and in them I described the kinematics via rotation matrices which I derived from parametrizing the robot structure with Denavit-Hartenberg parameters.

> I have also used Matplotlib animations to verify that the algorithms work.

> The problem I have is the following:

> I'm not able to align the coordinate systems used in my algorithms to those in the simulator.

> I thought I just have to align the global coordinate system to the robot's base and check that the initial motor angles (positions) coincide, however I simply can't get it right.

> Since I'm not too familiar with how the arm is implemented in Webots, I used measurements provided

> by Universal robotics (manufacturers of UR10e) to get the link lenghts and of the arm and I simulated the arm

> with motor positions set to 0 for the default angles. I derived the DH parameters from this.

> I also added the GPS device in the tool slot to get the end-effector position and orientation.

> However, I feel like I have the wrong approach. Is there a better way to do this?

> The end goal is to be able to verify that the way I reprezent the robot in the algorithms 

> is the same as in the simulation so that I can then calculate the Jacobian and so on.

> I converted the UR10e PROTO node into the Robot class, but I don't know to extract the relevant data from there,

> like axis of rotation as provided in the HingeJointParameters.

> If you can point me to relevant documentation, a sample with direct kinematics on manipulators or explain what

> should I do, it would help a lot, thanks.

`@novice_2222` 



an official sample is available: irb/inverse\_kinematics.wbt, hope it's usefull to you.

##### chenpixx 06/20/2020 10:10:00
Thanks for fixing the camera problem.


I think that the final nighly build (19.06) is for windows not linux. Is it correct? When will you publish for linuz?

##### novice\_2222 06/19/2020 19:34:51
Hey!

I'm new to Webots and I'm trying to implement inverse kinematics algorithms for robotic manipulators (arms).

I'm currently using the UR10e manipulator.

I already implemented the algorithms in Python and in them I described the kinematics via rotation matrices which I derived from parametrizing the robot structure with Denavit-Hartenberg parameters.

I have also used Matplotlib animations to verify that the algorithms work.

The problem I have is the following:

I'm not able to align the coordinate systems used in my algorithms to those in the simulator.

I thought I just have to align the global coordinate system to the robot's base and check that the initial motor angles (positions) coincide, however I simply can't get it right.

Since I'm not too familiar with how the arm is implemented in Webots, I used measurements provided

by Universal robotics (manufacturers of UR10e) to get the link lenghts and of the arm and I simulated the arm

with motor positions set to 0 for the default angles. I derived the DH parameters from this.

I also added the GPS device in the tool slot to get the end-effector position and orientation.

However, I feel like I have the wrong approach. Is there a better way to do this?

The end goal is to be able to verify that the way I reprezent the robot in the algorithms 

is the same as in the simulation so that I can then calculate the Jacobian and so on.

I converted the UR10e PROTO node into the Robot class, but I don't know to extract the relevant data from there,

like axis of rotation as provided in the HingeJointParameters.

If you can point me to relevant documentation, a sample with direct kinematics on manipulators or explain what

should I do, it would help a lot, thanks.

##### Olivier Michel [cyberbotics] 06/19/2020 16:21:06
Please try to see how you example differ from the provided `track.wbt` example which works for turning. This will allow you to understand why your robot is not turning as expected. And keep us posted about your findings.

##### G1020BS 06/19/2020 12:40:04
leftSpeed = 0.1 and rightSpeed = -0.1


Thats correct

##### Olivier Michel [cyberbotics] 06/19/2020 12:21:18
How to you program turning? Set a positive speed on one track and the same, but negative speed on the other track?

##### G1020BS 06/19/2020 12:11:13
If I set the controller to go just forward or backward, everything is fine. But turning just doesn't work


I also made a tank and gave it tracks. But when I let it turn, it just goes back and forward.

##### Olivier Michel [cyberbotics] 06/19/2020 12:04:51
The track.wbt example is working fine with respect to turning. How does your example differ from this one?

##### G1020BS 06/19/2020 11:56:52
`@Olivier Michel` I made a robot with tracks like your example world â€˜trackâ€™. The only thing is, when I start to turn, the robot only goes back and forward like an idiot. Any suggestions?

##### Olivier Michel [cyberbotics] 06/19/2020 09:21:03
Great! Thank you for the feedback!

##### chungshan 06/19/2020 09:10:54
`@Olivier Michel` It works! I can import cv2 in the controller now. I clone the newest webots from the sources.

##### Olivier Michel [cyberbotics] 06/19/2020 06:09:10
Let us know.

##### chungshan 06/19/2020 06:08:48
`@Olivier Michel` I cloned webots a week ago. I'll try it, thanks!

##### Olivier Michel [cyberbotics] 06/19/2020 05:55:54
Two days ago we did an important commit to the master branch of Webots which should resolve the problem you are facing: [https://github.com/cyberbotics/webots/pull/1765](https://github.com/cyberbotics/webots/pull/1765). When did you clone Webots from the sources?

##### chungshan 06/19/2020 05:37:41
`@David Mansolino` webots is building from source as [https://github.com/cyberbotics/webots/wiki/Docker](https://github.com/cyberbotics/webots/wiki/Docker) in "Create your own Image"

##### Olivier Michel [cyberbotics] 06/19/2020 05:35:11
Hi! Can you try running your opencv controller as an extern controller as explained here: [https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-os=linux](https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-os=linux). If that still doesn't work, I would recommend you to change the LD\_LIBRARY\_PATH variable so that it points to a new folder that you will create and that will contain a copy of libController.so and libCppController.so. The goal here is to avoid that your controller uses the Qt libraries of Webots.

##### David Mansolino [cyberbotics] 06/19/2020 05:22:18
Hi `@chungshan` it seems you have a version of Qt that is installed on your Docker that is not compatible with cv2.

Which version of Webots are you using?

##### chungshan 06/19/2020 03:07:19
hello, I want to use opencv in a controller. When I import cv2, it got error

[kinect\_controll]     import cv2

[kinect\_controll] ImportError: /usr/lib/x86\_64-linux-gnu/libQt5Test.so.5: undefined symbol: \_Z32qt\_register\_signal\_spy\_callbacksRK21QSignalSpyCallbackSet



opencv version is 3.3.1

python version is python 2.7

webots is installed in a docker like this : [https://github.com/cyberbotics/webots/wiki/Docker](https://github.com/cyberbotics/webots/wiki/Docker)

Besides, I can import cv2 like this in terminal:

===========================

root@c9e0f616ebb8:/# python

Python 2.7.12 (default, Apr 15 2020, 17:07:12) 

[GCC 5.4.0 20160609] on linux2

Type "help", "copyright", "credits" or "license" for more information.

> import cv2

> >>> print cv2.\_\_version\_\_

> 3.3.1-dev

> >>>

##### David Mansolino [cyberbotics] 06/18/2020 13:33:04
You're welcome

##### aalmanso 06/18/2020 13:32:14
> Yes of course, Webots uses an extension of WRML which is humand readable.

> You will find more information about world files here: [https://cyberbotics.com/doc/reference/webots-world-files](https://cyberbotics.com/doc/reference/webots-world-files)

`@David Mansolino` thank you very much

##### David Mansolino [cyberbotics] 06/18/2020 13:22:54
Yes of course, Webots uses an extension of WRML which is humand readable.

You will find more information about world files here: [https://cyberbotics.com/doc/reference/webots-world-files](https://cyberbotics.com/doc/reference/webots-world-files)

##### aalmanso 06/18/2020 13:21:56
text editor


by using C or C++ programming language

##### David Mansolino [cyberbotics] 06/18/2020 13:20:29
What do you mean by editor? The Webots GUI or a text editor?

##### aalmanso 06/18/2020 13:19:46
Hi, i want to build the graphical environment(Arena, Obstacls, Walls...) by using editor, is that possible in webots simulator?

##### David Mansolino [cyberbotics] 06/18/2020 13:13:12
Yes

##### nelsondmmg 06/18/2020 13:09:17
So it is calculated as a solid cylinder?

##### David Mansolino [cyberbotics] 06/18/2020 13:06:18
It is computed automatically based on the bounding objects of the wheel.

##### nelsondmmg 06/18/2020 13:04:57
The model 3 wheels inertia moment is defined somewhere in the PROTOs?

##### Master6 06/18/2020 12:02:24
Awesome!

##### David Mansolino [cyberbotics] 06/18/2020 11:07:43
> I currently get this warning after I added in the battery variables to the robot node (webots can't calculate the consumption of the linearmotor in a track), is there a way to either fix this or at least get rid of the warnings? (it make using the console impossible)

`@Master6` this is now fixed on Github and will be included in the next release.

##### lojik 06/18/2020 09:12:31
`@nelsondmmg` thank you ðŸ‘Œ Right now my simulation begin to slide down the slope as soon as it is a little bit tilted (0.5 degrees for example).



I do not think that the friction coulomb is taken into account here ...



For your understanding : Friction coulomb is 1, firce dependent slip is 0.001, basic time step is 2



I would help more but I am at the end of my master thesis and friction is not my higgest priority now in this simulation ðŸ˜…

##### David Mansolino [cyberbotics] 06/18/2020 08:58:36
Ok, then you have to make sure that the object is completely 'hidden' by the bounding object from the camera

##### Shadow 06/18/2020 08:57:50
Yes it does

##### David Mansolino [cyberbotics] 06/18/2020 08:54:06
Ok, in that case does your wall have a bounding object?

##### Shadow 06/18/2020 08:53:21
Yes it is

##### David Mansolino [cyberbotics] 06/18/2020 08:50:01
`@Shadow`, did you set the `occlusion` of the Recognition node to True?

##### nelsondmmg 06/18/2020 08:44:23
> As I understood by reading doc a bit with mu and fds is when the force at contact point is bigger than friction, the contact point will move with a constant speed equal to fds * normal force.

> 

> But I did not have the expected behavior in simulation on my side too.

`@lojik` I'm gonna try to find out how the connection is modeled.

##### Shadow 06/18/2020 08:39:23
I'm having issues with object recognition. The robot can detect the objects correctly but if the robot is on the other side of a wall it can detect the object through it. The detectable object is just a flat plane placed on the wall but if I move it away from the wall a bit, the robot can no longer detect it from the other side. Do you have any thoughts on how I could fix this? Thanks.

##### lojik 06/18/2020 07:19:35
As I understood by reading doc a bit with mu and fds is when the force at contact point is bigger than friction, the contact point will move with a constant speed equal to fds * normal force.



But I did not have the expected behavior in simulation on my side too.

##### David Mansolino [cyberbotics] 06/18/2020 07:08:30
From the manual it is said that only `mu` should always be set. My guess is that mu will impact the dynamic case when rho and fds are 0.

##### nelsondmmg 06/18/2020 06:56:07
Thanks for the answer, but how the tire reacts when the static force is higher than the friction when the rho is zero and the fds is also zero? That's what I don't understand in ODE documentation.

##### David Mansolino [cyberbotics] 06/18/2020 06:51:31
> Hey, I wanted to use OpenStreetMap Importer. But as given in the instructions I don't see any path `$WEBOTS_HOME/resources/osm_importer` in my system. My webots version in R2020a rev1.

`@ContrastNull` that's strange, which OS are you using? Did you defined 'WEBOTS\_HOME' ?


> `@nelsondmmg`#41 `@David Mansolino` do you have any clue or know where I can get this info?

`@nelsondmmg` the rho parameter is unfortunately not set it therefore keeps the default value (0 or very close to). IF you need this parameters and want us to add it, please open a feature request here to explain why this parameter is important and we will add it:

[https://github.com/cyberbotics/webots/issues/new?template=feature\_request.md](https://github.com/cyberbotics/webots/issues/new?template=feature_request.md)

##### ContrastNull 06/18/2020 06:34:27
Hey, I wanted to use OpenStreetMap Importer. But as given in the instructions I don't see any path `$WEBOTS_HOME/resources/osm_importer` in my system. My webots version in R2020a rev1.

##### nelsondmmg 06/18/2020 05:46:36
> Looking through the ODE documentation, each surface has a mu, the static friction constant and a rho, the dynamic friction constant. I cannot find the rho definition in the contact properties node. What happens if I apply a torque in a tire with a higher intensity than the longitudinal static friction? Right now I am putting a high value for mu to avoid this scenario, but I noticed that when mu is low the velocity keeps oscillating. In the picture I used by control to set the throttle, but with a constant throttle value the plot is similar.

@nelsondmmg#41 `@David Mansolino` do you have any clue or know where I can get this info?

##### David Mansolino [cyberbotics] 06/18/2020 05:33:14
> now I get: AttributeError: 'NoneType' object has no attribute 'getField'

`@Simon Steinmann` `getFromDef` can't get node inside a PROTO, this is why you get None. If you are using a beta of Webots R2020b you can use instead the `getFromProtoDef` function ([https://www.cyberbotics.com/doc/reference/supervisor?version=develop&tab-language=python#wb\_supervisor\_node\_get\_from\_proto\_def](https://www.cyberbotics.com/doc/reference/supervisor?version=develop&tab-language=python#wb_supervisor_node_get_from_proto_def)) that allows to get node inside a PROTO (in read only mode).

##### townofsacha 06/17/2020 22:49:50
ill try that link though

##### Simon Steinmann [Moderator] 06/17/2020 22:49:49
I doubt github is down

##### townofsacha 06/17/2020 22:49:23
i tried it on my old pc and the same thing happened


ill try that link and update my computer

##### Simon Steinmann [Moderator] 06/17/2020 22:48:32
must be a problem on your side. Perhaps try updating and restarting your pc


you tried this link? [https://github.com/cyberbotics/webots/releases/tag/R2020a-rev1](https://github.com/cyberbotics/webots/releases/tag/R2020a-rev1)

##### townofsacha 06/17/2020 22:46:41
windows 10


yeah i have plenty

##### Simon Steinmann [Moderator] 06/17/2020 22:46:33
and what OS are you using?


do you have enough storage on your computer? :p

##### townofsacha 06/17/2020 22:46:14
does anyone know what the problem could be?


i am trying to download an older version but it still failed


and it either fails and refuses to start after a few minutes or fails and corrupts the file


ive tried on firefox and chrome


i keep trying to download the webots latest stable version


can anyone help me figure out a problemo

##### Simon Steinmann [Moderator] 06/17/2020 16:26:29
Well I guess LEDs dont have to be set up on the fly...


with robot being a Supervisor()


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

and I get the node handle like this:

LED0 = robot.getFromDef('EPUCK\_LED0')


this is the proto for the LED


DEF EPUCK\_LED0 LED {

      translation 0 0.041 -0.0337

      children [

        Shape {

          appearance PBRAppearance { # Don't use DEF/USE here!

            baseColor 0.8 0.8 0.8

            roughness 0.2

            metalness 0.5

            emissiveIntensity 100

          }

          geometry DEF EPUCK\_LED\_GEOMETRY Box {

            size 0.004 0.003 0.003

          }

        }

      ]

      name "led0"


now I get: AttributeError: 'NoneType' object has no attribute 'getField'

##### Olivier Michel [cyberbotics] 06/17/2020 16:18:28
So, the only way is to use a supervisor then.

##### Simon Steinmann [Moderator] 06/17/2020 16:17:57
would be nice to do that in the controller, not the proto file

##### Olivier Michel [cyberbotics] 06/17/2020 16:17:55
Yes, but why don't you set this in the world or proto file?

##### Simon Steinmann [Moderator] 06/17/2020 16:17:27
for that, the gradual field has to be set to true, and the color  field needs to be empty

##### Olivier Michel [cyberbotics] 06/17/2020 16:17:11
Can't you simply use the LED.set() method?


I am not sure what you are trying to do...


If you want to change the color of a LED, you should use the LED API instead.

##### Simon Steinmann [Moderator] 06/17/2020 16:13:05
uff, okay, the LED node really needs direct functionality to set gradual and color. This is quite painful workflow :p

##### Olivier Michel [cyberbotics] 06/17/2020 16:12:38
Yes.

##### Simon Steinmann [Moderator] 06/17/2020 16:12:27
otherwise I cant use that functionality


oh wait, the robot has to be supervisor right?

##### Olivier Michel [cyberbotics] 06/17/2020 16:10:58
You should use getFromDEF() instead of getLED().

##### Simon Steinmann [Moderator] 06/17/2020 16:09:34
AttributeError: type object 'object' has no attribute '\_\_getattr\_\_'


LED0 = robot.getLED('led0')

gradual = LED0.getField('gradual')



2nd line throws errer


thx, I'll try

##### Olivier Michel [cyberbotics] 06/17/2020 16:05:54
Yes, using the setter.

##### Simon Steinmann [Moderator] 06/17/2020 16:05:19
can I also set it that way? as an array=

##### Olivier Michel [cyberbotics] 06/17/2020 16:04:53
And the data type you receive in Python should be an array of 3 floats.


You should use `getField()`.

##### Simon Steinmann [Moderator] 06/17/2020 16:02:19
`@Olivier Michel` Can I address a field of a node directly? or do I have to use the "getField()" function first to get a handle? I'm trying to change the gradual and color field of a LED node. How would I go about that? Oh and what in the heck is the datatype of the color Field? in the documentation it's "color: [1 1 1]" but that's no data type. Slightly confusing

##### nelsondmmg 06/17/2020 15:59:22
Looking through the ODE documentation, each surface has a mu, the static friction constant and a rho, the dynamic friction constant. I cannot find the rho definition in the contact properties node. What happens if I apply a torque in a tire with a higher intensity than the longitudinal static friction? Right now I am putting a high value for mu to avoid this scenario, but I noticed that when mu is low the velocity keeps oscillating. In the picture I used by control to set the throttle, but with a constant throttle value the plot is similar.
%figure
![slip.png](https://cdn.discordapp.com/attachments/565154703139405824/722842838429204511/slip.png)
%end

##### Simon Steinmann [Moderator] 06/17/2020 15:46:39
and people say they will never need Trigonometry outside of school ðŸ˜„


this visualizes it ðŸ™‚


[https://www.wolframalpha.com/input/?i=plot+of+y%3Dsin%28x](https://www.wolframalpha.com/input/?i=plot+of+y%3Dsin%28x)*2*pi%29+and+y%3D%28sin%28x*2*pi%29%2B1%29%2F2+and+y%3Dround%28%28sin%28x*2*pi%29%2B1%29%2F2%29++for+x%3D0+to3+

##### Zenzo 06/17/2020 15:38:45
I am following

##### Simon Steinmann [Moderator] 06/17/2020 15:37:16
Can you follow, or do you want me to elaborate?


you can also do sin(2 * pi * frequency * t)  with frequency being a variable you set. This is the value in Hz, so with frequency = 10, the value oscilates 10 times a second


keep in mind that you have to use sin(2 * pi * t) if you want the value to oscilate ONCE per second, instead of 2*pi seconds (about 6,3 seconds)


let me know if this is clear ðŸ™‚


`@Zenzo` 

`#!/usr/bin/env python2

\# -*- coding: utf-8 -*-

from math import sin, pi

import time



start\_time=  time.time()

while True:

    t = time.time() - start\_time   #time in seconds going up from 0

    

    value1 = sin(t) # oscilates between -1 and 1

    value2 = sin(t)+1 # oscilates between 0 and 2

    value3 = (sin(t)+1)/2 # oscilates between 0 and 1

    value4 = round(value3,0) # JUMPS between -0 and 1

    value5 = int(value4) # turns value4 into integer

    

    print(value1, value2, value3, value4, value5`)

##### Zenzo 06/17/2020 15:18:18
`@Simon Steinmann` I was looking at this conversation and it made me curious as to how you make blinking LED lights with maths, could you explain it a little further? I am very simple so simplifying it will help me to understand thanks.

##### Simon Steinmann [Moderator] 06/17/2020 14:58:30
then we round(sin(...), 0) so we get 0 or 1 and finally we turn it into and integer using int()


as an explanation of the ledValue. I use the simulation time and the sinusfunction to get an oscilating value. So the core is sin(2*pi*time). we need to add the 2*pi, because we want to oscilate once per second, not once per ~6,3 seconds. By multiplying our frequency in hz, we can increase or decrease the frequency. (sin(...)+1)/2 makes it so we oscilate between 0 and 1 and not -1 and 1


I purposefully pasted it as an image. type it yourself and try to understand. if something is not clear, let me know. A good little exercise would be to change the color of one of the LEDs


this has led0 and led1 blinking. I added line 2, 24-26 and 34-37
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/722826412469518346/unknown.png)
%end

##### Davie 06/17/2020 14:36:27
alright

##### Simon Steinmann [Moderator] 06/17/2020 14:36:20
watch the video in the meantime, I'll have a quick look

##### Davie 06/17/2020 14:34:48
and some barrels lol

##### Simon Steinmann [Moderator] 06/17/2020 14:34:39
is it just a blank world with the epuck added?

##### Davie 06/17/2020 14:34:18
created that

##### Simon Steinmann [Moderator] 06/17/2020 14:34:11
what about the world file?

##### Davie 06/17/2020 14:33:40
im using the controller code on [https://cyberbotics.com/doc/guide/tutorial-4-more-about-controllers?tab-language=python](https://cyberbotics.com/doc/guide/tutorial-4-more-about-controllers?tab-language=python)

##### Simon Steinmann [Moderator] 06/17/2020 14:33:17
are you using a sample world and controller?

##### Davie 06/17/2020 14:32:58
No i didnt

##### Simon Steinmann [Moderator] 06/17/2020 14:32:51
I doubt you wrote it from the ground up


what python controller for the epuck are you using btw?


watch this at least


[https://www.youtube.com/watch?v=wfcWRAxRVBA](https://www.youtube.com/watch?v=wfcWRAxRVBA)

##### Davie 06/17/2020 14:31:30
ðŸ¤ I don't have a day unfortunately, this sort of just needs to work

##### Simon Steinmann [Moderator] 06/17/2020 14:30:55
should be doable in a day


there is a free python course here: [https://www.robotigniteacademy.com/en/path/ros-for-beginners/](https://www.robotigniteacademy.com/en/path/ros-for-beginners/)

##### Davie 06/17/2020 14:30:40
I agree but the issue here is my timeframe

##### Simon Steinmann [Moderator] 06/17/2020 14:30:10
I really suggest you do a python course. You should really know how objecgt oriented programming works. In python this especially includes classes and how to use them

##### Davie 06/17/2020 14:30:04
was just following this
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/722820367055323186/unknown.png)
%end

##### Simon Steinmann [Moderator] 06/17/2020 14:29:31
that sucks, sorry to hear that

##### Davie 06/17/2020 14:29:20
Teacher is pretty unhelpful too


since this lockdown started, online classes were minimalised and we were thrown pretty much in the deep end

##### Simon Steinmann [Moderator] 06/17/2020 14:28:32
I hope you don't take this the wrong way, but you seem to be missing some basics of python programming. Didn't you get proper instructions with this assignment, or the fundamental courses required to writing python code?

##### Davie 06/17/2020 14:23:25
i put this in the controller and now the epuck wont move



class LED (Device):

   def set(self, 0xff0000):

   def get(self):

##### Simon Steinmann [Moderator] 06/17/2020 14:15:58
then you can control the LED using the functions as explained in the documentation (2nd link he sent)


so get a device handle to the LEDs, I havent tested it, but this should work:

LED0 = robot.getLED('led0')

##### Davie 06/17/2020 14:12:25
ye

##### Simon Steinmann [Moderator] 06/17/2020 14:12:18
the LEDs are called "led0" and "led1"

##### Davie 06/17/2020 14:11:22
can i just get some very high-level instructions here? i just want some leds to blink on the epuck


hence why im here


he isnt available

##### Simon Steinmann [Moderator] 06/17/2020 14:09:08
Then I'd suggest asking your teacher

##### Davie 06/17/2020 14:06:12
and i dont have time to understandit


thisis just for aschool assignmenti dont understand any of that

##### David Mansolino [cyberbotics] 06/17/2020 14:04:54
Yes, but it explains how to retrieve device handles with the Python API (which works the same for all the Devices).

##### Davie 06/17/2020 14:02:39
well for starters, that first link says nothing about LEDs

##### David Mansolino [cyberbotics] 06/17/2020 14:01:53
Ok so can you be a bit more precise, what is confusing you?

##### Davie 06/17/2020 14:01:43
still confused


i looked at those

##### David Mansolino [cyberbotics] 06/17/2020 14:01:17
Here is a tutorial abotu Python controllers:

[https://cyberbotics.com/doc/guide/tutorial-4-more-about-controllers?tab-language=python](https://cyberbotics.com/doc/guide/tutorial-4-more-about-controllers?tab-language=python)

and here the documentation about LED in Python:

[https://cyberbotics.com/doc/reference/led?tab-language=python](https://cyberbotics.com/doc/reference/led?tab-language=python)

##### Davie 06/17/2020 13:59:58
how to initialise and flash leds on epuck in python?

##### David Mansolino [cyberbotics] 06/17/2020 13:36:19
You're welcome

##### dimple.bhuta 06/17/2020 13:35:57
`@David Mansolino` thank you it works

##### Olivier Michel [cyberbotics] 06/17/2020 12:17:21
Unfortunately, I have no idea why your arm is swinging...


In that case, forget about my advice to set the physics to NULL, it's correct the way you did.

##### wessel 06/17/2020 12:15:27
yes

##### Olivier Michel [cyberbotics] 06/17/2020 12:15:16
So, it looks like it is mobile robot, not a fixed arm?

##### wessel 06/17/2020 12:13:44
but the bottom wheel spins fine and works with rotary motor


now it swings even with rotary motor


before when i added a rotary motor the part just stopped swinging


the way i want it to go


it does pivot correctly



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/722785899511021678/unknown.png)
%end


alright so i currently have only damping saying Null

##### Olivier Michel [cyberbotics] 06/17/2020 12:11:09
I mean the Robot node (which is the first link, the second link being connected to the first one with a HingeJoint and a RotationalMotor).

##### wessel 06/17/2020 12:10:18
my own

##### Simon Steinmann [Moderator] 06/17/2020 12:10:07
What arm are you using?

##### wessel 06/17/2020 12:09:55
it says Damping Null


What should i set to null? what do you mean with the first link of the robot?

##### Olivier Michel [cyberbotics] 06/17/2020 12:08:28
You should attach it to the static environment. In order to do so, the first link of the robot should have the `NULL` value in its physics field.

##### wessel 06/17/2020 12:06:36
how do i fix this?


whilst there is a rotary motor connected


Hello, I am working on a robotic arm, but when i added everything it just falls down and swings around

##### David Mansolino [cyberbotics] 06/17/2020 12:01:02
if you want to connect all the points you can simply use:

```
 coordIndex [
    0 1 2 3 -1
   ]
```

##### dimple.bhuta 06/17/2020 11:10:03
if you can guide me with it or provide any documentation that will be great. Once again thank you for your help.


DEF TRAIL Shape {

appearance PBRAppearance {

        baseColor 1 1 1

      }

    geometry DEF TRAIL\_LINE\_SET IndexedLineSet {

    coord Coordinate {

     point [

     77.17   0.5   -37.49000000000001

     76.14   0.5   -37.349999999999994

     75.1   0.5   -37.20000000000002

     74.07   0.5   -37.06

     ]

   }

   coordIndex [

    0 0 0 0

   ]

      }

    }


what should be the values in coordIndex field


However for the IndexedLineSet function I am not able to understand


DEF POINT\_SET\_142865550 Transform {

  translation 0.0 0.0 0.0

  children [

    Shape {

      geometry PointSet {

        color Color {

          color [

          0.8 0 0

          0.8 0 0

          0.8 0 0

          0.8 0 0

          ]

        }

        coord Coordinate {

          point [

          77.17   0.0   -37.49000000000001

          76.14   0.0   -37.349999999999994

          75.1   0.0   -37.20000000000002

          74.07   0.0   -37.06

          ]

        }

      }

    }

  ]

}


Hi using the pointset function I am able to plot points on the lane.
%figure
![plottingPointsOnRoad.png](https://cdn.discordapp.com/attachments/565154703139405824/722769424167207053/plottingPointsOnRoad.png)
%end

##### David Mansolino [cyberbotics] 06/17/2020 10:57:32
Not in the world file, but in the PROTO file yes, you can use procedural PROTO: [https://www.cyberbotics.com/doc/reference/procedural-proto-nodes](https://www.cyberbotics.com/doc/reference/procedural-proto-nodes)

##### PurplePi 06/17/2020 10:56:58
Ok, thank you. I was wondering if this was possible to have a random function inside the world file ?

##### David Mansolino [cyberbotics] 06/17/2020 10:45:14
You have to move them at a random position from the supervisor at the first step after the reset.

##### PurplePi 06/17/2020 10:43:57
Hello, I would like to know how to randomize robots and objects' positions when resetting the simulation.

##### dimple.bhuta 06/17/2020 09:18:27
ok thank `@David Mansolino` I will try this out

##### David Mansolino [cyberbotics] 06/17/2020 09:17:51
You can show it on top of a road using an IndexedLineSet: [https://cyberbotics.com/doc/reference/indexedlineset](https://cyberbotics.com/doc/reference/indexedlineset)

##### dimple.bhuta 06/17/2020 09:17:26
[https://cyberbotics.com/doc/guide/object-road](https://cyberbotics.com/doc/guide/object-road)


i went through the documentation for road proto but it doesn't seem to facilitate plotting of reference paths on top of road proto

##### Olivier Michel [cyberbotics] 06/17/2020 09:17:17
Can't you simply modify the road texture files?

##### dimple.bhuta 06/17/2020 09:16:02
for an edge I have a set of points like a reference path. I wanted to check if its possible to plot the reference path (no in real time) on the lanes

##### Olivier Michel [cyberbotics] 06/17/2020 09:14:01
Do you mean like using a Pen device to write on the road?

##### dimple.bhuta 06/17/2020 09:12:38
Hi I had a question regarding wbt file. For representation purposes will it be possible to plot points on lanes of a road.

##### nelsondmmg 06/17/2020 07:53:47
Ok, thanks. That would be more intuitive, I used I33 as the vertical inertia for a long time ðŸ˜…

##### Olivier Michel [cyberbotics] 06/17/2020 07:52:29
Yes, this is correct. By the way, we are going to introduce the possibility to switch to Z for the vertical axis in an upcoming version of Webots.

##### nelsondmmg 06/17/2020 07:29:02
The vertical inertia moment of the vehicle in this case is the I22? Inside the PROTO file, according to the documentation the first line is I11, I22, I33; considering the color system used in the global coordinates the vertical axis would be y?
%figure
![intertia.png](https://cdn.discordapp.com/attachments/565154703139405824/722714408165310464/intertia.png)
%end

##### David Mansolino [cyberbotics] 06/17/2020 05:38:26
`@sanyaade`, I suppose you are on Windows right?

About Qt, it should indeed be possible, but since Webots dependencies on Qt is not negligible, this would be a huge amount of work, and I am not sure to understand what would be the advantage?


> I couldn't find any documentation about skin node to model a spring. Can you suggest if there is any?

`@sinancimen` the skin node is unfortunately not yet documented. However, some examples are availables: [https://cyberbotics.com/doc/guide/samples-rendering#animated\_skin-wbt](https://cyberbotics.com/doc/guide/samples-rendering#animated_skin-wbt)

##### sanyaade 06/16/2020 18:16:05
Today I used webots in my computing class to teach programming in Python. Students simulate e-pluck using adapted webots Tutorials.

Everything went well but there are couple of hiccups:

    1.) Python 3.7 is requirement so < 3.7 or >= 3.8 will not work

    2.) Python has to be download, installed as system wide in Windows. This creates some issues but most student were able to resolved this.

    3.) I will like to used webots at lower age 6-16 old kids, to teach introduction to Programming (Python) and Robotics (ESP8266/ESP-32 based Robots)



In order to create solution for all the above points, I was wondering may I should compile Webots, packaged with its own Python compiler in order to make portable and non operating systems dependent. Look getting to work with a range of Python compilers versions e.g. > 2.7 or >3.7 as opposed to a fixed version only. (SWIG or SWIG alternative FFI generator(s) ). 



Is it possible to replace QT dependent with [https://github.com/Immediate-Mode-UI/Nuklear](https://github.com/Immediate-Mode-UI/Nuklear) ?  Later to see if I could get my hands dirty to do this as a project



Many thanks for creating and releasing now as open source. 



God blesses!!!



Best regards,

Sanyaade

##### sinancimen 06/16/2020 16:59:29
I couldn't find any documentation about skin node to model a spring. Can you suggest if there is any?

##### David Mansolino [cyberbotics] 06/16/2020 14:19:18
Thank you ðŸ˜‰

##### Master6 06/16/2020 14:18:59
You guys are doing great work ðŸ‘

##### David Mansolino [cyberbotics] 06/16/2020 13:19:54
I can indeed reproduce the crash with R2020b, we will fix it for the release.


I will try it.


Perfect thank you.

##### Master6 06/16/2020 12:58:24
[https://wetransfer.com/downloads/581b6438ee1e208c6fb974c6cf706a3c20200616125133/1247ae1a2e8db58d233275de447100f020200616125209/6ae859](https://wetransfer.com/downloads/581b6438ee1e208c6fb974c6cf706a3c20200616125133/1247ae1a2e8db58d233275de447100f020200616125209/6ae859)

So here's a link to a wetransfer with my proto files.

I only tested our latest version (5.3) but I also included all our previous versions, might help you narrow down where the problem began.

##### David Mansolino [cyberbotics] 06/16/2020 12:48:08
If you can send us the PROTO that's indeed already good ðŸ™‚

##### Master6 06/16/2020 12:47:20
Well I have a quit complex proto with a lot of parts imported from solidworks, and I have no idea what causes the crash. I can send you the proto if you want, but I don't have the time myself to figure out what's causing it.

##### David Mansolino [cyberbotics] 06/16/2020 12:41:09
That's still a beta so it is indeed not as stable as the latest release :-(

Would it be possible for you to report this bug too (and ideally include a PROTO that reproduces the issue with the report), so that we can make sure it will fix this in the beta?

##### Master6 06/16/2020 12:38:54
So I tried both the 15-6-2020 nightly build and the 12-6-2020 nightly build of R2020b but they both crash when I try to load my proto

##### David Mansolino [cyberbotics] 06/16/2020 11:33:32
You're welcome.

##### Master6 06/16/2020 11:33:18
Alright, thanks for the response. I'll try to filter the messages with R2020b and report the bug.

##### David Mansolino [cyberbotics] 06/16/2020 11:29:31
This looks like a bug, can you please report it here: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

In the meantime, the new version of Webots will allows you to filter messages from the console (just right click on the console in Webots), here is a beta of Webots R2020b: [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)

##### Master6 06/16/2020 11:27:09
I currently get this warning after I added in the battery variables to the robot node (webots can't calculate the consumption of the linearmotor in a track), is there a way to either fix this or at least get rid of the warnings? (it make using the console impossible)
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/722411944442855514/unknown.png)
%end

##### Olivier Michel [cyberbotics] 06/16/2020 10:30:27
It could be the supervisor is launching another process which on your colleague's machine is different from yours and requires Qt...

##### Luiz Felipe 06/16/2020 10:28:36
Yes, i never experienced that running the environment hundreds of times...

##### Olivier Michel [cyberbotics] 06/16/2020 10:27:54
Yes, but it is strange as the supervisor should not try to find the Qt library. It has no dependency on it...

##### Luiz Felipe 06/16/2020 10:26:51
is it not finding the qt library?

##### Olivier Michel [cyberbotics] 06/16/2020 10:14:28
That seems to indicate that the supervisor is linked against Qt...

##### Luiz Felipe 06/16/2020 10:07:56
I don't think it is using Qt directly. The environment is a variant of this repo: [https://github.com/omichel/test\_world](https://github.com/omichel/test_world)


In my personal environment the error does not happen, but when my colleague is running in his environment this error happened. He reinstalled Webots (removing all files related to webots) and the error still happens.

##### David Mansolino [cyberbotics] 06/16/2020 05:07:30
Hi `@Luiz Felipe` which simulation are you running? Is your controller using Qt?

##### Luiz Felipe 06/16/2020 03:36:46
Is any package missing?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/722293493942321162/unknown.png)
%end


Running a simulation using Ubuntu 18.04 and Webots 2020a the following error happens:

##### David Mansolino [cyberbotics] 06/15/2020 14:00:04
you might use the force feedback of the motor of the arm to measure weight: [https://cyberbotics.com/doc/reference/motor#wb\_motor\_enable\_force\_feedback](https://cyberbotics.com/doc/reference/motor#wb_motor_enable_force_feedback)

##### Musaab 06/15/2020 13:53:59
Hi, im currently busy with robot arm but I want to implement some kind of sensor to measure the weight of an object. Can anyone help explain how to get this done? Thanks

##### David Mansolino [cyberbotics] 06/15/2020 13:48:23
Yes it is indeed.

##### nelsondmmg 06/15/2020 13:46:56
Just to confirm, the steering angle control implemented for the Tesla Model 3 is composed only by a P controller, isn't it? I could not find in any of the PROTOs another defintion for the P,I,D constants.

##### David Mansolino [cyberbotics] 06/15/2020 13:22:14
You're welcome.

##### sinancimen 06/15/2020 13:21:58
Thanks!

##### David Mansolino [cyberbotics] 06/15/2020 13:13:38
About the deformation, you might use a skin node that will make the shape to be deformed when the joint moves.


The Slider Joint can indeed act as a spring, see this chapter abotu the spring and damper effect of joints: [https://www.cyberbotics.com/doc/reference/jointparameters#springs-and-dampers](https://www.cyberbotics.com/doc/reference/jointparameters#springs-and-dampers)

##### sinancimen 06/15/2020 13:12:06
Hello, is it possible to model a spring in Webots, in a way that it can change shape when it is being compressed or extended; and also, act like a spring in terms of mechanics?

##### David Mansolino [cyberbotics] 06/15/2020 10:03:47
You're welcome

##### elidor00 06/15/2020 10:03:37
> The following seems however to works fine:

> 
```Python
> value = kinect_values[kinectrange.getWidth() * 60 + i]
> 
```

`@David Mansolino` Thanks, now it works properly!

##### Olivier Michel [cyberbotics] 06/15/2020 08:49:11
Hi. Yes, this is possible, but in that case, you should probably apply forces and torques directly from a supervisor controller instead of using a Propeller device. See [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_add\_force](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_add_force)

##### Shubham D 06/15/2020 08:44:27
Hello I want to simulate drone which is real type and not using propeller node. 

 rotating propeller(solid) must push air(fluid) and then thrust must be generated. 

Is it possible to make such simulation in which we can study the aerodynamic behaviour of drone.

##### Olivier Michel [cyberbotics] 06/15/2020 08:08:21
`@G1020BS`: no idea about this crash... Can you compile one of the provided controller examples with Visual Studio and see whether it crashes too? If it does, that means there is likely a bug with the libController and you should open a bug report. Otherwise, that probably means that your controller has a problem and causes the crash. In such a case, I would recommend you to try to debug your controller by removing lines of code until it doesn't crash any more.

##### David Mansolino [cyberbotics] 06/15/2020 08:03:44
> Using apt

`@nelsondmmg` Ok then this is the problem, glm come with the clone of Webots as a submodule, the clone should be done with the `--recurse-submodules` argument.


Note also that you should not need to install the complete development environment to recompile the driver library, you should be able to reompile the one from your installed version of Webots.

##### nelsondmmg 06/15/2020 08:02:43
Using apt

##### David Mansolino [cyberbotics] 06/15/2020 08:02:21
How did you install glm?

Here are th einstructions: [https://github.com/cyberbotics/webots/wiki/Linux-installation](https://github.com/cyberbotics/webots/wiki/Linux-installation)

##### nelsondmmg 06/15/2020 08:01:26
Still compiling, after I installed glm the following error occurs
%figure
![error.png](https://cdn.discordapp.com/attachments/565154703139405824/721997785167167539/error.png)
%end


Ah, the absolute path is not right, there is some folders in between.

##### David Mansolino [cyberbotics] 06/15/2020 07:42:31
Did you check if the '/home/vedecom/webots/resources/Makefile.os.include' file exists?

##### nelsondmmg 06/15/2020 07:38:14
I'm trying to compile the code and the following message appears: 

> Makefile:54: /home/vedecom/webots/resources/Makefile.os.include: No such file or directory

> make: *** No rule to make target '/home/vedecom/webots/resources/Makefile.os.include'.  Stop.

How can I solve this?


Ok, I'm going to try it. Thanks!

##### David Mansolino [cyberbotics] 06/15/2020 07:07:19
Hi `@nelsondmmg`, we did some calibration of the brake with some other electrical vehicles (e.g. C-Zero) and the brake was following the blue curve.

But to have something closer to the red curve, can you try to replacing this line:

[https://github.com/cyberbotics/webots/blob/master/projects/default/libraries/vehicle/c/driver/src/driver.c#L362](https://github.com/cyberbotics/webots/blob/master/projects/default/libraries/vehicle/c/driver/src/driver.c#L362)

By:

```c
const double damping_constant = fabs(instance->brake * instance->car->brake_coefficient)
```

And the recompiling the driver library.

##### nelsondmmg 06/15/2020 06:48:50
Hi, I a question concerning the vehicle control done with throttle/brake. First, using a 3DoF dynamic model I can model rather nicely the acceleration of the vehicle, but the breaking still presents some errors, as one can see at the end of the figure (x is time in ms and y is velocity). The blue line is the executed by webots and the red in the one predicted. I'm using a Tesla Model3, so the braking force calculated was F= max(2 * brakeCoefficient * wTire + 4 * wheelsDampingConstant * wTire, mu * g * m/2), with the mu being defined in WorldInfo. I even tried to modify the brake value in the node of the vehicle, but the behavior remain the same. It seems to me that maybe there is some dynamic friction involved, with is lower than mu, and when the velocity becomes close to 0, the static is used, resulting in a sharp velocity fall to 0. Is there a dynamic mu defined somewhere? I didn't find anything in the ODE documentation.
%figure
![control.png](https://cdn.discordapp.com/attachments/565154703139405824/721979517274423336/control.png)
%end

##### David Mansolino [cyberbotics] 06/15/2020 06:23:45
> Hello guys, I want to use Nuitrack software in webots simulator, but problem is I cant compile a code when I add nuitrack libs and includes to sample code in webots (nao\_demo.c).; even I add path of includes and libs of nuitrack sdk I couldnt fix the problem. are there anyone to help me ?

`@furkann` can you share the error massage you get while compiling? And your makefile?


I can't unforunately find the reason of the original crash, we will investigate this, in any case you should probably extract the value directly from the array as I showed just before.


The following seems however to works fine:

```Python
value = kinect_values[kinectrange.getWidth() * 60 + i]
```


> Goodmorning everyone,

> i am using webots for a university project. I have a problem in my controller for the pioneer3dx robot with the rangeImageGetDepth method on a RangeFinder object.

> The code is as follows:

> 

> `kinectrange = robot.getRangeFinder("kinect range")

> kinectrange.enable(TIME\_STEP)

> \# robot.step(timestep)

> image = kinectrange.getRangeImage()

> while robot.step(TIME\_STEP) != -1:

>     kinect\_values = kinectrange.getRangeImage()

>     for i in range(75):

>         value = RangeFinder.rangeImageGetDepth(kinect\_values, 150, i, 60)`

`@elidor00` there is a problem in your code this:

```Python
value = RangeFinder.rangeImageGetDepth(kinect_values, 150, i, 60)
```

Should be replaced by:

```Python
value = kinectrange.rangeImageGetDepth(kinect_values, 150, i, 60)
```

But even with this fix it seems indeed that it is crashing


> Hello Everyone, Sanyaade from London. Happy to join Webots  group

`@sanyaade` hi, welcome to the group!

##### sanyaade 06/14/2020 18:43:56
Hello Everyone, Sanyaade from London. Happy to join Webots  group

##### elidor00 06/14/2020 15:43:25
I'm using python3.8 and webotsR2020a revision 1


And during the execution, I received the message 



"Process finished with exit code 139 (interrupted by signal 11: SIGSEGV)"


Goodmorning everyone,

i am using webots for a university project. I have a problem in my controller for the pioneer3dx robot with the rangeImageGetDepth method on a RangeFinder object.

The code is as follows:



`kinectrange = robot.getRangeFinder("kinect range")

kinectrange.enable(TIME\_STEP)

\# robot.step(timestep)

image = kinectrange.getRangeImage()

while robot.step(TIME\_STEP) != -1:

    kinect\_values = kinectrange.getRangeImage()

    for i in range(75):

        value = RangeFinder.rangeImageGetDepth(kinect\_values, 150, i, 60)`

##### G1020BS 06/14/2020 12:30:23
I attached a debugger and found out that it crashes here: 
```int Robot::step(int duration) {
  return wb_robot_step(duration);
}
``` Any ideas?

##### Olivier Michel [cyberbotics] 06/14/2020 11:12:11
You should probably setup some path somewhere so that these files are found...

##### G1020BS 06/14/2020 11:10:47
Its giving me a lot of errors. Like, it cannot open source files like webots/Robot.hpp and such.

##### Olivier Michel [cyberbotics] 06/14/2020 11:08:16
Yes, in that case, you should the the Visual Studio debugger instead.

##### G1020BS 06/14/2020 11:07:47
Currently I am using Visual Studio 2019. Does that make any difference?

##### Olivier Michel [cyberbotics] 06/14/2020 11:07:00
You may want to try to use gdb to debug your controller: [https://cyberbotics.com/doc/guide/debugging-c-cpp-controllers](https://cyberbotics.com/doc/guide/debugging-c-cpp-controllers)

##### G1020BS 06/14/2020 10:33:23
`cout e.what()` but it just crashes and doesn't output the exception or anything. Is there a log file anywhere with detailed error logging? Or is there a way I can let Webots create this file? Many thanks

##### Sergen AÅŸÄ±k 06/14/2020 09:31:20
> `@furkann` I would recommend using the external controller functionality. That way you can run your code in your own environment

`@Simon Steinmann` Also i tried but nope i can't build

##### Simon Steinmann [Moderator] 06/14/2020 06:57:27
[https://www.cyberbotics.com/doc/guide/installation-procedure#extern-controllers](https://www.cyberbotics.com/doc/guide/installation-procedure#extern-controllers)


`@furkann` I would recommend using the external controller functionality. That way you can run your code in your own environment

##### furkann 06/14/2020 00:39:43
Hello guys, I want to use Nuitrack software in webots simulator, but problem is I cant compile a code when I add nuitrack libs and includes to sample code in webots (nao\_demo.c).; even I add path of includes and libs of nuitrack sdk I couldnt fix the problem. are there anyone to help me ?

##### Sergen AÅŸÄ±k 06/14/2020 00:04:34
\#include <nuitrack/Nuitrack.h>


how can i add my nuitrack sdk library path webots


Did anyone work with it?


Can anyone share Kinect Skeletal Tracking SDK with me?

##### dimple.bhuta 06/13/2020 12:17:15
but i will definitely ping you relating ros and python as my project is based on it and glitches dont seem to die down


\# angle

            ang\_radians = math.atan2(x2-x1, z2-z1)

            vehicleString += "  rotation 0 1 0 {}\n".format(ang\_radians)

            vehicleString += "  color 0.18 0.50 0.72\n"

            vehicleString += "  name \"{}\"\n".format(self.robot\_ids[i])

            vehicleString += "  controller \"{}\"\n".format("ros\_automobile")

            vehicleString += "  controllerArgs \"--name={} --clock --use-sim-time\"\n".format(self.robot\_ids[i])

            vehicleString += "  sensorsSlotCenter [\n"

            vehicleString += "    GPS {\n"

            vehicleString += "    }\n"

            vehicleString += "  ]\n"

            vehicleString += "  }\n"

            self.rootChildren.importMFNodeFromString(-1, vehicleString)


\#initial declaration of supervisor

class EgoVehicle:

    def \_\_init\_\_(self):

        self.robot\_ids = []

        self.supervisor = Supervisor()

        self.rootChildren = self.supervisor.getRoot().getField("children")

\#calling in the later stage      

           defName = "EGO\_VEHICLE%d" % i

            vehicleString = "DEF " + defName + " " + "TeslaModel3" + " {\n"

            x\_coord = []

            y\_coord = []

            xp, yp, zp = [], [], []

            key\_val = self.start\_edge\_ids[i]

            x\_coord = self.edge\_dict[key\_val]['x\_values']

            y\_coord = self.edge\_dict[key\_val]['y\_values']

            height = 0.4



            for index in range(2):

                pos = [round(-x\_coord[index]  + self.xOffset , 2), height, y\_coord[index] - self.yOffset]

                zp.append(pos[2])

                xp.append(pos[0])



            #Finding rotation and translation coordinates

            x1 = xp[0]

            x2 = xp[1]



            z1 = zp[0]

            z2 = zp[1]

            vehicleString += "  translation {} {} {}\n".format(x1, height, z1)


also this works as well


yeah that would be amazing

##### Simon Steinmann [Moderator] 06/13/2020 10:56:05
btw, if you have troubles with ROS and python3, let me know. Addressed this issue in my master's thesis


`@dimple.bhuta`  [https://tenor.com/view/minions-happy-excited-celebration-standing-ovation-gif-3439143](https://tenor.com/view/minions-happy-excited-celebration-standing-ovation-gif-3439143)

##### dimple.bhuta 06/13/2020 09:52:02
and using the above I can assign controller and starting translation and rotation position. Once again thank you for your help.


controller\_field=robot\_node.getField("controller")

 controller\_field.setSFString("ros\_automobile")


robot\_node = self.supervisor.getFromDef(defName)


following snippets helped me generate the vehicle


i guess i am not able to paste the whole code


from controller import Supervisor

self.rootChildren = self.supervisor.getRoot().getField("children")

defName = "EGO\_VEHICLE%d" % i

            vehicleString = "DEF " + defName + " " + "TeslaModel3" + " {\n"

            vehicleString += "  translation 10000 0.5 0\n"

            vehicleString += "  name \"{}\"\n".format(self.robot\_ids[i])

            vehicleString += "  sensorsSlotCenter [\n"

            vehicleString += "    GPS {\n"

            vehicleString += "    }\n"

            vehicleString += "  ]\n"

            vehicleString += "  }\n"

            self.rootChildren.importMFNodeFromString(-1, vehicleString)

            robot\_node = self.supervisor.getFromDef(defName)


Thank you `@Simon Steinmann` and `@David Mansolino` I am able to generate and spawn the vehicles given i have the starting id information. Following is the code for the same. Just incase it is useful for someone

##### Zerfallskonstante 06/12/2020 17:52:39
Thank you! Even though I didnt write the C controller, i will try to look for non-terminating loops in the internal controller.

##### Simon Steinmann [Moderator] 06/12/2020 17:51:19
the simulation only continues, when your main loop in the controller keeps running and calls the robot step function. Perhaps another part in your loop gets stuck. Perhaps something with the sensors


hmm hard to say, I'm a python and ROS guy. sorry

##### Zerfallskonstante 06/12/2020 17:48:22
no, the time is not synchronized between the internal controller and the ada program

##### Simon Steinmann [Moderator] 06/12/2020 17:47:49
is the webots controller broadcasting the sim time?


how do you synchornize time?


if it runs in webots, it's not external

##### Zerfallskonstante 06/12/2020 17:46:21
I am not quite sure what you consider an internal or external controller. we wrote a small controller in C which executes in webots. This controller sends the raw sensor data to the external Ada program. The ada program sends the motor data to the c controller. i hope, this description is helpful.

##### Simon Steinmann [Moderator] 06/12/2020 17:41:30
`@Zerfallskonstante` do you use an internal or external controller for webots?

##### Zerfallskonstante 06/12/2020 17:22:37
When the simulation freezes, our ADA program can still recieve and send data to our Simulation's internal C-Controller.


Hello everyone,

I am participating in a project where we have a robot-vehicle in Webots. The robots gets its instructions from an ADA program via TCP. The communication works fine and we got the robot rolling. However, our simulation freezes pretty often. This behavior is non-deterministic: Sometimes it happens after just a few seconds, sometimes after a minute. The simulation speed goes to 0 and it does not proceed (not even a single simulation step). What could cause the freezes? We are using the latest stable Windows version.

##### ClBaze 06/12/2020 16:31:11
Both 512x512 and 1024x1024 are running at 0.5x



> **Attachment**: [log\_no\_camera.txt](https://cdn.discordapp.com/attachments/565154703139405824/721038855238582342/log_no_camera.txt)


I'm removing the cameras now


I've run it twice, just to be sure, it was running at 0.5x this time


Ok maybe the 2.8x was because the images weren't finished being copied on the filesystem when I launched the bench for 512x512

##### Olivier Michel [cyberbotics] 06/12/2020 16:16:25
Interesting... So can you try to remove the cameras from your robot to see whether this is the cause of the slow down?

##### ClBaze 06/12/2020 16:11:37
Wow. If I set every controller to "void" it runs 2.8x with 512x512 and 0.28x with 1024x1024



> **Attachment**: [log\_no\_controller.txt](https://cdn.discordapp.com/attachments/565154703139405824/721033625189220362/log_no_controller.txt)


Ok thanks

##### Olivier Michel [cyberbotics] 06/12/2020 15:55:46
Yes. Setting to "" will not launch any process (and is lighter). Setting it to void will launch the void controller which basically does nothing but runs in the background.

##### ClBaze 06/12/2020 15:54:50
`@Olivier Michel` Is there a difference between setting controller to "" and "void" ?

##### Olivier Michel [cyberbotics] 06/12/2020 15:53:09
Please follow the instructions here: [https://cyberbotics.com/doc/guide/using-your-ide#qt-creator](https://cyberbotics.com/doc/guide/using-your-ide#qt-creator)

##### Sergen AÅŸÄ±k 06/12/2020 15:51:15
> `@Sergen AÅŸÄ±k`: that looks pretty good. Does it work?

`@Olivier Michel` nope. i can't build

##### Olivier Michel [cyberbotics] 06/12/2020 15:48:32
That will be helpful to better understand.

##### ClBaze 06/12/2020 15:47:51
I can try with no controller


Yes, I have two cameras with a default ros controller, but they weren't enabled during the bench

##### Olivier Michel [cyberbotics] 06/12/2020 15:46:36
If you disable any robot (use a void controller) do you get the same?


I see. Do you use any special sensor in this simulation?

##### ClBaze 06/12/2020 15:44:16
even the physics seems faster



> **Attachment**: [log.txt](https://cdn.discordapp.com/attachments/565154703139405824/721026989829390436/log.txt)


Here is a small benchmark:

##### Olivier Michel [cyberbotics] 06/12/2020 15:43:13
OK... Honestly I have no idea why you are getting a better performance with high resolution textures.... It seems odd...

##### ClBaze 06/12/2020 15:42:36
Filtering is set to 4 is my case. I'm using a gtx 1050Ti

##### Olivier Michel [cyberbotics] 06/12/2020 15:41:42
Which graphics card do you have?

##### ClBaze 06/12/2020 15:40:51
no

##### Olivier Michel [cyberbotics] 06/12/2020 15:40:37
Did you try to play with the `TextureImage.filtering` parameter?

##### ClBaze 06/12/2020 15:40:15
with 512x512 images the simulation runs at 0.3x the real time, while 1024x1024 runs 0.5x

##### Olivier Michel [cyberbotics] 06/12/2020 15:40:04
It could be that small texture size are filtered whereas larges textures are not and this filtering takes time?

##### ClBaze 06/12/2020 15:39:07
the resolution

##### Olivier Michel [cyberbotics] 06/12/2020 15:38:56
Do you mean the resolution of the texture or the size of the texture on the object?

##### ClBaze 06/12/2020 15:38:12
Bigger images make it twice as fast (which is pretty cool for my use case). I am just wondering why ? Because it could help me optimising the other textures I'm using, and make the simulation even faster maybe.


I noticed that using small images impact the simulation speed.


Each texture is applied to a solid representing the april tag.


I am using a scene containing a lot of textures for AprilTags/QRCode (500 different texture).


Hello,

##### chenpixx 06/12/2020 11:12:16
ok. Many Thanks.

##### Olivier Michel [cyberbotics] 06/12/2020 11:12:02
[https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)


You might have found a bug. Can you open an issue about it with a precise description allowing us to reproduce the problem?

##### chenpixx 06/12/2020 11:11:25
for reinforcement learning, Ä± am using reset.


in facr reset works. robot comes it first pozition. but cmaera doesnt woks

##### Olivier Michel [cyberbotics] 06/12/2020 11:10:02
Do you also restart the controllers?

##### chenpixx 06/12/2020 11:09:36
self.simulationReset() from supervisor

##### Olivier Michel [cyberbotics] 06/12/2020 11:08:21
How do perform the reset? From the GUI or from a supervisor?

##### chenpixx 06/12/2020 11:05:58
I tried to mooring. After reset physics, in previous versions, same code worked. However I need to your new reset command.

##### Olivier Michel [cyberbotics] 06/12/2020 11:04:38
`@chenpixx`: I just checked darwin-op visual\_tracking.wbt example on Windows and the camera tracking seems to work even after reset. Can you try it?

##### gcarboni1 06/12/2020 10:59:33
thank you `@Olivier Michel` I'll check

##### chenpixx 06/12/2020 10:59:02
Ä±n older versions, at same code, it works  as far as I know. However the versions dont include new reset command.


In previous version, I cant run perfectly simulation reset in 2020a revision 1. I checked camera dont work also after reset.

##### Olivier Michel [cyberbotics] 06/12/2020 10:56:01
`@chenpixx`: no idea. Is this problem specific to this nightly build or can you observe it also with other versions?


[https://cyberbotics.com/doc/reference/balljoint](https://cyberbotics.com/doc/reference/balljoint)


`@gcarboni1`: using a simple Sphere, possibly with a low friction, should work. The sphere won't rotate in Webots, but you probably don't care. If you want it to rotate, you could implement it using a passive BallJoint node.

##### chenpixx 06/12/2020 10:50:51
What is problem?


Hi, I am using nightly build (10.6.2020) in linux. After simulation reset, I cant take new images from op2 camera.

##### gcarboni1 06/12/2020 10:23:06
thank you



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/720946247577501747/unknown.png)
%end


something like this...


Hi there

I'm a beginner user of webots.

I'm building my first 2 wheels custom robot, but I need a sphere wheel under the robot board.

Someone can suggest me how can I create it?

##### Simon Steinmann [Moderator] 06/12/2020 10:09:14
aaaaand of course the links and joints are named differently ðŸ‘€

##### David Mansolino [cyberbotics] 06/12/2020 10:07:56
Indeed, that looks like it!

##### Simon Steinmann [Moderator] 06/12/2020 10:07:35
that should be it


ohhhhhh, I just found something in the urdf-converted proto
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/720942354512740432/unknown.png)
%end


ðŸ™„  darn

##### David Mansolino [cyberbotics] 06/12/2020 10:05:57
This is unfortunately the simplest solution.

##### Simon Steinmann [Moderator] 06/12/2020 10:05:35
is there a way, other than converting to base nodes, to find the correct object in the proto file?

##### David Mansolino [cyberbotics] 06/12/2020 10:04:04
Yes

##### Simon Steinmann [Moderator] 06/12/2020 10:03:58
that would leave the nice look?

##### David Mansolino [cyberbotics] 06/12/2020 10:03:41
Just the boundign object should be enough (at least for improving the physics behavior)

##### Simon Steinmann [Moderator] 06/12/2020 10:03:19
just the bounding object, or the geometry too?

##### David Mansolino [cyberbotics] 06/12/2020 10:01:42
Actually instead of low poly meshes it is even better to replace them with basic geometries for the bounding objects (i.e. use a set of boxes, spheres, cylinder, etc.)

##### Simon Steinmann [Moderator] 06/12/2020 10:00:36
what is the best course of action here? replace all the geometry entries from the high poly model with the one from the low poly?

##### David Mansolino [cyberbotics] 06/12/2020 09:59:12
The most important is the contact, the other part are also important but much less

##### Simon Steinmann [Moderator] 06/12/2020 09:55:03
or does only the contact surface really matter?


If I were to just replace the gripping portion, and leave the rest of the high poly mesh, would that have a significant performance impact?


on the right is the converted urdf, much simpler.  But it has the issue of the non connected joints.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/720938991217541150/unknown.png)
%end

##### David Mansolino [cyberbotics] 06/12/2020 09:50:41
> I'm guessing, this has to be optimized

`@Simon Steinmann` Exactly


I strongly recommend to re-create the bouding objects of the fingers from scratch to use only basic geometries.

##### Simon Steinmann [Moderator] 06/12/2020 09:50:24
I'm guessing, this has to be optimized



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/720938002292932688/unknown.png)
%end



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/720937897070559322/unknown.png)
%end


I already decreased the timestep to 1ms, still same issue


WARNING: The current physics step could not be computed correctly. Your world may be too complex. If this problem persists, try simplifying your bounding object(s), reducing the number of joints, or reducing WorldInfo.basicTimeStep.
> **Attachment**: [bounding\_problem.mp4](https://cdn.discordapp.com/attachments/565154703139405824/720937600822673418/bounding_problem.mp4)

##### Olivier Michel [cyberbotics] 06/12/2020 09:45:29
You are welcome.

##### Harmonious 06/12/2020 09:45:12
That has worked! Thanks a lot sir

##### Olivier Michel [cyberbotics] 06/12/2020 09:42:41
Probably... Can you remove the 32-bit version (or disable it) and try again?

##### Harmonious 06/12/2020 09:38:51
Could that be the issue?


I seem to have both python 64 bit and 32 bit on my system

##### Olivier Michel [cyberbotics] 06/12/2020 09:35:16
Did you install the 64 bit version of Python 3.7.7?

##### Harmonious 06/12/2020 09:33:02
I'm running regular python 3.7.7 at the moment

##### David Mansolino [cyberbotics] 06/12/2020 09:32:19
Are you using a non regular version of Python? Something like anaconda or similar?

##### Harmonious 06/12/2020 09:27:14
```py
[slave] Traceback (most recent call last):
[slave]   File "slave.py", line 21, in <module>
[slave]     from controller import Robot
[slave]   File "D:\Applications\Webots\lib\controller\python37\controller.py", line 15, in <module>
[slave]     import _controller
[slave] ImportError: DLL load failed: The specified module could not be found.
WARNING: 'slave' controller exited with status: 1.
[driver] Traceback (most recent call last):
[driver]   File "driver.py", line 21, in <module>
[driver]     from controller import Supervisor
[driver]   File "D:\Applications\Webots\lib\controller\python37\controller.py", line 15, in <module>
[driver]     import _controller
[driver] ImportError: DLL load failed: The specified module could not be found.
WARNING: 'driver' controller exited with status: 1.
```


Getting the same error a bunch of times for several of the python files using the controller


Trying now

##### Olivier Michel [cyberbotics] 06/12/2020 09:24:03
Can you try to run the provided python examples, e.g., in WEBOTS\_HOME/projects/languages/python/worlds/example.wbt, does it work without any error?

##### Harmonious 06/12/2020 09:21:32
```py
[maanrobot3py] Traceback (most recent call last):
[maanrobot3py]   File "maanrobot3py.py", line 5, in <module>
[maanrobot3py]     from controller import Robot, Motor, Camera, Keyboard
[maanrobot3py]   File "D:\Applications\Webots\lib\controller\python37\controller.py", line 15, in <module>
[maanrobot3py]     import _controller
[maanrobot3py] ImportError: DLL load failed: The specified module could not be found.
```

I'm getting this error using the normal webots application using a python controller. I looked in the folder of the extension module and \_controller.pyd is there. I set the path and the webots home but no results. Does anyone know what might be going on?

##### Simon Steinmann [Moderator] 06/12/2020 08:34:15
I'll keep an eye open, maybe I can reproduce it reliably

##### David Mansolino [cyberbotics] 06/12/2020 08:33:01
This only indicates that Webots crashes but nothing more so it's difficult to know the reason from this image.

##### Simon Steinmann [Moderator] 06/12/2020 08:32:13
any ideas why this crash might happen? I think it was when using reload world button
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/720918369980907560/unknown.png)
%end


thinking of attaching it to a ur10e and making a simple python and a ROS controller


okax. And then a new project containing the world and controllers?

##### David Mansolino [cyberbotics] 06/12/2020 08:03:00
The best location would be next to the other robotiq 3f finger: [https://github.com/cyberbotics/webots/tree/master/projects/devices/robotiq/protos](https://github.com/cyberbotics/webots/tree/master/projects/devices/robotiq/protos)

##### Simon Steinmann [Moderator] 06/12/2020 07:59:27
in a new project directory?


where should I put the proto file for the PR?


thx, I'll add that too

##### David Mansolino [cyberbotics] 06/12/2020 07:58:24
Yes, it will control the maximum torque used by the motor to reach the target position/velocity

##### Simon Steinmann [Moderator] 06/12/2020 07:58:14
if I set it to .5 of max torque, it will only grip an object half as tight


quick question: the setAvailableTorque function can be used to control how hard / soft the gripper grips right?

##### David Mansolino [cyberbotics] 06/12/2020 07:56:56
Oh ok, perfect (I was not sure about the state of the proto)

##### Simon Steinmann [Moderator] 06/12/2020 07:55:49
`@David Mansolino` I simply used the proto you linked me to. I could create a sample world with a controller though, implementing it.

##### Olivier Michel [cyberbotics] 06/12/2020 06:10:11
`@Sergen AÅŸÄ±k`: that looks pretty good. Does it work?

##### David Mansolino [cyberbotics] 06/12/2020 05:12:06
> using a controller side workaround for the urdf <mimic /> tag

`@Simon Steinmann` very nice! If you want to integrate this in Webots do not hesitate to create a PR ðŸ˜‰

##### Sergen AÅŸÄ±k 06/11/2020 23:19:16
> how can i build my controller code on Qt Creator? Not using webots build

`@Sergen AÅŸÄ±k` this is my qmake file 



QT       += core gui



greaterThan(QT\_MAJOR\_VERSION, 4): QT += widgets



CONFIG += c++11

DEFINES += QT\_DEPRECATED\_WARNINGS



\# You can also make your code fail to compile if it uses deprecated APIs.

\# In order to do so, uncomment the following line.

\# You can also select to disable deprecated APIs only up to a certain version of Qt.

\#DEFINES += QT\_DISABLE\_DEPRECATED\_BEFORE=0x060000    \# disables all the APIs deprecated before Qt 6.0.0



SOURCES += \

    main.cpp \

    mainwindow.cpp \

    secondform.cpp



HEADERS += \

    mainwindow.h \

    secondform.h



FORMS += \

    mainwindow.ui \

    secondform.ui



\# Default rules for deployment.

qnx: target.path = /tmp/$${TARGET}/bin

else: unix:!android: target.path = /opt/$${TARGET}/bin

!isEmpty(target.path): INSTALLS += target



\# Setup global paths. The WEBOTS\_HOME environment variable should be setup.

WEBOTS\_HOME\_PATH = /usr/local/webots

CONTROLLER\_PATH = /home/sergen/Webots/nao/controllers/nao\_autism

CONTROLLER\_NAME = $$basename(CONTROLLER\_PATH)



\# Get C or C++ sources in the current directory (only).

SOURCES = $$files(*.c, true)

SOURCES += $$files(*.cpp, true)

HEADERS = $$files(*.h, true)



\# Setup the project.

\# Its name is defined to be the controller directory name.

TARGET = $$CONTROLLER\_NAME

DESTDIR = $$CONTROLLER\_PATH

QMAKE\_TARGET = $$CONTROLLER\_NAME



\# Link with the Webots controller library.

INCLUDEPATH += $$WEBOTS\_HOME\_PATH/include/controller/c $$WEBOTS\_HOME\_PATH/include/controller/cpp

LIBS += -L$$WEBOTS\_HOME\_PATH/lib/controller -lController -lCppController

win32 {

  CONFIG += console

}

macx {

  CONFIG -= app\_bundle

  CONFIG += sdk\_no\_version\_check

}


how can i build my controller code on Qt Creator? Not using webots build

##### Simon Steinmann [Moderator] 06/11/2020 16:55:46
if someone is interested in the code, let me know ðŸ™‚


using a controller side workaround for the urdf <mimic /> tag
> **Attachment**: [robotiq\_2f\_85.mp4](https://cdn.discordapp.com/attachments/565154703139405824/720682622157586483/robotiq_2f_85.mp4)


IT'S WORKING ðŸ˜„


uhhh ðŸ™‚

##### David Mansolino [cyberbotics] 06/11/2020 16:11:42
`@Simon Steinmann` you might be interested by [https://github.com/cyberbotics/webots/pull/1351](https://github.com/cyberbotics/webots/pull/1351)

##### Simon Steinmann [Moderator] 06/11/2020 15:35:58
this is the gripper proto
> **Attachment**: [Robotiq2f85Gripper.proto](https://cdn.discordapp.com/attachments/565154703139405824/720662620763586622/Robotiq2f85Gripper.proto)


could someone help me to attach that dangling bit to the hinge? one finger would be enough, so I can understand the process. I'd be really grateful ðŸ˜…
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/720662443201789952/unknown.png)
%end


uff this goes a bit over my head...


thx, I'll have a look

##### Stefania Pedrazzi [cyberbotics] 06/11/2020 15:10:04
Yes, you can connect multiple joints to the same Solid part using the `SolidReference` node ([https://www.cyberbotics.com/doc/reference/solidreference](https://www.cyberbotics.com/doc/reference/solidreference)). This is used for example in the Khepera3 gripper : [https://www.cyberbotics.com/doc/guide/khepera3#khepera3\_gripper-wbt](https://www.cyberbotics.com/doc/guide/khepera3#khepera3_gripper-wbt)

[https://github.com/cyberbotics/webots/blob/master/projects/robots/k-team/khepera3/protos/Khepera3\_Gripper.proto](https://github.com/cyberbotics/webots/blob/master/projects/robots/k-team/khepera3/protos/Khepera3_Gripper.proto)

##### Simon Steinmann [Moderator] 06/11/2020 15:03:57
I want to connect all these links together
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/720654566126780526/unknown.png)
%end


Is it possible to have multiple joints per link?

##### Lussfer 06/11/2020 14:40:09
`@lojik` that's exactly how I have it setup. Thanks for confirming :)

##### David Mansolino [cyberbotics] 06/11/2020 14:30:42
you're welcome

##### Simon Steinmann [Moderator] 06/11/2020 14:30:34
okay, thx

##### David Mansolino [cyberbotics] 06/11/2020 14:30:29
For now only in the controller.

##### Simon Steinmann [Moderator] 06/11/2020 14:30:12
is there a way to do this in the model, or do I have to do it with the controller and move 'motors' that dont really exist

##### David Mansolino [cyberbotics] 06/11/2020 14:30:12
For now the workaround is to actually put 2 motors and send exactly the same command to both in the controller

##### Simon Steinmann [Moderator] 06/11/2020 14:29:29
hmm how would I go about implementing this now? The robotiq 2f gripper has basically 1 motor, and mimics all joints

##### David Mansolino [cyberbotics] 06/11/2020 14:28:27
`@Simon Steinmann` not yet, but that's on our short term plans: [https://github.com/cyberbotics/webots/issues/1365](https://github.com/cyberbotics/webots/issues/1365)

##### Simon Steinmann [Moderator] 06/11/2020 14:24:35
Does webots proto support <mimic joint />?

##### lojik 06/11/2020 14:24:13
`@Lussfer` yes it works as `@Stefania Pedrazzi` said. For example, I do it like follow :



\# Clear display

disp\_stab.setColor(0x000000)

disp\_stab.fillRectangle(0, 0, param.DISPLAY\_SIZE,param.DISPLAY\_SIZE)

disp\_stab.setColor(0xFFFFFF)



In python

##### Stefania Pedrazzi [cyberbotics] 06/11/2020 13:51:54
you're welcome

##### Lussfer 06/11/2020 13:51:11
Thank you :)


I think I get it, that's pretty neat


Ah cool

##### Stefania Pedrazzi [cyberbotics] 06/11/2020 13:49:35
`@Lussfer`  yes, you can use the `wb_display_fill_rectangle` function to clear the display using for example a black color. I'm searching for an example..

##### Lussfer 06/11/2020 13:45:31
Is there way to reset drawing on display controller so we can draw again?

##### Simon Steinmann [Moderator] 06/11/2020 13:08:00
aww shucks... well then the colors will be all black ðŸ˜„

##### David Mansolino [cyberbotics] 06/11/2020 13:07:19
Not automatically, you have to do it manually: [https://cyberbotics.com/doc/guide/tutorial-7-your-first-proto](https://cyberbotics.com/doc/guide/tutorial-7-your-first-proto)

##### Simon Steinmann [Moderator] 06/11/2020 13:06:44
I transformed the proto to base nodes, in order to edit it. Can I somehow convert the edited node back to proto?

##### David Mansolino [cyberbotics] 06/11/2020 12:43:53
Yes exactly!

##### Simon Steinmann [Moderator] 06/11/2020 12:43:43

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/720619275362238474/unknown.png)
%end



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/720619202024570927/unknown.png)
%end


to change it into a Solid, do I just replace Robot with Solid ontop of the proto file and remove the controller?

##### David Mansolino [cyberbotics] 06/11/2020 12:41:56
Then if you don't care about the time spent to do the conversion I would recommend NOT to use the 'disable-mesh-optimization'.

##### Simon Steinmann [Moderator] 06/11/2020 12:41:16
I want a proper end model, dont care about the speed


would you recommend not disabling the mesh-optimization?


oh okay

##### David Mansolino [cyberbotics] 06/11/2020 12:40:20
About the orientation, you might simply use the 'rotation' field to rotate it.


About the Robot, it might indeed be better to just transform it into a Solid node, but it all depends on what you want to do.


You can use the '--help' argument to get more information about these arguments.

##### Simon Steinmann [Moderator] 06/11/2020 12:38:02
`@David Mansolino` I managed to do it. But I have a few questions:

what do these arguments do exactly? is there a documentation?

[--output=outputFile] [--box-collision] [--normal] [--disable-mesh-optimization]



- the generated proto is a robot node, while the 3f gripper included in webots is a solid node. Is this important?



- the gripper points sideways when attaching it to the endeffector of a robot arm, as the ros model goes along z axis, not y axis. How do I change this?

##### David Mansolino [cyberbotics] 06/11/2020 12:09:47
You're welcome

##### Simon Steinmann [Moderator] 06/11/2020 12:09:36
thx, will have a look

##### David Mansolino [cyberbotics] 06/11/2020 12:09:18
No but it is quite easy to find it on google (I did it already a few times ðŸ˜… )

##### Simon Steinmann [Moderator] 06/11/2020 12:08:22
you got that command or docu link by any chance?

##### David Mansolino [cyberbotics] 06/11/2020 12:07:47
Unfortunately not, you have to generate an URDF file from the XACRO one with the xacro command.

##### Simon Steinmann [Moderator] 06/11/2020 12:06:14
does this work with xarco and the dynamic urdf that most ros repos use?

##### David Mansolino [cyberbotics] 06/11/2020 12:05:15
But you should be able to use the urdfimport to create one: [https://github.com/cyberbotics/urdf2webots](https://github.com/cyberbotics/urdf2webots)


No not this one unfortunately.

##### Simon Steinmann [Moderator] 06/11/2020 12:04:12
oh, but not the robotiq gripper?

##### David Mansolino [cyberbotics] 06/11/2020 12:03:17
> Is there already a proto for the 2 finger robotiq gripper?

`@Simon Steinmann` I just created one in our development environment this morning: [https://cyberbotics.com/doc/guide/p-rob3?version=develop#gripper](https://cyberbotics.com/doc/guide/p-rob3?version=develop#gripper)

##### Simon Steinmann [Moderator] 06/11/2020 11:59:11
Is there already a proto for the 2 finger robotiq gripper?


`@dimple.bhuta` you're welcome ðŸ™‚

##### dimple.bhuta 06/11/2020 11:06:08
I think I understand what needs to be done. Instead of Vehicle class that has been defined in Objects.py. I need to try to access the 'Car' class for ros\_automobile work. I will definitely give it a go. And if it works I share the results. Thank you `@Simon Steinmann`  for your help

##### Simon Steinmann [Moderator] 06/11/2020 10:43:19
you should be able to adress or call the different vehicles by using

self.vehicles(number).node


`@dimple.bhuta`  If you check here, the node generated from the string has the DEF  of defName
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/720588582271713340/unknown.png)
%end

##### dimple.bhuta 06/11/2020 10:29:15
thank you


i modified it to generate vehicles when I received a request from ros topic

##### Simon Steinmann [Moderator] 06/11/2020 10:29:07
I see it, having a look

##### dimple.bhuta 06/11/2020 10:28:51
where code is written to generate vehicles based on departure time


you have an objects.py function


and its corresponding proto and modified my code accordingly


I went through this /usr/local/webots/projects/default/controllers/sumo\_supervisor

##### Simon Steinmann [Moderator] 06/11/2020 10:26:14
which sumo\_sueprvisor example? Do you have a link?

##### dimple.bhuta 06/11/2020 10:21:48
I will definitely look into it


ok

##### Simon Steinmann [Moderator] 06/11/2020 10:21:23
it depends on the structure of your node. you might have to do something like: 

robot\_node.motor.get\_position()

##### dimple.bhuta 06/11/2020 10:21:13
but thank you for all your help


but there is an issue using ros\_automobile controller


`@Simon Steinmann` Thanks a lot. I will also simultaneously go through all your examples and see if I can figure it out. I was able to use your sumo\_supervisor example to add/delete vehicles on the go


However if I do the same with tesla proto

robot\_node = supervisor.getFromDef("TeslaModel3")

print (dir(robot\_node))

following are the functions [ego\_vehicle] ['\_\_class\_\_', '\_\_delattr\_\_', '\_\_doc\_\_', '\_\_format\_\_', '\_\_getattribute\_\_', '\_\_hash\_\_', '\_\_init\_\_', '\_\_new\_\_', '\_\_reduce\_\_', '\_\_reduce\_ex\_\_', '\_\_repr\_\_', '\_\_setattr\_\_', '\_\_sizeof\_\_', '\_\_str\_\_', '\_\_subclasshook\_\_']

so I cant actually access the vehicle. hence I thought it was wrong way of accessing

##### Simon Steinmann [Moderator] 06/11/2020 10:18:53
you can access anything within that node

##### dimple.bhuta 06/11/2020 10:17:57
Also by specifying the vehicle name (specifying the tesla proto in wbt file and giving it "EGO\_VEHICLE" name) i can access the following classes

robot\_node = supervisor.getFromDef("EGO\_VEHICLE")

print (dir(robot\_node))



[ego\_vehicle] ['ACCELEROMETER', 'APPEARANCE', 'BACKGROUND', 'BALL\_JOINT', 'BALL\_JOINT\_PARAMETERS', 'BOX', 'BRAKE', 'CAMERA', 'CAPSULE', 'CHARGER', 'COLOR', 'COMPASS', 'CONE', 'CONNECTOR''setVelocity', 'setVisibility', 'this']

I mean there are more but due to space constraint
> **Attachment**: [message.txt](https://cdn.discordapp.com/attachments/565154703139405824/720582590645403729/message.txt)

##### Simon Steinmann [Moderator] 06/11/2020 10:17:04
let me have a look, rebooted to linux

##### dimple.bhuta 06/11/2020 10:12:16
so isnt it possible via code?

##### Simon Steinmann [Moderator] 06/11/2020 10:12:03
you click on the node and should see a DEF variable you can specify

##### dimple.bhuta 06/11/2020 10:12:02
okay

##### Simon Steinmann [Moderator] 06/11/2020 10:11:44
I do it using the GUI

##### dimple.bhuta 06/11/2020 10:11:24
No actually it didn't work. Also how can I assign it a def i mean a name to it


thats why i cant specify it in  wbt file

##### Simon Steinmann [Moderator] 06/11/2020 10:10:34
> robot\_node = supervisor.getFromDef("TeslaModel3") accessing the tesla model this way but its definitely wrong

`@dimple.bhuta` this works right? you just need to know how to spawn a new tesla and assign it a DEF

##### dimple.bhuta 06/11/2020 10:10:25
and there should be multiple cars spawing at different times


no it has to be dynamic

##### Simon Steinmann [Moderator] 06/11/2020 10:09:51
does it have to be spawned dynamically, while running the simulation, or just once at the start?

##### dimple.bhuta 06/11/2020 10:09:46
robot\_node = supervisor.getFromDef("TeslaModel3") accessing the tesla model this way but its definitely wrong


as i did try


but i am still not understanding how exactly to do it


yes it will be better to use tesla model proto and spawn them


`@Simon Steinmann` I want to generate the vehicle from the code not sure about the proto

##### Simon Steinmann [Moderator] 06/11/2020 10:07:57
or use existing protos, and just spawn them in with your code, changing the DEF?

##### dimple.bhuta 06/11/2020 10:07:30
and than generate cars like EGO\_VEHICLE1, EGO\_VEHICLE2 etc

##### Simon Steinmann [Moderator] 06/11/2020 10:07:30
`@dimple.bhuta` do you want to generate the proto from your own code?

##### dimple.bhuta 06/11/2020 10:07:13
and name is EGO\_VEHICLE and try to reference in via getfromDef


i mean should i create a proto


in that case will I require to generate a proto


but to create it based on some predefined conditions


meaning I dont want to specify that there is a vehicle in simulation using wbt file


The question is how to create EGO\_VEHICLE from the code

##### Marian 06/11/2020 10:04:47
`@David Mansolino` I'll do that. Thanks

##### dimple.bhuta 06/11/2020 10:04:17
Sorry i was editing in same question

##### David Mansolino [cyberbotics] 06/11/2020 10:03:15
> `@David Mansolino` It works as long as I don't try to load that world again.

`@Marian` ok then it is probably an error on our side, can you please report the issue here including the world file (and ideally the wrml file too)?[https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)



Thank you


> `@David Mansolino` Hello, you had answered my question previously regarding this. But I still have some doubts. I am sorry I am reading the documentation and sample codes simultaneously.

`@dimple.bhuta` hi, what is the question exactly?

##### Marian 06/11/2020 10:01:35
`@David Mansolino` It works as long as I don't try to load that world again.

##### dimple.bhuta 06/11/2020 10:00:26
`@David Mansolino` Hello, you had answered my question previously regarding this. But I still have some doubts. I am sorry I am reading the documentation and sample codes simultaneously.

I understand that in the wbt file I can specify the robot/ vehicle and give it name for example

DEF EGO\_VEHICLE TeslaModel3 {

  translation 6.38 0.4 174.59

  rotation 0 1 0 1.60078733165

  name "agent\_0"

  controller "ros\_automobile"

  controllerArgs "--name=agent\_0 --clock --use-sim-time"

  sensorsSlotCenter [

    GPS {

    }

  ]

}

In this section of wbt file I have specified Tesla vehicle's name as ego vehicle

And using supervisor I can reference it 

robot\_node = supervisor.getFromDef("EGO\_VEHICLE")

trans\_field = robot\_node.getField("translation")

##### David Mansolino [cyberbotics] 06/11/2020 09:59:54
Hi `@Marian` does the first import works fine?

##### Marian 06/11/2020 09:58:06
Hi WeBots team. I have got a funny bug. When I import a wrl model the WeBots GUI turns gray after I try to load that world. I'm not able to do any other input.

##### black\_hammer\_67 06/11/2020 09:30:00
I'm installing the deb version and I'll let u know if there is any issues

##### Stefania Pedrazzi [cyberbotics] 06/11/2020 09:29:42
you're welcome!

##### black\_hammer\_67 06/11/2020 09:29:17
ok thank u a lot , I wouldn't had find it out if you hadn't helped me

##### Stefania Pedrazzi [cyberbotics] 06/11/2020 09:27:30
Yes, there will be the same issues. Using external controllers works even with tensorflow.

The difference between the two options is that with external controllers you have to start the controllers manually from a terminal, but yes having them starting automatically from Webots (i.e. using a different installation method than snap) is easier.

##### black\_hammer\_67 06/11/2020 09:24:45
so i think the best is to reinstall it


i guess that i'll have similar problems later with tensorflow

##### Stefania Pedrazzi [cyberbotics] 06/11/2020 09:23:03
2) run your controller external from the snap sandbox (see [https://www.cyberbotics.com/doc/guide/installation-procedure#extern-controllers](https://www.cyberbotics.com/doc/guide/installation-procedure#extern-controllers)) and use the snap installation


You have two options:

1) reinstall Webots from the debian or tarball package ([https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases))


ok, so then Webots is running on the snap sandbox and the openCV you installed on the system is not available in the sandbox.

##### black\_hammer\_67 06/11/2020 09:20:11
yes straight from the ubuntu software

##### Stefania Pedrazzi [cyberbotics] 06/11/2020 09:19:46
did you install webots using the snap?

##### black\_hammer\_67 06/11/2020 09:19:38
all work perfectly outside webots


its 4.2


i checked the cv2.\_\_version\_\_ too


yes

##### Stefania Pedrazzi [cyberbotics] 06/11/2020 09:18:13
hi `@black_hammer_67`, did you try to start python3 from a terminal and type `import cv2` to check if openCV is correctly installed?

##### black\_hammer\_67 06/11/2020 09:16:27

%figure
![Screenshot_from_2020-06-11_12-16-06.png](https://cdn.discordapp.com/attachments/565154703139405824/720567115563925564/Screenshot_from_2020-06-11_12-16-06.png)
%end


Hello, i just moved my projects from windows to linux and installed all the of the required software i were using. I am trying to run a simulation with a controller that uses openCV but the python intepreter is giving me an error at the instruction "import cv2"

##### Stefania Pedrazzi [cyberbotics] 06/11/2020 06:29:24
Hi `@Stanislas Larnier` you can retrieve the Camera parameters using the Camera API ([https://cyberbotics.com/doc/reference/camera](https://cyberbotics.com/doc/reference/camera)), for example the focal length, the near value, etc.

##### Stanislas Larnier 06/11/2020 06:25:40
Hello. In Webots, how can I obtain intrinsic parameters of a camera?

##### David Mansolino [cyberbotics] 06/11/2020 05:00:33
Hi `@Doc` unfortunately not out of the box, only the viewpoint can genereate video, and only one viewpoint per simulation is allowed. However, the cameras can be used to save pictures at each step (a function of the API is available for this), you can then use these pictures to generates a video.

##### Doc 06/10/2020 18:10:50
Hi again, is it possible to export video from webots with multiple camera angles (without repeating the recording process for each position)?

##### nelsondmmg 06/10/2020 15:31:34
Sure

##### Simon Steinmann [Moderator] 06/10/2020 15:31:21
we might not wanna spam too much here, switch to pm?


is the throttle constant, or do you control it? Because the red line suggest a sudden throttle change

##### nelsondmmg 06/10/2020 15:28:42
Which is the case, since at this point the throttle remains at the same value (because of the controller)

##### Simon Steinmann [Moderator] 06/10/2020 15:27:03
hmm it also looks like the blue line would never reach 10 m/s. It looks like an asymptote. This would only be the case, if your max power equals the drag and friction losses at 10 m/s


did you consider rotational energy of wheels?

##### nelsondmmg 06/10/2020 15:22:15
Using the model that I described in the message

##### Simon Steinmann [Moderator] 06/10/2020 15:21:48
how did you generate the red line?

##### nelsondmmg 06/10/2020 15:21:37
Sorry, is ms

##### Simon Steinmann [Moderator] 06/10/2020 15:21:23
or ms probably


you mean timesteps? on x? cause seconds would be slow af

##### nelsondmmg 06/10/2020 15:20:44
seconds on X and m/s on Y

##### Simon Steinmann [Moderator] 06/10/2020 15:20:25
and is that blue spike towards the end reproducible?


what are the units of the graph?

##### nelsondmmg 06/10/2020 15:19:26
Result for 10 m/s step, red is the predicted, blue is the measured
%figure
![result.png](https://cdn.discordapp.com/attachments/565154703139405824/720296072995667968/result.png)
%end


I'm trying to model the Tesla Model 3 using a dynamic bicycle model, but there is still a performance difference which I cannot explain. For the motor propulsion, I accounted the motor output accordingly ( min value between maxT and the maxP expression, eletric motor), with aerodynamic force and the wheels resistance torque (with 4*c*w as wheel damping). I am for the moment maintaining the steering angle equal to zero, but for the slip friction a model F=c*alpha will be used. Am I forgetting some longitudinal component ?

##### David Mansolino [cyberbotics] 06/10/2020 14:40:06
The controller is a program you can writte the code like any other program you would write, please find a tutorial here: [https://cyberbotics.com/doc/guide/tutorial-4-more-about-controllers](https://cyberbotics.com/doc/guide/tutorial-4-more-about-controllers)

##### Sergen AÅŸÄ±k 06/10/2020 14:33:41
> `@Sergen AÅŸÄ±k` not out of the box, you have to implement your own interfeace in the controller.

`@David Mansolino` how ? I'am new

##### David Mansolino [cyberbotics] 06/10/2020 14:31:08
> Ok Thanks.

`@nelsondmmg` you're welcome


> Is Skeletal Tracking available on Microsoft Kinect?

`@Sergen AÅŸÄ±k` not out of the box, you have to implement your own interfeace in the controller.

##### nelsondmmg 06/10/2020 14:30:51
Ok Thanks.

##### David Mansolino [cyberbotics] 06/10/2020 14:30:39
`@nelsondmmg` it is for each wheel.

##### JapieHoeven 06/10/2020 14:29:10
Ah thanks `@Darko LukiÄ‡` , I'll take a look at it.

##### Sergen AÅŸÄ±k 06/10/2020 14:27:34
Is Skeletal Tracking available on Microsoft Kinect?

##### nelsondmmg 06/10/2020 14:26:41
`@David Mansolino` The definition of c is for each wheel (so I have to multiply F by 4) ? Or it accounts all the resistance torque for all wheels ?

##### David Mansolino [cyberbotics] 06/10/2020 14:22:55
> The WheelsDampingConstant is a constant c in an expression like F=c*w, with w being the angular velocity of the vehicle's axis (meaning it is a resistance force in each tire against the motor output)?

`@nelsondmmg` yes exaclty

##### Darko LukiÄ‡ [cyberbotics] 06/10/2020 14:20:25
`@JapieHoeven` TouchSensor can measure the force, maybe you can use it:

[https://cyberbotics.com/doc/reference/touchsensor#force-sensors](https://cyberbotics.com/doc/reference/touchsensor#force-sensors)

##### nelsondmmg 06/10/2020 13:56:35
The WheelsDampingConstant is a constant c in an expression like F=c*w, with w being the angular velocity of the vehicle's axis (meaning it is a resistance force in each tire against the motor output)?

##### Sergen AÅŸÄ±k 06/10/2020 13:52:57
> `@Sergen AÅŸÄ±k` the instructions you posted are to compile a Webots controller in an IDE instead of the Webots editor. If you just want to start Webots from your app, then I suggest you to use something like QProcess to execute a shell command that starts the Webots application.

`@Stefania Pedrazzi` I want to use IDE instead of Text Editor.


> `@Sergen AÅŸÄ±k` did you set up your environment variables?

`@Simon Steinmann` yep. I did. I edited QT.pro file like this.

##### Soyboy 06/10/2020 13:30:36
Thank you


> Hi, yes, you can have one robot that is a child of the other, or use connector devices.

`@David Mansolino`

##### Stefania Pedrazzi [cyberbotics] 06/10/2020 13:28:32
`@Sergen AÅŸÄ±k` the instructions you posted are to compile a Webots controller in an IDE instead of the Webots editor. If you just want to start Webots from your app, then I suggest you to use something like QProcess to execute a shell command that starts the Webots application.

##### Simon Steinmann [Moderator] 06/10/2020 13:28:13
`@Sergen AÅŸÄ±k` did you set up your environment variables?

##### Sergen AÅŸÄ±k 06/10/2020 13:24:42
[https://cyberbotics.com/doc/guide/using-your-ide?tab-language=c++](https://cyberbotics.com/doc/guide/using-your-ide?tab-language=c++) this links didn't help me ðŸ˜¦


I'm working on Ubuntu


Can anyone help me? How can i build webots simulator on QT Creator? I designed GUI (button, labels etc.)  When i click the button, webots simulator should run.

##### JapieHoeven 06/10/2020 13:21:56
Hello guys, does anyone know if it is possible to measure the weight of an object with a gripper in Webots? I have to measure the weight of a stone which will be picked up by a gripper, but I haven't found a way to do that yet.

##### Tosidis 06/10/2020 12:59:41
I was able to replicate the problem again (Not getting data from the camera)

I am running the controller by an external IDE. 

Script crashes -> reset simulation -> run controller -> run sim : i am not getting any data from the camera

Script crashes -> reset simulation -> run controller -> run sim -> reset simulation (before controller crash) and rerun it works as intended

##### Stefania Pedrazzi [cyberbotics] 06/10/2020 12:54:51
Ok, so if it is a graphical Qt application the best approach would probably be to integrate it as a `robot window` controller plugin (note that this is deprecated and HTML/JS robot windows are preferred over Qt ones).

There are a couple of examples of Qt robot windows in the distributed samples, for example ` projects/robots/nex/plugins/robot_windows/fire_bird_6_window` used in this simulation [https://www.cyberbotics.com/doc/guide/firebird6#fire\_bird\_6-wbt](https://www.cyberbotics.com/doc/guide/firebird6#fire_bird_6-wbt)

##### Kyrex 06/10/2020 12:48:04
> `@Kyrex` what do you want to do with Qt? Do you want to use it in a Webots C++ controller?

`@Stefania Pedrazzi` yea i created ui with qt and in this ui i want to send some commands to nao robot in webots simulator

##### Stefania Pedrazzi [cyberbotics] 06/10/2020 12:45:32
`@Kyrex` what do you want to do with Qt? Do you want to use it in a Webots C++ controller?

##### furkann 06/10/2020 12:43:36
> how can i bind qt and webots.I read website of webots but i couldnt find enough infos.

`@Kyrex` +

##### Kyrex 06/10/2020 12:42:43
how can i bind qt and webots.I read website of webots but i couldnt find enough infos.

##### David Mansolino [cyberbotics] 06/10/2020 12:40:10
Hi, yes, you can have one robot that is a child of the other, or use connector devices.

##### Soyboy 06/10/2020 12:39:15
Hello, I just wanted to know if it is possible to physically connect two robots

##### Tosidis 06/10/2020 11:13:30
yeah, it now seems to work consistently (don't ask me why)

##### Olivier Michel [cyberbotics] 06/10/2020 10:59:20
Do you call the Robot.step() method with the timestep argument between calls to Camera.getImage()?

##### Tosidis 06/10/2020 10:44:24
(python)


robot is my Supervisor


timestep = int(robot.getBasicTimeStep())

camera = robot.getCamera('camera')

camera.enable(timestep)

##### Olivier Michel [cyberbotics] 06/10/2020 10:42:51
`wb_camera_enable(camera, 32);`

`wb_robot_step(32);`


Are you sure the camera was enabled with the same time step as the control loop?

##### Tosidis 06/10/2020 10:41:43
Hello, 

i am having a problem getting cameraData.

sometimes it works as intended, sometimes it returns None

##### David Mansolino [cyberbotics] 06/10/2020 09:03:10
You're welcome!

##### Gautier A. 06/10/2020 09:02:37
Ok, i understand. Thank you a lot !

##### David Mansolino [cyberbotics] 06/10/2020 08:59:01
It all depends if `rostopic hz` is configured to use sim time or not, but in your case it seems to be the case since 1000ms / 8ms = 125Hz (if it was based on the real time it would be indeed 12.5Hz if your simulation runs at 0.1x)

##### Gautier A. 06/10/2020 08:57:06
So, the publish rate expressed with 'rostopic hz ' is relative to the simulation time instead of ros time ? The timeStep is 8ms, and the simulation runs at 0.10x, so that would means that the topic is updated at around 12.5 hz ?

##### David Mansolino [cyberbotics] 06/10/2020 08:54:22
It will depend on the time step of the simulation and the speed at which run the simulation, but yes it is possible that it publishes at 125Hz. To reduce it, when you call the `/camera/enable` service, you should assigne a `value` to the service that is bigger (the value indicates the refresh period).

##### Gautier A. 06/10/2020 08:52:11
So my question would be : does the default ros controller really publish (by default) the camera topic at 125 hz ? If so, how can I diminish that update rate ?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/720198431691505784/unknown.png)
%end


I enable the camera with a rosservice call , and right after, call a rostopic hz on the topic of the camera, and it seems to publish at 125 hz


the controlleur has as controllerArgs " --use-sim-time "


So, I have a robot with the default ros controller with just a camera inside.

##### David Mansolino [cyberbotics] 06/10/2020 08:48:41
> Thanks!

`@nelsondmmg` you're welcome


Hi, yes what is your question?

##### nelsondmmg 06/10/2020 08:48:33
Thanks!

##### Gautier A. 06/10/2020 08:48:21
Hello ! I have a little question on the utilization of the standard ros controller on camera

##### David Mansolino [cyberbotics] 06/10/2020 08:45:10
By default friction is symetric, in both direction, but you can of course change the contact properties of your simulation world to make them asymetric, see the contact properties doc for more information: [https://www.cyberbotics.com/doc/reference/contactproperties](https://www.cyberbotics.com/doc/reference/contactproperties)

##### nelsondmmg 06/10/2020 08:43:28
Does WeBots account for lateral slip in vehicle's tires (is there a lateral contact coefficient in the joint defined by tire-road) ?

##### David Mansolino [cyberbotics] 06/10/2020 05:18:45
You're welcome.

##### Stanislas Larnier 06/10/2020 00:56:14
Hi `@David Mansolino`. I made a conversion from the urdf [https://github.com/ros-industrial/motoman/tree/kinetic-devel/motoman\_gp8\_support/urdf](https://github.com/ros-industrial/motoman/tree/kinetic-devel/motoman_gp8_support/urdf). I will try what you said. Thank you for your answer.

##### David Mansolino [cyberbotics] 06/09/2020 14:35:27
Yes, it does, you can use the emitter-receiver mechanism to transmit data: 

  - [https://www.cyberbotics.com/doc/reference/emitter](https://www.cyberbotics.com/doc/reference/emitter)

  - [https://www.cyberbotics.com/doc/reference/receiver](https://www.cyberbotics.com/doc/reference/receiver)


Hi, welcome!

##### mearvind 06/09/2020 14:29:05
I am new to webots, Does it support sharing of data amoung controllers in same world or we need to use our own file handling? If it supports then how?

##### David Mansolino [cyberbotics] 06/09/2020 13:59:23
You're welcome!

##### JapieHoeven 06/09/2020 13:59:16
Ah it's that simple. Thanks very much!

##### David Mansolino [cyberbotics] 06/09/2020 13:58:47
You can simply do this from the preferences, where you can specify the Python command: [https://cyberbotics.com/doc/guide/preferences#general](https://cyberbotics.com/doc/guide/preferences#general)

##### JapieHoeven 06/09/2020 13:57:53
Hello, can anyone explain me how I can change the python version that Webots uses? I'm on a Mac and I have installed python 3.7 now, but I need to know how I can switch to this version of Python

##### Musaab 06/09/2020 13:20:03
fixed!


Thank you!!!

##### Olivier Michel [cyberbotics] 06/09/2020 13:18:50
If you expand the DistanceSensor node, you will see it.


It's not the DEF name, but the DistanceSensor.name that should match (and it's case sensitive).

##### Musaab 06/09/2020 13:16:59

%figure
![MicrosoftTeams-image.png](https://cdn.discordapp.com/attachments/565154703139405824/719902868320288828/MicrosoftTeams-image.png)
%end


I do have DEF Proto file in world file named Back

##### Olivier Michel [cyberbotics] 06/09/2020 13:13:53
Check it in your world file or Robot proto file.


Yes, there is no DistanceSensor device named "BACK" in your Robot model...

##### Musaab 06/09/2020 13:12:41
this is my controller
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/719901789385654302/unknown.png)
%end

##### Olivier Michel [cyberbotics] 06/09/2020 13:12:07
Hi, that means you are trying to get a handle to a device named "BACK", however, no such device exists in your Robot...

##### Musaab 06/09/2020 13:11:04
hi guys can someone help me with this error?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/719901383666696273/unknown.png)
%end

##### David Mansolino [cyberbotics] 06/09/2020 12:10:36
You're welcome!

##### black\_hammer\_67 06/09/2020 11:58:20
ok thank you a lot, you were very helpful

##### David Mansolino [cyberbotics] 06/09/2020 11:52:36
Depending on the robot, the name of the field might change.


Yes, the same way as for the ackermannVehicle you can find an `extensionSlot` field allowing you to add more node.

##### black\_hammer\_67 06/09/2020 11:48:29
one last question, is there a way to take a robot from the presets like the pioneer and attach a camera to it ?


thank you, I was confused because I couldn't find the children node

##### David Mansolino [cyberbotics] 06/09/2020 11:46:36
No it is the contrary, add the ackermann vehicle first, and then add the body in the `extensionSlot` field.

##### black\_hammer\_67 06/09/2020 11:42:48
i am trying this right now, what building process should I follow ? Like making a body and add the Ackermann vehicle as a child or the starting node is the vehicle ?

##### David Mansolino [cyberbotics] 06/09/2020 11:40:52
Have you tried starting from an AkermannVehicle node?

##### black\_hammer\_67 06/09/2020 11:35:51
yes and i am concerned about the case that the body doesn't let the wheel steer because of collision, but i can't see not a little movement

##### David Mansolino [cyberbotics] 06/09/2020 11:34:10
did you set all the require boundign object and phsyics nodes?

##### black\_hammer\_67 06/09/2020 11:33:50
i set it to 100000 but the same happens



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/719876848062038047/unknown.png)
%end

##### David Mansolino [cyberbotics] 06/09/2020 11:31:10
Maybe the maxtorque of the motor is not high enough

##### black\_hammer\_67 06/09/2020 11:20:31
`@David Mansolino`  so i tried the Hinge2joint with a rotational motor on device one and nothing on device 2, now the wheels are free to move on the x axis but i am trying to steer the wheels by setting the position on the motors and nothing happens

##### David Mansolino [cyberbotics] 06/09/2020 10:37:49
Hi `@Stanislas Larnier`, where does this model of the motoman gp8 arm comes from, did you created it yourself?

In any case, to make it static with the environment, the root Solid/Robot node should have a boundign object but no physics node (and all the childrens Solid nodes should have both).

##### Stanislas Larnier 06/09/2020 10:10:20
Hello everyone. I am trying to use a motoman arm gp8. I have a problem. When I launch the simulation, the arm is falling. I add staticBase true in the proto file but the base is not static. Is there something else, I could do. Am I missing something?

##### David Mansolino [cyberbotics] 06/09/2020 07:35:43
Maybe you can create a second controller i python and communicate with emitter-receiver.

##### TheWiseSidney 06/09/2020 07:35:09
`@David Mansolino` Thnx it should totaly work but it does not, we already have a controller in .cpp thats why im trying to include python.h to create an embadded system. Have any idea what could be going wrong?

##### elkelkmuh 06/09/2020 06:14:39
`@David Mansolino`  thank you.

##### David Mansolino [cyberbotics] 06/09/2020 06:13:20
no, they just should not have the same name

##### elkelkmuh 06/09/2020 06:12:48
Should i delete the emiter and receiver in children in robot node? Because i added into body slot.

##### David Mansolino [cyberbotics] 06/09/2020 05:33:13
if you use the receiver, fur sure you need it..

##### elkelkmuh 06/09/2020 05:32:32
`@David Mansolino` Previously i added it to the robot node. I will add to body slot of op3 now. I will add both emi ter and receiver tiop3 body slot.  Correct?  Mant thanks

##### David Mansolino [cyberbotics] 06/09/2020 05:12:15
> also I am trying to build a custom vehicle with 2 rear rotational wheels and 2 front steering wheels and atm I am trying with 4 motor, one on each joint, and the front once having them rotate around y axis. The problem is that rear wheels are spinning and fronts are not because they are not free to move. Can u help me to solve this problem ? Or there is a different approach for steering wheels ?

`@black_hammer_67` the front one should use a Hinge2Joint node instead of a simple 'HingeJoint' node. BUt an even better solution would be to use the AckermannVehicle node: [https://cyberbotics.com/doc/automobile/ackermannvehicle](https://cyberbotics.com/doc/automobile/ackermannvehicle)


> sub, im trying to include Python.h in webots. This is what inside my makefile, it builds perfectly fine but when i run the simulation i get an error: (WARNING: RobotVisionTestController: The process crashed some time after starting successfully.

> WARNING: 'RobotVisionTestController' controller crashed.)

`@TheWiseSidney` Yes, what you did looks correct to use the python lib in C/C++, howerver, why not directly writting your controller in Python?


> `@David Mansolino` yes i tried, finally i figured out that this issue is only on C as in other languages as python the tag is a string, the only thing i dont get is why in C it has to be 1, what indicates that ?

`@black_hammer_67` that's strange, it shouldn't, escpecially because the Python API is calling the C one, so it is the exacte same function that is called at the end.


`@elkelkmuh` you should make sure that your robot has an emitter device called 'emitter' and if not you can add one in the slot fields.

##### black\_hammer\_67 06/08/2020 17:07:02
also I am trying to build a custom vehicle with 2 rear rotational wheels and 2 front steering wheels and atm I am trying with 4 motor, one on each joint, and the front once having them rotate around y axis. The problem is that rear wheels are spinning and fronts are not because they are not free to move. Can u help me to solve this problem ? Or there is a different approach for steering wheels ?

##### TheWiseSidney 06/08/2020 17:06:43
is this the right way to include a lib?


sub, im trying to include Python.h in webots. This is what inside my makefile, it builds perfectly fine but when i run the simulation i get an error: (WARNING: RobotVisionTestController: The process crashed some time after starting successfully.

WARNING: 'RobotVisionTestController' controller crashed.)
%figure
![python_screen.png](https://cdn.discordapp.com/attachments/565154703139405824/719598220149260379/python_screen.png)
%end

##### black\_hammer\_67 06/08/2020 17:03:36
`@David Mansolino` yes i tried, finally i figured out that this issue is only on C as in other languages as python the tag is a string, the only thing i dont get is why in C it has to be 1, what indicates that ?

##### elkelkmuh 06/08/2020 15:21:28
`@David Mansolino`  same code works for op2.self.emitter = self.getEmitter('emitter')

        self.receiver = self.getReceiver('receiver')

        self.receiver.enable(self.timeStep)



[my\_controllerop3]   File "my\_controllerop3.py", line 92, in initalize

[my\_controllerop3]     self.receiver.enable(self.timeStep)

[my\_controllerop3] AttributeError: 'NoneType' object has no attribute 'enable'

##### David Mansolino [cyberbotics] 06/08/2020 14:47:52
That message indicates that your are not gettign correctly the emitter..

##### elkelkmuh 06/08/2020 14:45:48
Hi `@David Mansolino`  can I use supervisor for op3. That is receiver emiter like as in op2.[my\_controllerop3]     self.emitter.send(message.encode('utf-8'))

[my\_controllerop3] AttributeError: 'NoneType' object has no attribute 'send'

##### David Mansolino [cyberbotics] 06/08/2020 12:18:30
Did you tried to save and revert the simulation after addign the camera ?

##### black\_hammer\_67 06/08/2020 11:43:15
where i can find the device tag ?


in fact i were using as tag the "name" of the camera, now i set it to integer 1 and it works but i cant understand why


Hello all, i'm trying to add a camera on a custom robot, i add it as a children but i am getting error:  device with tag=12288 not found. when trying to activate it

##### Lifebinder (tsampazk) 06/08/2020 09:50:47
ok david, thank you very much. I circumvented the issue by pickling the objects using pythons pickle module for object serialization ðŸ™‚

##### David Mansolino [cyberbotics] 06/08/2020 09:39:19
Unfortunately, this is not possible, you somehow have to convert it to a string to pass it in the import

##### Lifebinder (tsampazk) 06/08/2020 09:27:42
just a class object of a library i use

##### David Mansolino [cyberbotics] 06/08/2020 09:25:49
What kind of objects you want to pass exactly?

##### Lifebinder (tsampazk) 06/08/2020 09:24:37
`@David Mansolino` Thank you, i resorted to pickling objects and loading them in the other controller. As far as i can tell the controllerArgs cannot be used for passing objects?

##### David Mansolino [cyberbotics] 06/08/2020 08:18:11
The contact material for the prius is called 'ToyotaPriusWheels'.

##### Stefania Pedrazzi [cyberbotics] 06/08/2020 08:09:30
Ok, so then the ContactProperties node doesn't target the correct material for your Prius model.

##### nelsondmmg 06/08/2020 07:56:19
I changed to 1e-7 and the behavior remained the same. So I replace the Prius with a model 3 and it worked as it should. Thanks.

##### Stefania Pedrazzi [cyberbotics] 06/08/2020 07:44:35
Ok. If you set for example the softCFM value to 1e-06 you should immediately see a difference and the car should be lifted up a little bit (maybe enough).

##### nelsondmmg 06/08/2020 07:43:37
No. I added only sensors (camera, GPS, receiver, emitter, IMU).

##### Stefania Pedrazzi [cyberbotics] 06/08/2020 07:42:55
Yes, in the PROTO file  or if you added any heavy objects/devices to it (in the scene tree)

##### nelsondmmg 06/08/2020 07:42:02
What do you mean by "Change the Prius car model"? Changes in the PROTO file? I don' think so.

##### Stefania Pedrazzi [cyberbotics] 06/08/2020 07:40:30
Hi `@nelsondmmg`, you should decrease the `softCFM` value of the ContactProperties defined for the `ToyotaPriusWheels` material and the road material.  `softCFM 1e-05` is usually the correct value in the distributed examples. Did you modify the Prius car model?

##### nelsondmmg 06/08/2020 07:27:58
Hi, the following problem keeps happening in my vehicle simulations. Each vehicle's tire penetrates the road, and the effects of such phenomena can be seen in the vehicle's movement. Which parameters should I change to stop this behavior? Thanks.
%figure
![webPhysics.png](https://cdn.discordapp.com/attachments/565154703139405824/719452650084630528/webPhysics.png)
%end

##### yash 06/08/2020 06:48:02
> This example might interest you: [https://cyberbotics.com/doc/guide/samples-howto#sick\_terrain\_scanning-wbt](https://cyberbotics.com/doc/guide/samples-howto#sick_terrain_scanning-wbt)

`@David Mansolino`  okay ðŸ‘

##### David Mansolino [cyberbotics] 06/08/2020 06:46:27
You're welcome!


This example might interest you: [https://cyberbotics.com/doc/guide/samples-howto#sick\_terrain\_scanning-wbt](https://cyberbotics.com/doc/guide/samples-howto#sick_terrain_scanning-wbt)

##### yash 06/08/2020 06:46:01
Alright thank you , will try it out !

##### David Mansolino [cyberbotics] 06/08/2020 06:45:37
You can use distance sensors, lidar, or any distance measurment sensor to create a map.


Yes of course!

##### yash 06/08/2020 06:44:57
Okay , but mapping will be possible in Webots .?

##### David Mansolino [cyberbotics] 06/08/2020 06:41:48
> Hello ! Wanted to know if there are any resources for occupancy grid mapping and kalman filter localization for implementing in WEBOTS .?

`@yash` not as I know.

##### yash 06/08/2020 06:40:19
Hello ! Wanted to know if there are any resources for occupancy grid mapping and kalman filter localization for implementing in WEBOTS .?

##### cakar 06/08/2020 06:31:51
ok thank you

##### Olivier Michel [cyberbotics] 06/08/2020 06:31:01
You can also set a translation for an object while the simulation is running.

##### cakar 06/08/2020 06:30:01
Ä± know that i can a get a translation value out of it, thats all


not exactly

##### Olivier Michel [cyberbotics] 06/08/2020 06:29:03
Yes, that is during the simulation. Do you know what a supervisor is?

##### cakar 06/08/2020 06:28:37
what about during the simulation?

##### Olivier Michel [cyberbotics] 06/08/2020 06:27:57
Hi, the easiest way is to use a supervisor to reset the simulation. Or simply reset the robot to its initial position.

##### cakar 06/08/2020 06:27:06
hello is there an easy way to make robot go back to its starting point in an obstacled enviroment?thanks in advance

##### David Mansolino [cyberbotics] 06/08/2020 05:33:09
> Hello! I am using Python and i've been wondering if there's a way to pass object arguments (like a class object) to a robot's controller? I create the robot with importMFNodeFromString via a supervisor controller and i would like to initialize some objects there and pass them to the robot controller.

`@Lifebinder (tsampazk)` when you import the robot you can set the `controllerArgs` field to set arguments of the controller in your import string. Would this be enough?

##### dimple.bhuta 06/06/2020 11:24:09
Great. i will definitely ping you.

##### Simon Steinmann [Moderator] 06/06/2020 11:23:45
If you have webots - ROS relatied questions, I might be able to help, implemented it too. Same with Reinforcement Learning


you're welcome ðŸ™‚

##### dimple.bhuta 06/06/2020 11:22:17
Thanks a lot. I am using ros, so it does have a function to convert that. Its just I wasnt understanding the rotation thing. Thank you though for all your help.

##### Simon Steinmann [Moderator] 06/06/2020 11:20:18
`@dimple.bhuta` I also wrote some code to convert the orientation to quaternion. Let me know if you need that too

##### dimple.bhuta 06/06/2020 11:01:10
0k

##### Simon Steinmann [Moderator] 06/06/2020 11:00:42
that's what the code does


If you want to calculate the position and orientation of any node relative to any other node, you can take a look at this example in python. It should be easily adaptable to any other language, as it uses simple matrix and vector calculations.

##### dimple.bhuta 06/06/2020 11:00:25
ok thanks a lot

##### Simon Steinmann [Moderator] 06/06/2020 10:59:56
perhaps copy it into your editor for proper format

##### dimple.bhuta 06/06/2020 10:59:34
yeah thank you i am fine with python

##### Simon Steinmann [Moderator] 06/06/2020 10:59:22
it's python

##### dimple.bhuta 06/06/2020 10:59:19
Ok thanks a lot

##### Simon Steinmann [Moderator] 06/06/2020 10:59:08
> `from controller import Supervisor

> import numpy as np

> 

> robot = Supervisor()

> ur10e = robot.getFromDef('ur10e')

> box = robot.getFromDef('box')

> 

> \# get the transposed rotation matrix of the robot, so we can calculate poses of everything relative to it

> \# get orientation of the Node we want as our new reference frame and turn it into numpy array. Returns 1-dim list of len=9

> rot\_ur10e = np.array(ur10e.getOrientation())

> \# reshape into a 3x3 rotation matrix

> rot\_ur10e.reshape(3, 3)

> \# transpose the matrix, because we need world relative to the robot, not the robot relative to world

> rot\_ur10e = np.transpose(rot\_ur10e)

> 

> \# get the translation between the robot and the world. Basically where the origin of our new realative frame is. 

> \# no need to use the reverse vector, as we will subtract instead of add it later

> pos\_ur10e = np.array(ur10e.getPosition())

> 

> 

> \# box position relative to world

> box\_pos\_world = np.array(box.getPosition())

> \# calculate the relative translation between the box and the robot

> box\_pos\_world = np.subtract(box\_pos\_world, pos\_ur10e)

> \# matrix multiplication with rotation matrix. Box pos relative to robot

> box\_pos\_robot = np.dot(rot\_ur10e, box\_pos\_world)

> 

> \# calculate the orientation of the box, relative to the robot. All in one line

> box\_rot\_robot = np.dot(rot\_ur10e, np.array(box.getOrientation()).reshape(3, 3)) `


I made a commit to the documentation, but it is not live yet. Take a look at this example code. Perhaps it will help

##### dimple.bhuta 06/06/2020 10:58:19
yes


So if there is any documentation/formula to get those coordinates

##### Simon Steinmann [Moderator] 06/06/2020 10:58:07
are you using a supervisor controller?

##### dimple.bhuta 06/06/2020 10:57:17
I am just confused about how to calculate rotation coordinates


Thank you for directing me towards the documentation


i need to figure out the starting translation (i have figured this out). or rotation coordinates. So i am trying to write the code that calculates these and starts the car from the calculated position in the map.


(that I have of the road map)


Okay so in the wbt file you specify the translation/rotation coordinates and car spawns at that particular location in the map. I am trying to write a code that generates the car during coding/real time and based on my coordinates *

##### Simon Steinmann [Moderator] 06/06/2020 10:52:23
Can you elaborate your second question?


`@dimple.bhuta` It is not quaternion. This explains it: [https://www.cyberbotics.com/doc/reference/transform?tab-language=python](https://www.cyberbotics.com/doc/reference/transform?tab-language=python)

##### dimple.bhuta 06/06/2020 08:51:04
and if there is a reference code to obtain starting translational/rotational coordinates of a vehicle given consecutive reference x,y coordinates


TeslaModel3 {

  translation 3.46 0.318652 -118.22

  rotation  -0.00487135 0.999985 0.00235245 1.57488

  name "agent\_0"

  controller "ros\_automobile"

  controllerArgs "--name=agent\_0 --clock --use-sim-time"

  sensorsSlotCenter [

    GPS {

    }

  ]

}


Hello I have gone through the documentation. I wanted to verify that the the rotational field of robots/vehicles is quaternions.

##### Lifebinder (tsampazk) 06/05/2020 17:42:43
Hello! I am using Python and i've been wondering if there's a way to pass object arguments (like a class object) to a robot's controller? I create the robot with importMFNodeFromString via a supervisor controller and i would like to initialize some objects there and pass them to the robot controller.

##### Lussfer 06/05/2020 16:23:27
reverted back my runtime.ini file to what i originally had and still works if i open webots through terminal


`@Simon Steinmann` its recognizing my custom message now. Thank you. so apparently if i open webots by clicking the application icon it doesn't recognize my custom message but if i open webots through terminal as you said, it is recognizing the custom message


for sure

##### Simon Steinmann [Moderator] 06/05/2020 15:16:37
let me know if it works


you're welcome... struggled with this myself ^^

##### Lussfer 06/05/2020 15:16:14
thank you


thats pretty neat


ah i see

##### Simon Steinmann [Moderator] 06/05/2020 15:15:47
this way you only have to edit the runtime.ini once. And you can use all packages you have in your ROS install


it will then use your path definitions


if you open your terminal, source your workspace, then you can simply run webots from the terminal using 'webots'


My runtime.ini looks like this:

`[environment variables with relative paths]

PYTHONPATH=$(PYTHONPATH):$(WEBOTS\_HOME)/projects/languages/ros/controllers/ros\_python/python/site-packages:$(WEBOTS\_HOME)/projects/languages/ros/controllers/ros\_python/kinetic/dist-packages



[environment variables]

ROS\_LOG\_DIR=ros\_python\_log

ROS\_PACKAGE\_PATH=$(ROS\_PACKAGE\_PATH):$(WEBOTS\_HOME)/projects/languages/ros/controllers/ros\_python/kinetic/share

ROS\_MASTER\_URI=http://localhost:11311`

##### David Mansolino [cyberbotics] 06/05/2020 15:13:46
> ah so i do have \_custom\_msg.py and \_custom\_msg.cpy under /home/lussfer/catkin\_ws/devel/lib/python3/dist-packages/webots\_ros/msg is that what you meant by compiled python files?

`@Lussfer` Yes exactly

##### Lussfer 06/05/2020 15:13:44
i usually run my source commands

```source /devel/setup.bash
source /opt/ros/melodic/setup.bash
```

##### Simon Steinmann [Moderator] 06/05/2020 15:12:58
in the .bashrc


`@Lussfer` do you automatically source your ros workspace when opening a terminal?

##### Lussfer 06/05/2020 15:04:06
ah so i do have \_custom\_msg.py and \_custom\_msg.cpy under /home/lussfer/catkin\_ws/devel/lib/python3/dist-packages/webots\_ros/msg is that what you meant by compiled python files?

##### David Mansolino [cyberbotics] 06/05/2020 15:01:11
The `/home/lussfer/catkin_ws/src/webots_ros/msg` part looks useless as this are the sources, but the actuall python files should be located somewhere like `/home/lussfer/catkin_ws/devel/lib/python3/dist-packages`.

##### Lussfer 06/05/2020 14:59:29
since the custom\_msg.msg is in msg folder


i also tried using `PYTHONPATH=/home/lussfer/catkin_ws/devel/lib/python3/dist-packages:/opt/ros/melodic/lib/python2.7/dist-packages:/home/lussfer/catkin_ws/src/webots_ros/msg`


currently it is like this `PYTHONPATH=/home/lussfer/catkin_ws/devel/lib/python3/dist-packages:/opt/ros/melodic/lib/python2.7/dist-packages:/home/lussfer/catkin_ws/src/webots_ros`

##### David Mansolino [cyberbotics] 06/05/2020 14:57:59
Ok, then how did you edit this line?

[https://github.com/cyberbotics/webots/blob/master/projects/languages/ros/controllers/ros\_python/runtime.ini#L2](https://github.com/cyberbotics/webots/blob/master/projects/languages/ros/controllers/ros_python/runtime.ini#L2)

##### Lussfer 06/05/2020 14:54:42
i am able to*


i have able to use the custom message when my simple ros publisher and listener

##### David Mansolino [cyberbotics] 06/05/2020 14:53:46
> `from webots_ros.msg import custom_msg` is the correct import statement

`@Lussfer` yes that part looks correct

##### Lussfer 06/05/2020 14:53:28
`from webots_ros.msg import custom_msg` is the correct import statement

##### David Mansolino [cyberbotics] 06/05/2020 14:53:15
Did yo compiled the message? Is the Python equivalent of your message already generated?

##### Lussfer 06/05/2020 14:52:58
not sure if i am messing up with path variable or my import statement


i am using `from webots_ros import custom_msg` as my import statement


`/home/lussfer/catkin_ws/src/webots_ros/msg` as a path but i will still getting import error

##### David Mansolino [cyberbotics] 06/05/2020 14:39:43
You're welcome

##### Lussfer 06/05/2020 14:39:36
Oh ok, thank you :)

##### David Mansolino [cyberbotics] 06/05/2020 14:29:52
You should be able to just add one more path to the `PYTHONPATH` variable already present in th efile.

##### Lussfer 06/05/2020 14:28:00
> `@Lussfer` yes this is possible, however, you have to modify the runtime.ini file () to add the path to your custom ros message package path: [https://github.com/cyberbotics/webots/blob/master/projects/languages/ros/controllers/ros\_python/runtime.ini](https://github.com/cyberbotics/webots/blob/master/projects/languages/ros/controllers/ros_python/runtime.ini)

`@David Mansolino`



So should I just create a new environment variable and assign the folder path where my new custom message is located?

##### David Mansolino [cyberbotics] 06/05/2020 14:13:14
Have a nice week-end too!


You're welcome!

##### tilly 06/05/2020 14:12:54
have a nice weekend


much thanks ill try it ðŸ™‚

##### David Mansolino [cyberbotics] 06/05/2020 14:11:20
Unfortunately, this is no possible out of the box, but you can use a Shape node with a Spere as geometry, such as here: [https://cyberbotics.com/doc/guide/samples-devices#emitter\_receiver-wbt](https://cyberbotics.com/doc/guide/samples-devices#emitter_receiver-wbt)

##### tilly 06/05/2020 14:09:19
hi, is it possible to show the communication range (display in the 3 d simulation) for the emitter module ?

##### David Mansolino [cyberbotics] 06/05/2020 12:55:54
You're welcome

##### nelsondmmg 06/05/2020 12:55:44
Ok, thanks

##### David Mansolino [cyberbotics] 06/05/2020 12:55:11
`@nelsondmmg` you are right, it seems there is an issue with the crossroad proto when setting the `bottom` field to true, here is a patch: [https://github.com/cyberbotics/webots/pull/1731/files](https://github.com/cyberbotics/webots/pull/1731/files)

It will be included in the next version of Webots (and in the nightly build from tomorrow: [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases))


thank you, let me check this

##### nelsondmmg 06/05/2020 12:22:50

%figure
![webots.png](https://cdn.discordapp.com/attachments/565154703139405824/718439690797187161/webots.png)
%end

##### David Mansolino [cyberbotics] 06/05/2020 12:20:05
Can you share the exact parameters you are using for the crossroad?

##### nelsondmmg 06/05/2020 12:14:55
I'm trying to use the object Crossroad to create a T-intersection. When I enable bottom and bounding box the following error appears: 

webots2020a/projects/objects/road/protos/Crossroad.proto':56:28: error: Did not find a 'DEF CROSSROAD\_APPEARANCE' to match 'USE CROSSROAD\_APPEARANCE'.

Indeed, the object appears How can I solve this issue?

##### Simon Steinmann [Moderator] 06/05/2020 11:58:09
okay, I'll have a look

##### David Mansolino [cyberbotics] 06/05/2020 11:56:54
You should get the 'children'/'endpoint' field of the current node, then get all the nodes in this field and do the same recursively on thoose nodes.

##### Simon Steinmann [Moderator] 06/05/2020 11:56:03
how do I parse the node tree? I can't find the function for that

##### David Mansolino [cyberbotics] 06/05/2020 11:46:21
Ok from a supervisor then, yes this is possible, but not so easy, you will have to parse the node tree from the supervisor and for each node you can check it's field.

##### Simon Steinmann [Moderator] 06/05/2020 11:45:04
lets say I add a gripper to my robot arm. I give it a DEF. Can I extract all the motors contained in that gripper?

##### David Mansolino [cyberbotics] 06/05/2020 11:44:16
What do you mean from a node? You want to get all the motors available in a robot from the controller?

##### Simon Steinmann [Moderator] 06/05/2020 11:43:37
Is there a way to get all motors (or sensors) from a node? Without having to explicitly naming all of them?

##### David Mansolino [cyberbotics] 06/05/2020 10:33:13
Yes indeed the model is quite simple and works better for low velocity, but it gives pretty realistic result for most of the underwater and flyign robots.

##### Simon Steinmann [Moderator] 06/05/2020 10:21:16
I'm guessing the main application would be buoyancy and drag. But I'm guessing that is just approximations and for lower velocities? As proper CFD is quite complex and computationally intensive

##### Olivier Michel [cyberbotics] 06/05/2020 10:17:29
[https://github.com/cyberbotics/webots/tree/master/src/ode/ode/src/fluid\_dynamics](https://github.com/cyberbotics/webots/tree/master/src/ode/ode/src/fluid_dynamics)


Hi, we don't have more documentation than the one in the Webots reference manual. To get more information, you should look into the source code of our ODE fork.

##### Simon Steinmann [Moderator] 06/05/2020 10:15:04
Is it based on an open source engine like ODE? what are the capabilities and restrictions, perhaps compared to other programs?


Hey, do you guys have more detailed documentation about webot's fluid dynamics capabilities?

##### David Mansolino [cyberbotics] 06/05/2020 06:39:49
You're welcome, thank you for the feedback!

##### dimple.bhuta 06/05/2020 06:36:17
`@David Mansolino` Thank you for your help by changing the GPS field from WGS84 to local and tweaking my controller I was able to correctly move my robot on an osm map. Once again thank you for all your help.

##### David Mansolino [cyberbotics] 06/05/2020 06:24:04
You're welcome ðŸ˜‰

##### Clara Cardoso Ferreira 06/05/2020 06:23:47
OMG, I was completely overthinking it. Thanks a bunch

##### David Mansolino [cyberbotics] 06/05/2020 06:22:02
You simply need to select the 'extensionSlot' (name might be different on different robot) and clock the '+' button on top of the scene-tree.

##### Clara Cardoso Ferreira 06/05/2020 06:20:48
now Im trying to do the same thing on the sojourner robot


I have this simulation I created a few months ago. 

I dont remember how I inserted the camera on the physical robot and then positioned it on the scene tree
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/718347886877736991/unknown.png)
%end

##### David Mansolino [cyberbotics] 06/05/2020 06:14:36
What do you mean exactly by 'get' from the controller? From a Supervisor? From the add node dialog?

##### Clara Cardoso Ferreira 06/05/2020 06:12:49
also , it has been a while since I do not add and position a camera to a robot and I cant remember even after looking through examples. On the documentation, it says that the camera can be derived from 'device' and 'solid'. Would you please remind me of how to get the camera node?


sure, ill look into it later. thanks

##### David Mansolino [cyberbotics] 06/05/2020 05:58:40
I would recommend trying to write your own controller from scratch to integrate with OpenCV 4, here are some usefull information: [https://cyberbotics.com/doc/guide/using-webots-makefiles#using-the-compiler-and-linker-flags-ccp](https://cyberbotics.com/doc/guide/using-webots-makefiles#using-the-compiler-and-linker-flags-ccp)

##### Clara Cardoso Ferreira 06/05/2020 05:58:23
open cv 2 is in the open cv 4 folder. I tried both

##### David Mansolino [cyberbotics] 06/05/2020 05:57:41
It seems that you are using OpenCV 4 whereas the controller is made for OpenCV 2

##### Clara Cardoso Ferreira 06/05/2020 05:26:31

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/718334923957600256/unknown.png)
%end


what is considered the build file in open CV?


that changed the error to this
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/718334415402434570/unknown.png)
%end

##### David Mansolino [cyberbotics] 06/05/2020 05:12:47
> I have open cv installed but it is not being recognized in the webots path. I tried editing the makefile as in the screenshot, and tried creating an environment path but has not worked yet. 

> Some other people are also having an issue installing this, so it would be great to get some more direction

`@Clara Cardoso Ferreira` from the screenshot of your controller it seems that the OPENCV\_DIR line is commented out, is this normal?


> Hello, I'm new here! simple question but how do I modify my lookup table for my little old DistanceSensor?

`@Jorrock [no]` you can simply modify it in the scene-tree, or if the DistanceSensor is defined in a PROTO file you will need to manually edit the file.

If you are new, I strongly recommend following the tutorials: [https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)


> for practice i have replicated ros\_python world, i am trying to use a custom ros message but getting import error. the custom ros message is in catkin pakage. is it possible to use custom message in webots?

`@Lussfer` yes this is possible, however, you have to modify the runtime.ini file () to add the path to your custom ros message package path: [https://github.com/cyberbotics/webots/blob/master/projects/languages/ros/controllers/ros\_python/runtime.ini](https://github.com/cyberbotics/webots/blob/master/projects/languages/ros/controllers/ros_python/runtime.ini)

##### Jorrock [no] 06/05/2020 04:02:15
Hello, I'm new here! simple question but how do I modify my lookup table for my little old DistanceSensor?

##### Clara Cardoso Ferreira 06/05/2020 02:05:58

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/718284453390057482/unknown.png)
%end


I have open cv installed but it is not being recognized in the webots path. I tried editing the makefile as in the screenshot, and tried creating an environment path but has not worked yet. 

Some other people are also having an issue installing this, so it would be great to get some more direction
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/718283594866360400/unknown.png)
%end

##### Lussfer 06/04/2020 21:48:18
for practice i have replicated ros\_python world, i am trying to use a custom ros message but getting import error. the custom ros message is in catkin pakage. is it possible to use custom message in webots?

##### Stefania Pedrazzi [cyberbotics] 06/04/2020 13:47:08
It is described in the Supevisor documentation how to add new nodes: [https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_field\_import\_mf\_node](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_field_import_mf_node)

Please take the time to read the available documentation.

##### elkelkmuh 06/04/2020 13:41:41
I will add new object not available one.

##### David Mansolino [cyberbotics] 06/04/2020 13:05:16
indeed..

##### elkelkmuh 06/04/2020 12:59:46
There are all examples in this link

##### David Mansolino [cyberbotics] 06/04/2020 12:49:51
[https://cyberbotics.com/doc/guide/samples-devices#supervisor-wbt](https://cyberbotics.com/doc/guide/samples-devices#supervisor-wbt)

##### elkelkmuh 06/04/2020 12:48:41
please say one example wbt in samples.

##### David Mansolino [cyberbotics] 06/04/2020 12:38:59
I am sorry, but can you please read the doc before asking such kind of questions, the documentation explains and gives many examples of how to do this!

##### elkelkmuh 06/04/2020 12:34:21
I will only change a object in that environment. How?

##### David Mansolino [cyberbotics] 06/04/2020 12:31:19
Yes you should use the Supervisor API

##### elkelkmuh 06/04/2020 12:30:23
`@David Mansolino`  hi I will use Reinforcement algortihm inwebots. In each episode, can I add different object over a table. How?That is, I need to dynamic environment.

##### David Mansolino [cyberbotics] 06/04/2020 12:08:19
You're welcome ðŸ™‚

##### lojik 06/04/2020 12:08:05
ok perfect, thank you ðŸ‘ So I will check to change the timestep directly in .wbt files. This is the only one I change that seems to be done before loading the world.

##### David Mansolino [cyberbotics] 06/04/2020 12:06:28
- worldInfo.timestep.  

- camera.width and height.

- Plugins (such as robot-window, physics plugins, remote-control).


Unfortunately not, however, as far as I rememeber, here are the main ones:

##### lojik 06/04/2020 12:04:56
Is there a list somwhere about these parameters? So I will be able to search them into my .wbt file before running it and change the others parameters after with getFromDef(). Instead of changing all my parameters.

##### David Mansolino [cyberbotics] 06/04/2020 12:03:28
> Ok, nice I will check that. Thank you ðŸ‘ 

You're welcome!

> If I understand it right, the simulation is consider as started as soon as we load a world file? This is why the timestep is consider as "fixed" by the supervisor?

`@lojik` yes, some of the parameters which should remain constant while the simulation is running (very few are like this actually) are transferred to the controller only when it is started (this will minimize communication between the controller process and the Webots process and therefore improve performance).

##### lojik 06/04/2020 12:01:49
Ok, nice I will check that. Thank you ðŸ‘ 



If I understand it right, the simulation is consider as started as soon as we load a world file? This is why the timestep is consider as "fixed" by the supervisor?

##### David Mansolino [cyberbotics] 06/04/2020 11:58:17
One possible solution, would be to have your controller 'write' your next world file (it can for example do a search and replace of the timestep value, or generate the world from a template), then your controller can use the 'wb\_supervisor\_world\_load' ([https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_world\_load](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_world_load)) function to load the new world.


Ok, in that case what you are trying to do might work (even so the controller is not receiving the update). But I would rather use another methd not changing the timestep after the controllers started.

##### lojik 06/04/2020 11:54:54
Is there an other way to do that? I do not would like to change the timestep in a simulation but between them.


My goal is to set the timestep with a constant in my controller parameters. So I can have some parameters in a python file and change them inside to influe the simulation. It will let me implement some grid search on parameters instead of changing them by hand for each simulations. I was thinking to set the world with these parameters and then do the steps simulation.

##### David Mansolino [cyberbotics] 06/04/2020 11:51:19
Yes, it is not recommended to change the time step while the simulation is running, this can cause some instabilities.

##### lojik 06/04/2020 11:50:17
Hey everyone, I do not fully understand something. If I set a new basicTimeStep by doing :



sup.getFromDef('world\_info').getField('basicTimeStep').setSFFloat(param.BASIC\_TIMESTEP)



Then if I do a sup.getBasicTimeStep() after, it will return the old basicTimeStep and not the new one just set before.



Is it normal?

##### ThomasH 06/04/2020 10:33:29
`@Olivier Michel` Its working with the getFromProtoDef() method. Thanks again for your help ðŸ‘

##### David Mansolino [cyberbotics] 06/04/2020 10:18:29
> `@David Mansolino` thnx, is all i have to add the INCLUDE and the LIBRARY? Or is there more i have to do? I dont get any prints in the console that it is compiling opencv.

`@TheWiseSidney` the goal is not to compile OpenCV, you have to cmpile it before, the goal is to include and link with opencv.

##### ThomasH 06/04/2020 10:01:47
I see, thanks! I will try it out.

##### Olivier Michel [cyberbotics] 06/04/2020 09:59:43
Yes, but you should use the `develop` branch to get this feature.

##### ThomasH 06/04/2020 09:59:24
I compiled it some days ago

##### Olivier Michel [cyberbotics] 06/04/2020 09:59:24
See the documentation here: [https://cyberbotics.com/doc/reference/supervisor?version=develop#supervisor-functions](https://cyberbotics.com/doc/reference/supervisor?version=develop#supervisor-functions)

##### ThomasH 06/04/2020 09:59:16
Actually I used the most recent github master

##### Olivier Michel [cyberbotics] 06/04/2020 09:59:02
But it's available only in the nightly builds of Webots R2020b.

##### ThomasH 06/04/2020 09:58:53
ah nice

##### Olivier Michel [cyberbotics] 06/04/2020 09:58:45
We introduced a new supervisor API function that allows you to get a handle to a node that is inside a proto.


Yes, it doesn't work because your camera is inside a PROTO.

##### ThomasH 06/04/2020 09:55:12
Hi all! I have a question concerning the access to a node within a robot. I added a Camera to the existing iCreate Robot PROTO and now I want to use the C++ API to read out the position and orientation of the camera. This code is working to access the out Robot's node:

auto rootBot = m\_robo->getFromDef("ROBOT1");



However, I always get null when I try to access the camera node:

auto cameraSolid = m\_robo->getFromDef("ROBOT1.CREATE\_CAMERA");



Here is the relevant section of the PROTO file:

PROTO CreateLPR [

  ...

]

{

Robot {

  translation IS translation

  rotation IS rotation

  children [

      ....

    DEF CREATE\_CAMERA Camera {

      translation 0 0.044 -0.172

      rotation IS camera\_rotation

      children [



...



Maybe someone has an idea what I do wrong. Thanks for your help!

##### TheWiseSidney 06/04/2020 09:42:07
`@David Mansolino` thnx, is all i have to add the INCLUDE and the LIBRARY? Or is there more i have to do? I dont get any prints in the console that it is compiling opencv.

##### Dobby 06/04/2020 08:55:43
Installed through msys2



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/718024827629207632/unknown.png)
%end



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/718024786776948806/unknown.png)
%end


Yeah that seemed to fix it, I changed my OPENCV\_DIR global value to the right map now, however we are still getting compile errors, hows it going for you? `@Clara Cardoso Ferreira`

##### David Mansolino [cyberbotics] 06/04/2020 08:39:55
It works the axact same way as for other libs, here is a simple guide: [https://cyberbotics.com/doc/guide/using-webots-makefiles#adding-an-external-library-ccp](https://cyberbotics.com/doc/guide/using-webots-makefiles#adding-an-external-library-ccp)

##### TheWiseSidney 06/04/2020 08:20:12
Sub guys, Im still working on  a school project in webots. We are using Opencv for object recognition but i cant get it to work. How do i include opencv, like the normal way you include libs in c++ or do you guys have support for that.

##### Olivier Michel [cyberbotics] 06/04/2020 06:34:55
> `@Olivier Michel` 

> hum i couldnt figure out which files to download from the website since I was too intimidated by many depedencies and build files. Which files am I supposed to download?

`@Clara Cardoso Ferreira`: it may be easier to install MSYS2 from msys2.org and type `pacman -S mingw-w64-x86_64-opencv` in the MSYS2 console to install it along with all the needed dependencies.

##### David Mansolino [cyberbotics] 06/04/2020 05:00:22
> `@Olivier Michel` now I am getting this error with installing opencv through msys2, while trying to compile the howto -> Vision file

`@Dobby` this indicates that the `INCLUDE = -I$(OPENCV_DIR)/include/opencv4` line in your makefile is not working as expected


> Hi guys, I used the truck.proto from Webots and controlled it via ros\_automobile before, and it worked very well. This time, I would like to create a tractor by myself and control it via ROS for a project. My question is, do I need to program a ros controller for this tractor by myself? I am following the Tutorial 6: 4-wheels robot, but I am not pretty clear about it. Thank you very much for your help.

`@John520` as long as your tractor is using on the Car PROTO ([https://cyberbotics.com/doc/automobile/car](https://cyberbotics.com/doc/automobile/car)) as root node, you can use the ros\_automobile controller. Otherwise you will either have to create your own controller either use the more generic 'ros' controller.

##### Clara Cardoso Ferreira 06/04/2020 03:20:21
> You should get opencv from MSYS2 to be able to link with the provided Webots makefiles.

`@Olivier Michel` 

hum i couldnt figure out which files to download from the website since I was too intimidated by many depedencies and build files. Which files am I supposed to download?


Im just about to install it as well, so Ill let you know if I get that


`@Dobby` the errors says that it cant find your file in the resources folder....   my guess is that you need your Open CV files to be in the resources folder. 

Or maybe you have conflicting versions?

##### Dobby 06/03/2020 17:43:57

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/717795726821949520/unknown.png)
%end


`@Olivier Michel` now I am getting this error with installing opencv through msys2, while trying to compile the howto -> Vision file

##### John520 06/03/2020 15:46:00
Hi guys, I used the truck.proto from Webots and controlled it via ros\_automobile before, and it worked very well. This time, I would like to create a tractor by myself and control it via ROS for a project. My question is, do I need to program a ros controller for this tractor by myself? I am following the Tutorial 6: 4-wheels robot, but I am not pretty clear about it. Thank you very much for your help.

##### Stefania Pedrazzi [cyberbotics] 06/03/2020 12:19:35
you are welcome

##### Professor Felix 06/03/2020 12:11:14
yes, and ok, thank you

##### Stefania Pedrazzi [cyberbotics] 06/03/2020 11:48:41
Here is a screenshot of the context menu item to enable the camera overlay
%figure
![Screenshot_from_2020-06-03_13-47-13.png](https://cdn.discordapp.com/attachments/565154703139405824/717706320106487900/Screenshot_from_2020-06-03_13-47-13.png)
%end


`@Professor Felix`, do you mean the camera feedback in the view with a magenta border? This is called "Overlay" and should be enabled by default. If it is not (maybe it was closed in a previous run of the simulation), you can enable it by right-clicking on the robot (from the 3D view or scene tree) and selecting the "Overlays" item in the context menu and checking the camera item

##### Professor Felix 06/03/2020 11:43:02
is there a specific command or programming  function used to enable/display camera input in the webots simulation view? I know there is a feed of the camera in the example tutorial worlds but I am unable to recreate it in mine, even after following the same code and using the same robot

##### David Mansolino [cyberbotics] 06/03/2020 09:45:43
Yes and no, you can use different langiag for different controllers (i.e. different robots), but you can use the emitter-receiver mechanism to transmit informations between them.

##### TheWiseSidney 06/03/2020 09:44:13
Sub guys, im working on a Webots project for my school and have a question. Is it possible to use multiple languages, for instance we are using C++ as the main language and beside that we use Python for the vision and a tcp server. Is this possible?

##### Dobby 06/03/2020 09:01:18
Okay thanks Ill try that!

##### Olivier Michel [cyberbotics] 06/03/2020 08:54:39
[https://packages.msys2.org/package/mingw-w64-x86\_64-opencv](https://packages.msys2.org/package/mingw-w64-x86_64-opencv)


You should get opencv from MSYS2 to be able to link with the provided Webots makefiles.

##### Dobby 06/03/2020 08:52:56
Other guy gets this
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/717662091154161694/unknown.png)
%end



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/717662025622224946/unknown.png)
%end



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/717661969519476786/unknown.png)
%end


I cant get opencv to work with webots for some reason keeps coming up with different errors across our team

##### Olivier Michel [cyberbotics] 06/03/2020 06:23:12
> How is dynamic friction handled in webots?  I can set the coloumbFriction, but what happens once it starts slipping? The dynamic friction coefficient is usually different than the static one.

`@Simon Steinmann`: yes, there is also the Force Dependent Slip parameter which you can set. See details here: [https://www.cyberbotics.com/doc/reference/contactproperties](https://www.cyberbotics.com/doc/reference/contactproperties)

##### David Mansolino [cyberbotics] 06/03/2020 06:08:14
I received it indeed. I will answer you.

##### Clara Cardoso Ferreira 06/03/2020 06:05:21
ðŸ™‚


`@David Mansolino` I just sent you a message on LinkedIn to ask you about Season of Docs

##### David Mansolino [cyberbotics] 06/03/2020 05:56:16
You're welcome

##### Clara Cardoso Ferreira 06/03/2020 05:56:09
cool thanks.

##### David Mansolino [cyberbotics] 06/03/2020 05:54:39
> do you recommend that I delete the prvious ground setup

`@Clara Cardoso Ferreira` yes, otherwise it might cause conflicts.


> Unlike tutorial 2, the UnevenTerrainGenerator.proto does not have a subdivision option to change the meshes

`@Clara Cardoso Ferreira` the subdivision is actually the resolution of the the image.

##### Clara Cardoso Ferreira 06/03/2020 05:54:14
?


do you recommend that I delete the prvious ground setup


sounds good, Ill look into that. 

One more related question:

##### David Mansolino [cyberbotics] 06/03/2020 05:52:41
> `@David Mansolino` Im still a little bit lost as to what to do to the uneven terrain so that the robot interacts with it, sorry. The terrain is currently above the robots (cant reach).

`@Clara Cardoso Ferreira` maybe you should have a look to: [https://cyberbotics.com/doc/guide/samples-geometries#physics\_primitives-wbt](https://cyberbotics.com/doc/guide/samples-geometries#physics_primitives-wbt)

##### Clara Cardoso Ferreira 06/03/2020 05:52:14
Unlike tutorial 2, the UnevenTerrainGenerator.proto does not have a subdivision option to change the meshes


`@David Mansolino` Im still a little bit lost as to what to do to the uneven terrain so that the robot interacts with it, sorry. The terrain is currently above the robots (cant reach).

##### David Mansolino [cyberbotics] 06/03/2020 05:45:14
In Webots meshes are used for two purpose, for visualization (including sensors such as camera, lidar, etc.) and for the physics (basically collision detection). The first one is used when you specify it in a Shape node and the second one is used when you specify it in the boundingObject field of a Solid node.

##### Clara Cardoso Ferreira 06/03/2020 05:43:49

%figure
![Screenshot_159.png](https://cdn.discordapp.com/attachments/565154703139405824/717614501666750584/Screenshot_159.png)
%end


> bounding objects

`@David Mansolino` not sure what you are talking about. Are you asking if I set the meshes like in tutorial 2 with the ball? If so, I did not

##### David Mansolino [cyberbotics] 06/03/2020 05:41:01
> So if I set my gps to local the north direction adjustment would be all (0,0,0)

`@dimple.bhuta` if you set it to local it just means that it will simply return X,Y,Z position in meter (which are the deviation from the reference point).


> How is dynamic friction handled in webots?  I can set the coloumbFriction, but what happens once it starts slipping? The dynamic friction coefficient is usually different than the static one.

`@Simon Steinmann` you will find more about this topic in the ODE (our physic engine) manual: [http://ode.org/wiki/index.php?title=Manual#Friction\_Approximation](http://ode.org/wiki/index.php?title=Manual#Friction_Approximation)

##### dimple.bhuta 06/03/2020 05:39:17
So if I set my gps to local the north direction adjustment would be all (0,0,0)

##### David Mansolino [cyberbotics] 06/03/2020 05:38:53
> David, thanks for the guidance with helping me implement the uneven terrain proto.

> How do I put the robots in the terrain? It seems like the Koala bots cannot get to the terrain

`@Clara Cardoso Ferreira` did you use it for the bounding object too?


Note also that 'northDirection' matter as it indicate which direction point to the north and therefor which direction is latitude and which direction is longitude

##### Clara Cardoso Ferreira 06/03/2020 05:37:26
David, thanks for the guidance with helping me implement the uneven terrain proto.

How do I put the robots in the terrain? It seems like the Koala bots cannot get to the terrain
%figure
![moonmap_inc.PNG](https://cdn.discordapp.com/attachments/565154703139405824/717612891657732116/moonmap_inc.PNG)
%end

##### dimple.bhuta 06/03/2020 05:37:23
Ok


Ok but the coordinates arn't matching vehicle position. The reference that was generated using transforms and the car goes off-course.

##### David Mansolino [cyberbotics] 06/03/2020 05:37:07
In that case it is important to set the 'gpsReference' as it will define the latitude, longitude and altitude of the origin (0, 0, 0) of your simulation world.


if you set it to 'WGS84', then it will return the latitude, longitude and altitude of the GPS.


`@dimple.bhuta` if you set it to 'local' it will just return the X-Y-Z coordinate of the GPS in the Webots reference frame.

##### dimple.bhuta 06/03/2020 05:04:56
I tried that but it did not work

##### Clara Cardoso Ferreira 06/03/2020 05:04:31
Im not sure, but my guess is that the reference point is which coordinate do you want the gps to reference the robot, is it the center of the robot? if so, I think you want it to be 0,0,0?

##### dimple.bhuta 06/03/2020 05:03:48
AAny guidance that you guys can provide will be of great help


but I am still not able to understand what value should be of gpsReference point


In the world info i changed the gpsCoordinates system to 'local'


WorldInfo {

  info [

    "World generated using the Open Street Map to Webots importer"

    "Author: David Mansolino <david.mansolino@epfl.ch>"

  ]

  basicTimeStep 16

  northDirection 0 0 1

  gpsCoordinateSystem "WGS84"

  gpsReference 12.987525 77.6685 0

  lineScale 2

  contactProperties [

    ContactProperties {

      softCFM 1e-05

    }

  ]


Hello I am using gps to track my vehicle, however there is coordinate mismatch

##### Simon Steinmann [Moderator] 06/02/2020 17:43:41
How is dynamic friction handled in webots?  I can set the coloumbFriction, but what happens once it starts slipping? The dynamic friction coefficient is usually different than the static one.

##### Olivier Michel [cyberbotics] 06/02/2020 17:11:52
It's not yet possible, but we are working on that at the moment. So, you can expect to have this soon...

##### Simon Steinmann [Moderator] 06/02/2020 17:08:54
If not urdf, perhaps .stl or .dae files


Is it possible to export a .proto in urdf format? For ROS the robot\_description is loaded into the parameter server, which IK software like MoveIT and tools like Rviz use. With robots that webots natively supports like the universal robots, the urdf used by ROS is different to the modified model in webots.


gotcha, thanks for clarifying

##### Olivier Michel [cyberbotics] 06/02/2020 16:24:58
Yes.


But you are free to implement your own PID for velocity control.

##### Simon Steinmann [Moderator] 06/02/2020 16:24:44
ah, but there is some form of PID controller in the engine then?! Otherwise that would cause troubles wouldnt it?

##### Olivier Michel [cyberbotics] 06/02/2020 16:24:06
Yes, it relies on the direct velocity control of ODE which is very stable.

##### Simon Steinmann [Moderator] 06/02/2020 16:23:28
does the velocity controller for the motor really not use PID?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/717413087430574166/unknown.png)
%end

##### Olivier Michel [cyberbotics] 06/02/2020 16:10:47
OpenGL 3.3 (minimum version).

##### Simon Steinmann [Moderator] 06/02/2020 16:10:42
thx ðŸ™‚

##### Olivier Michel [cyberbotics] 06/02/2020 16:10:33
No requirement on CUDA.


No just OpenGL.

##### Simon Steinmann [Moderator] 06/02/2020 16:10:18
using OpenGL? or is cuda required?

##### Olivier Michel [cyberbotics] 06/02/2020 16:09:43
Mainly for simulating cameras, range-finders and lidars.


No it uses GPU for simulation as well.

##### Simon Steinmann [Moderator] 06/02/2020 16:08:59
Does webots use any GPU acceleration for simulation? Or just for rendering

##### Olivier Michel [cyberbotics] 06/02/2020 15:18:48
OK.


The default time step of 8 or 16 ms works in many simulation setups and is way faster that 1 ms.

##### Simon Steinmann [Moderator] 06/02/2020 15:18:22
I send you a friend request, would like to pm you about a project

##### Olivier Michel [cyberbotics] 06/02/2020 15:18:02
True, if your simulation is designed carefully, it should be 100% deterministic.


We modified ODE to produce better contact points that yields to a better stability. Also, we added fluid dynamics and multi-threading, fixed some collision functions, etc.

##### Simon Steinmann [Moderator] 06/02/2020 15:17:02
Also, you use a fairly large default step time. of 8-16ms, compared to gazebo with 1ms. Is there any special sauce? I read and heared that you are 100% deterministic.

##### Olivier Michel [cyberbotics] 06/02/2020 15:16:25
Hi `@Simon Steinmann`. Unfortunately, we don't have such benchmarks.

##### Simon Steinmann [Moderator] 06/02/2020 15:15:36
Hey `@David Mansolino`  do you guys have benchmarks, showing the performance & accuracy compared to other simulators / physics engines? I'm curious as to how your flavour of ODE is different

##### David Mansolino [cyberbotics] 06/02/2020 15:15:35
Ok, in that case, you probably have to slightly adapt th eMakefile to your version of openCV: [https://github.com/cyberbotics/webots/blob/master/projects/samples/howto/controllers/vision/Makefile#L31-L44](https://github.com/cyberbotics/webots/blob/master/projects/samples/howto/controllers/vision/Makefile#L31-L44)

##### trawzified 06/02/2020 15:14:24
That's neat! It does work but I'd like to implement the vision features in my own project which has been built with C++ so I'm not sure on how to tie Python to that

##### David Mansolino [cyberbotics] 06/02/2020 15:12:19
But here is a Python version currently working: [https://github.com/cyberbotics/webots/blob/master/projects/samples/robotbenchmark/visual\_tracking/controllers/visual\_tracking/visual\_tracking.py](https://github.com/cyberbotics/webots/blob/master/projects/samples/robotbenchmark/visual_tracking/controllers/visual_tracking/visual_tracking.py)

##### trawzified 06/02/2020 15:11:51
Tried setting the system variable but it doesn't seem to match the directories it's looking for in the Makefile

##### David Mansolino [cyberbotics] 06/02/2020 15:11:20
Last time I tried it was with 2.x

##### trawzified 06/02/2020 15:10:49
Are there instructions on how to setup OpenCV for the Vision sample? Can't get it to work for the life of me. Which version of OpenCV do I need, 4.3.0?

##### furkann 06/02/2020 09:58:29
> `@furkann` you might find some usefull information here: [https://cyberbotics.com/doc/guide/using-your-ide](https://cyberbotics.com/doc/guide/using-your-ide)

`@David Mansolino` I tried instructions

##### AngelAyala 06/02/2020 09:21:02
I will check it, I'm currently developing an extern controller and covering all the possibles error cases

##### David Mansolino [cyberbotics] 06/02/2020 09:17:40
Hi, you might just look for the 'webots' process, would this be ok for you ?

##### AngelAyala 06/02/2020 09:17:04
Hi!, is there a way to check if Webots is running or not with python?

##### David Mansolino [cyberbotics] 06/02/2020 08:54:40
You're welcome

##### Samir Hosny Mohamed 06/02/2020 08:52:24
Thanks `@David Mansolino`

##### David Mansolino [cyberbotics] 06/02/2020 07:06:28
then you should probably make sure that the path is correct relatively to your controller directory.

##### taeyoung 06/02/2020 06:37:45
I'm using relative path to the supervisor

##### David Mansolino [cyberbotics] 06/02/2020 06:19:03
> Hi, is it possible to set a relative path pointing to a texture in a webots example project (So using a part from an existing project and keeping the texture path relative to that)

`@Doc` this is unfortunately not porrible, but we are working on it (see [https://github.com/cyberbotics/webots/issues/1638](https://github.com/cyberbotics/webots/issues/1638)).


> hi i am tryimg to simulate a cleaning robot with irobot's create robot but i couldnt add dust on the floor and i dont know how to clean it with the robot in simulation can anyone help? Thanks in advance

`@cakar` the simplest solution is to use a Display device for the floor, here is an example: [https://cyberbotics.com/doc/guide/create#samples](https://cyberbotics.com/doc/guide/create#samples)


> Hi, I'm trying to load some png images to display by wb\_display\_image\_load.

> With some images, webots says "image\_path" is unreadable.

> But when I check the properties of that image, access property is 'read and write'.

`@taeyoung` have you checked that the path is correct? Are you using absolute or relative path?


> Hello all, can anybody help to make connection between webots and qtcreator ide

`@furkann` you might find some usefull information here: [https://cyberbotics.com/doc/guide/using-your-ide](https://cyberbotics.com/doc/guide/using-your-ide)


> when i first installed webots I had no issue seeing the 3d view, it was after i had to uninstall and reinstall that the 3d view does not show

`@missflo` which version of Webots are you using? And with which OS?


> Is it possible to rotate a hingejoint based on physics instead of a motor rotation?

`@Rodeknopje` yes, if you don't but any motor, the joint will be free and move according to physical constraints.


> I'm trying to use TouchSensor for the foot of the robot but i can't  get the sensor in the code, can you help me ? ðŸ™‚

`@Samir Hosny Mohamed` touch sensors works exactly the same way as the other sensors, you can get a handle to the sensor using it$s name.


> Hi! Webots noob here, could someone tell me how to add an odor plume in the simulation and make the robot follow it? (Kinda trying to recreate this : [https://en.wikibooks.org/wiki/Webots\_Odor\_Simulation](https://en.wikibooks.org/wiki/Webots_Odor_Simulation))

`@Ans` you might find some interesting informations here: [https://stackoverflow.com/questions/61391562/odour-plume-environment-in-webots](https://stackoverflow.com/questions/61391562/odour-plume-environment-in-webots)


> someone know how to change names in the scene tree?

`@Iguins` you can't change the 'Solid' part as it show the type of node, but you can change the 'DEF' name from the node editor just below the scene-tree


> Hallo, how to install numpy for python(snap)

`@kwy` if you need to install numpy, you should either use another package of Webots than snap either use external controller: [https://cyberbotics.com/doc/guide/running-extern-robot-controllers](https://cyberbotics.com/doc/guide/running-extern-robot-controllers)


> What're the available values for the contactMaterial attr. in the Floor node ?

`@Samir Hosny Mohamed` you can define the name of the contact material from the 'Floor' node, then in the WorldInfo.contactProperties you can define the properties.

##### Samir Hosny Mohamed 06/01/2020 18:39:56
`@Jesusmd` My problem has been solved after reopen the world, Thanks

##### Doc 06/01/2020 12:10:54
Hi, is it possible to set a relative path pointing to a texture in a webots example project (So using a part from an existing project and keeping the texture path relative to that)

##### cakar 06/01/2020 06:33:31
hi i am tryimg to simulate a cleaning robot with irobot's create robot but i couldnt add dust on the floor and i dont know how to clean it with the robot in simulation can anyone help? Thanks in advance

##### taeyoung 06/01/2020 04:43:13
Hi, I'm trying to load some png images to display by wb\_display\_image\_load.

With some images, webots says "image\_path" is unreadable.

But when I check the properties of that image, access property is 'read and write'.

##### furkann 05/31/2020 23:53:22
Hello all, can anybody help to make connection between webots and qtcreator ide

##### missflo 05/31/2020 20:04:22
when i first installed webots I had no issue seeing the 3d view, it was after i had to uninstall and reinstall that the 3d view does not show


i have tried restoring the layout but no luck.


hi - just wondering how to it's possible that after reinstalling webots I am no longer able to see the 3d view when starting with the first tutorial #newbie

##### Samir Hosny Mohamed 05/31/2020 16:34:48
Ok i will try that

##### Jesusmd 05/31/2020 16:14:27
`@Samir Hosny Mohamed` ok I see, I suggest you to follow node chart, I have used the touch sensor but in a different way, also I woul try some trick using transform an put in the children the sensor, I am just figuring out by your warning outcume, [https://cyberbotics.com/doc/reference/node-chart](https://cyberbotics.com/doc/reference/node-chart)

##### Samir Hosny Mohamed 05/31/2020 15:55:59
Yes, it works if i put the sensor directly under the robot node, but when i put it under nested node (foot node) it fails to get the sensor! And i want the sensor follows the foot

##### Jesusmd 05/31/2020 15:50:08
Hi `@Samir Hosny Mohamed`  have you been checked if the sensor class/object was created correctly?

##### Rodeknopje 05/31/2020 13:53:55
Is it possible to rotate a hingejoint based on physics instead of a motor rotation?

##### Samir Hosny Mohamed 05/31/2020 05:49:32
I'm trying to use TouchSensor for the foot of the robot but i can't  get the sensor in the code, can you help me ? ðŸ™‚
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/716528776078426122/unknown.png)
%end

##### Iguins 05/31/2020 00:06:02
Thank you Manuel but I could not do it from there either

##### dralorg 05/30/2020 21:50:22
> someone know how to change names in the scene tree?

`@Iguins` Maybe you can edit the world file directly and change it there. I'm not sure if/how to do that from the GUI.


> Hallo, how to install numpy for python(snap)

`@kwy` Be sure that you pip install Numpy using the Python executable that Webots uses. To do so, call `path_to_python/python -m pip install numpy`

##### Ans 05/30/2020 20:38:57
Hi! Webots noob here, could someone tell me how to add an odor plume in the simulation and make the robot follow it? (Kinda trying to recreate this : [https://en.wikibooks.org/wiki/Webots\_Odor\_Simulation](https://en.wikibooks.org/wiki/Webots_Odor_Simulation))

##### Iguins 05/30/2020 18:46:47
I saw this in the tutorial n2 but I just got those 5 named as "solid"


someone know how to change names in the scene tree?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/716361856817692833/unknown.png)
%end


hi

##### Simon Steinmann [Moderator] 05/30/2020 11:00:12
dont know how it works with snap, but if you use apt you do this:

sudo apt install python-pip

pip install numpy


the simplest way to install python packages is to use 'pip'

##### kwy 05/30/2020 05:38:45
Hallo, how to install numpy for python(snap)

##### Samir Hosny Mohamed 05/29/2020 22:28:25
What're the available values for the contactMaterial attr. in the Floor node ?

##### dralorg 05/29/2020 16:16:08
> `@dralorg` the center of mass of the robot is not perfectly center (mainly because of the arm), which can cause slight differences like this.

`@David Mansolino` I've tried putting a WoodenBox on top of the Youbot, but I'm getting the same velocities no matter the mass of the box. May I be missing something?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/715961687420960878/unknown.png)
%end


> `@dralorg` the center of mass of the robot is not perfectly center (mainly because of the arm), which can cause slight differences like this.

`@David Mansolino` Thank you!

##### David Mansolino [cyberbotics] 05/29/2020 13:18:08
In particular these function can be used to import new nodes: 

[https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_field\_import\_mf\_node](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_field_import_mf_node)


Oh ok, in that case, to add robot from controller, it is quite simple you just have to use the supervisor API: 

  - [https://cyberbotics.com/doc/guide/supervisor-programming](https://cyberbotics.com/doc/guide/supervisor-programming)

  - [https://cyberbotics.com/doc/reference/supervisor](https://cyberbotics.com/doc/reference/supervisor)

##### dimple.bhuta 05/29/2020 13:05:28
Hi David thank you for your reply. I am trying to replace sumo controller with my own so i can do without sumo. However for my project we don't have an pre estimate of how many cars we would like in the simulation. Therefore I was trying to figure out how to add/remove robots via code and it wont be possbile to specify or use vehicles that are already present as the number of vehicles would vary per simulation

##### David Mansolino [cyberbotics] 05/29/2020 13:01:21
Hi, the sumo supervisor is using a simlified version of the vehicle inseat of the the usueal one to make the simulation run smoother: [https://cyberbotics.com/doc/automobile/car#simple-vehicles](https://cyberbotics.com/doc/automobile/car#simple-vehicles)



Instead of modifying the sumo controller, you should rather already add the vehicle with the correct controller in your simulation and set the appropriate DEF name so that the sumo supervisor will use it when needed: [https://cyberbotics.com/doc/automobile/sumo-interface#use-vehicles-already-present-in-the-world](https://cyberbotics.com/doc/automobile/sumo-interface#use-vehicles-already-present-in-the-world)

##### dimple.bhuta 05/29/2020 12:57:57
Hello, 

Using the sumo\_supervisor example in /usr/local/webots/projects/default/controllers, I am able to generate and delete a vehicle (bmwx) in webots simulation using traci controller. 

However when I try to specify ros\_automobile as my controller instead of sumo using the following modification in Objects.py file 



    defName = "EGO\_VEHICLE%d" % index

        vehicleString = "DEF " + defName + " " + model + " {\n"

        #vehicleString += "  translation 10000 0.5 0\n"

        vehicleString += "  translation -3.16697 0.317 -173.705\n"

        vehicleString += "  controller \"ros\_automobile\"\n"

        vehicleString += "  sensorsSlotCenter [\n"

        vehicleString += "    GPS {\n"

        vehicleString += "    }\n"

        vehicleString += "   ]\n"



I get the following error ([ros\_automobile] Error: Only nodes based on the 'Car' node can used the car library.)

I will highly appreciate any guidance that you guys can provide. Thank you for your time.

##### David Mansolino [cyberbotics] 05/29/2020 12:08:42
You can re-open it from the 'Overlays' menu.

##### taeyoung 05/29/2020 11:39:19
Hi, I'm trying to use display.

The first time i open the world file, I turned off a display.

How can I make it visible again?

##### David Mansolino [cyberbotics] 05/29/2020 05:08:37
> Hi, when I command the Youbot's  top left and bottom right wheels to run at the same angular speed, the final robot speed isn't pointing at 45 degrees CCW (exactly to the top right), it has a different angle, around 55 degrees CCW. May this be because of the friction of the wheels? Otherwise, why may that be?

`@dralorg` the center of mass of the robot is not perfectly center (mainly because of the arm), which can cause slight differences like this.


> I'm using AMD Radeon 8670M GPU. How to maximise my performance in this hardware?

`@Rajesh Roy` if you want to maximise performance you should reduce the OpenGL features enabled, you can do this from the preferences: [https://cyberbotics.com/doc/guide/preferences#opengl](https://cyberbotics.com/doc/guide/preferences#opengl)

Here are also a few tips about improving performance: [https://cyberbotics.com/doc/guide/speed-performance](https://cyberbotics.com/doc/guide/speed-performance)


> it worked when i saved the world and restart the program, THANKS ALOT

`@Samir Hosny Mohamed` You're welcome

##### dralorg 05/29/2020 04:08:57
Hi, when I command the Youbot's  top left and bottom right wheels to run at the same angular speed, the final robot speed isn't pointing at 45 degrees CCW (exactly to the top right), it has a different angle, around 55 degrees CCW. May this be because of the friction of the wheels? Otherwise, why may that be?

##### Rajesh Roy 05/29/2020 03:32:13
I'm using AMD Radeon 8670M GPU. How to maximise my performance in this hardware?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/715769442260222002/unknown.png)
%end

##### Samir Hosny Mohamed 05/28/2020 15:41:03
it worked when i saved the world and restart the program, THANKS ALOT

##### David Mansolino [cyberbotics] 05/28/2020 15:35:15
You should probably check (print) the value of `robot_node`, `trans_field` and `values`:

```Python
from controller import Supervisor
TIME_STEP = 32
supervisor = Supervisor()
# do this once only
robot_node = supervisor.getFromDef("MY_ROBOT")
print(robot_node)
supervisor.step(TIME_STEP)
trans_field = robot_node.getField("translation")
print(trans_field)
while supervisor.step(TIME_STEP) != -1:
    # this is done repeatedly
    values = trans_field.getSFVec3f()
    print(values)
    print("MY_ROBOT is at position: %g %g %g" % (values[0], values[1], values[2]))
```

##### Samir Hosny Mohamed 05/28/2020 15:33:47
yes i changed it


it crashes when i try to run the simulation

##### David Mansolino [cyberbotics] 05/28/2020 15:32:43
Do you know where it crashes?

Did you define a 'MY\_ROBOT' DEF ?

##### Samir Hosny Mohamed 05/28/2020 15:28:23
from controller import Supervisor

TIME\_STEP = 32

supervisor = Supervisor()

\# do this once only

robot\_node = supervisor.getFromDef("MY\_ROBOT")

trans\_field = robot\_node.getField("translation")

while supervisor.step(TIME\_STEP) != -1:

    # this is done repeatedly

    values = trans\_field.getSFVec3f()

    print("MY\_ROBOT is at position: %g %g %g" % (values[0], values[1], values[2]))

##### Stefania Pedrazzi [cyberbotics] 05/28/2020 15:14:41
Hi, which is the "example code of the supervisor" that you are running?

##### Samir Hosny Mohamed 05/28/2020 15:04:57
Hello, i have issue with the supervisor mode.

I'm using Robotis Op3, When i try the example code of the supervisor the program becomes not responding!

Any suggested solutions ?

Thanks in advance



Edit: On windows 10

##### David Mansolino [cyberbotics] 05/28/2020 14:57:11
You're welcome

##### Rhino 05/28/2020 14:57:04
awesome thank you ðŸ™‚

##### David Mansolino [cyberbotics] 05/28/2020 14:56:55
yes exactly

##### Rhino 05/28/2020 14:56:36
and just to confirm the ros controller you are refering to is the one that is located at `/usr/local/webots/projects/default/controllers/ros/Ros.cpp` this location correct?


I was just getting feel of the webots


future functionality of the robot will be done through ros and currently my robots have basic functionlity

##### David Mansolino [cyberbotics] 05/28/2020 14:54:53
But if you are not using ros to control the robot, why do you want to integrate ros ?


You can simply add an empty 'Robot' node and set the controller of this 'empty' robot to ros, this wqy, this robot can do the bridge between ros and your other robots

##### Rhino 05/28/2020 14:53:15
thank you `@David Mansolino`, I am using ROS1 infact. all my robots in the world already have set controller with set functionality. if i change one of their controller to ros how do i get the said robot's functionality back?

##### David Mansolino [cyberbotics] 05/28/2020 05:20:59
> Hello, i have existing simulation and i need to integrate ros into it. I am new to ros and I am not sure how ros works with webots. How can i move my simulation files to my catkin workspace or what is the effective way to implement ros into existing simulation? thank you in advance.

`@Rhino` are you using ROS1 or ROS2 ?

IF you are using ros1, you probably don't need to move anything, you simply need to assign the 'ros' controller to on of the robot of your simulation world.

##### Iguins 05/28/2020 02:42:00
no not exactly ðŸ˜¦

##### Clara Cardoso Ferreira 05/28/2020 02:22:36
> I was thinking to use a heightmap as an alternative using this [https://www.cyberbotics.com/doc/reference/elevationgrid](https://www.cyberbotics.com/doc/reference/elevationgrid)

`@Iguins` same but those instructions are not for voxel environment right?

##### AngelAyala 05/28/2020 01:53:30
Hi, anyone has configured VS code to execute python scripts for webots?

##### Iguins 05/27/2020 21:33:39
but I am still learning the basics of webots


I was thinking to use a heightmap as an alternative using this [https://www.cyberbotics.com/doc/reference/elevationgrid](https://www.cyberbotics.com/doc/reference/elevationgrid)

##### Clara Cardoso Ferreira 05/27/2020 21:28:56
`@Iguins` I am looking for that too

I have a similar question posted in the development section

##### Rhino 05/27/2020 19:38:35
Hello, i have existing simulation and i need to integrate ros into it. I am new to ros and I am not sure how ros works with webots. How can i move my simulation files to my catkin workspace or what is the effective way to implement ros into existing simulation? thank you in advance.

##### Iguins 05/27/2020 18:18:00
Hellow, I was wondering if webots is able to work with a voxel environment. Is there any documentation about it?

##### Olivier Michel [cyberbotics] 05/27/2020 16:03:54
I would try the tarball (tar.bz2) version.

##### Rajesh Roy 05/27/2020 16:02:07
Hello, I want to download a pre-release version of Webots for my Jetson Nano GPU which is sporting Linux4Tegra

Linux OS  which is actually a version of Ubuntu 18.04 that's designed to run on Nvidia's hardware.

Can you find me appropriate download file for R2020b version?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/715233383923318865/unknown.png)
%end

##### David Mansolino [cyberbotics] 05/27/2020 13:55:26
You're welcome

##### lojik 05/27/2020 13:55:11
Oooh nice, I was expected to have more than only vrml97 to import models. Thank you ðŸ‘Œ

##### David Mansolino [cyberbotics] 05/27/2020 13:54:11
Currently, Webots support VRML97 importation, but the next version of Webots (to be released soon, beta version already available here: [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)) will support many more formats (see 'Import 3D Model...'): [https://cyberbotics.com/doc/guide/the-user-interface?version=develop#file-menu](https://cyberbotics.com/doc/guide/the-user-interface?version=develop#file-menu)

##### lojik 05/27/2020 13:50:36
What is the best format to import a custom shape?


No problem, I was wondering how to import the shape mainly. The physics part will be set in webots as I do usually.

##### David Mansolino [cyberbotics] 05/27/2020 13:48:35
Ok, then from Fusion or Blender you can import the shape in Webots (from Fusion you might export to an intermediary format), bu note that this will work only for the shape, you ill stil have to set the joint, physics, bounding objects, etc. in Webots afterward

##### lojik 05/27/2020 13:47:05
I did not begin it right now. But I plan to make it with fusion360 or blender.

##### David Mansolino [cyberbotics] 05/27/2020 13:46:17
What is the current format of your model?

##### lojik 05/27/2020 13:45:19
Hello everyone, what is the best way to import custom model in webots ?



I would like to create rounded terrain like in a skatepark.

##### David Mansolino [cyberbotics] 05/27/2020 12:20:31
You're welcome

##### AngelAyala 05/27/2020 12:16:47
thanks

##### David Mansolino [cyberbotics] 05/27/2020 12:16:27
(and simpler)


Hi, if you know the DEF it is better to use getFromDef.

##### AngelAyala 05/27/2020 12:15:40
And control another robot node


I would like to change the initial position of a node for the simulation


Hi, it is recommended to do a node search from supervisor.getRoot() or it is better use the super.getFromDef(node\_def)  for python?


> After some thought about the question I was wondering earlier:

> If I want to collect a bunch of data (time it took for simulation to run),  would it be possible to set an initial condition pattern for the robot to follow so that every time the robot recognizes it got stuck it could restart the simulation from the beginning with new initial conditions?

`@Clara Cardoso Ferreira` the Supervisor node can help you to reset the simulation [https://www.cyberbotics.com/doc/reference/supervisor](https://www.cyberbotics.com/doc/reference/supervisor)

##### Rajesh Roy 05/27/2020 03:34:14
> `@Rajesh Roy` Try this one:

> [https://robotbenchmark.net/](https://robotbenchmark.net/)

`@Darko LukiÄ‡` Thanks mannn!!! This is it.

##### Clara Cardoso Ferreira 05/27/2020 03:27:49
I would do that with HOTS algorithm after I get RGB images. 



After some thought about the question I was wondering earlier:

If I want to collect a bunch of data (time it took for simulation to run),  would it be possible to set an initial condition pattern for the robot to follow so that every time the robot recognizes it got stuck it could restart the simulation from the beginning with new initial conditions?


Thanks `@AngelAyala` . I talked to someone and found out that I could translate RGB camera values into neuromorphic data (event based)

##### AngelAyala 05/27/2020 00:49:29
`@Clara Cardoso Ferreira`  I think you must program the sensor using a camera, I'm new eith webots, but I does not have seen that kind of sensor

##### Clara Cardoso Ferreira 05/27/2020 00:01:31
?


I am thinking about doing an ML CV project in Webots and I was wondering if it is possible. Here is the background: I want to detect shadows of hills and explore the terrain. I would run the simulation until the robot gets stuck on the hill. How would I keep track of how long it took for the robot to get stuck if I just want it to record a lot of data automatically?

Also, are neuromorphic sensors available in Webots/

##### AngelAyala 05/26/2020 23:51:26
Hi, anyone knows why when I capture the camera node image, the simulation go slow down.

I'm using python, with the camera.getImageArray(), but when run the script without the method, runs okHi, anyone knows why when I capture the camera node image, the simulation go slow down.

I'm using python, with the camera.getImageArray(), but when run the script without the method, runs ok

##### David Mansolino [cyberbotics] 05/26/2020 11:25:24
You might use the Supervisor API: [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_simulation\_set\_mode](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_simulation_set_mode)

##### elkelkmuh 05/26/2020 11:24:30
@David Mansolino  how can add stop

##### lojik 05/26/2020 10:25:51
But it will not completely stop the simulation. It will stop you controller and the behavior of the simulation is unpredictable when it stop itself.


You can have a variable like elapsedTime. You increment it with timestep for each basictimestep. And having a main while loop like :



while controller.step() != -1 and elapsedTime <= 2000:

 ...

##### elkelkmuh 05/26/2020 08:51:48
> then stop it after two seconds...

`@David Mansolino`  how?

##### David Mansolino [cyberbotics] 05/26/2020 08:40:24
then stop it after two seconds...

##### elkelkmuh 05/26/2020 08:39:29
No, it slow work. I dont want it.  want to see the result of my controller for just two seconds. For example the robot walks continiously. I want to see jor for just two seconds. I want to work for my controller to two seconds.

##### David Mansolino [cyberbotics] 05/26/2020 08:29:31
something like this yes

##### elkelkmuh 05/26/2020 08:29:08
`@David Mansolino` It did not work.  Should it be like this while controller.step(1000) != -1:

      controller.main\_controller();

##### lojik 05/26/2020 08:17:57
Ok ok, thank you ðŸ‘Œ

##### David Mansolino [cyberbotics] 05/26/2020 08:15:16
You might use this factor and the torque feedback to compute it, but it will probably be only an approximation.

##### lojik 05/26/2020 08:13:18
Sadly .. but I expected this answer after reading the doc. There is no way to deduce current/voltage from consumptionFactor?

##### David Mansolino [cyberbotics] 05/26/2020 08:11:23
Hi `@lojik` current feedback is unfortunately not available yet in Webots. You can only get directly the torque and position feedback.

##### lojik 05/26/2020 08:10:16
Hello everyone,



Is there a way to measure motor consumption on webots? I would like to compute the conversion between torque and speed in my controller and need current and voltage consumption to do that.



Thank you

##### David Mansolino [cyberbotics] 05/26/2020 08:07:54
then you just have to call the controller.step(1000) instead

##### elkelkmuh 05/26/2020 08:04:13
I want to work my controller just for the seconds such as 1s ,2s, and 3s. I dont wont infinitive loop How can I change the while loop comand

##### David Mansolino [cyberbotics] 05/26/2020 07:56:21
I am sorry but your question is not clear..

##### elkelkmuh 05/26/2020 07:42:04
Hi `@David Mansolino`  how can I work to robot two second. 

This is inifinitive loop while controller.step(controller.timeStep) != -1:



How can I change 

 while controller.step(controller.timeStep) != -1:

Which command I use instead of it?

##### David Mansolino [cyberbotics] 05/26/2020 04:25:22
`@Fikrul Alamsyah` it does indeed represent the sharp areas.

##### Fikrul Alamsyah 05/25/2020 23:23:05
Hello, I tried to make a stereo camera manually with two cameras and simulate it on a robot. I want to ask, does the focal length on the webot really represent the distance between the center of the lens and its focus? or only represent sharp areas of the result image.

##### Darko LukiÄ‡ [cyberbotics] 05/25/2020 19:47:39
`@Rajesh Roy` Try this one:

[https://robotbenchmark.net/](https://robotbenchmark.net/)

##### Rajesh Roy 05/25/2020 19:44:17
Okay, I ping this one more time.

Is there any hands on programming tutorial with Webots? A long ago I visited a site which had webots player and used to allow to code. Anyone can help me with the link?

##### David Mansolino [cyberbotics] 05/25/2020 19:30:02
`@elkelkmuh` and `@Benjovengo` you're welcome!

##### Benjovengo 05/25/2020 16:01:53
`@David Mansolino` Thank you very much!!

##### elkelkmuh 05/25/2020 15:00:02
`@David Mansolino`  thank you

##### iagsav 05/25/2020 09:39:52
> `@iagsav` As described in the Radar documentation ([https://www.cyberbotics.com/doc/reference/radar](https://www.cyberbotics.com/doc/reference/radar)) you should set the `radarCrossSection` field of your robot/object (or any Solid nodes that it is part of it) to a value greater than 0 in order to let the radar device detect it. In the `radar.wbt` simulation this is set for the `RADAR_TARGET` Solid in MyBot2, MyBot3, and MyBot4.

`@Stefania Pedrazzi` Thank you!

##### David Mansolino [cyberbotics] 05/25/2020 09:37:01
ok in that case you should use the same for getting the foot node handle:

```
FSRNode = self.getFromDef('LFsrFL')  # the 'LFsrFL' DEF should be defined
postion = FSRNode.getPosition()
```

##### elkelkmuh 05/25/2020 09:36:17
it is robot    

robot=self.getFromDef('ROBOT1')

##### David Mansolino [cyberbotics] 05/25/2020 09:32:34
But what is your 'robot' variable? Is it the supervisor or is it a handle to the robot node?

##### elkelkmuh 05/25/2020 09:31:42

%figure
![IMG-20200525-WA0001.jpg](https://cdn.discordapp.com/attachments/565154703139405824/714410358579920906/IMG-20200525-WA0001.jpg)
%end


`@David Mansolino`  [Supervisor]   File "Supervisor.py", line 23, in initialization

[Supervisor]     FSRNode = robot.getFromDef('LFsrFL') 

[Supervisor] AttributeError: 'Node' object has no attribute 'getFromDef'

WARNING: 'Supervisor' controller exited with status: 1.

##### David Mansolino [cyberbotics] 05/25/2020 09:06:44
you can't use `FSRField =robot.getField('TouchSensor "LFsrFL"')`, you should use the getFromDef function:

Somthing such as:

```
FSRNode = robot.getFromDef('LFsrFL')  # the 'LFsrFL' DEF should be defined
postion = FSRNode.getPosition()
```

##### elkelkmuh 05/25/2020 08:49:09
`@David Mansolino` Can I find the position of left and right foot from FSRs?

I tried the "  FSRField =robot.getField('TouchSensor "LFsrFL"')

    FSRField1 =FSRField.getField('translation')  "  command, but it didn't work. how can I do it.

##### Estelle 05/25/2020 08:33:31
Ok, thank you~

##### David Mansolino [cyberbotics] 05/25/2020 08:16:47
Maybe it has some problematic dependencies, you should check which dependencies the controller has amd compare the installed version of these dependencies between your and his computer.

##### Estelle 05/25/2020 08:15:05
`@David Mansolino` Sorry, it still doesn't work. Additionally, what makes me confused is that all other contollers can run well on my friend's computer. Only this one report an error.ðŸ˜­

##### David Mansolino [cyberbotics] 05/25/2020 07:48:18
You're welcome

##### Estelle 05/25/2020 07:48:04
> `@Estelle` can you try doing a 'make clean' before recompiling it?

`@David Mansolino` Thanks, I'll have a try.

##### David Mansolino [cyberbotics] 05/25/2020 07:05:01
`@elkelkmuh` exactly like you are doing with the robot, you have to get the DEF name of a node in the foot slot (such as the FSR for example).


> anyone know python example code how to read distance sensor on e-puck?

`@PowerYdRa` here are some examples: [https://cyberbotics.com/doc/guide/tutorial-4-more-about-controllers?tab-language=python](https://cyberbotics.com/doc/guide/tutorial-4-more-about-controllers?tab-language=python)


> The controller can run successfully on my computer, but in my classmate's computer, it will generate such error and still report this error when it has been recompiled, I want to ask how could I solve this problem?

`@Estelle` can you try doing a 'make clean' before recompiling it?

##### elkelkmuh 05/25/2020 06:42:36
@David Mansolino  How can I find the position of the foot? I can find the position of the robot with the supervisor api.  The robot has fsr on its feet.

##### David Mansolino [cyberbotics] 05/25/2020 06:41:42
> There used to be some interactive programming guide to Webots right? Some website which uses to let you program under webots player. Can anyone find me the link? I tried.

`@Rajesh Roy` you are probably refeering to Robobenchmark: [https://robotbenchmark.net/](https://robotbenchmark.net/)


> Hi everyone, I'm doing project related to steering controllers for Steer-By-Wire system, I'm not able to edit the steering system of Tesla3 or any other model given. Can anyone suggest how can I approach this? like I want to make changes in the steering system of the car.

`@hrsh12` You can either convert your car node to base node (right click on the node in the scene-tree) and then you will be able to change the structure, either change directly the Car.proto file.


`@benjovengo` instead of a light sensors, you probably want to use a distance-sensor (which can somehow sense colors too), here is an example of line following: [https://cyberbotics.com/doc/guide/epuck#e-puck\_line-wbt](https://cyberbotics.com/doc/guide/epuck#e-puck_line-wbt)


> there seems be a bug from the Lidar Node, and how to fix it ? Thanks !

`@kwy` it looks like your robot slightly tilts itself (maybe when braking for example) and therfore the lidar is tilted too and therefore it see the ground.

##### Stefania Pedrazzi [cyberbotics] 05/25/2020 06:27:47
> when i try to use the saveImage method on the camera my image displays weird vertical lines in the middle, is this normal

`@Rodeknopje` The format of the saved camera image is BGRA. do you also use this format to open the saved camera image?


> Hi! file radar.wbt shows an excellent example of using radar to detect a target. But when I add an e-puck robot to the scene, the radar "doesn't see" it. How can I make a robot or object visible to radar?

`@iagsav` As described in the Radar documentation ([https://www.cyberbotics.com/doc/reference/radar](https://www.cyberbotics.com/doc/reference/radar)) you should set the `radarCrossSection` field of your robot/object (or any Solid nodes that it is part of it) to a value greater than 0 in order to let the radar device detect it. In the `radar.wbt` simulation this is set for the `RADAR_TARGET` Solid in MyBot2, MyBot3, and MyBot4.

##### Rodeknopje 05/24/2020 21:29:12
`self.camera.saveImage(self.imagePath,20)`


when i try to use the saveImage method on the camera my image displays weird vertical lines in the middle, is this normal
%figure
![image.jpg](https://cdn.discordapp.com/attachments/565154703139405824/714228142419607583/image.jpg)
%end

##### iagsav 05/23/2020 16:59:25
Hi! file radar.wbt shows an excellent example of using radar to detect a target. But when I add an e-puck robot to the scene, the radar "doesn't see" it. How can I make a robot or object visible to radar?

##### PowerYdRa 05/23/2020 15:54:42
ok thanks, will be back here if any issue happen ðŸ˜„

##### kwy 05/23/2020 14:37:59
and dot forget to enable it before read it..for i in range(NB\_DIST\_SENS):

        ps[i].enable(TIME\_STEP)


and set initial sensor\_values = [0, 0, 0, 0, 0, 0, 0, 0]


`@PowerYdRa`


for \_ in range(NB\_DIST\_SENS):

        sensor\_values[\_] = ps[\_].getValue()


\# distance sensors

ps = []

textPS = ["ps0", "ps1", "ps2", "ps3", "ps4", "ps5", "ps6", "ps7"]

for it in range(NB\_DIST\_SENS):

    ps.append(robot.getDistanceSensor(textPS[it]))


Hello,  can the value Y of rotation keep being 1 instead of -1 ?

##### PowerYdRa 05/23/2020 14:15:07
anyone know python example code how to read distance sensor on e-puck?

##### Estelle 05/23/2020 10:09:18
The controller can run successfully on my computer, but in my classmate's computer, it will generate such error and still report this error when it has been recompiled, I want to ask how could I solve this problem?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/713695046486196304/unknown.png)
%end

##### Rajesh Roy 05/23/2020 07:47:42
There used to be some interactive programming guide to Webots right? Some website which uses to let you program under webots player. Can anyone find me the link? I tried.

##### hrsh12 05/22/2020 21:00:47
Hi everyone, I'm doing project related to steering controllers for Steer-By-Wire system, I'm not able to edit the steering system of Tesla3 or any other model given. Can anyone suggest how can I approach this? like I want to make changes in the steering system of the car.

##### benjovengo 05/22/2020 20:33:02
What am I doing wrong?


When I read the values of the sensor, it gives me straight 1000 (independently from what is on the floor).


Hello, guys!

I'm having a problem with Light Sensor. I am trying to make a line following robot. I followed the Four Wheels Robot and made my platform. Then I added a LightSensor on the bottom of the chassis, with x-axis pointing down.

##### Troy 05/22/2020 15:22:32
ok

##### Olivier Michel [cyberbotics] 05/22/2020 15:22:18
You should debug your controller by putting printf with the time\_step value performed.

##### Troy 05/22/2020 15:19:41
I wrote that     while (wb\_robot\_step(time\_step) != -1) {   

}

##### Olivier Michel [cyberbotics] 05/22/2020 15:18:49
It probably means that your controller is not calling wb\_robot\_step() with a strictly positive value.

##### Troy 05/22/2020 15:17:13
`@Olivier Michel`


I clicked on the record button and ran the simulation, but the simulation didn't run



%figure
![simulation_didnt_run.png](https://cdn.discordapp.com/attachments/565154703139405824/713410023027507250/simulation_didnt_run.png)
%end


when I added the display, and then tried to record a video, when is the simulation doesn't work


Sorry It's me again...


It works! I just need to adjust a little bit. Thank you!


ok

##### Olivier Michel [cyberbotics] 05/22/2020 14:59:52
E.g., draw a black filled rectangle.


It looks like the text gets overwritten. You should clear the display before writing new text.

##### Troy 05/22/2020 14:58:04
It's me again...why the numbers are still vague...
%figure
![display.png](https://cdn.discordapp.com/attachments/565154703139405824/713405327487533136/display.png)
%end


finally! Thank you so much! It's just under display node

##### Olivier Michel [cyberbotics] 05/22/2020 14:36:45
It not from the controller, but in the model (world file or proto). You should set Display.width and Display.height.

##### Troy 05/22/2020 14:35:55
`@Olivier Michel` Hi Olivier! Sorry to bother you again. Could you please tell me how to increase the display resolution? I didn't find any functions in manual.

##### Quantumfox 05/22/2020 12:31:03
thx for helping it works now

##### Olivier Michel [cyberbotics] 05/22/2020 11:50:17
[https://stackoverflow.com/questions/45355277/how-can-i-decompress-an-archive-file-having-tar-zst](https://stackoverflow.com/questions/45355277/how-can-i-decompress-an-archive-file-having-tar-zst)

##### Quantumfox 05/22/2020 11:49:02
sorry for more question but idk how to open that tar.zst file


alright

##### Olivier Michel [cyberbotics] 05/22/2020 11:38:16
[http://repo.msys2.org/mingw/x86\_64/mingw-w64-x86\_64-opencv-4.3.0-2-any.pkg.tar.zst](http://repo.msys2.org/mingw/x86_64/mingw-w64-x86_64-opencv-4.3.0-2-any.pkg.tar.zst)


So, you should download the same version from here: [http://repo.msys2.org/mingw/x86\_64/](http://repo.msys2.org/mingw/x86_64/)

##### Quantumfox 05/22/2020 11:34:56
yeah i think it does

##### Olivier Michel [cyberbotics] 05/22/2020 11:34:51
Maybe the package misses the gcc/msys2 lib files?


In MSYS2, they include these: [https://packages.msys2.org/package/mingw-w64-x86\_64-opencv](https://packages.msys2.org/package/mingw-w64-x86_64-opencv)

##### Quantumfox 05/22/2020 11:34:17
i used the installer from the opencv website

##### Olivier Michel [cyberbotics] 05/22/2020 11:33:38
How did you installed / compiled opencv?


and also libopencv\_core.dll.a to link with gcc


you should have libopencv\_core430.dll somewhere in your opencv installation.

##### Quantumfox 05/22/2020 11:32:09
but the file doesnt exist into the opencv


yes i know

##### Olivier Michel [cyberbotics] 05/22/2020 11:26:23
The libraries path is indicated by the `LIBRARIES` variable of the Makefile...

##### Quantumfox 05/22/2020 10:59:32
i cant find the files the make file wants me to have


i now get the following error


```C:/Users/username/AppData/Local/Programs/Webots/msys64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/9.2.0/../../../../x86_64-w64-mingw32/bin/ld.exe: cannot find -lopencv_core430
C:/Users/username/AppData/Local/Programs/Webots/msys64/mingw64/bin/../lib/gcc/x86\_64-w64-mingw32/9.2.0/../../../../x86\_64-w64-mingw32/bin/ld.exe: cannot find -lopencv\_imgproc430
```


oke i will thx

##### Olivier Michel [cyberbotics] 05/22/2020 10:29:53
Check the INCLUDE variable from the Makefile (it should point to a folder with the necessary include files).

##### Quantumfox 05/22/2020 10:28:17
vision.cpp:29:10: fatal error: opencv2/core/core.hpp: No such file or directory

   29 | #include <opencv2/core/core.hpp>


`D:\username\Documents\opencv\build\x64\vc14\`


nope i changes the path i think that part works now

##### Olivier Michel [cyberbotics] 05/22/2020 10:27:37
(or spaces)


Do you have non-ASCII characters in your username?

##### Quantumfox 05/22/2020 10:26:32
`D:/username/Documents/opencv`


yeah with c:/username  in front


`Documents/opencv/bin/opencv_version.exe: Command not found`

##### Olivier Michel [cyberbotics] 05/22/2020 10:25:54
It should be an absolute path.

##### Quantumfox 05/22/2020 10:25:39
`Documents/opencv`

##### Olivier Michel [cyberbotics] 05/22/2020 10:25:34
(there are twice bin)

##### Quantumfox 05/22/2020 10:25:34
changed it to this


yes i guess

##### Olivier Michel [cyberbotics] 05/22/2020 10:25:13
OK, it seems your path is wrong...


OK, Windows...


Are you on Windows, Linux or mac OS?

##### Quantumfox 05/22/2020 10:24:16
`Documents\opencv\build\bin/bin/opencv_version.exe: Command not found`


but i delete it so not eveeryone will see my path


yes i see but already did that

##### Olivier Michel [cyberbotics] 05/22/2020 10:22:40
You should define the OpenCV installation path in `OPENCV_DIR` environment variable.

##### Quantumfox 05/22/2020 10:22:18
```null :=
space := $(null) $(null)
WEBOTS_HOME_PATH=$(subst $(space),\ ,$(strip $(subst \,/,$(WEBOTS_HOME))))

include $(WEBOTS_HOME_PATH)/resources/Makefile.os.include

USE_C_API = true

# define the opencv installation directory if not set in an environment variable (tested with OpenCV 2.4)
#OPENCV_DIR =

ifneq ($(OPENCV_DIR),)
INCLUDE = -I$(OPENCV_DIR)/include/opencv4
ifeq ($(OSTYPE),windows)
OPENCV_VERSION := $(subst .,,$(shell $(OPENCV_DIR)/bin/opencv_version.exe))
LIBRARIES = -L$(OPENCV_DIR)/lib -lopencv_core$(OPENCV_VERSION) -lopencv_imgproc$(OPENCV_VERSION)
else
LIBRARIES = -L"$(OPENCV_DIR)/lib" -lopencv_core -lopencv_imgproc
endif
# Do not modify the following: this includes Webots global Makefile.include
include $(WEBOTS_HOME_PATH)/resources/Makefile.include
else
release debug profile clean:
    @+echo "# opencv not installed, skipping vision controller."
endif
```

##### Olivier Michel [cyberbotics] 05/22/2020 10:21:37
Look into the Makefile to understand why it doesn't find your installation of OpenCV.

##### Quantumfox 05/22/2020 10:21:19
ok but how to fix it

##### Olivier Michel [cyberbotics] 05/22/2020 10:20:55
That means it doesn't get compiled.

##### Quantumfox 05/22/2020 10:20:50
so i think he cant find opencv


thats the only error



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/713335485996597348/unknown.png)
%end

##### Olivier Michel [cyberbotics] 05/22/2020 10:19:45
What is the error message?

##### Quantumfox 05/22/2020 10:05:14
and a black cam


just the error

##### Olivier Michel [cyberbotics] 05/22/2020 10:04:49
And can you compile the example?

##### Quantumfox 05/22/2020 10:04:09
but the example uses c++


when i search tutorials it also shows up like this when using version 4


yes i guess the controller is using also version 4

\#include <opencv2/core/core.hpp>

\#include <opencv2/imgproc/imgproc.hpp>

##### Olivier Michel [cyberbotics] 05/22/2020 09:58:23
Are you sure your controller is using the same version of python as the above?

##### Quantumfox 05/22/2020 09:57:22

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/713329653972205630/unknown.png)
%end


i also put the opencv into path variables with 
```
D:\username\Documents\opencv\build\bin
```


so thats why its so strange


i also did that

##### Olivier Michel [cyberbotics] 05/22/2020 09:46:59
Yes, or by typing make in a MSYS2 console.

##### Quantumfox 05/22/2020 09:46:33
with the gearwheel

##### Olivier Michel [cyberbotics] 05/22/2020 09:46:23
Then you need to recompile the robot controller.

##### Quantumfox 05/22/2020 09:46:22
so idk why its not working


i already did that

##### Ork 05/22/2020 09:45:42
[http://letmegooglethat.com/?q=Opencv+install+windows+10](http://letmegooglethat.com/?q=Opencv+install+windows+10)

##### Quantumfox 05/22/2020 09:43:56
so can you help?


yes i did

##### Olivier Michel [cyberbotics] 05/22/2020 09:41:36
You simply need to install OpenCV (see the Makefile of the robot controller)

##### Quantumfox 05/22/2020 09:34:20

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/713323856609411072/unknown.png)
%end


hey guys i have a problem i get the following error when i try the vision demo

##### yash 05/22/2020 07:49:45
Okay , let me check it out . Thanks ðŸ‘

##### Olivier Michel [cyberbotics] 05/22/2020 07:45:27
For the robot window, a good js plotting library is vis.js for example ([https://visjs.org](https://visjs.org)).


Yes, that's another option.

##### yash 05/22/2020 07:34:31
Alright , then what about the display node .?

##### Olivier Michel [cyberbotics] 05/22/2020 07:32:41
Then, you will have to use a HTML canvas or a js library.


See example  in `WEBOTS_HOME/projects/samples/howto/worlds/custom_html_robot_window.wbt`.


`@yash`: you can use a robot window to plot your graph.


Then, you should debug your controller to understand where and why it crashes. You can use printf (and start Webots with the --stderr --stdout options) or use gdb: see [https://cyberbotics.com/doc/guide/debugging-c-cpp-controllers](https://cyberbotics.com/doc/guide/debugging-c-cpp-controllers)

##### yash 05/22/2020 07:26:59
I want to track the position of the robot in the environment. I am using odometry for this purpose. So I want to produce a graph of the robot path . How can this graph be plotted .?

##### kzooi 05/22/2020 07:18:51
`@Olivier Michel`: The controller.

##### Olivier Michel [cyberbotics] 05/22/2020 06:46:41
See for example: [https://cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes#compound-solid](https://cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes#compound-solid)


`@chungshan`: You should avoid using complex meshes as bounding objects as they generate instabilities due to their complexity. Instead, you should create a composite bounding object made up of a Group node containing several Transform nodes. Each Transform should contain a translation, rotation and a children which should be a simple Shape (like a Sphere, a Capsule, a Box or a Cylinder).


`@riddlefive`: Please share a sample source code on your GitHub issue showing the problem.


`@kzooi`: is it your controller crashing or Webots? If Webots, please post a bug report on GitHub with all the information allowing us to reproduce the crash.


`@Troy`: you should increase the resolution of your Display device (width and height).


`@G1020BS`: This world file [https://github.com/cyberbotics/webots/blob/master/projects/samples/howto/worlds/vision.wbt](https://github.com/cyberbotics/webots/blob/master/projects/samples/howto/worlds/vision.wbt) is a demo of using OpenCV with a Webots controller. The controller itself and Makefile are located in [https://github.com/cyberbotics/webots/tree/master/projects/samples/howto/controllers/vision](https://github.com/cyberbotics/webots/tree/master/projects/samples/howto/controllers/vision). This should help you.


`@jiang`: this floor is not "soft". The softness you seems to observe is due to the WorldInfo ([https://www.cyberbotics.com/doc/reference/worldinfo](https://www.cyberbotics.com/doc/reference/worldinfo)) parameters. See [https://cyberbotics.com/doc/guide/modeling#my-robot-sinks-into-the-ground-how-to-remove-this-effect](https://cyberbotics.com/doc/guide/modeling#my-robot-sinks-into-the-ground-how-to-remove-this-effect) for a solution to this problem.


`@Alfian`: the model is available here: [https://github.com/cyberbotics/webots/blob/master/projects/robots/dji/mavic/protos/Mavic2Pro.proto](https://github.com/cyberbotics/webots/blob/master/projects/robots/dji/mavic/protos/Mavic2Pro.proto)


`@ChapoGuzman`: you should proceed step-by-step to create a simple robotics arm, with only one joint at the beginning, then two, etc. Also, you should use simple primitives, like boxes, cylinders before importing 3D shapes from SolidWorks. That will help you understand how Webots models are implemented and you will be able in a later stage to import shapes from SolidWorks.

##### chungshan 05/22/2020 05:34:07
Hello, I import a vrml file to the webot. It is a bottle created in Solidworks. First, I convert this bottle to Solid node. I set the boundingObject to IndexedFaceSet of this bottle. However, the bottle is floating and it shows "WARNING: The current physics step could not be computed correctly. Your world may be too complex. If this problem persists, try simplifying your bounding object(s), reducing the number of joints, or reducing WorldInfo.basicTimeStep." How can I fix this?
> **Attachment**: [bottle\_floating.mp4](https://cdn.discordapp.com/attachments/565154703139405824/713263404667764766/bottle_floating.mp4)

##### riddlefive 05/22/2020 02:17:07

%figure
![2020-05-22_10.16.33.png](https://cdn.discordapp.com/attachments/565154703139405824/713213827956605039/2020-05-22_10.16.33.png)
%end


Hi everyone, urgent problem QAQ, could you tell me how to use(take out) the data like(get\_id,get\_position) when using the CameraRecognitionObject by Python? Thanks a lot.

##### kzooi 05/22/2020 01:12:55
Hi all, I am experiencing some issues when using the rangeImageGetDepth(image, width, x, y) function. 



I am currently using the Kinect proto node to detect an object through an RBG threshold. Using the x and y coordinates, I am trying to obtain the depth of that object through the rangefinder. The function seems to work fine for one iteration but it immediately crashes in the next loop. Does anyone know how I can fix this?

##### Troy 05/22/2020 01:12:31
Hi everyone! when I add the display and trying to drawtext with it, when is the text so vague?
%figure
![display.png](https://cdn.discordapp.com/attachments/565154703139405824/713197569844576305/display.png)
%end

##### G1020BS 05/21/2020 21:53:18
Hi, I tried both in java, python and c++ but I can't manage to include opencv2. Any tips on how to include opencv. Preferable in java but any other language will suffice. I allready used the vision controller tutorial/example on the webots github but no luck. I get these kind of errors: " fatal error: opencv2/opencv.hpp: No such file or directory"

##### jiang 05/21/2020 14:19:25
hello,the floor in 'RectangleArena' is so soft anf my box always sink in it. How can I make the floor be hard?

##### Alfian 05/21/2020 13:20:24
where is I can find the mathematical model of the DJI Mavic 2 Pro Quadrotor? I guess it is use the euler angle, then, I want to change with SO(3) for rotation, thus I can make the Quadrotor to Flip. Thank you.

##### kwy 05/21/2020 13:12:58
the algorithm called Dynamic Window Approach ðŸ™‚ . and i have found the reason. it's not a Bug, it's that Lidar detects the ground.  just because of inertia, the robot leans forward while decelerating

##### cakar 05/21/2020 12:48:14
hi `@kwy` i cant answer your problem but i was interested in your work is your robot following a path ,can you explain how it decides where it goes. thanks in advance

##### kwy 05/21/2020 03:44:22

> **Attachment**: [exp\_kwy.mp4](https://cdn.discordapp.com/attachments/565154703139405824/712873398539255828/exp_kwy.mp4)


there seems be a bug from the Lidar Node, and how to fix it ? Thanks !
%figure
![exp_kwy.png](https://cdn.discordapp.com/attachments/565154703139405824/712873155362029588/exp_kwy.png)
%end

##### ChapoGuzman 05/20/2020 15:54:28
Thanks in advance.



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/712694659821862932/unknown.png)
%end


Hello guys, I designed a robotic arm in solidworks and I import it by v97 but I have problems to implement it as a "robot" I am new with the program and I have already read the tutorials and the user guide, there will be a diagram like this that I can follow to implement my parts in a single "robot" section

##### elkelkmuh 05/20/2020 15:33:25
`@David Mansolino`  How can I find the position of the foot? I can find the position of the robot with the supervisor api.  The robot has fsr on its feet.

##### nap 05/20/2020 14:46:35
> Did you somehow saved the world after it has run?

> `@David Mansolino` : Yes, that was it.  There were a bunch of `hidden position, hidden linearVelocity, hidden angularVelocity, hidden rotation` nodes saved into the WBT file.  Thanks!!


> No you should not get it with the `void` controller.

> Did you somehow saved the world after it has run?

`@David Mansolino` : That may be the problem.  I just loaded the original but local copy of the Tower\_of\_Hanoi world and the warning did not show.  (I'll debug it and come back.)

##### David Mansolino [cyberbotics] 05/20/2020 14:40:14
No you should not get it with the `void` controller.

Did you somehow saved the world after it has run?

##### nap 05/20/2020 14:38:14
> `@nap` this error simply means that the controllers send a position request that is slightly out of range of the motor.

`@David Mansolino` :  Should I get the warning when the controller is set to `void`? (In fact the warning seems to be issued before the world is ready to start executing after a reload.)

Can the warning be fixed by editing the PROTO?

##### Luiz Felipe 05/20/2020 13:23:22
> `@Luiz Felipe`: no, you have no other option.

`@Olivier Michel` ðŸ‘

##### PurplePi 05/20/2020 13:20:09
Ok, thank you

##### Olivier Michel [cyberbotics] 05/20/2020 13:19:58
`@Luiz Felipe`: no, you have no other option.


`@PurplePi`: no.

##### PurplePi 05/20/2020 13:17:32
Hello, is there a way to have a supervisor not binded to a robot in the simulation. thank you

##### Luiz Felipe 05/20/2020 13:11:06
To use a external controller, as explained here: [https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-os=windows&tab-language=python](https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-os=windows&tab-language=python) I should add the PYTHONPATH to the environment variables. My end users are not familiar with setting environment variables in linux/windows. Is there a workaround for that? The ${WEBOTS\_HOME}/lib/controller/python3X folder is created after the python version is detected in the user's computer?

##### David Mansolino [cyberbotics] 05/20/2020 12:14:46
Sorry no idea

##### elkelkmuh 05/20/2020 12:04:48
`@David Mansolino` supervisor does not work on real robot. what would you recommend in this case?

##### David Mansolino [cyberbotics] 05/20/2020 12:02:57
Unfortunately not

##### elkelkmuh 05/20/2020 12:02:12
`@David Mansolino` Is there an example I can examine?

##### David Mansolino [cyberbotics] 05/20/2020 11:53:58
You should use the Supervisor API to get the position of the foot and then compute the difference

##### elkelkmuh 05/20/2020 11:47:20
`@David Mansolino` I want to know how many mm the right foot and left foot move. how can i learn this?

##### David Mansolino [cyberbotics] 05/20/2020 10:48:11
You're welcome

##### elkelkmuh 05/20/2020 10:40:30
`@David Mansolino` thank you

##### Ork 05/20/2020 09:55:30
Thnx

##### Olivier Michel [cyberbotics] 05/20/2020 09:50:51
`@Ork`: yes, using a supervisor.

##### TheOrangeOne 05/20/2020 09:48:25
`@David Mansolino` Thanks! It seems the correct way to do it is to multiply the y value by the angle, and then convert that to degrees. Most of the guides i've seen divide it, which I guess is for something different. Now this returns sane values, thanks!

##### Ork 05/20/2020 09:47:35
Is there a way to teleport a robot ?

##### David Mansolino [cyberbotics] 05/20/2020 09:13:13
`@Ronin52` You're welcome.


This might help you to make some tests: [https://www.andre-gaschler.com/rotationconverter/](https://www.andre-gaschler.com/rotationconverter/)

##### Ronin52 05/20/2020 09:12:57
> `@David Mansolino` Thank you so much!

##### TheOrangeOne 05/20/2020 09:10:38
`@David Mansolino` so there's no way to convert the axis angles into a rotation around a specific axis?

##### David Mansolino [cyberbotics] 05/20/2020 09:09:44
`@TheOrangeOne` unfortunately, Webots highly relies on axis angle representation, and there is no way to go around this.

##### cakar 05/20/2020 09:06:47
ok thank you i will work on it

##### Stefania Pedrazzi [cyberbotics] 05/20/2020 09:05:19
For simulating fluid on the floor, where the objects are not immersed in it, I don't think that the Fluid node is the best option. I would rather display it on the floor like a graphical effect and then adjust the ContactProperties


Hi `@cakar`, the Fluid node is just a functional node and has no graphical appearance. You have to add the Shape node in the children field to visualize it. Here is a sample simulation: [https://cyberbotics.com/doc/guide/samples-geometries#floating\_geometries-wbt](https://cyberbotics.com/doc/guide/samples-geometries#floating_geometries-wbt)

##### cakar 05/20/2020 09:00:50
Hello i got a question ,i  added a fluid node but i cant see it  is there anything else that i needed to change in the node ,and if there is fluid in the floor can i clean it with a robot.

##### David Mansolino [cyberbotics] 05/20/2020 08:50:20
> What is the best value for timestep and basictimestep? how should I determine?

`@elkelkmuh` by default 32 is used, but it is recommended to determine it by trial and error, basically try and as long as the simulation is not stable enough you can divide it by two.

##### PurplePi 05/20/2020 08:35:08
Thank you


I will try the emitter/receiver.


Yes but if I restart the robots controllers, I have to save the Neural Net 's parameters and reload again.

##### Stefania Pedrazzi [cyberbotics] 05/20/2020 08:33:07
The other option to automatically notify them, is to restart the robots controllers.


> No I am not restarting the robots controller

`@PurplePi` Then you should use a IPC method (like using the Emitter/Receiver nodes) to let the Supervisor controller notify the robot controllers about the reset so that they can execute the initialization function.

##### PurplePi 05/20/2020 08:30:45
No I am not restarting the robots controller

##### TheOrangeOne 05/20/2020 08:30:19
`@David Mansolino` Given the following setup and code:

```
o = obj.get_orientation()
x, y, z = transforms3d.euler.axangle2euler(o[:3], o[3])
print(degrees(x), degrees(y), degrees(z))
```

Rotating the cube around its Y axis should give me sane values, but I actually get:

```
0.9383443740233955 45.00008200374141 -2.710677376055925e-06
0.7229730866926742 45.000082000667604 -2.0672197875466448e-06
0.7342896472589717 45.0000995411886 -2.080906395177219e-06
0.749429438851949 60.00013461964227 -2.9573789185743686e-06
0.7645132888899848 60.00013462119542 -2.9684612427260756e-06
0.7791367763655455 75.00016969917081 -5.7539592431410275e-06
0.7932387797503188 75.00016970059033 -5.772235723774259e-06
-178.7728805271608 89.99979521589438 -179.58065165692838
-178.7586346851022 89.9997952144679 -179.5794361035914
-179.16841603962547 74.99976014227151 -179.99999417840684
-179.15628415418655 74.99976014089336 -179.99999416271666
-179.14707736581408 59.99972506329158 -179.99999697220557
-179.13734318759495 59.99972506212261 -179.9999969656765
-179.12869941117953 44.999689984531415 -179.9999978502986
-179.12106445267116 44.99968998356652 -179.99999784666974
-179.1136369364455 44.99968998260577 -179.9999978431371
-179.10357698161877 29.999654904742503 -179.99999823501287
-179.09389726672924 29.999654903412058 -179.99999823124332
-179.08655014906373 15.00019278364224 -179.99999841160027
-179.0775154776643 15.000192782325234 -179.99999840843702
-179.06882369955719 0.00015770296432111142 -179.99999845977928
-179.06046157685424 -14.999877373336558 -179.99999840245312
```

Which screams gimble lock to me
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/712582971823095848/unknown.png)
%end

##### Stefania Pedrazzi [cyberbotics] 05/20/2020 08:30:11
Ok. And on reset, you are not restarting the robots controller, is it right?

##### PurplePi 05/20/2020 08:29:40
I mean using the Supervisor API.

##### Stefania Pedrazzi [cyberbotics] 05/20/2020 08:28:04
`@PurplePi` do you mean pushing the reset button or using the Supervisor API to reset the simulation? Which version of Webots are you using?

##### PurplePi 05/20/2020 08:25:04
Hello,  I need all the robots to run an initialization function every time the sim reset. How can robots detect the reset of the simulation ?


I think it depends of your accuracy/efficiency trade off.

##### elkelkmuh 05/20/2020 08:07:22
What is the best value for timestep and basictimestep? how should I determine?

##### Stefania Pedrazzi [cyberbotics] 05/20/2020 08:02:42
`@elkelkmuh` you can find the definition of basic time step and (controller) time step in the glossary: [https://www.cyberbotics.com/doc/reference/glossary](https://www.cyberbotics.com/doc/reference/glossary)

##### elkelkmuh 05/20/2020 07:56:41
> That's up to you to let us know which one you are using?

> If it falls like that it probably means that the gait parameters are not perfect.

  Hi `@David Mansolino`  op2 falls to the ground after taking 3-4 steps. what would you recommend for this?  What is timestep and basictimestep?

##### David Mansolino [cyberbotics] 05/20/2020 07:51:34
> What is timestep and basictimestep?

That's up to you to let us know which one you are using?

If it falls like that it probably means that the gait parameters are not perfect.

##### Olivier Michel [cyberbotics] 05/20/2020 07:14:05
Webots produce VRML97 format (not VRML 1.0). So if you third party software is supporting only VRML 1.0, you may get this error.

##### Jeremy Jiang 05/20/2020 07:09:02
Hello, I create a world in webots and want to  export all objects in the world as VRML model (.wrl file). It is ok! However, when I want to  open the VRML file with other software such as SolidWorks, there will be something wrong but in fact this software can open other VRML files which is not produced from Webots. Could you tell me the reason?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/712562515409764362/unknown.png)
%end

##### David Mansolino [cyberbotics] 05/20/2020 05:10:39
> Hello! A while back I asked what the recognition orientation is on the camera, and got pointed in the direction of axis angles. I can get values out, but they act strangely. Rotating a cube around the Y axis. Is this just a case of unavoidable gimble lock? I can't imagine it is else the vision API is near useless? Thanks!

`@TheOrangeOne` I am sorry but can you be a bit more precise, what is the issue when rotating around the Y axis ? Can you provide an example? Using the axis angle you should not get any gimble lock.


> Hello everybody! Please help me write a PROTO of a wheel similar to the one in the screenshot. That is, the wheel rotates on an axis, and the axis with the wheel rotates in around the other axis. I couldn't figure out how to do this, so I replaced it with a sphere and a Hinge2Joint, whose anchor is located in the center of the sphere. This gave me the ability to move in two planes, but periodically triggers a warning "WARNING: The current physics step could not be calculated correctly. Your world may be too complex. If this problem persists, try simplifying your bounding object(s), reducing the number of joints, or reducing WorldInfo.basicTimeStep"

`@Ronin52` to simulate this kind of wheel you usually have to use 2 HingeJoint instead of a Hinge2joint, here is an example: 

```
DEF CASTER_WHEEL_FRONT_RIGHT_JOINT HingeJoint {
  jointParameters HingeJointParameters {
    axis 0 0 1
    anchor 0.1695 -0.102 -0.0335
  }
  device [
  ]
  endPoint DEF CASTER_WHEEL_FRONT_RIGHT Solid {
    translation 0.1695 -0.102 -0.0335
    rotation 0 0 1 0
    children [
      DEF SMALL_WHEEL_JOINT HingeJoint {
        jointParameters HingeJointParameters {
          axis 0 1 0
          anchor -0.016 0 -0.04
        }
        device [
        ]
        endPoint DEF SMALL_WHEEL Solid {
        ...
        }
      }
      ...
    ]
  }
}
```

In any case, the warning that you are seeing just means that the physics engine encounter some instabilities, but in most of the cases if you just get a few of them you can ignore them.


> Hi, I'm using a standard Kuka `youbot` robot in my own project, but am getting an unusual warning regarding positioning of HingeJoints as follows:

> `WARNING: Youbot (PROTO) > DEF ARM Solid > HingeJoint > Solid > HingeJoint > Solid > HingeJoint > Solid > HingeJoint > Solid > HingeJoint > Solid > SliderJoint > LinearMotor: too low requested position: -2.40623e-11 < 0`

> Reason for saying  it's an unusual warning is because I don't get it when I run the demo from the `Webots Tour`.  I'm using the standard proto definition and don't have anything added to the bodySlot In my project.  Can anyone suggest why this is happening?

`@nap` this error simply means that the controllers send a position request that is slightly out of range of the motor.


> Hello, I wonder if I can export objects in webots to stl files, obj files, 3D studio files(3ds) or Direct 3D files?

`@Weiyi` no, only to VRML (and then you can find some other software such as Blender for example, that convert VRML to something else), but be careful to the license.


`@AyresAlmada` you're welcome


`@jomell310` this is because the Supervisor class inherits from the Robot class, so if you instantiate one Supervisor you should not instantiate any Robot.

##### AyresAlmada 05/20/2020 03:02:18
> `@AyresAlmada` here is a tutorial showing how to build new objects:

> [https://cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes](https://cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes)

> Since your bridge will be a static object, you should not put any 'Physics' node.

> Note also that this world contains some bridges: [https://cyberbotics.com/doc/automobile/highway](https://cyberbotics.com/doc/automobile/highway)

`@David Mansolino` thanks

##### Weiyi 05/20/2020 02:07:39
Hello, I wonder if I can export objects in webots to stl files, obj files, 3D studio files(3ds) or Direct 3D files?

##### nap 05/20/2020 00:18:49
Hi, I'm using a standard Kuka `youbot` robot in my own project, but am getting an unusual warning regarding positioning of HingeJoints as follows:

`WARNING: Youbot (PROTO) > DEF ARM Solid > HingeJoint > Solid > HingeJoint > Solid > HingeJoint > Solid > HingeJoint > Solid > HingeJoint > Solid > SliderJoint > LinearMotor: too low requested position: -2.40623e-11 < 0`

Reason for saying  it's an unusual warning is because I don't get it when I run the demo from the `Webots Tour`.  I'm using the standard proto definition and don't have anything added to the bodySlot In my project.  Can anyone suggest why this is happening?

##### Ronin52 05/19/2020 18:58:36
Hello everybody! Please help me write a PROTO of a wheel similar to the one in the screenshot. That is, the wheel rotates on an axis, and the axis with the wheel rotates in around the other axis. I couldn't figure out how to do this, so I replaced it with a sphere and a Hinge2Joint, whose anchor is located in the center of the sphere. This gave me the ability to move in two planes, but periodically triggers a warning "WARNING: The current physics step could not be calculated correctly. Your world may be too complex. If this problem persists, try simplifying your bounding object(s), reducing the number of joints, or reducing WorldInfo.basicTimeStep"
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/712378694873907300/unknown.png)
%end

##### TheOrangeOne 05/19/2020 18:52:17
Hello! A while back I asked what the recognition orientation is on the camera, and got pointed in the direction of axis angles. I can get values out, but they act strangely. Rotating a cube around the Y axis. Is this just a case of unavoidable gimble lock? I can't imagine it is else the vision API is near useless? Thanks!

##### jomell310 05/19/2020 16:26:42
I'm trying to do as the link, I want to have the supervisor and robot in the same file so that I don't have to deal with Emitter and Receiver, I wasn't to get that working either. It's showing me an error "Only one instance of the Robot class should be created" but I only create on instance so I don't know where the other one is coming from


Where robot is the supervisor and thymio2 the actual robot


> Did you had a look at this doc about using Webots for optimisation methods?

> [https://cyberbotics.com/doc/guide/using-numerical-optimization-methods](https://cyberbotics.com/doc/guide/using-numerical-optimization-methods)

`@David Mansolino`  Yes and we looked at the sample, genetic sample, we are trying to implement something similar but in python. Right now I'm using this:

robot.simulationResetPhysics()

thymio2.resetPhysics()

thymio2.restartController()

robot.simulationReset()

##### David Mansolino [cyberbotics] 05/19/2020 15:35:53
You're welcome

##### PurplePi 05/19/2020 15:35:37
Thank you

##### David Mansolino [cyberbotics] 05/19/2020 15:30:15
Did you had a look at this doc about using Webots for optimisation methods?

[https://cyberbotics.com/doc/guide/using-numerical-optimization-methods](https://cyberbotics.com/doc/guide/using-numerical-optimization-methods)


What do you mean by 'it crashes'? Its controller crashes?

##### jomell310 05/19/2020 15:27:26
So what happens is that the robot crashes, but my supervisor doesn't know and lets the simulation run


Hi, I'm having trouble with resetting the simulation from the supervisor, for some reason the contactPoints of the robot take a long time to reset,

##### David Mansolino [cyberbotics] 05/19/2020 15:23:01
Since controller are regular processes, if you don't want to use emitter/receiver, you can implement your inter-process communication mechanism (TCP, UDP, shared memory, pipes, etc.).

##### PurplePi 05/19/2020 15:07:52
Hello, I'm trying to do Multi agent Deep reinforcement learning. The algorithm I want to use is the MADDPG, where all the Critics get the partial observation of all the other agents. Is there an way to share  LIDAR observations and velocities between external controllers (without emitter/receiver) ? Thank you.

##### kwy 05/19/2020 15:02:43
thanks

##### David Mansolino [cyberbotics] 05/19/2020 15:00:26
No, this not supported yet, but it is of course possible to improve the robot window to support recording.

##### kwy 05/19/2020 14:32:39
Hi, can Webots record the Robot-Window?

##### David Mansolino [cyberbotics] 05/19/2020 12:10:39
It can recognised any Solid node whose `recognitionColors` field is not empty (this field is empty by default): [https://cyberbotics.com/doc/reference/solid](https://cyberbotics.com/doc/reference/solid)

##### Mathie20 05/19/2020 12:06:49
what objects can the webots object recognition find? since i see it only finds some objects on webots

##### Olivier Michel [cyberbotics] 05/19/2020 09:21:24
I seems some of your controllers are crashing. You should probably fix this first.

##### Professor Felix 05/19/2020 09:15:48
so I've been having this problem lately where when I launch a controller Webots will say that there are no external robot receivers, but as you can see on the side menu I do have a receiver. Anyone have any ideas as to what is going on



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/712231657855254558/unknown.png)
%end

##### David Mansolino [cyberbotics] 05/19/2020 08:31:32
Have you tried the following:

  - Reduce the world time step?

  - Control the gripper in torque instead of position?

##### chungshan 05/19/2020 08:23:00
Besides, the yellow box's boundingObject and physics are all set


Hello, I'm using ur5e to pick and place experiment. But sometimes the object will be stuck with gripper. Why?
%figure
![ur5_pickup_stuck.png](https://cdn.discordapp.com/attachments/565154703139405824/712218557680713768/ur5_pickup_stuck.png)
%end

##### David Mansolino [cyberbotics] 05/19/2020 08:00:54
Yes ðŸ™‚

##### Musaab 05/19/2020 07:55:26
> `@Musaab` like any regular node, you can simply use the add node dialog window.

`@David Mansolino` Thanx even with .proto file?

##### Luiz Felipe 05/19/2020 07:18:33
ðŸ˜„

##### Olivier Michel [cyberbotics] 05/19/2020 07:17:52
So, you should try to follow the advice given by Webots ðŸ˜‰

##### Luiz Felipe 05/19/2020 07:15:56
`@Olivier Michel`  Hi Olivier! Its highly likely that is what is happening in the simulation (large speeds, deep collisions, unstabilities). The GDB freezed webots right before crashing and I did not observed any warning in the console. Usually the 'WARNING: The current physics step could not be computed correctly. Your world may be too complex. If this problem persists, try simplifying your bounding object(s), reducing the number of joints, or reducing WorldInfo.basicTimeStep.' happens during my simulation.

##### Olivier Michel [cyberbotics] 05/19/2020 07:12:06
`@Luiz Felipe`: it could be that your simulation is reaching edge conditions for ODE, like very large speeds, deep collisions, unstabilities, etc. Do you get any warning in the Webots console before the crash?

##### Luiz Felipe 05/19/2020 07:04:17
and the backtrace
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/712198930959433759/unknown.png)
%end


the end of my run command
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/712198807974051871/unknown.png)
%end


`@David Mansolino` my GDB backtrace is leading me somewhere in the /usr/local/webots/lib/webots/libode.so

##### iagsav 05/19/2020 06:52:01
> `@iagsav` you may have to tweak the erp and cfm parametrs of your Worldinfo node. Make also sure that the anchor of your HingeJoint are located at the center of the wheels

`@David Mansolino` Thank you!

##### David Mansolino [cyberbotics] 05/19/2020 06:44:01
Perfect, I am fixing this in the doc right now, thank you for the feedback.

##### Luiz Felipe 05/19/2020 06:42:45
yups! at least in my ubuntu environment it is.

##### David Mansolino [cyberbotics] 05/19/2020 06:42:12
This is probably more correct, right?

```sh
$ cd /usr/local/webots/bin
$ export LD_LIBRARY_PATH=/usr/local/webots/lib/webots:$LD_LIBRARY_PATH
$ gdb ./webots-bin
(gdb) run
```


you're right, let me fix this!

##### Luiz Felipe 05/19/2020 06:35:39
yups. The path /usr/local/webots leads to the launcher what can be misleading. The correct paths in my environment were /usr/local/webots/bin and /usr/local/webots/lib/webots. Thanks!!

##### David Mansolino [cyberbotics] 05/19/2020 06:33:24
The page says to start `gdb ./webots-bin` which is the executable and not the launcher (`webots` is the launcher).

About the `ERROR: Webots has not been started regularly. Please start Webots from its launcher.` you can indeed ignore it, this is normal when debugging.

##### Luiz Felipe 05/19/2020 06:22:04
but works. I think the path in the [https://cyberbotics.com/doc/reference/troubleshooting](https://cyberbotics.com/doc/reference/troubleshooting) troubleshooting page leads to the executable launcher?


I checked, it exists a 'webots' executable in /usr/local/webots folder and a 'webots-bin' in the /usr/local/webots/bin folder. Also correcting the libraries path to /usr/local/webots/lib/webots and running 'gdb ./webots-bin' again from my /bin folder it works. It shows the ERROR: Webots has not been started regularly. Please start Webots from its launcher.


If I run 'ls -la' the name of the executable is 'webots'. I tried to start gdb with 'gdb ./webots', 'gdb ./webots-bin'... I also tried to use 'file' inside the gdb to change the command but got the same error.

##### David Mansolino [cyberbotics] 05/19/2020 05:52:04
(and attach webots)


Which command exactly are you using to start gdb ?

##### Luiz Felipe 05/19/2020 05:27:19
Hello `@David Mansolino`, I am trying to follow the troubleshooting page: [https://cyberbotics.com/doc/reference/troubleshooting](https://cyberbotics.com/doc/reference/troubleshooting) as my webots is turning off on average every 30 minutes running my world on ubuntu and I want to make sure the problem is not on the physics plugin. But when i try to run the gdb following the instructions on the page i get the error: "No executable file specified". I am using gdb 7.11.1 configured as "x86\_64-linux-gnu".

##### BreeTheBunny 05/19/2020 05:21:57
Thanks David, I will look into that

##### David Mansolino [cyberbotics] 05/19/2020 05:21:34
Ok, that's probably an issue rather on your controller code, make sure for example that all the variables are initialised.

You will also find some documentation about how to use a debugger with your controller here: [https://cyberbotics.com/doc/guide/debugging-c-cpp-controllers](https://cyberbotics.com/doc/guide/debugging-c-cpp-controllers)

##### brianne.byer 05/19/2020 05:12:39
`@David Mansolino` it keeps crashing
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/712170839059202068/unknown.png)
%end

##### David Mansolino [cyberbotics] 05/19/2020 05:07:20
> For some reason my project works on macOS but not on windows? Is it something to do with the Makefile?

`@brianne.byer` what is not working on Windows? Do you have compilation errors? From the picture you sent we don't see any issue.


> hi there. i want to build a bridge in Webots, but have no idea about use which nodes. Any suggestions?

`@AyresAlmada` here is a tutorial showing how to build new objects:

[https://cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes](https://cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes)

Since your bridge will be a static object, you should not put any 'Physics' node.

Note also that this world contains some bridges: [https://cyberbotics.com/doc/automobile/highway](https://cyberbotics.com/doc/automobile/highway)


> Hello, I am having trouble using the Robot.getTime function. When trying to store the time (time = robot.getTime), the function is not returning the time. Instead the variable 'time' above contains the method object. Any suggestions?

`@davisUndergrad` this is because it is a function you have to use it like this:

```
time = robot.getTime()
```


> Hey hi How do I load PROTO file in webots

`@Musaab` like any regular node, you can simply use the add node dialog window.


`@dralorg` Webots is indeed very realistic ðŸ˜‰


`@iagsav` you may have to tweak the erp and cfm parametrs of your Worldinfo node. Make also sure that the anchor of your HingeJoint are located at the center of the wheels

##### brianne.byer 05/19/2020 04:43:01
For some reason my project works on macOS but not on windows? Is it something to do with the Makefile?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/712163378860130404/unknown.png)
%end

##### AyresAlmada 05/19/2020 04:01:07
hi there. i want to build a bridge in Webots, but have no idea about use which nodes. Any suggestions?

##### davisUndergrad 05/18/2020 23:35:42
Hello, I am having trouble using the Robot.getTime function. When trying to store the time (time = robot.getTime), the function is not returning the time. Instead the variable 'time' above contains the method object. Any suggestions?

##### Musaab 05/18/2020 21:06:42
Hey hi How do I load PROTO file in webots

##### Conor 05/18/2020 20:55:06
Done, thank you.

##### Olivier Michel [cyberbotics] 05/18/2020 20:12:55
See [https://www.cyberbotics.com/doc/reference/robot](https://www.cyberbotics.com/doc/reference/robot)


```
Robot {
  [ ... ]
  supervisor TRUE
}
```


(and there is no equal sign)


Yes, but in the world file (.wbt), not in the controller program.

##### Conor 05/18/2020 19:18:16
Robot.supervisor = TRUE?


I assume it's a single line?


Thank you!

##### Olivier Michel [cyberbotics] 05/18/2020 19:17:43
`@Conor`: you can use both robot and supervisor API functions in a robot controller which has the `Robot.supervisor` flag set to `TRUE`.

##### dralorg 05/18/2020 19:09:39
> `@dralorg` this might be due to the fact that the center of mass of the robot is not centered but rather to the front.

`@David Mansolino` Omg, that sounds like a real world thing, I was expecting something simulator-related. Thanks!

##### Conor 05/18/2020 18:27:40
Anyone know if it's possible to use robot AND supervisor functions in the same controller or do you need to choose between the two?

##### iagsav 05/18/2020 17:11:12
Changing the WorldInfo.basicTimeStep parameter did not improve the result


Hello! I modeled the ElcBot robot in Webots ([https://tinyroboticsteam.github.io/ElcBot/](https://tinyroboticsteam.github.io/ElcBot/)), the source codes are located here: [https://github.com/Ronin52/WeBots\_graduation\_project](https://github.com/Ronin52/WeBots_graduation_project). During testing, it turned out that when the robot stands still (does not move), it twitches. The wheel sinks into the floor. A video of how it works was posted on the link to instagram: [https://www.instagram.com/p/CAVkbXNDKti/?utm\_source=ig\_web\_copy\_link](https://www.instagram.com/p/CAVkbXNDKti/?utm_source=ig_web_copy_link). Everything is fine while the robot is moving. Please tell me what this may be related to? I also get this warning: "WARNING: The current physics step could not be calculated correctly. Your world may be too complex. If this problem persists, try simplifying your bounding object(s), reducing the number of joints, or reducing WorldInfo.basicTimeStep"

##### Conor 05/18/2020 16:35:33
You are welcome, enjoy.

##### cakar 05/18/2020 16:35:10
thank you again its all working good now

##### Conor 05/18/2020 16:20:53
make sure that when you install 3.7.7 you tick the box which adds it to yur PATH


You are welcome

##### cakar 05/18/2020 16:20:05
oh ok ty

##### Conor 05/18/2020 16:19:48
then install 3.7.7


Uninstall it


Your problem is that you are using 3.8.1

##### cakar 05/18/2020 16:19:25

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/711976247881891870/unknown.png)
%end

##### Conor 05/18/2020 16:13:51
`@cakar`



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/711974782903648276/unknown.png)
%end


do you get the following output


what happens when you open the command prompt and type 'Python'?

##### cakar 05/18/2020 16:12:15
couldnt work it out



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/711974420377239563/unknown.png)
%end

##### Conor 05/18/2020 16:10:02
`@cakar` Is it working now?

##### cakar 05/18/2020 16:07:11
ok thank you

##### Stefania Pedrazzi [cyberbotics] 05/18/2020 16:06:08
Hi `@cakar`, python code cannot be built it is enough to save the file to apply the modifications

##### Conor 05/18/2020 16:05:57
to check if it's in your path


Go to the command prompt and type in "Python"

##### cakar 05/18/2020 16:05:46
yes 3.7

##### Conor 05/18/2020 16:05:39
Do you have Python installed?

##### cakar 05/18/2020 16:05:04
hello i got  a question  i was following a tutorial and put controlller code to the robot in python but after that it didnt let me build it , anything i am missing?

##### Conor 05/18/2020 16:04:40
That is perfect!


Thank you!

##### Stefania Pedrazzi [cyberbotics] 05/18/2020 16:03:59
Yes. You can compute it. For example if you are using the Rectangle arena, you can use the Supervisor API to get the `floorSize` and `floorTileSize`. Dividing the size by the tile size you get the number of tiles. [https://www.cyberbotics.com/doc/guide/object-floors#rectanglearena](https://www.cyberbotics.com/doc/guide/object-floors#rectanglearena)

##### Conor 05/18/2020 16:00:23
You can set the size of the tiles for the floor. So I was wondering if it is possible to programmatically get the number of tiles or the size of the floor?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/711971307176067192/unknown.png)
%end

##### Stefania Pedrazzi [cyberbotics] 05/18/2020 15:54:50
what do you mean with tiles?

##### Conor 05/18/2020 15:28:41
`@David Mansolino`  Thank you David, also is it possible to get the number of tiles programmatically?

##### David Mansolino [cyberbotics] 05/18/2020 13:37:53
You're welcome

##### yash 05/18/2020 13:37:40
alright, thank you!ðŸ‘

##### David Mansolino [cyberbotics] 05/18/2020 13:36:48
yes exactly

##### yash 05/18/2020 13:36:36
okay , so some functionalities that are not available using Robot API, then only may be I should go for supervisor programming?

##### David Mansolino [cyberbotics] 05/18/2020 13:32:04
It all dends what you want to do, but usually if you can do it only using the robot api it is better to use only the robot api.

##### yash 05/18/2020 13:24:21
On what basis should I select whether to use controller or supervisor programming? for ex=position of a robot can be obtained through both controller as well as supervisor programming. So which to choose to programme the robot?

##### taeyoung 05/18/2020 11:29:25
It doesn't work...

##### Rodeknopje 05/18/2020 08:51:58
`@David Mansolino` Thanks

##### David Mansolino [cyberbotics] 05/18/2020 08:51:10
> Hi, I'm testing the use of sliderjoint in webots with differnet values for the timesteps (basictimestep and wb\_robot\_step).

> In my simulation the speed is send to the robot controller every 50ms.  I set my basictimestep to 10ms and wb\_robot\_step to 10ms. It works fine.

> But when I test my simulation with basictimestep 10ms and wb\_robot\_step 50ms, the slider moves outside(less than minstop), the range i set for it [0,0.15] ([minstop,maxstop])

`@taeyoung` have you tried using the min/maxPosition instead?


`@Rodeknopje` in that case you should use the `Robot.getInertialUnit` method ([https://cyberbotics.com/doc/reference/robot?tab-language=python#wb\_robot\_get\_device](https://cyberbotics.com/doc/reference/robot?tab-language=python#wb_robot_get_device)).


> `@David Mansolino`  How should I determine the wait between movements?Are there sample gait codes?

`@elkelkmuh` I am sorry, but I am not an expert in gait generation, but I am sure you will fidn a lot of literrature on the subject on internet.

##### Rodeknopje 05/18/2020 08:49:34
im using python

##### David Mansolino [cyberbotics] 05/18/2020 08:49:17
`@brianne.byer` you're welcome!


> which method do i have to call to get acces to my inertial unit?

`@Rodeknopje` hi, which language are you using? In any case, it works exactly like for the other sensors, it is based on the sensor name. See for example this tutorial where distance sensors are used: [https://cyberbotics.com/doc/guide/tutorial-4-more-about-controllers#program-a-controller](https://cyberbotics.com/doc/guide/tutorial-4-more-about-controllers#program-a-controller)

##### Rodeknopje 05/18/2020 08:47:19
which method do i have to call to get acces to my inertial unit?

##### brianne.byer 05/18/2020 08:36:53
`@David Mansolino` thank you so much!

##### elkelkmuh 05/18/2020 07:39:13
`@David Mansolino`  How should I determine the wait between movements?Are there sample gait codes?

##### taeyoung 05/18/2020 07:06:57
Hi, I'm testing the use of sliderjoint in webots with differnet values for the timesteps (basictimestep and wb\_robot\_step).

In my simulation the speed is send to the robot controller every 50ms.  I set my basictimestep to 10ms and wb\_robot\_step to 10ms. It works fine.

But when I test my simulation with basictimestep 10ms and wb\_robot\_step 50ms, the slider moves outside(less than minstop), the range i set for it [0,0.15]([minstop,maxstop])

##### David Mansolino [cyberbotics] 05/18/2020 06:58:48
Yes you should controler the motor directly like this indeed.

##### elkelkmuh 05/18/2020 06:58:17
`@David Mansolino`  Which commands should I use?

For example: self.getMotor('LegUpperL').setPosition(1.0) 

            self.getMotor('LegLowerL').setPosition(-1.0)

            self.getMotor('AnkleL').setPosition(-0.4)

##### w3. eydi 05/18/2020 06:53:04
As I understand it, there is a stable version in the only repository. I will download it manually and install it again. I will give you feedback if I get an error. If the problem is not resolved, I will continue to use it on Windows, thank you `@David Mansolino` .

##### David Mansolino [cyberbotics] 05/18/2020 06:43:31
> Hi `@David Mansolino` I want to do stair climbing work with Op2 with python. When I use the    gaitManager.setYAmplitude  command, the foot does not rise as usual.  The robot is falling.  What's your advice?

`@elkelkmuh` the gait algorithm of the darwin-op is not maid to climb stairs, unfortunately you will have to write your own gait algorithm if you want to climb stairs.

##### w3. eydi 05/18/2020 06:42:31
`@David Mansolino`  I received this error message when I used it with optirun.
%figure
![DeepinEkranGoruntusu_20200516234439.png](https://cdn.discordapp.com/attachments/565154703139405824/711831066775912455/DeepinEkranGoruntusu_20200516234439.png)
%end

##### David Mansolino [cyberbotics] 05/18/2020 06:42:28
HI `@w3. eydi`, may I ask you to try with a nightly version of R2020a-revision2 available here, the unsuported image bug should be fixed with this version (let us know if it is not the case): [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)

##### elkelkmuh 05/18/2020 06:41:41
Hi `@David Mansolino` I want to do stair climbing work with Op2 with python. When I use the    gaitManager.setYAmplitude  command, the foot does not rise as usual.  The robot is falling.  What's your advice?

##### w3. eydi 05/18/2020 06:41:03
and error message but simulation is working !
%figure
![DeepinEkranGoruntusu_20200516234207.png](https://cdn.discordapp.com/attachments/565154703139405824/711830697127575612/DeepinEkranGoruntusu_20200516234207.png)
%end


Good morning `@David Mansolino`;



I was going to create an issue in Github, but since I need to upload pictures, I am writing here.



I take error : Cannot load texture and Unsupported image format.



I switched to Linux. Authority problem ?



I'm using Linux Debian9 - Pardus 17.5

##### David Mansolino [cyberbotics] 05/18/2020 06:30:55
`@dralorg` this might be due to the fact that the center of mass of the robot is not centered but rather to the front.


> Does any of the example use pure pursuit path follow algorithm by any chance?

`@Lussfer` here are some path plannign example in Webots: [https://en.wikibooks.org/wiki/Cyberbotics%27\_Robot\_Curriculum/Advanced\_Programming\_Exercises#Path\_planning\_](https://en.wikibooks.org/wiki/Cyberbotics%27_Robot_Curriculum/Advanced_Programming_Exercises#Path_planning_)[Advanced]

Unfortunately none of them is using pure pursuit.

##### Stefania Pedrazzi [cyberbotics] 05/18/2020 06:14:29
> Hello, I'm working on a room-mapping robot for my final year project and was wondering if it is possible to get the grid that the robot is currently on? I'm trying to do a very basic 2d array as a topological map?

`@Conor` To get the position  of the robot you can use the GPS device or the Supervisor API. Both methods will give you the global 3D position, to map it to a XY grid map (or XZ using the default Webots coordinate system) you can simply discard the Y value.  I suggest you to check this sample simulation for an example about getting the robot position: [https://www.cyberbotics.com/doc/guide/samples-devices#gps-wbt](https://www.cyberbotics.com/doc/guide/samples-devices#gps-wbt)

##### David Mansolino [cyberbotics] 05/18/2020 06:10:26
> Hi, we are trying to simulate a simple robot in Webot with two rear driving wheels. To make it simpler among our interdisciplinary team we decided to choose python as the controller language. We are stuck with simple logic like PWM implementation, most of the sample code are written in C/C++ , shall we change it to C or there is some supporting database out there that we have not looked for. We are struggling with this sort of issue from a couple of weeks. Any suggestions would be highly appreciated. Thanks

`@Jatin Sharma` hi, in webots you don't need to implement PWM, you can directly control the motors in speed or position, I would recommend to follow our tutorials (available in Python) to get familiar with controller programming in Webots: [https://cyberbotics.com/doc/guide/tutorial-1-your-first-simulation-in-webots?tab-language=python](https://cyberbotics.com/doc/guide/tutorial-1-your-first-simulation-in-webots?tab-language=python)


> On webots i see that the object recognition is giving. X as Z, Y as Y and Z as -X. on webots does rotation match the orientations..

`@Mathie20` Yes the orientations match the 'rotation' field.

Abotu the axes inversion, I can't unfortunately reproduce this in the 'camera\_recognition' sample, do you have a specific case to reproduce this? Note that the position is expressed in the camera frame and not i nthe robot or world frame.

##### Jatin Sharma 05/18/2020 06:03:41
Hi, we are trying to simulate a simple robot in Webot with two rear driving wheels. To make it simpler among our interdisciplinary team we decided to choose python as the controller language. We are stuck with simple logic like PWM implementation, most of the sample code are written in C/C++ , shall we change it to C or there is some supporting database out there that we have not looked for. We are struggling with this sort of issue from a couple of weeks. Any suggestions would be highly appreciated. Thanks

##### David Mansolino [cyberbotics] 05/18/2020 05:41:58
> Is there code available online that directly controls the wheels of the youbot? I mean, instead of what the webot demo uses (keyboard control)? The idea is for the youbot to follow a black, straight line. I'm also curious if I am required to add 4 hingejoints to the body slot of youbot. Thanks in advance, it is greatly appreciated as I am very new to coding.

`@brianne.byer` sure, here is an example: [https://github.com/cyberbotics/webots/blob/master/projects/robots/kuka/youbot/libraries/youbot\_control/src/base.c](https://github.com/cyberbotics/webots/blob/master/projects/robots/kuka/youbot/libraries/youbot_control/src/base.c)

About the HingeJoint, you can indeed add them directly in the body slot as you would do with a regular chidren field (if not already done I would suggest to read this tutorial: [https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot](https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot))


> hi there. if i use the supervisor to track the position of a robot. is it possible to send the position information to another controller?

`@AyresAlmada` yes of course, you can use an emitter to send it from your supervisor and a receiver node to receive it in your other controller.

##### dralorg 05/18/2020 00:31:15
Hi, I'm running the Youbots back wheels but the robot isn't moving. (The top wheels do make the robot move).



I've added the "contactProperties" inside the "WorldInfo" tag in the world file, this is what I've added.



```
  contactProperties [
    ContactProperties {
      material1 "InteriorWheelMat"
      coulombFriction [
        1.8, 0, 0.2
      ]
      frictionRotation -0.9648 0
      bounce 0
      forceDependentSlip [
        10, 0
      ]
    }
    ContactProperties {
      material1 "ExteriorWheelMat"
      coulombFriction [
        1.8, 0, 0.2
      ]
      frictionRotation 0.9648 0
      bounce 0
      forceDependentSlip [
        10, 0
      ]
    }
  ]
```



Why the bottom wheels are not making the robot move?
> **Attachment**: [first\_world.mp4](https://cdn.discordapp.com/attachments/565154703139405824/711737634514272369/first_world.mp4)

##### Conor 05/18/2020 00:01:13
`@AyresAlmada` I know you can use GPS but I'm not entirely sure how I would translate the GPS into an X,Y position that can then go into a 2d array


> hi there. if i use the supervisor to track the position of a robot. is it possible to send the position information to another controller?

`@AyresAlmada` Did you ever find if this was possible? At least getting the robots position?


Hello, I'm working on a room-mapping robot for my final year project and was wondering if it is possible to get the grid that the robot is currently on? I'm trying to do a very basic 2d array as a topological map?

##### Lussfer 05/17/2020 09:38:58
Does any of the example use pure pursuit path follow algorithm by any chance?

##### Mathie20 05/16/2020 13:19:21
On webots i see that the object recognition is giving. X as Z, Y as Y and Z as -X. on webots does rotation match the orientations..
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/711206156856590387/unknown.png)
%end

##### brianne.byer 05/16/2020 12:40:16
Is there code available online that directly controls the wheels of the youbot? I mean, instead of what the webot demo uses (keyboard control)? The idea is for the youbot to follow a black, straight line. I'm also curious if I am required to add 4 hingejoints to the body slot of youbot. Thanks in advance, it is greatly appreciated as I am very new to coding.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/711196323235233802/unknown.png)
%end

##### AyresAlmada 05/16/2020 06:10:34
hi there. if i use the supervisor to track the position of a robot. is it possible to send the position information to another controller?

##### David Mansolino [cyberbotics] 05/15/2020 08:17:35
See this question for example: [https://stackoverflow.com/questions/59263637/webots-write-controller-data-to-external-csv-file](https://stackoverflow.com/questions/59263637/webots-write-controller-data-to-external-csv-file)

##### elkelkmuh 05/15/2020 08:12:32
`@David Mansolino` how can I save them to a file?

##### David Mansolino [cyberbotics] 05/15/2020 07:21:10
The refresh rate of the default robot windows is not configurable, but you can get the data from your controller at the rate you want and save them to a file

##### elkelkmuh 05/15/2020 07:09:20
Hi `@David Mansolino` Can I get the engine information in the data for 0.1 seconds as data?
%figure
![Screenshot_20200515_100629_com.whatsapp.jpg](https://cdn.discordapp.com/attachments/565154703139405824/710750650992164934/Screenshot_20200515_100629_com.whatsapp.jpg)
%end

##### Troy 05/15/2020 04:55:23
I'll try the urdf2webots program again tomorrow


but the URDF is correct, I imported this urdf into V-Rep, and it's correct


I'm not sure if I could share this model

##### David Mansolino [cyberbotics] 05/15/2020 04:53:04
Hi `@Troy` it seems there is an issue with the generated PROTO, can you share it with us so that we can check what is exactly the problem?

##### Troy 05/14/2020 15:46:43
what should I do with the proto file or the URDF file?


Hi! I have a problem. When I used the proto to import the robot, one of my model is correct, but when I import the other one using the same method, webots reminds me that " ERROR: 'D:/Lab/Simulation/5\_13TestURDF/protos/MCrab.proto':19:39: error: Expected node or PROTO name, found '{'. " I both used the urdf2webots program to output the proto file, and put them in two separate wbt file. I don't what wrong...

##### David Mansolino [cyberbotics] 05/14/2020 12:32:23
`@infinity` [https://www.youtube.com/watch?v=L0FVsFD2rS4&feature=youtu.be](https://www.youtube.com/watch?v=L0FVsFD2rS4&feature=youtu.be)

##### infinity 05/14/2020 12:15:56
Anybody have any solution


I wanna import my track drive robot which is developed in solid works


I have a problem in webots


Hlo

##### nav3549 05/14/2020 11:57:18
sorry, i got a mistake i solve the problem !! thanks

##### David Mansolino [cyberbotics] 05/14/2020 11:41:58
Have you tried the safe mode ([https://cyberbotics.com/doc/guide/starting-webots#on-windows](https://cyberbotics.com/doc/guide/starting-webots#on-windows) )?

Or to open another world file?

##### nav3549 05/14/2020 11:29:15
I tried to delete these preferences to solve the problem, but still persists. And the preferences variables are set again after i open webots


my webots clossing after loading world model
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/710453543940784158/unknown.png)
%end

##### AyresAlmada 05/14/2020 10:43:13
got it! thanks

##### David Mansolino [cyberbotics] 05/14/2020 10:31:48
You can just call the `robot.step` function with as argument the time in milisecond you want to wait.

##### AyresAlmada 05/14/2020 10:26:43
that's right, i just want it steer more. i wonder whether there are any codes have the similar function like 'delay' in c

##### David Mansolino [cyberbotics] 05/14/2020 10:12:11
Then can't you just steer more?

This is a control question, not really specific to Webots by the way.

##### AyresAlmada 05/14/2020 10:06:48
yes, i already control it in speed. i just want the rover to avoid the obstacles, but it can only steer at the moment it see the obstacles. it has to keep steering for a while

##### David Mansolino [cyberbotics] 05/14/2020 10:01:19
Yes, you simply have to control the motor in speed instead of position: [https://cyberbotics.com/doc/reference/motor#velocity-control](https://cyberbotics.com/doc/reference/motor#velocity-control)

##### AyresAlmada 05/14/2020 09:56:30
hi there. are there any codes can make the wheels on the rover keep moving at a stable velocity?

##### David Mansolino [cyberbotics] 05/14/2020 09:33:48
> What average time does it takes to create an UAV which can be manually controlled? Has anyone build it?

`@Rajesh Roy` it all depends on your UAV, but you can probably take inspiration from an UAV already existing in Webots, such as this one: [https://cyberbotics.com/doc/guide/mavic-2-pro](https://cyberbotics.com/doc/guide/mavic-2-pro)

##### Rajesh Roy 05/14/2020 08:16:25
What average time does it takes to create an UAV which can be manually controlled? Has anyone build it?

##### David Mansolino [cyberbotics] 05/14/2020 07:20:18
You're welcome

##### YCSU 05/14/2020 07:17:06
Great! Thank you so much for the information

##### David Mansolino [cyberbotics] 05/14/2020 07:15:49
Hi, the horizontal field of view is 1.0 radians, you can read this in the PROTO file: [https://github.com/cyberbotics/webots/blob/master/projects/devices/microsoft/protos/Kinect.proto#L513-L520](https://github.com/cyberbotics/webots/blob/master/projects/devices/microsoft/protos/Kinect.proto#L513-L520)

##### YCSU 05/14/2020 07:11:41
Hi,  I am using the Microsoft Kinect sensor model in Webots. Since I would like to calculate the 3D coordinates (x ,y, z) in meters from the  depth image, I need to know the intrinsic parameter of the camera or at least the FoV angle. I searched the webots document and could not find the information.  I wonder where can I find such information?

##### Troy 05/13/2020 23:21:13
I tried again, it suddenly worked. Sorry to bother you guys.


when i changed the someRobot.urdf to the path of my file, it reminds me that "math\_utils.py:40: RuntimeWarning: invalid value encountered in true\_divide "


Could you please help on this problem? How can I use this?


`@Olivier Michel` Hi Olivier! When I use the urdf2webots program on github, it reminds me that "Can't determine package root path."

##### Olivier Michel [cyberbotics] 05/13/2020 20:53:36
Not to my knowledge.

##### Simon Steinmann [Moderator] 05/13/2020 18:31:27
Is there any downside of running the webots controller in python 2.7 instead of python3?

##### Olivier Michel [cyberbotics] 05/13/2020 15:59:34
[https://pages.github.com/](https://pages.github.com/)


Doing that on github pages is an option indeed.


You simply need to publish the page anywhere on the web.

##### Rajesh Roy 05/13/2020 15:55:21
Alright, and how to do that?

Is there any way of doing it using GitHub?

##### Olivier Michel [cyberbotics] 05/13/2020 15:42:46
The tricks for Chrome and Firefox are only if you want to open the webgl page locally (with a `file://` URL). When you publish it on the web, e.g., with a `http(s)://` URL, you don't need these tricks.

##### Rajesh Roy 05/13/2020 15:41:25
Has anyone gone through the procedure of exporting your Webots file to a webgl file?


I want to know that isn't there any other option available? Since this part "--allow-file-access-from-files: turns your browser very vulnerable to attacks.



Also, do you have any idea of how to create a javascript block of code handling this to turn on and turn off automatically whenever calling the .html webpage?


I want to create a webgl based simulation which could just run like any other webgl application - "No add-ons, just the browser"

After referring to the materials provided on the documentation section, I found a paragraph saying



"

Chrome: launch with the --allow-file-access-from-files option

Firefox:

Open Firefox browser and in the address bar type about:config,

hit Enter button and click on I'll be careful, I promise!.

Search for privacy.file\_unique\_origin or security.fileuri.strict\_origin\_policy and double click on it to change the status from true to false.

"



Link: [https://cyberbotics.com/doc/guide/web-scene](https://cyberbotics.com/doc/guide/web-scene)

##### David Mansolino [cyberbotics] 05/13/2020 15:18:48
> `@David Mansolino` I already submited a change to the supervisor.md, which includes this code and an explanation on how to get positions of nodes relative to other nodes. Would be nice if that could get added soon to the build ðŸ™‚

`@Simon Steinmann` I am sorry but I probably missed your submission, did you open a Github Pull-Request ?

##### Lussfer 05/13/2020 15:17:59
thx David & Luftwaffel

##### Simon Steinmann [Moderator] 05/13/2020 15:17:25
I already needed to go back to reference it, luckily I still had the pastebinlink


`@David Mansolino` I already submited a change to the supervisor.md, which includes this code and an explanation on how to get positions of nodes relative to other nodes. Would be nice if that could get added soon to the build ðŸ™‚

##### lojik 05/13/2020 14:53:59
> `@lojik` yes the basic time step may in rare case influence the calibration of the friction, but even with a smaller time step you should be able to find some parameters that works for your case.

`@David Mansolino` Thank you, so I will play with this example to try to find good coefficients.

##### Simon Steinmann [Moderator] 05/13/2020 14:52:44
`@Lussfer` Check out this out [https://pastebin.com/k7kf4Ez5](https://pastebin.com/k7kf4Ez5)

##### David Mansolino [cyberbotics] 05/13/2020 14:51:21
> how to convert wgs84 coordinate to local coordinate without changing coordinate system in world info? like i want to pass since wgs84 coordinate and convert it into local coordinate

`@Lussfer` In that case you have to convert them in your controller, here is the code in Webots that allows to make the conversion, you can probably take inspiration from it: [https://github.com/cyberbotics/webots/blob/565b5aed95a2aadb73bccf2ad733d37893d5edfe/src/webots/nodes/WbGps.cpp#L85-L106](https://github.com/cyberbotics/webots/blob/565b5aed95a2aadb73bccf2ad733d37893d5edfe/src/webots/nodes/WbGps.cpp#L85-L106)


> `@David Mansolino` Thank you for your answer, I did not see this example. Unfortunately it does not work anymore if we put the basicTimeStep to 1ms. If I understand it correctly, it means that the physics behind the simulation has some errors due to a too high timeStep.

`@lojik` yes the basic time step may in rare case influence the calibration of the friction, but even with a smaller time step you should be able to find some parameters that works for your case.

##### Lussfer 05/13/2020 14:48:00
how to convert wgs84 coordinate to local coordinate without changing coordinate system in world info? like i want to pass since wgs84 coordinate and convert it into local coordinate

##### lojik 05/13/2020 14:44:42
> `@lojik` it all depends on your robot, but it doesn't always slide, see for example the 'accelerometer' world, where a differential wheeled robot rotates on a slope: [https://cyberbotics.com/doc/guide/samples-devices#accelerometer-wbt](https://cyberbotics.com/doc/guide/samples-devices#accelerometer-wbt)

`@David Mansolino` Thank you for your answer, I did not see this example. Unfortunately it does not work anymore if we put the basicTimeStep to 1ms. If I understand it correctly, it means that the physics behind the simulation has some errors due to a too high timeStep.

##### kwy 05/13/2020 14:06:40
`@Olivier Michel`  thanks for your help!


And I have found, streaming viewer is not so smooth like webots screen.

So I decide to use its own robot-window.

It can display 3D graph with vis.js
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/710130671724789800/unknown.png)
%end


ðŸ˜‚


I just rebooted my Macâ€¦ and opened a Sample on Webots, it could connect to the streaming viewer successfully. So I thought that was the error in my own JS. 

But just now my own world can also connect to the streaming viewer.

So the problem is â€¦ my Mac need to have a break.

##### Olivier Michel [cyberbotics] 05/13/2020 13:45:49
So what was the problem exactly?

##### kwy 05/13/2020 13:42:02
`@Olivier Michel`  you're right, thanks!

##### Robin 05/13/2020 13:20:12

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/710119209903980574/unknown.png)
%end

##### Dobby 05/13/2020 13:18:57
`@Robin` will send a screenshot now

##### Olivier Michel [cyberbotics] 05/13/2020 13:13:17
It looks like there might be an error in your Javascript code...

##### Dobby 05/13/2020 13:11:14

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/710116952521048154/unknown.png)
%end


Another question, we edited the img files in the thymio2 file to `<i>` files and to send the function onmousedown and then send it through the javascript with a function but we get this error as soon as we start it! ^^

##### David Mansolino [cyberbotics] 05/13/2020 12:38:21
> Hello, I take the opportinity that you are on the subject. Do you know where we can find good values for both friction and forceDependentSlip ?

> 

> I have a four wheels robot. My expectation is that when I would like to turn on spot using differential wheels it will turn. Then if I put it on a slope it will continues to turn on spot until a certain angle of the slope where it will begin to slide.

> 

> Actually, with webots, it begins to slide at a constant speed as soon as there is a slope.

`@lojik` it all depends on your robot, but it doesn't always slide, see for example the 'accelerometer' world, where a differential wheeled robot rotates on a slope: [https://cyberbotics.com/doc/guide/samples-devices#accelerometer-wbt](https://cyberbotics.com/doc/guide/samples-devices#accelerometer-wbt)

##### jomell310 05/13/2020 12:32:18
> `@jomell310` unfortunately not, but you can check this sample simulation using supervisor:

> [https://cyberbotics.com/doc/guide/samples-devices#supervisor-wbt](https://cyberbotics.com/doc/guide/samples-devices#supervisor-wbt)

> Then to end the simulation you can use the `wb_supervisor_simulation_quit` function: [https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_simulation\_quit](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_simulation_quit)

`@David Mansolino` Thanks a lot David! Really appreciate it!

##### lojik 05/13/2020 12:32:05
Hello, I take the opportinity that you are on the subject. Do you know where we can find good values for both friction and forceDependentSlip ?



I have a four wheels robot. My expectation is that when I would like to turn on spot using differential wheels it will turn. Then if I put it on a slope it will continues to turn on spot until a certain angle of the slope where it will begin to slide.



Actually, with webots, it begins to slide at a constant speed as soon as there is a slope.

##### David Mansolino [cyberbotics] 05/13/2020 12:28:34
You're welcome, good luck!

##### yash 05/13/2020 12:28:13
Okay , let me have a check again , thank you ðŸ‘

##### David Mansolino [cyberbotics] 05/13/2020 12:27:39
Probably yes, but I am not an expert in friction.

##### yash 05/13/2020 12:27:19
The thing is I can use that equation right .? If done properly


Thatâ€™s what I used the value of friction calculated from the above equation

##### David Mansolino [cyberbotics] 05/13/2020 12:20:56
In that case the coulombFriction is probably too low

##### yash 05/13/2020 12:20:11
Yes !

##### David Mansolino [cyberbotics] 05/13/2020 12:19:28
you mean the robot is slipping at the same place?

##### yash 05/13/2020 12:11:19
But the robot doesnâ€™t move


One more thing the wheels do rotate

##### David Mansolino [cyberbotics] 05/13/2020 12:09:18
Maybe you forget to take something else into account, like for example the wheel joint friction, etc.

##### yash 05/13/2020 12:08:15
The robot doesnâ€™t move

##### David Mansolino [cyberbotics] 05/13/2020 12:07:56
What do you mean by 'it doesn't work', what is the behavior? And what is the desired behavior?

##### yash 05/13/2020 12:04:44
Because when I set the values calculated from above , it doesnâ€™t work !


Sorry the equation should be  T = r*umg , where r = radius of wheel


My robot (differential drive) weighs 750gm , so according the torque required by each motor can be Calculated from T= umg, where u is the friction between wheels and rectangular arena, m is the mass of the robot , g is acceleration due to gravity.

So can I use this relation T= umg, to set the max torque in device parameters and the friction in contact materials?

##### David Mansolino [cyberbotics] 05/13/2020 11:55:22
That is indeed possible, but you will have to write a Webots controller that will do the bridge between the simulated robot and the physical controller

##### Dobby 05/13/2020 11:41:29
We allready have a edited version of the thymio2 controller working perfectly and they wondered if they can somehow control it the same way but with a physical controller


Yeah! We work together with electrical engineers for our University project and they asked if it is possible to use this physical controller on the robot through a localhost with the use of JS

##### David Mansolino [cyberbotics] 05/13/2020 11:38:35
You mean a simulated robot?

##### Dobby 05/13/2020 11:37:52
Is it possible to control a robot through html or javascript with an Arduino Esplora in the localhost?
%figure
![esplora-voorkant.png](https://cdn.discordapp.com/attachments/565154703139405824/710093456386555984/esplora-voorkant.png)
%end

##### kwy 05/13/2020 10:26:25
in the javascript console


just make it open the webots --stream, but it still can't connect with the streaming viewer, Still have the same error

##### Olivier Michel [cyberbotics] 05/13/2020 10:16:26
OK, you should type /Applications/Webots.app/Contents/MacOS/webots (or create an alias to it).

##### kwy 05/13/2020 10:12:43
mac

##### Olivier Michel [cyberbotics] 05/13/2020 10:12:37
Are you Linux or Windows?

##### kwy 05/13/2020 10:12:13
but -bash: webots: command not found..

##### Olivier Michel [cyberbotics] 05/13/2020 10:11:53
Why do you use "open -a" ?

##### kwy 05/13/2020 10:11:09
when type  open -a webots --stream="port=1234;monitorActivity",   but the option is unrecognized..   open -a webots --stream either

##### Olivier Michel [cyberbotics] 05/13/2020 10:08:28
But since 1234 is the default port, it should work the same without it: `webots --stream`


`webots --stream="port=1234;monitorActivity"`

##### kwy 05/13/2020 10:04:49
open -a webots--stream ?


actually i don't know how to use those command line,  this step...Start Webots with the streaming server using the --stream option

##### Olivier Michel [cyberbotics] 05/13/2020 10:01:07
Are you following the instructions at [https://www.cyberbotics.com/doc/guide/web-streaming?](https://www.cyberbotics.com/doc/guide/web-streaming?)

##### kwy 05/13/2020 10:00:52
I only open my webots and this streaming viewer, and what else should i do


15 err...
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/710068696047157339/unknown.png)
%end

##### Olivier Michel [cyberbotics] 05/13/2020 09:58:08
You mean nothing in the javascript console?

##### kwy 05/13/2020 09:56:57
i directly turn off firewall, but there is no feedback from the streaming viewer now..

##### Olivier Michel [cyberbotics] 05/13/2020 09:49:24
No, you probably need to allow this port in your local firewall.

##### kwy 05/13/2020 09:47:45
actually i don't know how to use those command line arguments [https://www.cyberbotics.com/doc/guide/starting-webots#command-line-arguments](https://www.cyberbotics.com/doc/guide/starting-webots#command-line-arguments)


i need to modify the port?

##### Olivier Michel [cyberbotics] 05/13/2020 09:43:20
It may be because of a local firewall preventing connections to port 1234?

##### kwy 05/13/2020 09:42:11

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/710064342045032528/unknown.png)
%end

##### Olivier Michel [cyberbotics] 05/13/2020 09:40:01
Do you get any message in the Javascript console?

##### kwy 05/13/2020 09:31:11
Hi, I'm stuck at this problem, i don't know how to stream a Webots SimulationðŸ˜«
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/710061575511474286/unknown.png)
%end

##### TheOrangeOne 05/13/2020 08:32:02
I'll try and push most of this to the docs at some point so it's easier to reason about


Oooh that's nice! `axangle2euler` looks to be perfect!

##### David Mansolino [cyberbotics] 05/13/2020 08:27:45
In Python you can use the ``Transforms3d`` module: [https://matthew-brett.github.io/transforms3d/](https://matthew-brett.github.io/transforms3d/)

##### TheOrangeOne 05/13/2020 08:26:47
Thanks!


Aha, nice! Now to find out how to do that in Python and I'm set!

##### Olivier Michel [cyberbotics] 05/13/2020 08:23:13
[https://www.andre-gaschler.com/rotationconverter/](https://www.andre-gaschler.com/rotationconverter/)

##### David Mansolino [cyberbotics] 05/13/2020 08:22:53
Yes of course, I am sure you will find all the required formula on internet, these conversions are pretty standard

##### TheOrangeOne 05/13/2020 08:22:09
Is that easily converted so a plain rotation around X,Y,Z etc? Assume I need to do something with the angle to get that?

##### David Mansolino [cyberbotics] 05/13/2020 08:15:08
3 to define the rotation axis and one for the angle

##### TheOrangeOne 05/13/2020 08:14:45
That mentions 3 values?

##### Olivier Michel [cyberbotics] 05/13/2020 08:00:37
[https://en.wikipedia.org/wiki/Axis%E2%80%93angle\_representation](https://en.wikipedia.org/wiki/Axis%E2%80%93angle_representation)

##### TheOrangeOne 05/13/2020 07:59:11
But there's 3 axis, and 4 values?

##### David Mansolino [cyberbotics] 05/13/2020 07:52:02
Ok, then the orientation is defined as axis angle. Like for the 'rotation' fields in Webots.

##### TheOrangeOne 05/13/2020 07:48:13
> `@TheOrangeOne` can you be a bit more precise? What do you mean by `camera.get_orientation`, are you using the ROS controller? Or the Supervisor API to get the orientation of a node? Or something else?

`@David Mansolino` Sorry, I'm using a regular controller and the Python API. The orientation is coming via the camera recognition API, looking at a solid node.

##### Olivier Michel [cyberbotics] 05/13/2020 07:29:16
These are the points of your mesh.

##### Weiyi 05/13/2020 07:27:47
Hello, what's the meaning of these points? If I add more points, will the situation I mentioned just now get better?
%figure
![15893547881.png](https://cdn.discordapp.com/attachments/565154703139405824/710030517222899772/15893547881.png)
%end


OK, I will try it, thank you  very much for your help!!!

##### Olivier Michel [cyberbotics] 05/13/2020 07:12:56
Then, you can add boxes around it if you need to have a rectangular table.


That will make a round table with a circular hole at the middle.


Yes, you should use a SolidPipe proto: [https://www.cyberbotics.com/doc/guide/object-solids#solidpipe](https://www.cyberbotics.com/doc/guide/object-solids#solidpipe) with large thickness parameter.

##### Weiyi 05/13/2020 07:10:55
but it seems difficult to make a circle hole... do you have any advice?


I hope it's a circle

##### Olivier Michel [cyberbotics] 05/13/2020 07:10:04
Or do you want it circular?


Can the hole be a rectangle or a square?

##### Weiyi 05/13/2020 07:08:41
Thank you very much!  By the way, I want to build a table with a hole like the hole in golf, so the ball can fall into it, how should I make it in webots?

##### Olivier Michel [cyberbotics] 05/13/2020 07:06:47
Yes.

##### Weiyi 05/13/2020 07:06:29
Thank you  for your help, so is it better to rebuild the table in webots rather than import a vrml file?

##### Olivier Michel [cyberbotics] 05/13/2020 07:03:02
Hi `@Weiyi` Weiyi. This is probably due to the fact that your bounding object is an IndexedFaceSet. Depending on the resolution of the IndexedFaceSet (size of the triangles), this kind of problem may appear. I would recommend you to replace the IndexedFaceSet with primitives nodes such as a Plane or a series of Boxes which you can arrange inside a Group node that contains Transform nodes containing the Box Shapes, so that you can use as many boxes as you want at different positions.

##### Weiyi 05/13/2020 06:56:02
hello, I have imported an object from vrml file and I have added the bounding. When the robot is walking on it, sometimes the simulation is working wrongly so that the robot's foot goes under the surface of the table. This happens randomly, sometimes it works well but suddenly the situation occurs. I wonder how to fix this problem.
%figure
![15893527451.png](https://cdn.discordapp.com/attachments/565154703139405824/710022527803457546/15893527451.png)
%end

##### David Mansolino [cyberbotics] 05/13/2020 05:17:33
> rviz shows the wrist 2 joint rotated 180Â°. Or to be more precise, the wrist\_2\_link coordinate frame is rotated around its z-achses (blue).  I have no idea how this error comes to be

`@Simon Steinmann` I checked it with the UR5e a few weeks ago and it was working fine, but never checked with the UR10e, is it in the opposite direction for all the angles or is there just one singularity angle? Do you have a simple procedure to reproduce this?


> Hello! Can anyone explain to me what the return value of `camera.get_orientation` is? It's 4 values, which according to the docs are in radians, but beyond that i'm not sure. Some bits of ROS documentation say it's `X, Y, Z, W` values for quarternions, but using that leads to values jumping all over the place when rotating the object around the axis i'm looking at

`@TheOrangeOne` can you be a bit more precise? What do you mean by `camera.get_orientation`, are you using the ROS controller? Or the Supervisor API to get the orientation of a node? Or something else?


> Is there a way to convert local coordinate to wgs84 gps coordinate?

`@Lussfer` you can set the 'WorldInfo.gpsCoordinateSystem' field to 'WGS84' (and specify the 'WorldInfo.gpsReference'): [https://www.cyberbotics.com/doc/reference/worldinfo](https://www.cyberbotics.com/doc/reference/worldinfo)

Here is an example: [https://cyberbotics.com/doc/guide/samples-devices#gps\_lat\_long-wbt](https://cyberbotics.com/doc/guide/samples-devices#gps_lat_long-wbt)


> Hey guys, just want to ask if anyone knows where an image for a straight line is (for the floor)? I want the youbot to be able to follow a line.

`@BreeTheBunny` you can easily create one in your favorite image editor (Gimp for example).


> `@David Mansolino` Is there a sample World where there is a supervisor that ends the simulation if some event happens?

`@jomell310` unfortunately not, but you can check this sample simulation using supervisor:

[https://cyberbotics.com/doc/guide/samples-devices#supervisor-wbt](https://cyberbotics.com/doc/guide/samples-devices#supervisor-wbt)

Then to end the simulation you can use the `wb_supervisor_simulation_quit` function: [https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_simulation\_quit](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_simulation_quit)

##### BreeTheBunny 05/13/2020 02:34:32
Hey guys, just want to ask if anyone knows where an image for a straight line is (for the floor)? I want the youbot to be able to follow a line.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/709956719119433768/unknown.png)
%end

##### Lussfer 05/13/2020 01:37:25
Is there a way to convert local coordinate to wgs84 gps coordinate?

##### TheOrangeOne 05/12/2020 19:05:11
Hello! Can anyone explain to me what the return value of `camera.get_orientation` is? It's 4 values, which according to the docs are in radians, but beyond that i'm not sure. Some bits of ROS documentation say it's `X, Y, Z, W` values for quarternions, but using that leads to values jumping all over the place when rotating the object around the axis i'm looking at

##### Simon Steinmann [Moderator] 05/12/2020 17:21:43
My guess would be, that there is a difference between the protos file and  the urdf file provided by universal robot (which get's loaded by the tf publisher, and which rviz uses to display the robot)


rviz shows the wrist 2 joint rotated 180Â°. Or to be more precise, the wrist\_2\_link coordinate frame is rotated around its z-achses (blue).  I have no idea how this error comes to be



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/709816531961511956/unknown.png)
%end


There is a werid issue with webots, ROS and the ur10e robot

##### jomell310 05/12/2020 14:47:13
> Oh ok, this case is a bit special, because it is not directly the supervisor that is stopping the simulation but the robobenchmark server that is sending the command

`@David Mansolino` Is there a sample World where there is a supervisor that ends the simulation if some event happens?

##### David Mansolino [cyberbotics] 05/12/2020 14:08:09
You're welcome

##### AyresAlmada 05/12/2020 14:07:09
> Ok, then it just means that the obstacle is too far compared to the default range of the distance sensor (which is by default 0.1m).

> You can change it from the lookup table of the sensor: [https://cyberbotics.com/doc/reference/distancesensor](https://cyberbotics.com/doc/reference/distancesensor)

`@David Mansolino` okay, i will try the lookup table. thanks

##### David Mansolino [cyberbotics] 05/12/2020 14:05:35
Ok, then it just means that the obstacle is too far compared to the default range of the distance sensor (which is by default 0.1m).

You can change it from the lookup table of the sensor: [https://cyberbotics.com/doc/reference/distancesensor](https://cyberbotics.com/doc/reference/distancesensor)

##### AyresAlmada 05/12/2020 14:03:33
> `@AyresAlmada` this simply means your robot is not seeing anything. Is the type of your distance sensor 'infra-red'?

`@David Mansolino` the type is sonar

##### David Mansolino [cyberbotics] 05/12/2020 14:02:08
> hi there. i want to use the distance sensor to let a robot find an arch and go through it. but the wb\_distance\_sensor\_get\_value always return the same distance value 1000. Any suggestions about how to solve this problem?

`@AyresAlmada` this simply means your robot is not seeing anything. Is the type of your distance sensor 'infra-red'?


> Hi all. I have a fluid I am rendering with a PBRA appearance (with partial transparency), and it looks great from outside of the water, but when the camera is submerged, the water dissapears from view entirely. Is there any way to fix this properly?

`@Rugnir` unfortunately object are visible only when you are outside of them so what you did is the only 'simple solution'. To have a better solution (but more complex to setup) you can once your viewpoint is below the surface of the water add a 'water plane' in front of the viewpoint (you will have to move the plane at each step so that it follows the viewpoint).

##### AyresAlmada 05/12/2020 13:58:54
hi there. i want to use the distance sensor to let a robot find an arch and go through it. but the wb\_distance\_sensor\_get\_value always return the same distance value 1000. Any suggestions about how to solve this problem?

##### jomell310 05/12/2020 12:25:15
> You have to right click on the supevisor (i.e. ``ObstacleAvoidanceBenchmark``) node in the scene tree.

`@David Mansolino` Okay found it in the Metric tab. I guess if I modify the supervisor code I could actually get the simulation to stop? I'm trying to basically get the score so I can tune some parameters

##### Rugnir 05/12/2020 12:24:31
Hi all. I have a fluid I am rendering with a PBRA appearance (with partial transparency), and it looks great from outside of the water, but when the camera is submerged, the water dissapears from view entirely. Is there any way to fix this properly?

##### David Mansolino [cyberbotics] 05/12/2020 12:22:08
You have to right click on the supevisor (i.e. ``ObstacleAvoidanceBenchmark``) node in the scene tree.

##### jomell310 05/12/2020 12:20:50
How can I open that window? Can't find it. I double clicked on the robot and I see the "Generic Robot Window [Thymio II]" but nothing happens when it crosses the line or crashes or the time expires

##### David Mansolino [cyberbotics] 05/12/2020 12:15:40
However, if you open the supervisor robot-window you will see that the metric stops when the robot touches an object


Oh ok, this case is a bit special, because it is not directly the supervisor that is stopping the simulation but the robobenchmark server that is sending the command

##### jomell310 05/12/2020 12:11:58
> `@jomell310` probably that your supervisor is not detecting the event correctly, have you tried printing something when it is supposed to stop the simulation?

`@David Mansolino` I haven't tried that since I was testing with the sample \sample\robotbenchmark\obstacle\_avoidance to see if it would actually work

##### David Mansolino [cyberbotics] 05/12/2020 11:40:49
> `@David Mansolino` Okay, so I do I need to setup anything? Because right now even if I run the sample project obstacle\_avoidance the simulation doesn't stop after the robot has crossed the line or crashed into something. In the console it says that the supervisor has been started though but It's not doing anything else

`@jomell310` probably that your supervisor is not detecting the event correctly, have you tried printing something when it is supposed to stop the simulation?


> Hello, I am programming robots in the Webots simulator. There is an example of a radar "radar.wbt", it is written in C++, is there an example of programming radar in Python?

`@Ð›ÐµÑ…Ð°_283` the example is written in C indeed, however, the Python radar API is available here and works almost the same way as for the other devices: [https://cyberbotics.com/doc/reference/radar?tab-language=python](https://cyberbotics.com/doc/reference/radar?tab-language=python)

##### jomell310 05/12/2020 11:20:46
> `@jomell310` as any regular controller process the supervisor is launched by Webots.

`@David Mansolino` Okay, so I do I need to setup anything? Because right now even if I run the sample project obstacle\_avoidance the simulation doesn't stop after the robot has crossed the line or crashed into something. In the console it says that the supervisor has been started though but It's not doing anything else

##### Ð›ÐµÑ…Ð°\_283 05/12/2020 10:30:58
Hello, I am programming robots in the Webots simulator. There is an example of a radar "radar.wbt", it is written in C++, is there an example of programming radar in Python?

##### lojik 05/12/2020 09:51:04
> `@lojik` that should not be possible indeed. Maybe one explanation could be that the resolution of the video is smaller than your regular resolution.

`@David Mansolino`



Thank you ðŸ‘Œ, it was also one of my intuitions but was not sure if webots disable something to record videos.

##### David Mansolino [cyberbotics] 05/12/2020 09:41:58
Not to a transform, but to a Solid node yes, the Supervisor can do this: [https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_add\_force](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_add_force)

##### Jeremy Jiang 05/12/2020 09:38:46
I also want to ask an another question.Is it possible to add an external force to a transform node?


Hello

##### David Mansolino [cyberbotics] 05/12/2020 08:44:13
It might be possible to correct this in your other software directly (I am usign Blender for example and it is possible).


This just means that the points of the indexedFaceSet are not correctly centered around the origin of your node, but the origin of the node is still 0,0,0

##### Jeremy Jiang 05/12/2020 08:39:59
Sorry, I don't understand what you mean... The model created using other software is imported as a whole  and all the transform nodes in the model are all (0,0,0). For example, the transform node is exactly the cuboid in this picture. I created a ball on this cuboid, the position of the transform node should be exactly close to the ball. However, the position of the ball is about (0.33, 0.18, 1.68) while the node is (0,0,0).
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/709686300235661322/unknown.png)
%end

##### David Mansolino [cyberbotics] 05/12/2020 08:28:18
Yes exactly. In that case it perfectly make sense to get (0,0,0) from the supervisor too. It seems the problem is more on your hierarchy side.

##### Jeremy Jiang 05/12/2020 08:27:04
Do you mean this? They are the same. (0,0,0)



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/709682909854040115/unknown.png)
%end

##### David Mansolino [cyberbotics] 05/12/2020 08:19:23
Can you compare it from what you get in the 'position' tab of the node editor (bottom part of the scene-tree) ?

##### Jeremy Jiang 05/12/2020 08:12:27
Well, thank you for your answer.In fact, maybe I know the reason why I cannot get the global position of the transform node. this model is created in the form of vrml using other software and then  imported as a whole. So when I use the api wb\_supervisor\_node\_get\_position , the result is (0,0,0). In this case, How can I get the realistic global position the transform node?

##### kwy 05/12/2020 08:11:41
thanks!

##### Olivier Michel [cyberbotics] 05/12/2020 08:09:34
You should stream the simulation: See [https://www.cyberbotics.com/doc/guide/web-streaming](https://www.cyberbotics.com/doc/guide/web-streaming)

##### kwy 05/12/2020 08:08:11
So can you give me some tips how can I open the robot window on my own browser ?ðŸ˜‚

##### Olivier Michel [cyberbotics] 05/12/2020 08:06:05
I don't know... Maybe you should try...

##### kwy 05/12/2020 08:04:28
thanks! Olivier. This is much better.



I have another question. I am using heat map to show a covariance array on RobotWindow, but when itâ€™s bigger than 50x50 , it refreshes poorly.(see video)



If I open the robotWindow in my own web browser, will it refresh better ?
> **Attachment**: [kwy.mp4](https://cdn.discordapp.com/attachments/565154703139405824/709677363964936242/kwy.mp4)

##### Olivier Michel [cyberbotics] 05/12/2020 07:52:20
`wb_supervisor_field_get_sf_vec3f` should return the relative position.


`wb_supervisor_node_get_position` should return the absolute position.

##### Jeremy Jiang 05/12/2020 07:50:00
Hello, I want to get the 3D position of the Transform node using the Supervisor controller. However, it seems that the api wb\_supervisor\_node\_get\_position or wb\_supervisor\_field\_get\_sf\_vec3f can only get the relative position of the node. So how can I get the global position of a node?

##### Olivier Michel [cyberbotics] 05/12/2020 06:10:24
See [https://visjs.github.io/vis-graph3d/examples/](https://visjs.github.io/vis-graph3d/examples/)


Maybe this one is even better for what you want to achieve: [https://visjs.org/](https://visjs.org/)

##### kwy 05/12/2020 05:52:33
wow Thanks!

##### Olivier Michel [cyberbotics] 05/12/2020 05:51:45
`@kwy`: it should be possible to draw simple 3D graphs such as yours using a HTML canvas and no WebGL. If you don't want to write your own 3D drawing functions, you can use some js libraries such as phoria.js: [http://www.kevs3d.co.uk/dev/phoria/](http://www.kevs3d.co.uk/dev/phoria/)

##### David Mansolino [cyberbotics] 05/12/2020 05:42:50
You're welcome

##### kwy 05/12/2020 05:37:25
ok , maybe I need to change my 3d graph to 2D..like heat map. thanks for your answer

##### David Mansolino [cyberbotics] 05/12/2020 05:30:40
> thanks. so it cant display 3D Graph? or is there any other method to show 3D Graph?

`@kwy` it might be possible to open the robot window in your own web browser and therefore use WebGL but this might require some minor modifications of the robot-window mechanism.

##### kwy 05/12/2020 05:28:30
thanks. so it cant display 3D Graph? or is there any other method to show 3D Graph?

##### David Mansolino [cyberbotics] 05/12/2020 05:25:55
> hallo, can Robot-window display  3D graphs? it seems not support WebGL, and I just tried to use echarts and highcharts, but neither can do it. I wanna get something like this .

`@kwy` if I am not wrong our html viewer embedded in Webots is not able to use WebGL.


> Hi, sorry to bother, but I'm a bit stuck at the moment:

> I'm trying to run the ObstacleAvoidance from robotbenchmark but I'm having trouble "running" the supervisor, I don't really understand how to execute it.

> I guess it's a really basic thing but can't figure out how it works.

> Thanks in advance!

`@jomell310` as any regular controller process the supervisor is launched by Webots.


> Hello everyone, small question:

> - Is it possible that the simulation is faster when we are recording a vidÃ©o? It is the case on one of our computer and we would like to understand what happens. Is there some properties that are disabled durin video recording on webots?

> 

> Thank you

`@lojik` that should not be possible indeed. Maybe one explanation could be that the resolution of the video is smaller than your regular resolution.

##### kwy 05/11/2020 23:29:03
hallo, can Robot-window display  3D graphs? it seems not support WebGL, and I just tried to use echarts and highcharts, but neither can do it. I wanna get something like this .
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/709547655616921680/unknown.png)
%end

##### jomell310 05/11/2020 17:42:02
Hi, sorry to bother, but I'm a bit stuck at the moment:

I'm trying to run the ObstacleAvoidance from robotbenchmark but I'm having trouble "running" the supervisor, I don't really understand how to execute it.

I guess it's a really basic thing but can't figure out how it works.

Thanks in advance!

##### lojik 05/11/2020 17:34:49
Hello everyone, small question:

- Is it possible that the simulation is faster when we are recording a vidÃ©o? It is the case on one of our computer and we would like to understand what happens. Is there some properties that are disabled durin video recording on webots?



Thank you

##### jomell310 05/11/2020 17:21:36
> `@jomell310` you might be interested by this doc: [https://cyberbotics.com/doc/guide/using-numerical-optimization-methods](https://cyberbotics.com/doc/guide/using-numerical-optimization-methods)

`@David Mansolino` Thanks!

##### Estelle 05/11/2020 15:15:34
Thank you~ I will check it.

##### David Mansolino [cyberbotics] 05/11/2020 15:11:33
You're welcome

##### Lussfer 05/11/2020 15:11:21
Awesome, thx David!

##### David Mansolino [cyberbotics] 05/11/2020 15:11:05
Hello, this probably comes from your Makefile or from a bad file extension of your code.

##### Estelle 05/11/2020 15:06:54
Hellow, how could I solve this problem?
%figure
![5210a182e31ff8bd.JPG](https://cdn.discordapp.com/attachments/565154703139405824/709421284551032926/5210a182e31ff8bd.JPG)
%end

##### David Mansolino [cyberbotics] 05/11/2020 15:04:33
Yes, you can find one here: [https://cyberbotics.com/doc/guide/samples-howto#supervisor\_draw\_trail-wbt](https://cyberbotics.com/doc/guide/samples-howto#supervisor_draw_trail-wbt)

##### Lussfer 05/11/2020 15:03:49
`@David Mansolino`


Is there a possible example for indexlineset? Just want to know how I can implement it.

##### Jeremy Jiang 05/11/2020 14:14:20
Okay, thank you.

##### David Mansolino [cyberbotics] 05/11/2020 14:11:31
Yes the Supervisor is the way to go, from the supervisor controller you can monitor the position of the objects and even move them, create new ones, remove some etc.

##### Jeremy Jiang 05/11/2020 14:10:17
Hello, I have built a world in Webots, and there are many objects such as obscles and balls (not robots). I want to create a controller for this world. By this controller, we can get information such as whether the obscles are collided or the positions of different objects all the time. How can I realize this goal? Is it possible to directly build a supervisor node and create the supervisor controller to realize my function?

##### David Mansolino [cyberbotics] 05/11/2020 13:38:48
You're welcome

##### Ork 05/11/2020 13:38:44
Thank you

##### David Mansolino [cyberbotics] 05/11/2020 13:38:27
This code for example allows you to create a Pillow image and save it:

```Python
    image = camera.getImage()
    pilImage = Image.frombytes('RGBA', (camera.getWidth(), camera.getHeight()), image, 'raw', 'BGRA')
    pilImage.save('my_image.png'))
```

##### Ork 05/11/2020 13:37:27
like png or jpg with color

##### David Mansolino [cyberbotics] 05/11/2020 13:37:14
And what do you mean by 'normal image' ?

##### Ork 05/11/2020 13:37:05
python

##### David Mansolino [cyberbotics] 05/11/2020 13:37:00
> How to convert the getimage function return to a normal image ?

`@Ork` in which language?

##### Ork 05/11/2020 13:36:46
How to convert the getimage function return to a normal image ?

##### Stefania Pedrazzi [cyberbotics] 05/11/2020 13:34:43
You're welcome!

##### Weiyi 05/11/2020 13:34:27
Thank you very much for your detailed help!!! I will learn and make it!ðŸ˜€

##### Stefania Pedrazzi [cyberbotics] 05/11/2020 13:32:40
You can add the bounding objects and physical nodes in the imported Transform nodes. Note that static objects doesn't need physical nodes but only bounding objects.

If you are new to Webots I recommend you to look at this Tutorial: [https://www.cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes](https://www.cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes)

##### Weiyi 05/11/2020 13:30:23
Sorry I' new to webots, should I add bounding object and physical properties in every Transform shown in my screenshot or  rebuild the whole track using webots?

##### Stefania Pedrazzi [cyberbotics] 05/11/2020 13:25:41
Hi `@Weiyi`, VRML is a graphical modeling language and doesn't have the notion of bounding object or physical properties, so it is not possible to import VRML models in Webots that already have bounding objects and physics properties set. But you have to set them directly in Webots.

##### Weiyi 05/11/2020 12:59:34
hello, I have make such a track for robots in the form of vrml using other software, but when I import it,  the track is recognized as many Transforms and has no bounding so the robot on the track will drop to the ground. How can I fix it?
%figure
![8728f23200303a06.png](https://cdn.discordapp.com/attachments/565154703139405824/709389237782315048/8728f23200303a06.png)
%end

##### yash 05/11/2020 12:32:39
Oh okay

##### Olivier Michel [cyberbotics] 05/11/2020 12:31:53
Then you should remove the Physics node from your LED device.

##### yash 05/11/2020 12:29:52
> `@yash`: I would recommend you to define it arbitrarily as a small Sphere if needed (but this normally not needed).

`@Olivier Michel`   The console displays a warning that mass is invalid because bounding object is not defined !

##### Olivier Michel [cyberbotics] 05/11/2020 12:07:49
`@yash`: I would recommend you to define it arbitrarily as a small Sphere if needed (but this normally not needed).


`@PÌ¸Ì”ÍoÌ´Í‘ÌiÌµÍ—ÍnÌ¸Ì„Ì›tÌ¶ÍŒÍ„`: depending on what you want to achieve, you may use Receiver and Emitter nodes.

##### yash 05/11/2020 11:50:55
How to specify bounding object for LED when itâ€™s children is a point light source .?

##### PÌ¸Ì”ÍoÌ´Í‘ÌiÌµÍ—ÍnÌ¸Ì„Ì›tÌ¶ÍŒÍ„ 05/11/2020 11:16:04
is there a sensor that can be used as sound sensor?

##### Rodeknopje 05/11/2020 11:03:39
> You can use the PositionSensors device of the joint to get the updated position: [https://cyberbotics.com/doc/reference/positionsensor](https://cyberbotics.com/doc/reference/positionsensor)

`@David Mansolino` 

thanks i got it working

##### Aan 05/11/2020 11:01:17
> `@Aan` at the moment Webots doesn't have any microphone device to detect sound sources in a simulation. But it's already in our plan to add it.

> However you could cheat and get the Speaker node (or any placeholder node for the sound source) position using the Supervisor API (for example [https://www.cyberbotics.com/doc/reference/supervisor?tab-language=c++#wb\_supervisor\_node\_get\_position](https://www.cyberbotics.com/doc/reference/supervisor?tab-language=c++#wb_supervisor_node_get_position))

`@Stefania Pedrazzi` 



Thank you

##### David Mansolino [cyberbotics] 05/11/2020 10:39:41
Hi `@sinancimen` have you tried reducing the time step or playing with the worlfinfo parameters (such as ERP and CFM) ?

##### sinancimen 05/11/2020 09:55:42
Hey David, you helped on the problem I had last week and solved it but, I am facing another problem now. I couldn't understand why hingejoints' axes are acting weird. The parts of the hinge become seperated after some time. Do you have any idea about this? Thank you...
> **Attachment**: [ball\_beam.rar](https://cdn.discordapp.com/attachments/565154703139405824/709342967084744704/ball_beam.rar)

##### David Mansolino [cyberbotics] 05/11/2020 09:36:39
You can use the PositionSensors device of the joint to get the updated position: [https://cyberbotics.com/doc/reference/positionsensor](https://cyberbotics.com/doc/reference/positionsensor)

##### Rodeknopje 05/11/2020 09:21:23
sorry i meant, how can you check for it in code

##### Olivier Michel [cyberbotics] 05/11/2020 09:20:45
(the children part of the motor actually)


Simply select the motor and you should see its wireframe bounding object rotating.

##### Rodeknopje 05/11/2020 09:19:59
How can i check if my rotational motor is rotating?

##### David Mansolino [cyberbotics] 05/11/2020 08:18:01
> Is there a way to exactly turn 90 degrees ? Use a compass ?

`@Ork` yes you can use a compass indeed. Please find also a smiliar question here: [https://stackoverflow.com/questions/59458686/webots-e-puck-turn-90-degrees](https://stackoverflow.com/questions/59458686/webots-e-puck-turn-90-degrees)


> My webots program runs instantly on Python 3 but slowly on Python 2 (as in you'll see each print appear one by one in the console)

> Any idea why this is please?

`@Doc` it should be almost the same regardless of the version of python, can you open an issue to report this (including a sample world + controller reprocuing the issue)? Thank you.

[https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)


> Is there any way to import Solidworks assemblies? (in R2020b). I import as .obj files but I need to import geometries part by part. Any way to preserve their locations and import?

`@sinancimen` in R2020b the followig format are support for importation ([https://cyberbotics.com/doc/guide/the-user-interface?version=develop#file-menu](https://cyberbotics.com/doc/guide/the-user-interface?version=develop#file-menu)): 

    3D Studio mesh files (.3ds).

    Blender files (.blend).

    Biovision Hierarchy files (.bvh).

    Collada files (.dae).

    Filmbox files (.fbx).

    STL files (.stl).

    VRML files (.wrl).

    Wavefront files (.obj).

    X3D files (.x3d).

Maybe you can use another format than obj that is supporting multi-parts (-dae or .fbx for example).


> Is there a way to draw a line between two gps points?

`@Lussfer` Yes of course, you can use an indexedLineSet node for example: [https://cyberbotics.com/doc/reference/indexedlineset](https://cyberbotics.com/doc/reference/indexedlineset)

##### Stefania Pedrazzi [cyberbotics] 05/11/2020 08:11:21
`@Mohai` `.log` file is not Webots files. A valid Webots world file should have `.wbt` format.

Alternatively other formats are also support for importing objects ina world (like `.proto`, `.wbo`, `.vrml`).

##### Ork 05/11/2020 08:07:37
Is there a way to exactly turn 90 degrees ? Use a compass ?

##### David Mansolino [cyberbotics] 05/11/2020 07:01:58
> Hi! I'm really new to webots. I'm trying to get better at the robotbenchmark task of Obstacle Avoidance, I have to use a braitenberg approach, I can't use any If-else statements. I was thinking on using reinforcement learning to tune the parameters. Two things, how can I stop the simulation and give the score like they to in robotbenchmark so like stop it if the robot crashes, crosses the line or takes longer than a minute 20. And also any advice or something to look for implementing reinforcement learning, don't have much experience in that either... Thanks in advance!

`@jomell310` you might be interested by this doc: [https://cyberbotics.com/doc/guide/using-numerical-optimization-methods](https://cyberbotics.com/doc/guide/using-numerical-optimization-methods)


`@erdanielx` you have to modify your Makefile and add a runtime.ini file next to your controller, here is an example: [https://github.com/cyberbotics/webots/tree/master/projects/vehicles/controllers/VehicleDriver](https://github.com/cyberbotics/webots/tree/master/projects/vehicles/controllers/VehicleDriver)


> `@David Mansolino`

`@WAYWARD` I am sorry but the world you sent me is just a set of independant `Transform` node, you should move them in a `Robot`node and probably transform them into `Solid` nodes. If not already done I would suggest followign this tutorial to understand how to create your own robot model: [https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot](https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot)

##### Stefania Pedrazzi [cyberbotics] 05/11/2020 06:40:45
`@Weiyi` there are different methods that you could use to model a barrier, here are a youple of suggestions:

1. passive: Add a big bounding object to the barrier and a DistanceSensor to the car that will detect it: when the barrier will be lifted the distance sensor value changes and the car can continue

2. active: add Emitter/Receiver nodes to the barrier and to the car that will communicate: the barrier could emit continuously a message indicating its status open/closed or the car could request the status when it approaches


`@Simon Steinmann` usually the nightly build are available as compiled packages that you just have to download and install. Just click on the Assets drop down menu and pick your package: [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)

It can happen that some errors occur during the nightly build and thus some packages are missing for a particular day but usually all the packages are available.

The difference between the current two versions is that R2020a revision 2 contains is fixed version completely compatible with R2020a, and R2020b contains new features and changes that could break the compatibility with the previous version of Webots.


`@Aan` at the moment Webots doesn't have any microphone device to detect sound sources in a simulation. But it's already in our plan to add it.

However you could cheat and get the Speaker node (or any placeholder node for the sound source) position using the Supervisor API (for example [https://www.cyberbotics.com/doc/reference/supervisor?tab-language=c++#wb\_supervisor\_node\_get\_position](https://www.cyberbotics.com/doc/reference/supervisor?tab-language=c++#wb_supervisor_node_get_position))


`@Alejandro Pescathore` here you can find the detailed description of the friction approximation made by the physical engine ODE used by Webots: [http://ode.org/wiki/index.php?title=Manual#Friction\_Approximation](http://ode.org/wiki/index.php?title=Manual#Friction_Approximation). Unfortunately I don't have any calibrated values for contact properties between rubber and wood.

##### Mohai 05/11/2020 02:24:17
Hi , i am very new to webots and robotics, my teacher sent me a file but i couldn't open it using webots , the file format is text document .log , anyone can help me please?

##### Lussfer 05/10/2020 22:56:34
Is there a way to draw a line between two gps points?

##### Ork 05/10/2020 17:54:23
Is there a way to exactly turn 90 degrees ? Use a compass ?

##### sinancimen 05/10/2020 17:16:43
Is there any way to import Solidworks assemblies? (in R2020b). I import as .obj files but I need to import geometries part by part. Any way to preserve their locations and import?

##### Doc 05/10/2020 10:23:42
My webots program runs instantly on Python 3 but slowly on Python 2 (as in you'll see each print appear one by one in the console)

Any idea why this is please?


Hi again

##### jomell310 05/10/2020 06:38:49
Hi! I'm really new to webots. I'm trying to get better at the robotbenchmark task of Obstacle Avoidance, I have to use a braitenberg approach, I can't use any If-else statements. I was thinking on using reinforcement learning to tune the parameters. Two things, how can I stop the simulation and give the score like they to in robotbenchmark so like stop it if the robot crashes, crosses the line or takes longer than a minute 20. And also any advice or something to look for implementing reinforcement learning, don't have much experience in that either... Thanks in advance!

##### Aan 05/10/2020 06:22:47
You are welcome

##### BreeTheBunny 05/10/2020 04:51:16
`@Aan` thank you!

##### Aan 05/10/2020 01:58:48
`@BreeTheBunny` you can add sensor in body slot

##### BreeTheBunny 05/09/2020 23:46:53
Hey I'm extremely new to robotics as well as webots. I'm curious as to how to modify a pre-existing robot (like youbot). I'd like to add distance and line sensors. Is that possible or is better to just start from scratch? I originally made my own but adding/find a claw was difficult. I'm assuming I can just add sensors by using #include \_\_\_\_\_\_ One of my main problems is simply adding lines for a robot to follow. Is there a video or possible tutorial that could help me? I've already visited the tutorials on the official site.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/708827364205002782/unknown.png)
%end

##### erdanielx 05/09/2020 20:19:47
error: cannot find symbol

import com.cyberbotics.webots.controller.Car;


These are the two errors: error: package com.cyberbotics.webots.controller.vehicle does not exist


Hi, why is it that I can't access any of the Driver or Car functionalities? I get an error when Building stating that those two symbols can't be found (I'm using Java). Is this  problem with my installation?

##### lojik 05/09/2020 16:21:17
But I am not totally convinced with this solution ..


Finally I obtained something not too bad with 0.8 as a friction coulomb and 0.001 as a forceDependentSlip (if it is smaller it produce non symmetric results)


`@Alejandro Pescathore` as I understand, on webots coulomb friction work as follow:

1. while there is no force bigger than <coulomb friction>*<normal force at this point> the two object will not slip pass each other

2. as soon as you have a force bigger than the one set with coulomb friction (in point 1.), you will have a speed equal to the <force acting on your object>*<forceDependentSlip cofficient set>



Coulomb friction coefficients bigger than one are physically correct.



But even with these informations I can not set a frottement that is physically satisfaying on my side too... Do someone has good tricks to have good results with a four wheeled robot turning on spot using differential wheels ? As soon as I test it on inclined plan it will just slip down the slope.

##### Simon Steinmann [Moderator] 05/09/2020 13:32:47
and what is the difference between 2020a and b?


Hi, I want to install the latest nightly build. Do I have to compile it myself or do I use this? [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases) Are these the newest compiles?

##### Weiyi 05/09/2020 02:19:35
Hello, how can I make such a object so that it can let go or stop cars?
%figure
![images.jpg](https://cdn.discordapp.com/attachments/565154703139405824/708503404816760842/images.jpg)
%end

##### Aan 05/09/2020 00:32:22
Is there any sensor to know where the sound coming from? Is it possible using speaker node to represent sound source?

##### WAYWARD 05/08/2020 19:06:11
> `@David Mansolino`
> **Attachment**: [final\_assem.SLDASM](https://cdn.discordapp.com/attachments/565154703139405824/708394337574191124/final_assem.SLDASM)


> `@WAYWARD` yes of course you can send them here directly.

`@David Mansolino`
> **Attachment**: [SnakeBot.wbt](https://cdn.discordapp.com/attachments/565154703139405824/708394052608852038/SnakeBot.wbt)

##### Alejandro Pescathore 05/08/2020 17:49:38
Hello there, I have a question, how coulomb friction works in Webots? I understand that it is a factor between 0-1 and it is related to the normal force, but in webots I can specify values â€‹â€‹between 0 and infinity. What is the appropriate value to simulate the friction between rubber and wood?

##### yash 05/08/2020 17:36:16
> See the samples / devices / led.wbt

`@Olivier Michel`   Okay !


So but is it possible to ON /Off the LED when the child is point light ?

##### Olivier Michel [cyberbotics] 05/08/2020 17:35:33
See the samples / devices / led.wbt


Yes. But you can put a point light or a spot light in a LED.

##### yash 05/08/2020 17:15:28
Is it necessary that a light source such as point light or spot light must be present to percept the amount of light by the light sensor .?


I am using LED and itâ€™s first child as shape .... when I glow the LED the light sensor doesnâ€™t detect any output ! 

What could be the issue ?

##### lojik 05/08/2020 16:06:11
Ok, thank you very much for your help. That makes it clearer.

##### Olivier Michel [cyberbotics] 05/08/2020 16:05:01
That's correct.

##### lojik 05/08/2020 16:03:56
`@Olivier Michel` Thank you for both of your answers.

- I will take a look on the PID part to try finding why it is not working.

- So if I do not have the same result on each experiment I should have a look on my controller instead of webots ? There is no parameters inside webots that makes it non deterministic ?

##### Professor Felix 05/08/2020 15:58:08
thank you

##### Olivier Michel [cyberbotics] 05/08/2020 15:57:55
`@Professor Felix`: your approach seems good.


About determinism. Yes: Webots is deterministic. The same noise seed is applied when you run twice the same simulation, so that you should obtain the very same results. If you want it to be non deterministic, you can simply have your controller wait for some random amount of time (using a time-based seed) before starting to move the robot and you will get non-reproducible results.


`@lojik`: the PID control is performed here: [https://github.com/cyberbotics/webots/blob/master/src/webots/nodes/WbMotor.cpp#L248-L260](https://github.com/cyberbotics/webots/blob/master/src/webots/nodes/WbMotor.cpp#L248-L260). I would recommend you to recompile Webots from the source and add some printf statements here, so that you can better understand what's wrong with your approach.

##### Professor Felix 05/08/2020 15:49:49
hello, I just had one small question. Theoretically, what is the best way to get a live video feed into a working program memory (for example, storing the pixels as a Tensor)? I'm assuming i'd just use the wb\_camera\_get\_image for every frame and then store every frame together, but I was wondering if anyone had some better suggestions

##### lojik 05/08/2020 15:40:19
Hello everyone, I am new on this discord.



I'm using webots on a master project and have some questions :

- I am trying to overshoot my webots PIDs without realistic success. Is it better to implement a custom PID in the controller directly or could I missed something in the simulation that makes my webots PIDs unrealistic ?

- Are the simulation with webots deterministics or there is always some noise automatically added to make them more realistic but not deterministic ?



Thank you in advance for your help. I can provide parameters if it is needed to better understand my questions.

Louis

##### Rhino 05/08/2020 15:29:48
doesn't work otherwise


whats weird about this is it only seems to work with size and tile size are the same


it does seem to work on floor

##### David Mansolino [cyberbotics] 05/08/2020 15:24:34
Can you try the same on the 'Floor' node?

##### Rhino 05/08/2020 15:22:15
i tried running the vehicle over a small stripe of road but that still didn't work
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/708337981513269248/unknown.png)
%end


i can give that a try

##### David Mansolino [cyberbotics] 05/08/2020 15:19:28
Can you try splitting the road in smaller sub-roads (PEN works better with smaller objects) ?

##### Rhino 05/08/2020 15:16:53
`@David Mansolino` these are the parameters of the road object i am trying to write on with pen
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/708336633870680094/unknown.png)
%end

##### Olivier Michel [cyberbotics] 05/08/2020 15:10:54
You are welcome.

##### Doc 05/08/2020 15:10:38
Yeah looks like it was the back wheel which was causing all the problems, thank you ðŸ™‚


Right I'll give that a go, thanks

##### Olivier Michel [cyberbotics] 05/08/2020 15:02:32
I see... I would replace it with a sphere and set a very low friction on it.

##### Doc 05/08/2020 15:02:04
it's motorised but the speed is set to 0 (which is probably part of the problem)

##### Olivier Michel [cyberbotics] 05/08/2020 15:01:43
Is the big back wheel a motorized wheel or is it passive?

##### Doc 05/08/2020 15:01:33
They are on two separate rotational motors and I can definitely control then independently

##### Olivier Michel [cyberbotics] 05/08/2020 15:01:01
Did you check that the wheels are independent?

##### Doc 05/08/2020 15:00:54
I can see the wheels spinning at the right speeds.

Do you know any leads for what I could check/read to solve this issue please?


But no matter the difference, it always drives forward. It's like there's so much sideways friction that it will only go forwards and backwards?


My friend made this bot and I'm trying to steer it by moving the front wheels at different speeds
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/708332216538628146/unknown.png)
%end


Hiya, I'm new to webots

##### Dobby 05/08/2020 14:36:55
So I should change my if's aswell I reckon


Allright, I see! ðŸ˜„

##### David Mansolino [cyberbotics] 05/08/2020 14:15:21
You are trying the Webots C API in a C++ controller.

For C++ you should instead use the Robot::wwiReceive function: [https://cyberbotics.com/doc/reference/robot?tab-language=c++#wb\_robot\_wwi\_receive](https://cyberbotics.com/doc/reference/robot?tab-language=c++#wb_robot_wwi_receive)

##### Dobby 05/08/2020 14:13:44

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/708320741086593135/unknown.png)
%end


Where should I declare a receive text in cpp?

##### David Mansolino [cyberbotics] 05/08/2020 14:07:44
You're welcome

##### yash 05/08/2020 14:04:05
Okay , understood ðŸ‘. Thanks !

##### David Mansolino [cyberbotics] 05/08/2020 14:02:15
> I am using a light sensor to detect a light source .... so is it possible to get separate RGB values of the detected light as output using this light sensor?

`@yash` not directly, however you can put color filters on light sensors, yo sou can put 3 light sensors, each with one different color filter to detect the RGB values: [https://www.cyberbotics.com/doc/reference/lightsensor#field-summary](https://www.cyberbotics.com/doc/reference/lightsensor#field-summary)


> what does this mean?

`@lshil` it means that your controller is either not responsive anymore or does not check for the returned value of the step function (if the returned value is equal to `-1.0` your controller should exit).

##### yash 05/08/2020 13:52:07
I am using a light sensor to detect a light source .... so is it possible to get separate RGB values of the detected light as output using this light sensor?

##### lshil 05/08/2020 13:49:30
what does this mean?


WARNING: Quadruped\_Robot: Forced termination (because process didn't terminate itself after 1 second).

##### David Mansolino [cyberbotics] 05/08/2020 13:20:27
You're welcome!

##### Dobby 05/08/2020 13:12:57
Aah thanks, that'll help a ton! ^^

##### David Mansolino [cyberbotics] 05/08/2020 13:11:24
The message sent from the robot windows JS are interpreted by the controller here: [https://github.com/cyberbotics/webots/blob/master/projects/robots/mobsya/thymio/controllers/thymio2\_demo/thymio2\_demo.c#L163-L185](https://github.com/cyberbotics/webots/blob/master/projects/robots/mobsya/thymio/controllers/thymio2_demo/thymio2_demo.c#L163-L185)

##### Dobby 05/08/2020 13:09:07

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/708304479577178122/unknown.png)
%end


It does launch then but the controls dont work, and I was looking for an example to stop the motors or slow them down, but I couldnt find them anywhere in the thymio2 controller code that was provided, so I couldnt really implement it into our robot yet


Ah yes I have used that before I tried the simple version, but then I couldnt find the functions in the controller anywhere, so I was wondering where those functions are made.

##### David Mansolino [cyberbotics] 05/08/2020 13:01:36
You might be interested by this html robot-windows that allow to control the Thymio II robot directly (which looks similar to your case): [https://github.com/cyberbotics/webots/tree/master/projects/robots/mobsya/thymio/plugins/robot\_windows/thymio2](https://github.com/cyberbotics/webots/tree/master/projects/robots/mobsya/thymio/plugins/robot_windows/thymio2)

##### Dobby 05/08/2020 13:00:09

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/708302223142027355/unknown.png)
%end



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/708302201310806056/unknown.png)
%end


I am trying to get the window to work for our robot so we can control it through the robot, I used the simple example html in the how to section. But for some reason it doesn't find it

##### David Mansolino [cyberbotics] 05/08/2020 05:18:05
Which size has your floor object?

##### Rhino 05/07/2020 16:23:21
I am trying to use PEN sensor on my vehicle with following parameters but doesn't seem to work, am i missing something?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/707990970993475635/unknown.png)
%end

##### David Mansolino [cyberbotics] 05/07/2020 14:01:32
You're welcome!

##### sinancimen 05/07/2020 14:01:14
It works! thank you so so much for your help.

##### David Mansolino [cyberbotics] 05/07/2020 13:36:20
Here is a very draft version of this.
> **Attachment**: [empty3.wbt](https://cdn.discordapp.com/attachments/565154703139405824/707948938723983360/empty3.wbt)


I checked your simulation, the biggest issue I see is that the weight of the 'BEAM\_BASE' solid is extremely big. I assume this is to simulate the fact that it is part of the ground and can't move ?

Instead of using a very heavy mass, it is better to set the endpoint of the joint to be a 'SolidReference' node and to set the name to ``<static environment>`, this way the end of the joint will be locked to the environment: [https://cyberbotics.com/doc/reference/solidreference](https://cyberbotics.com/doc/reference/solidreference)

##### sinancimen 05/07/2020 13:02:02
Thank you so much for sparing your time

##### David Mansolino [cyberbotics] 05/07/2020 13:01:50
thank you, I will try it

##### sinancimen 05/07/2020 13:01:33

> **Attachment**: [ball\_beam.rar](https://cdn.discordapp.com/attachments/565154703139405824/707940186897776680/ball_beam.rar)

##### David Mansolino [cyberbotics] 05/07/2020 10:55:35
Can you share you world file so that I can have a look at the problem in real?

##### sinancimen 05/07/2020 10:12:23
`@David Mansolino` Thanks for replying David. The thing is when I make the beam endpoint for the first hinge and then add the second hinge joint as a children of the beam, second hinge is rotating the base, not the beam.
%figure
![unnamed.png](https://cdn.discordapp.com/attachments/565154703139405824/707897615387197451/unnamed.png)
%end

##### David Mansolino [cyberbotics] 05/07/2020 09:18:18
You're welcome.

##### Ork 05/07/2020 09:18:10
Thank you

##### David Mansolino [cyberbotics] 05/07/2020 09:15:23
You can get the camera raw image from your python controller and send it to whatever you want, or save the image to a file and then use this file from html.

Here is an example in Python where the camera image is sent to a custom html robot window that you can use as a base to write your own export: [https://github.com/cyberbotics/webots/blob/master/projects/samples/robotbenchmark/visual\_tracking/controllers/visual\_tracking/visual\_tracking.py#L34](https://github.com/cyberbotics/webots/blob/master/projects/samples/robotbenchmark/visual_tracking/controllers/visual_tracking/visual_tracking.py#L34)

##### Ork 05/07/2020 09:11:56
I wanna show the camera output in html , but not with the integrated web streamer , How would i do that ? (in Python)

##### David Mansolino [cyberbotics] 05/07/2020 05:02:45
> I have an e-puck2 robot which I'll be working with. I want to first use the e-puck driver provided here ([https://www.gctronic.com/doc/index.php?title=e-puck2\_PC\_side\_development#Connecting\_to\_the\_Bluetooth](https://www.gctronic.com/doc/index.php?title=e-puck2_PC_side_development#Connecting_to_the_Bluetooth)) on webots simulator to write and simulate my additional scripts. However, there's no support on how to go about interfacing this driver with webots. I tried following the support provided based on ROS-Hydro for e-puck1 here ([https://www.gctronic.com/doc/index.php?title=E-Puck#ROS](https://www.gctronic.com/doc/index.php?title=E-Puck#ROS)), but the epuck-webots slam didn't work. I followed a tutorial on how to interface ros with webots and run all examples successfully. Does anyone know how I can successfully interface the driver so I could start my simulation?

`@yusah` you will find some information about how to interface the real e-puck with Webots here: [https://cyberbotics.com/doc/guide/epuck#control-interface](https://cyberbotics.com/doc/guide/epuck#control-interface)

For any question about the real robot, please get in touch with the support of GCTronic directly.


Hi, you simply need to have one more solid has endpoint of the first hinge and then add a second hinge in the children of this Solid.

If this is not clear can you please provide a drawing of the mechanism you want to simulate and where exactly is the problematic part.

##### sinancimen 05/06/2020 22:49:10
Hi, I am trying to build a ball-and-the-beam experiment setup on Webots. The thing is, I need 2 hinge joints on the beam. However, I could not figure out how can I make the beam end point for 2 hinge joints. Any suggestions?

##### yash 05/06/2020 18:36:31
> The next thing to check is the joint structure of your robot.

`@Olivier Michel`  had problem with joint position , the issue is solved. ThanksðŸ‘

##### yusah 05/06/2020 18:26:55
I have an e-puck2 robot which I'll be working with. I want to first use the e-puck driver provided here ([https://www.gctronic.com/doc/index.php?title=e-puck2\_PC\_side\_development#Connecting\_to\_the\_Bluetooth](https://www.gctronic.com/doc/index.php?title=e-puck2_PC_side_development#Connecting_to_the_Bluetooth)) on webots simulator to write and simulate my additional scripts. However, there's no support on how to go about interfacing this driver with webots. I tried following the support provided based on ROS-Hydro for e-puck1 here ([https://www.gctronic.com/doc/index.php?title=E-Puck#ROS](https://www.gctronic.com/doc/index.php?title=E-Puck#ROS)), but the epuck-webots slam didn't work. I followed a tutorial on how to interface ros with webots and run all examples successfully. Does anyone know how I can successfully interface the driver so I could start my simulation?

##### dralorg 05/06/2020 17:36:06
Great, it works, thank you very much!

##### Olivier Michel [cyberbotics] 05/06/2020 17:34:45
Don't forget that the `Supervisor` class inherits from the `Robot` class, so all its methods can be used the same way.


you should simply call `supervisor.getPositionSensor('wheel1Sensor')`.

##### dralorg 05/06/2020 17:28:18
Hi, I'm trying to get the rotation of the robot frame respect to the world frame. I achieved that by doing:

    supervisor = Supervisor()

    robot\_node = supervisor.getFromDef("youbot")

    orientation = robot\_node.getOrientation()



But then my old code where I retrieved the encoders:

    robot = Robot()

    robot.getPositionSensor('wheel1sensor')



Is complaining that "Only one instance of the Robot class should be created"



Then if I try to get the same encoders but with the robot\_node:

    supervisor = Supervisor()

    robot\_node = supervisor.getFromDef("youbot")

    robot\_node.getPositionSensor('wheel1sensor')



It complains like: "AttributeError: 'Node' object has no attribute 'getPositionSensor'"



Is it possible to get the encoders from the supervisor mode?

##### Tahir [Moderator] 05/06/2020 16:33:00
OK I will check that

##### Olivier Michel [cyberbotics] 05/06/2020 16:28:38
Yes, you should create a correct project folder hierarchy.

##### Tahir [Moderator] 05/06/2020 16:27:49
because in the main window with the world file name it is written 'No Project'


may be this is because I dont have a project just only .wbt file and protos folder


this happens to all other protos to my working directory as well


proto name is consistent as the file name and in the deifnition


no its a dummy just for the sake of info

##### Olivier Michel [cyberbotics] 05/06/2020 16:24:01
Your proto is named "robot"?

##### Tahir [Moderator] 05/06/2020 16:23:45
any insights on this issue


ERROR: '/home/tahir/mbs\_robot/mbs\_models/robot\_v1.wbt':15:1: error: Skipped unknown 'robot' node or PROTO.


My webots world is behvaing strange.

I have a robot proto node which is in protos folder. When I insert the proto in the world everything works fine. When I reload/restart webots I get error and the proto is not present in the scene treen. If I convert it in base node or insert Webots proto everythings work fine.

##### yash 05/06/2020 14:35:04
let me have a look again

##### Olivier Michel [cyberbotics] 05/06/2020 14:34:14
Did you follow this tutorial: [https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot](https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot) and the previous one to understand how to define the mechanical structure of a robot?


The next thing to check is the joint structure of your robot.


If you didn't set anything here, it should be OK.


It's based on the density information and the bounding object.

##### yash 05/06/2020 14:31:54
its the default value i guess

##### Olivier Michel [cyberbotics] 05/06/2020 14:31:23
So the mass is in there.

##### yash 05/06/2020 14:30:59
yes

##### Olivier Michel [cyberbotics] 05/06/2020 14:30:46
Does your model have Physics nodes?

##### yash 05/06/2020 14:26:33
specified*


I have not specifies any mass

##### Olivier Michel [cyberbotics] 05/06/2020 14:20:37
Is the mass distribution correct?

##### yash 05/06/2020 13:58:55
seems right but the problem still exists


> Hello ! I have newly imported my CAD model.

> When I run the simulation for a controller code , the robot tilts a bit and one wheel moves upward in the air

checked the bounding objects

##### Tahir [Moderator] 05/06/2020 13:55:34
Thank you the problem is fixed

##### David Mansolino [cyberbotics] 05/06/2020 13:45:45
I may have fix the problem here:

[https://github.com/cyberbotics/urdf2webots/pull/43](https://github.com/cyberbotics/urdf2webots/pull/43)

May I try to retry the importation from the `fix-def-name` branch?

##### Tahir [Moderator] 05/06/2020 13:36:37
OK thank you

##### David Mansolino [cyberbotics] 05/06/2020 13:36:22
I think I understand the issue, let me try to fix it.

##### Tahir [Moderator] 05/06/2020 13:28:05
The model is different in the proto on github also I need two other models which are not already there



> **Attachment**: [message.txt](https://cdn.discordapp.com/attachments/565154703139405824/707584289486929940/message.txt)

##### David Mansolino [cyberbotics] 05/06/2020 13:25:15
About your issue, can you share the first 25 lines of the generated PROTO ?


Just for the note, a user tried to create a model of this gripper, you can find the current progress here: [https://github.com/cyberbotics/webots/pull/1351](https://github.com/cyberbotics/webots/pull/1351)

##### Tahir [Moderator] 05/06/2020 13:24:07
any insights on how to debug this


ERROR: '/home/tahir/mbs\_warthog/mbs\_models/gripper.wbt':19:39: error: Expected node or PROTO name, found '{'.

ERROR: '/home/tahir/mbs\_warthog/mbs\_models/gripper.wbt': Failed to load due to syntax error(s).


but after the conversion the proto node gives the error


I have converted robotiq 2f gripper using URDF2Webots

##### yash 05/06/2020 12:46:14
Okay let me check

##### Olivier Michel [cyberbotics] 05/06/2020 12:45:12
`@yash`: it could be a problem with the bounding object of the robot.

##### yash 05/06/2020 12:43:59
As you can see in the picture
%figure
![image0.jpg](https://cdn.discordapp.com/attachments/565154703139405824/707573377661141022/image0.jpg)
%end


What could be the issue


Hello ! I have newly imported my CAD model.

When I run the simulation for a controller code , the robot tilts a bit and one wheel moves upward in the air

##### Mathie20 05/06/2020 12:37:15
ok

##### David Mansolino [cyberbotics] 05/06/2020 12:35:51
Ok, in that case it looks indeed like a bug, can you please fill a bug report here and I will have a look when I have the time:

[https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

Thank you.

##### Mathie20 05/06/2020 12:34:51
sorry it is APT


from sources. as it says on website root etc

##### David Mansolino [cyberbotics] 05/06/2020 12:31:11
How did you install the webots\_ros package, from sources? From APT ?

##### Mathie20 05/06/2020 12:30:35
im using webots R2020a revision 1. yes...

##### David Mansolino [cyberbotics] 05/06/2020 12:29:40
Which version of Webots are you using? And how did you install the webots\_ros package?

##### Mathie20 05/06/2020 12:28:54
`@David Mansolino`  hi everytime i do rostopic echo /Littlehelper8/cameras/recognition\_objects i get this error
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/707569584189734962/unknown.png)
%end

##### David Mansolino [cyberbotics] 05/06/2020 11:02:27
It probably will ðŸ˜‰

##### adaptive 05/06/2020 11:02:13
ok that sounds fun^^

##### David Mansolino [cyberbotics] 05/06/2020 11:01:56
You can do whatever you want since Webots controller are regular programm, but you will have to code yourself the interface between your controller and the Kinect.

##### adaptive 05/06/2020 11:01:09
Can I use my Kinect v2 with skelleton-tracking for manipulating Robot-Aktors in Webots?

##### David Mansolino [cyberbotics] 05/06/2020 11:00:46
You're welcome

##### Estelle 05/06/2020 11:00:32
Thank you~

##### David Mansolino [cyberbotics] 05/06/2020 10:59:00
Each robot will have it's own controller process (which can be the same executable or different ones).

##### Estelle 05/06/2020 10:58:05
Should their controllers run separately?

##### David Mansolino [cyberbotics] 05/06/2020 10:55:14
Yes of course you can have as many robots as you want (as long as your computer is powerful enough to handle them).

##### Estelle 05/06/2020 10:54:39
could I have two robot in one world?

##### Olivier Michel [cyberbotics] 05/06/2020 09:55:55
Yes, you should get the image from a camera embedded on your robot/vehicle.

##### adaptive 05/06/2020 09:51:10
Am I right that I can Use the roadpicture Information drawn in the webots world with OpenCV to implement lane-detection?

##### David Mansolino [cyberbotics] 05/06/2020 07:37:07
> `@David Mansolino`  Should I look at "Com example"?

>  [https://github.com/cyberbotics/webots/tree/master/projects/samples/howto/worlds/center\_of\_mass.wbt](https://github.com/cyberbotics/webots/tree/master/projects/samples/howto/worlds/center_of_mass.wbt)

`@elkelkmuh` no, to the 'custom\_html\_robot\_window.wbt' one.


> I dont get how the const ptr is done. How do you know whether its image, values or target etc...

`@Mathie20` you don't really care, this is just a name, you have to define it in your callback header but you can set the name you want., only the type is important

##### elkelkmuh 05/06/2020 07:35:10
`@David Mansolino`  Should I look at "Com example"?

 [https://github.com/cyberbotics/webots/tree/master/projects/samples/howto/worlds/center\_of\_mass.wbt](https://github.com/cyberbotics/webots/tree/master/projects/samples/howto/worlds/center_of_mass.wbt)

##### Mathie20 05/06/2020 07:32:57
I dont get how the const ptr is done. How do you know whether its image, values or target etc...

##### David Mansolino [cyberbotics] 05/06/2020 07:28:45
> I am struggling to make topic work. For objectrecognition with camera on ROS. I get some errors saying dropping connections and i cant echo the topic.

`@Mathie20` here it is: [https://stackoverflow.com/questions/61620055/a-c-code-that-needs-to-be-translated-to-c-ros?answertab=oldest#tab-top](https://stackoverflow.com/questions/61620055/a-c-code-that-needs-to-be-translated-to-c-ros?answertab=oldest#tab-top)


In that case you can either open a window from your controller (using the language and framework of your choice) either use the robot-window to plot your data, here is a very simple example of custom robot-window: [https://cyberbotics.com/doc/guide/samples-howto#custom\_html\_robot\_window-wbt](https://cyberbotics.com/doc/guide/samples-howto#custom_html_robot_window-wbt)

##### elkelkmuh 05/06/2020 07:21:11
`@David Mansolino` I wrote a program to calculate op2 zmp with fsr, I want to graph it.

##### David Mansolino [cyberbotics] 05/06/2020 07:18:46
> Hi `@David Mansolino`  How can I draw graphics on Webots?

`@elkelkmuh` what kind of graphics do you want to draw?


Hi `@Mathie20` is it you that posted this stackoverflow question [https://stackoverflow.com/questions/61620055/a-c-code-that-needs-to-be-translated-to-c-ros](https://stackoverflow.com/questions/61620055/a-c-code-that-needs-to-be-translated-to-c-ros) ?

If yes, I am currently writing an answer.

##### elkelkmuh 05/06/2020 07:18:00
Hi `@David Mansolino`  How can I draw graphics on Webots?

##### David Mansolino [cyberbotics] 05/06/2020 05:10:59
The DEF can be defined in the field editor of the scene-tree when you select the node: [https://cyberbotics.com/doc/guide/the-scene-tree#field-editor](https://cyberbotics.com/doc/guide/the-scene-tree#field-editor)

You can find more information about DEF and USE here: [https://www.cyberbotics.com/doc/reference/def-and-use](https://www.cyberbotics.com/doc/reference/def-and-use)

And en example simulation using the supervisor API here: [https://www.cyberbotics.com/doc/guide/samples-devices#supervisor-wbt](https://www.cyberbotics.com/doc/guide/samples-devices#supervisor-wbt)

##### mearvind 05/06/2020 05:06:48
I am new to webots and trying to use supervisor functions. I am not getting what parameter to pass to wb\_supervisior\_node\_get\_from\_def(); i passed the name of my robot but its showing error. how to get def name of my robot?

##### David Mansolino [cyberbotics] 05/06/2020 05:02:39
> My goal is to setup a Real time data exchange connection from Webots to the Universal Robots Polyscope virtual machine simulator.  I want to teach UR to Tech school and High School level without the robot.  Has anyone done this?  I found a C++ RTDE interface already I am thinking I could put into the UR controller in Webots and just map variables.  Does that sound like it would work?  I want to be able to write code on the virtual teach pendant that runs on the Webots simulated UR.

`@Mike Wescott` that is exactly the goal of Webots, been able to do experiment without the need for the real robot. About the control, the C++ RTDE interface of the UR robot is not supported by default, only the Webots C++ API is: [https://cyberbotics.com/doc/guide/using-cpp](https://cyberbotics.com/doc/guide/using-cpp)

IF you haven't followed the tutorials, I strongly advice to do so (at least for tutorial 1 to 6): [https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)


> I am just getting started with Webots.  Doing the first tutorial I get this error.  Anyone know how to fix it?  I am doing the controller with C++:

`@Mike Wescott` which version of Webots are you using?


> can I still use webots 2018 now? The license link appears to be 404

`@JIAO` yes of course, you just need to use the magic 'webots' password: [https://cyberbotics.com/doc/guide/general-faq#can-i-still-use-a-webots-version-before-the-r2019a-release](https://cyberbotics.com/doc/guide/general-faq#can-i-still-use-a-webots-version-before-the-r2019a-release)


> `@David Mansolino`  Is there any way i can send you the world and the picture of the final solidworks model and explain to you the issue? i could even send the final solidworks file if you wish.

`@WAYWARD` yes of course you can send them here directly.

##### Mike Wescott 05/06/2020 03:46:22
My goal is to setup a Real time data exchange connection from Webots to the Universal Robots Polyscope virtual machine simulator.  I want to teach UR to Tech school and High School level without the robot.  Has anyone done this?  I found a C++ RTDE interface already I am thinking I could put into the UR controller in Webots and just map variables.  Does that sound like it would work?  I want to be able to write code on the virtual teach pendant that runs on the Webots simulated UR.



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/707435446912680027/unknown.png)
%end


I am just getting started with Webots.  Doing the first tutorial I get this error.  Anyone know how to fix it?  I am doing the controller with C++:

##### JIAO 05/06/2020 01:05:53
can I still use webots 2018 now? The license link appears to be 404

##### WAYWARD 05/05/2020 18:00:28
> You're welcome. In that case can you share the bounding object you want to move (share the world or proto file)?

`@David Mansolino`  Is there any way i can send you the world and the picture of the final solidworks model and explain to you the issue? i could even send the final solidworks file if you wish.

##### David Mansolino [cyberbotics] 05/05/2020 14:53:24
You might use a nightly build of Webots R2020b which includes import for mode formats (see 'Import 3D Model...' menu item): [https://cyberbotics.com/doc/guide/the-user-interface?version=develop#file-menu](https://cyberbotics.com/doc/guide/the-user-interface?version=develop#file-menu)

You can download the nightlies from here: [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)

##### Tahir [Moderator] 05/05/2020 14:37:46
or is there anyway to convert VRML2 to VRML97 as I tried to look on internent but all in vain so far


I have exported VRML2.0 but that does not work with Webots.


Is there anyway to do that while loosing color information?


I am trying to import a Hukoyu sensor. I have the STEP file. I have tried different converters to Webots but all loose information.

##### David Mansolino [cyberbotics] 05/05/2020 11:55:50
You're welcome. In that case can you share the bounding object you want to move (share the world or proto file)?

##### WAYWARD 05/05/2020 11:54:50
> `@WAYWARD` have you tried using a 'Transform' node to translate the origin of the parts?

`@David Mansolino`. Hey thank you so much for the response. We've already tired it and it still doesn't work though.

##### Rhino 05/04/2020 15:08:58
oh cool! thank you `@Stefania Pedrazzi`

##### Stefania Pedrazzi [cyberbotics] 05/04/2020 15:08:15
`@Rhino` yes. This tractor model is using the Pen device to draw on the ground texture. [https://www.cyberbotics.com/doc/reference/pen](https://www.cyberbotics.com/doc/reference/pen)

##### Rhino 05/04/2020 15:05:29
thank you for your response `@David Mansolino`. I can try and make custom models for myself, but is it possible to make trail like in the video on the road? 



link:[https://youtu.be/OS0QByVv1do](https://youtu.be/OS0QByVv1do)

##### David Mansolino [cyberbotics] 05/04/2020 13:51:18
You're welcome

##### Janx1913 05/04/2020 13:51:09
`@David Mansolino` Thanks, I will give that a try

##### David Mansolino [cyberbotics] 05/04/2020 13:49:33
Thank you, everything looks good indeed, what you should try to do is:

  1. try with an extremely small tiem step to check if it helps (e.g. 1).

  2. try to understand what is happenning by enableing the boundign objects and contact points optionnal rendering.

  3. perform a control of the gripper in torque instead of position.

##### Janx1913 05/04/2020 13:45:41
Here you go. Here the timestep is 8 and coloumb friction -1
> **Attachment**: [banana\_grasp.webm](https://cdn.discordapp.com/attachments/565154703139405824/706864130518155355/banana_grasp.webm)

##### David Mansolino [cyberbotics] 05/04/2020 13:31:50
Hi `@Janx1913` time step and coloumb friction are indeed the firest things to try. Can you share a small video of the problem?

##### Janx1913 05/04/2020 13:30:14
I am trying to make a robot grasp a banana on a flat surface. I am using the UR5 robot and the Tiago parallel gripper. However, when "clamping" the banana and moving the gripper up, the banana slips out of the grasp. What could cause this?



I have tried running with smaller timestep, with no luck. I also tried playing around with contact material and contact properties, also no luck. I also tried with a higher coloumb friction on the gripper, same as the others, no luck

##### David Mansolino [cyberbotics] 05/04/2020 13:04:04
You're welcome

##### Aan 05/04/2020 13:03:56
thank you

##### David Mansolino [cyberbotics] 05/04/2020 12:39:16
> Hi, I am trying a quadcopter using mavic2pro example controller. Why the quadcopter cannot hold in its position after takeoff? it moves pitch forward by itself.

`@Aan` the sample controller of the mavic2pro example is extremely simple, there is no position feedback from the gps or any other sensors used to stabilize it.

##### Aan 05/04/2020 12:22:46
Hi, I am trying a quadcopter using mavic2pro example controller. Why the quadcopter cannot hold in its position after takeoff? it moves pitch forward by itself.

##### Stefania Pedrazzi [cyberbotics] 05/04/2020 12:21:37
Yes. The documentation explains that is a list of 9 values that shall be interpreted as a 3x3 matrix

##### Simon Steinmann [Moderator] 05/04/2020 12:20:41
but I already submitted a change request about the get\_orientation thing


ahh okay. yeah makes sense

##### Stefania Pedrazzi [cyberbotics] 05/04/2020 12:19:54
but the `SFRotation` field contains the local rotation with respect to the parent node and using axis angle format

##### Simon Steinmann [Moderator] 05/04/2020 12:19:51
well it returns a 1x9 list ðŸ˜‰

##### Stefania Pedrazzi [cyberbotics] 05/04/2020 12:19:15
not really, as described in the documentation [https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_get\_orientation](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_get_orientation): the `wb_supervisor_node_get_orientation` functions returns tthe rotation of the node in the global world coordinate system and as a 3x3 matrix

##### Simon Steinmann [Moderator] 05/04/2020 12:16:24
?


node.getField(rotation).getSFRotation()


so node.get\_orientation is the same as


perhaps that should be in the introduction


ohhhh

##### Olivier Michel [cyberbotics] 05/04/2020 12:10:24
`@Simon Steinmann`: this is explained here: [https://www.cyberbotics.com/doc/reference/glossary](https://www.cyberbotics.com/doc/reference/glossary)

##### Stefania Pedrazzi [cyberbotics] 05/04/2020 12:09:46
`@Simon Steinmann` yes. Fields are all the parameters of a node.

##### Simon Steinmann [Moderator] 05/04/2020 12:08:55
What exactly are fields? It's never really explained. Are those the different parameters / variables a node has?

##### PÌ¸Ì”ÍoÌ´Í‘ÌiÌµÍ—ÍnÌ¸Ì„Ì›tÌ¶ÍŒÍ„ 05/04/2020 11:59:54
thnx

##### Stefania Pedrazzi [cyberbotics] 05/04/2020 11:58:45
`@PÌ¸Ì”ÍoÌ´Í‘ÌiÌµÍ—ÍnÌ¸Ì„Ì›tÌ¶ÍŒÍ„` do you want that the wheels looks like rubber or behave like if they are made from rubber?

If you want that a wheels behaves like if it is made from rubber, then you have to add specific ContactProperties defining the wanted behavior: [https://www.cyberbotics.com/doc/reference/contactproperties](https://www.cyberbotics.com/doc/reference/contactproperties)

##### PÌ¸Ì”ÍoÌ´Í‘ÌiÌµÍ—ÍnÌ¸Ì„Ì›tÌ¶ÍŒÍ„ 05/04/2020 11:52:42
is there a way to define materials for wheels? like make them from rubber

##### David Mansolino [cyberbotics] 05/04/2020 10:38:50
You're welcome!

##### LaCava 05/04/2020 10:38:37
Alright, thank you!

##### David Mansolino [cyberbotics] 05/04/2020 10:37:38
Ok, in that case the simplest solution is probably to un-prototize the robot (right click on the robot->`Convert to Base Node(s)`), this way you will be able to access the `position` field of the robot from your supervisor and change them at the first step after the reset.

##### LaCava 05/04/2020 10:35:47
It's a NAO v5, straight from the PROTO

##### David Mansolino [cyberbotics] 05/04/2020 10:35:16
No problem. To move the joints position is a bit more tricky. First, is your robot a PROTO node or noe?

##### LaCava 05/04/2020 10:34:05
Sorry for the ambiguity there


(By position, I mean joint angles, not XYZ space)


Is there a way to specify the position when loading the world, or is that fixed? Otherwise, I'll just move it, thanks!

##### David Mansolino [cyberbotics] 05/04/2020 10:32:22
Hi `@LaCava`, the position is reset at the position it was when loading the world. However, you can from your supervisor move your robot where you want at the first step after resetting the simulation.

##### LaCava 05/04/2020 10:30:25
Hi -- I've searched in the channel, but haven't been able to find anything specific: is there a way to change the default position of a robot after a call to `simulationReset` with a supervisor? I'd like to have the robot begin in a specific pose during training of a RL agent

##### Quantumfox 05/04/2020 10:05:04
it works ðŸ™‚


ah thx man

##### Olivier Michel [cyberbotics] 05/04/2020 10:04:34
Yes, the `--batch option` is useful in production only (it avoid that Webots opens interactive dialog windows).

##### Quantumfox 05/04/2020 10:04:23
aight thx

##### Olivier Michel [cyberbotics] 05/04/2020 10:04:04
in a web browser.


Then, you can open C:\Users\user\AppData\Local\Programs\Webots\resources\web\streaming\_viewer\index.html

##### Quantumfox 05/04/2020 10:02:51
aight when i stream i can show it in browser?

##### Olivier Michel [cyberbotics] 05/04/2020 10:02:19
webots --stream="port=1234;monitorActivity"

##### Quantumfox 05/04/2020 10:02:01
but i dont think thats right


i had this


--stream[ =''port=[1234]; monitorActivity'']

##### Olivier Michel [cyberbotics] 05/04/2020 10:01:33
From there, if you type webots on a DOS cmd, it should work.

##### Quantumfox 05/04/2020 10:01:32
and how to stream


aight

##### Olivier Michel [cyberbotics] 05/04/2020 10:01:10
Yes, that's it.

##### Quantumfox 05/04/2020 10:00:56
its here on my system


C:\Users\user\AppData\Local\Programs\Webots\msys64\mingw64\bin

##### Olivier Michel [cyberbotics] 05/04/2020 10:00:21
Just let me figure out which folder it is exactly.

##### Quantumfox 05/04/2020 10:00:08
oeh nice

##### Olivier Michel [cyberbotics] 05/04/2020 10:00:04
No, you can also start it from the local user folder.

##### Quantumfox 05/04/2020 09:59:00
and reinstall?


ok so i have to remove webots

##### Olivier Michel [cyberbotics] 05/04/2020 09:58:27
If you installed it for all users, open a DOS cmd.exe and go to `C:\Program Files\Webots\msys64\mingw64\bin`.

##### Quantumfox 05/04/2020 09:57:44
i guess because its on my user map


i only installed for the current user

##### Olivier Michel [cyberbotics] 05/04/2020 09:57:01
Yes, it should work with the stable version, but I cannot guarantee.

##### Quantumfox 05/04/2020 09:56:50
yes

##### Olivier Michel [cyberbotics] 05/04/2020 09:56:44
`@Quantumfox`: in case you installed it for all users, you should a folder in `C:\Program Files\Webots`.

##### Quantumfox 05/04/2020 09:56:27
but it isnt possible with the stable version?

##### Olivier Michel [cyberbotics] 05/04/2020 09:55:44
[https://github.com/cyberbotics/webots/releases/tag/nightly\_30\_4\_2020](https://github.com/cyberbotics/webots/releases/tag/nightly_30_4_2020)

##### nap 05/04/2020 09:55:44
> Is the speed of the robot constant?

`@David Mansolino` : Yes, with no lines, the robot's controller travels in a straight line forward.

##### Quantumfox 05/04/2020 09:55:33
uhh idk

##### Olivier Michel [cyberbotics] 05/04/2020 09:55:21
Bye the way, did you installed Webots for all users or only for you?


I would recommend you to use the latest nightly build of Webots R2020a revision 2 as we fixed several issues related to starting Webots from the DOS cmd.

##### Quantumfox 05/04/2020 09:52:11
hey guys i have a question. I read the documentation and they said i can use the command webots in cmd but it doesnt work. `On Windows 10 and Windows 7, open the Start menu, go to the Program Files / Cyberbotics menu and click on the Webots R2020a revision 2 menu item.` this is above the commands but this folder doesnt exist on my system.  because i want to stream my webots to a website.

##### David Mansolino [cyberbotics] 05/04/2020 08:03:31
Is the speed of the robot constant?

##### nap 05/04/2020 07:33:10
`@David Mansolino` :  Ok, I've used `wb_supervisor_field_get_sf_rotation`, added a delta to the angle, fourth indice ([3]), and then used `wb_supervisor_field_set_sf_rotation`.  The results were promising at the start but then the circle turned into a spiral.
%figure
![Using-sf_rotation.png](https://cdn.discordapp.com/attachments/565154703139405824/706770381217988729/Using-sf_rotation.png)
%end


Ok, I'll try that.

##### David Mansolino [cyberbotics] 05/04/2020 05:58:52
Oh ok I see, this is because you are using `wb_supervisor_node_get_orientation`  which returns a rotation matrix ([https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_get\_orientation](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_get_orientation)), you should probably use the rotation field instead:

`wb_supervisor_field_get_sf_rotation(rotField);`

This is probably the reason why you have to multiply by `index` too.

##### nap 05/04/2020 05:55:44
> About the orientation, it seems from your code that you are correctly rotating around the Y axis and not Z, I am not sure what you mean Z axis orientation (in Webots the up axis is Y).

`@David Mansolino` you will notice I'm using the indice "2" not "1".

##### David Mansolino [cyberbotics] 05/04/2020 05:54:57
About the orientation, it seems from your code that you are correctly rotating around the Y axis and not Z, I am not sure what you mean Z axis orientation (in Webots the up axis is Y).


> `@David Mansolino` : I've implemented a Supervisor that rotates the epuck every 10 time\_steps.  In the attached screenshot, I have the trail marked (using the the webots trail example supervisor but with more data points) and my 'noise' code (basically all of it is visible in the image).  The noise at the moment increments the CW rotation of the epuck on each step, while the epuck thinks it's going straight.  However, the result is confusing me.

> 1)  I had to apply rotation around the Y axis but using the Z axis orientation.  I would have thought I should be able to progressively change the Y rotation, but when I do that, there is no rotation.  Is there a  coordinate system swap going on somewhere?

> 2) Since I'm increasing the angle linearly, don't understand why the path is the way it is.  I would have expected to simply read the orientation and add a small amount of noise to it.  However, I need to multiply the noise by the number of iteration otherwise the epuck travels in a straight line after the initial deviation.

> 3) Is the rotation function using ARCTAN?  I don't think so, because the epuck does achieve more than 360 degrees of rotation.  However the path, in my mind should have been a circle rather than a weird spiral.

`@nap` it is indeed strange that you have to multiply by index, can you try printing the value of the rotation you get (I do suspect that you get the value of one step before and therefore before the increment).


> I am trying to achieve something similar as the following link, are the models used in the link available to the public or are these custom made models. I am trying to leave behind a trail of spray by vehicle

> 

> Link: [https://youtu.be/OS0QByVv1do](https://youtu.be/OS0QByVv1do)

`@Rhino` not all the model are available, but Webots comes with models of tractor and drones (not exactly the same as one the video but similar).


> We are facing a problem regarding the assembly of the model as it is not staying in the given positions. We are trying to build a snake bot and the body parts keep coming to the origin of the robot where its head is. We have tried multiple things with no avail. Any solutions to this issue?

`@WAYWARD` have you tried using a 'Transform' node to translate the origin of the parts?


> when I use the wb\_position\_sensor\_get\_value() function and try to "printf" angle, it always shows 1.#QNAN0

`@lshil` did you call the wb\_robot\_step function between enabling the sensor and getting the value?

##### pheonixash 05/04/2020 03:23:37
Sure I will try and let you know

##### nap 05/04/2020 03:23:14
study the proto for the e-puck and experiment.   You will get it. (I don't have to the time to make an example for you.)


when  you edit your robot's proto, note that there is a node in the structure under "children" but there is also a reference in the interface section (fields)

##### pheonixash 05/04/2020 03:22:15
`@nap` sorry I m not getting how to do

##### nap 05/04/2020 03:21:42
`@pheonixash` : edit the proto of your robot and add the same node that the e-puck proto has.  Then, into that node, add the E-puckGroundSensor.

##### pheonixash 05/04/2020 03:20:04
`@nap`  yup there is an attachment for groundsensor in epuck but I want to add ground sensor in some other robot which I created so how can I do that

##### nap 05/03/2020 23:22:24
`@lshil` there could be a number of things going wrong here.  You have to explain more clearly what you are trying to do.


`@pheonixash` : The epuck has a attachment point called `groundSensorSlot` in its interface (expand the epuck node in the LHS panel.  You need to add `E-puckGroundSensors` to this node.

When you change the floor size, your texture is scaled up/down accordingly. You should set the dimensions of your arena and then create the texture with the appropriate line widths.  (floorSize and floorTileSize work together.)

You should not change the size of the E-puck.  It will simply look smaller if you make your world larger.


`@David Mansolino` :  There is something strange going on here.  In the attached image, I'm adding a relative torque to the epuck's body every 10 steps.  If I add 0.05 (lower portion of the image), the robot starts turning left for a few steps (may be just one) but then continues straight.  However, if I add 0.06 (top part), the robot performs the path I mentioned in my post above, square with arced sides.
%figure
![Add_Relative_Torque.png](https://cdn.discordapp.com/attachments/565154703139405824/706644583983087626/Add_Relative_Torque.png)
%end

##### Rhino 05/03/2020 20:08:16
I am trying to achieve something similar as the following link, are the models used in the link available to the public or are these custom made models. I am trying to leave behind a trail of spray by vehicle



Link: [https://youtu.be/OS0QByVv1do](https://youtu.be/OS0QByVv1do)

##### WAYWARD 05/03/2020 13:20:53
We are facing a problem regarding the assembly of the model as it is not staying in the given positions. We are trying to build a snake bot and the body parts keep coming to the origin of the robot where its head is. We have tried multiple things with no avail. Any solutions to this issue?

##### lshil 05/03/2020 11:09:54
when I use the wb\_position\_sensor\_get\_value() function and try to "printf" angle, it always shows 1.#QNAN0

##### pheonixash 05/03/2020 09:13:22
Can anyone help me with that


And if i change the size of the rectangular area and floor tile the existing project seems to fail i don't know whats the issue


If i have to use the existing project i m having problem changing the size of the epuck


There is already a demo project on this but now when i trying to build from scratch i m not getting how to add ground sensor in the robot


description : the area would be covered with zig zag line (motive covering whole area) what robot must do is follow this path avoiding obstacle


I need some help making line following simulation


Hello everyone

##### nap 05/03/2020 07:23:33
`@David Mansolino` : I tried using `wb_supervisor_node_add_torque(target_node, torqueValues, true);` and I'm getting better results, though the path looks more like a square with rounded arcs for each side.


`@David Mansolino` : I've implemented a Supervisor that rotates the epuck every 10 time\_steps.  In the attached screenshot, I have the trail marked (using the the webots trail example supervisor but with more data points) and my 'noise' code (basically all of it is visible in the image).  The noise at the moment increments the CW rotation of the epuck on each step, while the epuck thinks it's going straight.  However, the result is confusing me.

1)  I had to apply rotation around the Y axis but using the Z axis orientation.  I would have thought I should be able to progressively change the Y rotation, but when I do that, there is no rotation.  Is there a  coordinate system swap going on somewhere?

2) Since I'm increasing the angle linearly, don't understand why the path is the way it is.  I would have expected to simply read the orientation and add a small amount of noise to it.  However, I need to multiply the noise by the number of iteration otherwise the epuck travels in a straight line after the initial deviation.

3) Is the rotation function using ARCTAN?  I don't think so, because the epuck does achieve more than 360 degrees of rotation.  However the path, in my mind should have been a circle rather than a weird spiral.
%figure
![epuck_path_anomoly.png](https://cdn.discordapp.com/attachments/565154703139405824/706089517857112064/epuck_path_anomoly.png)
%end

##### David Mansolino [cyberbotics] 05/02/2020 06:38:44
You're welcome ðŸ™‚

##### dralorg 05/02/2020 05:46:18
Amazing, I got the values that I needed, thank you `@David Mansolino`!

##### David Mansolino [cyberbotics] 05/02/2020 05:28:40
Hi `@dralorg`, the simplest solution is to temporarily convert the Youbot node in Base nodes (you can do this by right-clicking on the Youbot node in the scene-tree), this way you will be able to select the wheels in the scene-tree and read their position in 'position' tab of the nod editor: [https://cyberbotics.com/doc/guide/the-scene-tree#field-editor](https://cyberbotics.com/doc/guide/the-scene-tree#field-editor)

##### dralorg 05/01/2020 22:53:02
Hi, I'm trying to understand the PROTO files to be able to extract the distances between wheel centers of the Youbot, but I'm having a hard time. Could anyone point me where are those distances specified please?



I'm using tiles of length 0.1 m to have an approx. idea of the lengths of interest:
%figure
![size.png](https://cdn.discordapp.com/attachments/565154703139405824/705914711106912306/size.png)
%end

##### David Mansolino [cyberbotics] 05/01/2020 14:07:24
You're welcome

##### Tahir [Moderator] 05/01/2020 14:07:04
OK thank you I will look into it

##### David Mansolino [cyberbotics] 05/01/2020 14:06:27
Ok, in that case I am sorry but I can't help you further without trying your simulation. B8ut if you want you can open an issue here including your simulation (or a simplified one reproducing the problem): [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

and we will have a look at it.

##### Tahir [Moderator] 05/01/2020 14:04:33
sorry I am talking about floor vibration


no arms does not break


I have three UR arms and all of them are set to false

##### David Mansolino [cyberbotics] 05/01/2020 14:04:03
The arm joint still breaks ?

##### Tahir [Moderator] 05/01/2020 14:03:30
and its still the same


Yes I did

##### David Mansolino [cyberbotics] 05/01/2020 14:03:11
In the `UR3` PROTO node, there is a `staticBase` which is TRUE by default, in you case you have to set it to FALSE ([https://cyberbotics.com/doc/guide/ure#field-summary](https://cyberbotics.com/doc/guide/ure#field-summary)).

##### Tahir [Moderator] 05/01/2020 14:02:24
but there is nothing in the base robot node


Yes in robotic arms

##### David Mansolino [cyberbotics] 05/01/2020 14:01:08
Did you check the `staticbase` value?

##### Tahir [Moderator] 05/01/2020 14:00:13
The floor vibration is  same with void as well

##### David Mansolino [cyberbotics] 05/01/2020 13:40:07
> I already have set these values:

> 

> ERP=0.6

> basicTimeStep=8

> coulumbFriction=8

> softCFM=1e-05

`@Tahir` about this, have you tried with the void controller, just to make sure if it is the robot model or the controller that makes it vibrating?


> also when I start moving the robot the UR3 arm joint breaks and look like this

`@Tahir` that's probably another issue. Did you set the `staticBase` field of the UR3 to False?

##### Tahir [Moderator] 05/01/2020 13:37:40

%figure
![Screenshot_from_2020-05-01_15-33-49.png](https://cdn.discordapp.com/attachments/565154703139405824/705774949943476324/Screenshot_from_2020-05-01_15-33-49.png)
%end


also when I start moving the robot the UR3 arm joint breaks and look like this

##### David Mansolino [cyberbotics] 05/01/2020 13:37:03
Ok, these values looks good indeed.

##### Tahir [Moderator] 05/01/2020 13:36:28
I already have set these values:



ERP=0.6

basicTimeStep=8

coulumbFriction=8

softCFM=1e-05

##### David Mansolino [cyberbotics] 05/01/2020 13:33:59
The floor is supposed to be a static object so it should never move. Since the robot is quite heavy, have you tried changing the contact properties ([https://www.cyberbotics.com/doc/reference/contactproperties](https://www.cyberbotics.com/doc/reference/contactproperties)) ?

Basically setting the `softCFM` to a lower value (e.g. 1e-05), the `coulombFriction` to a higher value (e.g. 5 to 10) and the WorldInfo.ERP to a higher value (e.g. 0.6).

Decreasing the time step may also help (e.g. to 10ms).

##### Tahir [Moderator] 05/01/2020 13:31:03
the robot weighs around 400 kilos


I am having an issue when I run the simulation the floor starts to vibrate

##### David Mansolino [cyberbotics] 05/01/2020 05:24:22
> Hello! the Opencv library has functions that allow you to perform camera calibration: [https://docs.opencv.org/2.4/modules/calib3d/doc/camera\_calibration\_and\_3d\_reconstruction.html](https://docs.opencv.org/2.4/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html). Please tell me, is it possible to do the same operation for a camera that is a sensor in Webots?

`@iagsav` yes you can, however not that there are some differences between real and openGL camera ([https://www.scratchapixel.com/lessons/3d-basic-rendering/perspective-and-orthographic-projection-matrix/opengl-perspective-projection-matrix](https://www.scratchapixel.com/lessons/3d-basic-rendering/perspective-and-orthographic-projection-matrix/opengl-perspective-projection-matrix)),

##### Estelle 05/01/2020 02:07:45
`@nap` thanks for your share!ðŸ‘

##### nap 05/01/2020 01:43:09
`@Estelle` : I found the following reference which looks useful.  This is the VRML tutorial:  [http://rvirtual.free.fr/programmation/VRML/tuto\_eng/](http://rvirtual.free.fr/programmation/VRML/tuto_eng/)   (Tutorial 6 covers `fields` and other things.)

##### Estelle 05/01/2020 01:06:04
OK~Because I am a beginner to use webots, so there are somethings I do not know very well. I'm happy that you find it~ðŸ™‚

##### nap 05/01/2020 01:03:28
`@Estelle` :  I found a reference to it in the Webots Glossary ([https://www.cyberbotics.com/doc/reference/glossary](https://www.cyberbotics.com/doc/reference/glossary)).  I'll look into the VRML97 specification.


`@Estelle` :  I'm not familiar with the term `field` (as it is being used here), so I was asking for a reference which I can read.

##### Estelle 05/01/2020 00:59:29
Sorry, I just don't quite understand what you mean. Do you mean the definition of field for specific nodes?

##### nap 05/01/2020 00:55:28
`@Estelle` :  Thanks.  Would you know where I can get a definition of `field`?  (Sorry, I wasn't asking you to write an essay about it.)

##### Estelle 05/01/2020 00:27:23
it means single field

##### nap 05/01/2020 00:26:43
In the `supervisor.h` API, there are a number of functions that include `sf` in their names; e.g. `wb_supervisor_field_get_sf_rotation` .  What is the meaning of `sf`?

##### iagsav 04/30/2020 21:55:57
Hello! the Opencv library has functions that allow you to perform camera calibration: [https://docs.opencv.org/2.4/modules/calib3d/doc/camera\_calibration\_and\_3d\_reconstruction.html](https://docs.opencv.org/2.4/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html). Please tell me, is it possible to do the same operation for a camera that is a sensor in Webots?

##### David Mansolino [cyberbotics] 04/30/2020 15:29:18
You're welcome

##### Estelle 04/30/2020 15:28:46
OK,Thank you~~ðŸ¥°

##### David Mansolino [cyberbotics] 04/30/2020 15:28:06
Here is a simple example: [https://www.cyberbotics.com/doc/guide/samples-devices#supervisor-wbt](https://www.cyberbotics.com/doc/guide/samples-devices#supervisor-wbt)


You can get the state of any field using the Supervisor API: [https://www.cyberbotics.com/doc/reference/supervisor](https://www.cyberbotics.com/doc/reference/supervisor)

##### Estelle 04/30/2020 15:25:28
I would like to ask that how could I change the field value directly in the controller?

##### David Mansolino [cyberbotics] 04/30/2020 15:14:06
Perfect, thank you ðŸ™‚

##### Dorteel 04/30/2020 15:13:54
I'll do that right now, thanks for the help!

##### David Mansolino [cyberbotics] 04/30/2020 15:11:38
> but the worldReload helps, I can create files that save the state of the loop and read them when the controller resets. So thanks for the help!

`@Dorteel` That is indeed the workaround while waiting for a fix for this issue.

About the original issue, may I ask you to open an issue reporting the problem (including a world and controller reproducing the problem) here: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md) ?

This way we will be able to try reproducing the issue and fix it.

##### Dorteel 04/30/2020 15:09:45
but the worldReload helps, I can create files that save the state of the loop and read them when the controller resets. So thanks for the help!


The print functions didnÂ´t work either, and the loop of the controller was messed up, it changed the colours, but did not record the videos. But that could be because the robot was embedded in the middle of a table


the main issue was that the position of the robot did not reset, but stayed right where it was when the method was called, it was only the joint angles that reset.

##### David Mansolino [cyberbotics] 04/30/2020 15:04:33
Ok thanks for the confirmation.

And with ``simulationReset`` what is not rest correctly with your robot?

##### Dorteel 04/30/2020 14:56:28
Yes, the simulation resets correctly, although it resets twice for some reason


Ah, alright, I'll try

##### David Mansolino [cyberbotics] 04/30/2020 14:53:30
Yes it does, but just to check if it fixes the issue with your not resetting correctly

##### Dorteel 04/30/2020 14:50:34
I was thinking about it, but doesnÂ´t it reset the controller?

##### David Mansolino [cyberbotics] 04/30/2020 14:49:00
Have you tried with the ``worldReload`` function instead of the ``simulationReset``one ?

##### Dorteel 04/30/2020 14:42:19
Hi, I'm trying to use the simulationReset() method of the Supervisor, but it makes the  my world go crazy.  I'm supposed to record a sequence of motions as videos, then resetting the simulation at the end of the motion, changing some variables (the colour of the robot), and then recording again, multiple times. When resetting, the variables do not reset, and the inner loops that change the variables go nuts and out of sequence, and the robot does not get reset to the right location either. Any suggestions?

##### haitao0617 04/30/2020 13:29:39
I'm not sure, and to check it right now. Thank you~

##### David Mansolino [cyberbotics] 04/30/2020 13:25:05
Does your project respect the Webots project file hierarchy?

[https://cyberbotics.com/doc/guide/the-standard-file-hierarchy-of-a-project](https://cyberbotics.com/doc/guide/the-standard-file-hierarchy-of-a-project)

##### haitao0617 04/30/2020 13:23:41
my\_controller1: Could not find the controller directory.

##### David Mansolino [cyberbotics] 04/30/2020 11:49:42
> 

> I have another question. Is it possible to change the starting position of the joints on the ur5e robot. It seems like it starts in joint possition 0 0 0 0 0 0? 

> I looked into the proto and tried to set a position tag on the: 

> HingeJoint {

>         jointParameters HingeJointParameters{

>              position 1.57

> 

> But this does nothing. help?

Yes this is possible, it is not very easy, you have to change the default orientation of the Solid node in the `endPoint`  field of the joint.

##### Greenhigh 04/30/2020 11:46:06
I have another question. Is it possible to change the starting position of the joints on the ur5e robot. It seems like it starts in joint possition 0 0 0 0 0 0? 

I looked into the proto and tried to set a position tag on the: 

HingeJoint {

        jointParameters HingeJointParameters{

             position 1.57



But this does nothing. help?


ill*


`@Olivier Michel` Allright i try that ðŸ˜„ Thanks

##### Olivier Michel [cyberbotics] 04/30/2020 09:39:20
I see, this is because of the plane primitive which is used as the bounding object of the floor proto. In that case, if you need different levels, you should probably create your own rectangle arena proto which uses a Box instead of the Plane for the floor.

##### Greenhigh 04/30/2020 09:37:28
for example if you have two rectangle areana's at diffrent height. It seems like any object can not go below the top most areana. They just float in the air. Sort of difining the world hight since the objects cant go below the top areana?

##### Olivier Michel [cyberbotics] 04/30/2020 09:34:08
Yes. But what do mean by "world height"? Each rectangle arena will have it own height.

##### Greenhigh 04/30/2020 09:32:40
Is it possible to have multiple Rectangle Areana's in the same world where only one of them defines the world height?

##### David Mansolino [cyberbotics] 04/30/2020 05:08:28
`@Lussfer` if you have an OSM map of these road using WGS84, you can import it in Webots: [https://cyberbotics.com/doc/automobile/openstreetmap-importer](https://cyberbotics.com/doc/automobile/openstreetmap-importer)

##### Lussfer 04/29/2020 18:29:26
Is it possible to draw on roads and at specific WGS84 coordinate?

##### Simon Steinmann [Moderator] 04/29/2020 18:26:48
uff okay, so it doesnt work without major headache


hmm too bad the background textures dont work straight forward ðŸ˜¦


oh, thx ðŸ™‚


coord sys conversion in general, or for changing the world frame?

##### Tahir [Moderator] 04/29/2020 18:16:11
[https://stackoverflow.com/questions/54557696/changing-global-coordinate-frame-in-webots](https://stackoverflow.com/questions/54557696/changing-global-coordinate-frame-in-webots)


`@Simon Steinmann` on Stackoverflow there is a question about coordinate system conversion.  Which is answered in a very comprehensive manner discussing demerits as well.

##### Simon Steinmann [Moderator] 04/29/2020 18:11:58
Hey, how do I change the coordinate system, so the world has z as vertical?

##### David Mansolino [cyberbotics] 04/29/2020 14:50:13
This seems to make more sense (still buggy but more coherent).

##### Gautier A. 04/29/2020 14:49:45
Now the "before" is indeed 0, and the after "1". Still, the files doesn't change$


[https://pastebin.com/bCN2Q9n0](https://pastebin.com/bCN2Q9n0)


Excuse me, it's me again... I tried to reproduce the bug, and what you told me to do... And know, it's still "buggy", but I have a different output ðŸ˜…

##### David Mansolino [cyberbotics] 04/29/2020 14:39:39
You're welcome, thank you for the bug report!

##### Gautier A. 04/29/2020 14:34:33
Sure thing ! Thank you for your time

##### David Mansolino [cyberbotics] 04/29/2020 14:30:16
It looks indeed like a bug, can you please try to simplify at maximum your PROTOs and world so that it still reproduce the issue and report the bug on our bug tracker: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

Thank you

##### Gautier A. 04/29/2020 14:27:56
> Looks very strange, it seems you get always true whereas the fields are all set to false from the picture of the scene-tree you sent us.

`@David Mansolino` 



Yes, I agree. By default, all the field of the proto are at "False"
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/705062822660276254/unknown.png)
%end


We're using the version of webots from the commit " fe5893b968e160447a52cc4619ad68a8f41f8022 " , compiled from the git

##### David Mansolino [cyberbotics] 04/29/2020 14:26:19
Looks very strange, it seems you get always true whereas the fields are all set to false from the picture of the scene-tree you sent us.

##### Gautier A. 04/29/2020 14:24:06

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/705061857945321492/unknown.png)
%end


Corresponding c++ code :


I get that output: [https://pastebin.com/3uSUpzbE](https://pastebin.com/3uSUpzbE) ,

##### David Mansolino [cyberbotics] 04/29/2020 14:20:48
OK, in that case that looks indeed like a bug. Can you check what you get if you try to get the value of this field from the supervisor (i.e. ``std::cout<<"Hello "<< isLockedTileContainer->getMFBool(i); <<", " << i <<std::endl;``) ?

##### Gautier A. 04/29/2020 14:18:11
(I actually tried in first instance 'getFromDef' before 'getFromProtoDef' )


Yes, I get the same exact result and same exact output

##### David Mansolino [cyberbotics] 04/29/2020 14:15:38
Have you tried replacing ``getFromProtoDef`` by ``getFromDef``? The field you are trying to get is indeed in a PROTO but it is visible in the scene-tree (and is therefore not internal).

##### Gautier A. 04/29/2020 14:11:06
ok, thank you !

##### David Mansolino [cyberbotics] 04/29/2020 14:09:48
Ok, let me check your supervisor code and the outputs to try to understand the problem

##### Gautier A. 04/29/2020 14:09:15
Yes, we're using a beta version of Webots R2020b. We compile it from source because we needed the function "getFromProtoDef"



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/705058003434602526/unknown.png)
%end


Here is the scene tree

##### David Mansolino [cyberbotics] 04/29/2020 14:08:22
Are you using a beta of Webots R2020b ?

##### Gautier A. 04/29/2020 14:08:03
The "interesting proto" is in a children node of another proto, it's not internal


Here is the supervisor: [https://pastebin.com/d60jTWYM](https://pastebin.com/d60jTWYM), and here is the output of the supervisor: [https://pastebin.com/phc3QfPs](https://pastebin.com/phc3QfPs)

##### David Mansolino [cyberbotics] 04/29/2020 14:06:22
When you said ''a proto inside a proto", is the children PROTO in a field of the parent PROTO or is it internal to the parent PROTO ?

##### Gautier A. 04/29/2020 14:06:02
Yes, from a supervisor

##### David Mansolino [cyberbotics] 04/29/2020 14:05:25
From the Supervisor you want to change this field, right?

##### Gautier A. 04/29/2020 14:04:42
I can retrieve the correct "pointer" on that field, but when I try to modify its values, it doesn't seems to work


So, I'm working on a scene with a proto inside a proto. I want to modify the value of a custom field (of type MF Bool)


Thank you !

##### David Mansolino [cyberbotics] 04/29/2020 14:03:25
Hi, yes of course.

##### Gautier A. 04/29/2020 14:03:11
Hey ! Might I ask a question ?

##### David Mansolino [cyberbotics] 04/29/2020 11:42:30
You're welcome!

##### Alejandro Pescathore 04/29/2020 11:33:13
`@David Mansolino` Thanks!

##### David Mansolino [cyberbotics] 04/29/2020 11:23:30
> I am trying to build a tracked robot in Webots, but the robot cannot rotate, it just goes forward and backward. How can i solve this problem?

`@Alejandro Pescathore` I would recommend to have a look at this simple example that can indeed rotate: [https://cyberbotics.com/doc/guide/samples-devices#track-wbt](https://cyberbotics.com/doc/guide/samples-devices#track-wbt)


> `@David Mansolino` Yeah it's set to true in the launch file

`@Lars` ok, then you probably have to go for simpler bounding object, because the ros interface doesn't like indeed when the simulation runs was slower than real time


It all depends on how you plan to control it.

If you want one central control then one single robot is better. But if you want to have one control algorithm for the base and one for each arm then it is better to have one Robot for the base and one sub-robot for each arm (this is my favourite solution, but again it all depends on what you want to do). Not also that if you use the ROS interface for example, one robot per arm is better.

##### Alejandro Pescathore 04/29/2020 11:19:21
I am trying to build a tracked robot in Webots, but the robot cannot rotate, it just goes forward and backward. How can i solve this problem?

##### Lars 04/29/2020 11:17:51
> Did you set the use\_sim\_time parameter to true?

`@David Mansolino` Yeah it's set to true in the launch file

##### Tahir [Moderator] 04/29/2020 11:01:15
I have one robot base with a frame. I want to mount three UR arms on it. 

what is better hierarchy for Webots. All arm nodes inside the robot base node or 4 separate robot nodes (3 arms and 1 base) and than mounted on base

##### David Mansolino [cyberbotics] 04/29/2020 10:15:43
Did you set the use\_sim\_time parameter to true?

##### Lars 04/29/2020 09:33:10
`@David Mansolino` With `basicTimeStep = 4` the test world runs at about half real-time speed and most of the fruits are doing alright aside from one of the lemons. Reducing the time step to 1 everything works fine, but it only runs at 1/10th of real time.

But in the world with the robot system I think this would be problematic as we have issues with ROS synchronization,  the clock resets all the time and giving us warnings (e.g. `Moved back in time (probably because ROS clock was reset)`)

##### David Mansolino [cyberbotics] 04/29/2020 09:14:25
`@Lars` have you tried drastically reducing the world time step?

##### Olivier Michel [cyberbotics] 04/29/2020 09:12:10
Yes, but with a complex combination of spheres of different sizes and capsules of different lengths and diameters, I am sure you can achieve a pretty precise bounding object for most fruits.

##### Lars 04/29/2020 09:10:07
`@Olivier Michel` Thanks, that's what I was anticipating, but I was hoping it would be something different. The complexity was somewhat needed to emulate real world use case of grasping these types of fruits.

##### David Mansolino [cyberbotics] 04/29/2020 09:02:19
`@Alex123`, not as I know, but there are sample for getting the value from the sick sensors, then if you want to save them to a file you can simply do this as you would do in any regular program (Webots controllers are regular program).

##### Alex123 04/29/2020 08:59:53
hello,I want to know that is there any ready sample for collecting data of sick's sensors in webots

##### Olivier Michel [cyberbotics] 04/29/2020 08:48:30
Yes, I suspect that bounding object made up of small but complex meshes are responsible for such a behavior. I would recommend you to avoid IndexedFaceSet for the bounding objects and use instead a combination of simple primitives (such as spheres, capsules and boxes).

##### Lars 04/29/2020 07:59:33
For reference the left-most banana, green apple and orange are standard fruits from WeBots itself and they work just fine like some of the other fruits I implemented.


I'm observing some strange behavior of my fruits in WeBots. Physics and BO is defined for all of them, but some move right through the surface they are put on as shown in the video. I've tried different physics settings such as removing mass and changing it for density, added intertia matrix, dampening, etc.

Does it all come down to the bounding object and being too complex? Especially the grapes is a bad one I think.
> **Attachment**: [fruit\_test.mp4](https://cdn.discordapp.com/attachments/565154703139405824/704964802958721024/fruit_test.mp4)

##### David Mansolino [cyberbotics] 04/28/2020 15:42:54
About the warnings, we are currently improving the Webots console to be able to filter out some logs (such as ODE warnings), this might help you getting ride  of the warning, this is currently in development here (you can follow this PR to get news about it): [https://github.com/cyberbotics/webots/pull/1595](https://github.com/cyberbotics/webots/pull/1595)

If you want you can also open an issue here including your world file (or a simplified version reproducing the issue) so that we can have a look and try to understand what is not working as expected: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

##### machinekoder 04/28/2020 15:39:18
The warnings aren't bothering me.


`@David Mansolino` No, the gripper looses it's position in relation to the flange.

##### David Mansolino [cyberbotics] 04/28/2020 13:57:57
You're welcome.


> I guess the second option would be the best to plug into a CMake workflow, executing the command to get the venv path (like `pipenv --venv`), and piping the output in a runtime.ini

`@Axel M` that sounds good indeed!

##### Axel M [Premier Service] 04/28/2020 13:57:38
Gonna give it a try. Thanks !


I guess the second option would be the best to plug into a CMake workflow, executing the command to get the venv path (like `pipenv --venv`), and piping the output in a runtime.ini

##### David Mansolino [cyberbotics] 04/28/2020 13:55:56
Would this suit your needs?


You may change the Webots preference file before starting Webots using a script.

Or you might define it in a runtime.ini file next to the controller (which can be written dynamically): [https://cyberbotics.com/doc/guide/controller-programming#languages-settings](https://cyberbotics.com/doc/guide/controller-programming#languages-settings)

##### Axel M [Premier Service] 04/28/2020 13:54:14
I would like to avoid the process of setting it manually


My use case is : I have a python virtualenv for webots' controllers, this venv path is going to be different on each developper machine


Is there a way to dynamically set the "python command" in the preferences ? (using a cli argument for instance)

##### David Mansolino [cyberbotics] 04/28/2020 13:18:19
You're welcome.

##### Psyka 04/28/2020 13:18:14
thank's


very nice

##### David Mansolino [cyberbotics] 04/28/2020 13:17:47
It makes sense, the default generated makefile does not include this line.

##### Psyka 04/28/2020 13:17:35
it recreated one


when I deleted the makefile

##### David Mansolino [cyberbotics] 04/28/2020 13:17:16
That may explain the issue then.

##### Psyka 04/28/2020 13:17:10
it diseaper


not anymore


or not


yes

##### David Mansolino [cyberbotics] 04/28/2020 13:16:16
Does your makefile have the following libraries links:

```
LIBRARIES = -ldriver -lcar
```

?

##### Psyka 04/28/2020 13:15:39
it was working well


a car

##### David Mansolino [cyberbotics] 04/28/2020 13:15:18
``wbu\_driver\_set\_cruising\_speed``  is working only for node based on the ``Car`` PROTO, with which robots are you using it?

##### Psyka 04/28/2020 13:15:00
I'm on windows


but I have #include <webots/vehicle/driver.h>


Hello,

I've got an issue with the controller that I'am using, first it was working well when I had only one then I created an other one for a different caind of robots and now the first one doesn't compile anymore it says :  undefined reference to `wbu\_driver\_set\_cruising\_speed'

##### David Mansolino [cyberbotics] 04/28/2020 13:14:12
You're welcome.

##### lshil 04/28/2020 13:14:02
I get it,thanks!

##### David Mansolino [cyberbotics] 04/28/2020 13:12:10
> Is the angle of the position sensor defined as the angle between current position and initial position?

`@lshil` it is not exactly the initial position, because some joint may start from a non zero initial position, but it is defined as the angle between current position and zero angle.

##### lshil 04/28/2020 12:59:51
why does the angle at the initial time return 34.37ðŸ˜¥


Is the angle of the position sensor defined as the angle between current position and initial position?

##### Tahir [Moderator] 04/28/2020 12:56:37
Let me check something


OK I got your point

##### David Mansolino [cyberbotics] 04/28/2020 12:56:07
Then if it is one single object, it will be exported as a single object and not as an articulated robot, it needs to be cut in various different parts in Blender to have something with a hierarchy of nodes in Webots.

##### Tahir [Moderator] 04/28/2020 12:54:34
It is one single object

##### David Mansolino [cyberbotics] 04/28/2020 12:50:48
Does your blender model have a hierarchy or are all the meshes at the root level?

##### Tahir [Moderator] 04/28/2020 12:49:49
I converted stl to blend and than to webots


Is there any way to get everything out in form of nodes


I have comverted a robot from blender t9 Webots. Using the blender to webots tool. The robot in the output world is inly a transform

##### David Mansolino [cyberbotics] 04/28/2020 12:47:19
It is defined by the joint axis direction.

##### lshil 04/28/2020 12:38:15
OKï¼Œthanksï¼Another questionï¼šhow does the motor`s positive direction defineðŸ™ƒ

##### David Mansolino [cyberbotics] 04/28/2020 12:24:29
The position sensors returns the current position of the joint, so it can be negative or positive depending on which direction goes the joint

##### lshil 04/28/2020 12:08:52
Does anybody know whether the position sensor in webots has positive or negative?

##### David Mansolino [cyberbotics] 04/28/2020 10:39:44
You're welcome

##### adaptive 04/28/2020 10:39:38
Ok, thanks

##### David Mansolino [cyberbotics] 04/28/2020 10:38:42
You can find some clues about improving performance here: [https://cyberbotics.com/doc/guide/speed-performance](https://cyberbotics.com/doc/guide/speed-performance)

But I am afraid that what you did is already the best you can do to use the GPU as less as possible.

##### adaptive 04/28/2020 10:34:48
is there any other thing I can edit to increase the behaviour?


My GPU is very low budget (Intel HD520), I already have edited my preferences for OpenGL to fasten the Software like this:
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/704641696755089478/unknown.png)
%end

##### David Mansolino [cyberbotics] 04/28/2020 10:31:33
> Can anyone help me with finding the total distance travelled by the epuck in webota

`@nikzzzlegrande` you simply need to add a supervisor and track the position at each step, from these positions you can compute the distance traveled at each step (and sum it to get the total distance).

##### adaptive 04/28/2020 10:31:16
`@David Mansolino` , `@Olivier Michel` thanks! it works

##### Tahir [Moderator] 04/28/2020 10:16:29
OK Thank you I will download that

##### Olivier Michel [cyberbotics] 04/28/2020 10:15:17
No, you really need 2.79b.

##### Tahir [Moderator] 04/28/2020 10:12:35
is this fine


I have blender-2.82a

##### Olivier Michel [cyberbotics] 04/28/2020 10:12:10
Exact. 2.80 doesn't work.

##### Tahir [Moderator] 04/28/2020 10:11:42
?


Also is Blender 2.79b is the minimum or exact requirement for Webots importer to work

##### Olivier Michel [cyberbotics] 04/28/2020 10:11:09
Not really. You should create an accurate model of the robot in Webots and running on various terrains.

##### Tahir [Moderator] 04/28/2020 10:09:44
do you have any leads for the solution to this problem


OK I will do that

##### Olivier Michel [cyberbotics] 04/28/2020 10:09:09
3.8.2 seems better if you have Webots R2020a revision 2, but 3.7 should work also.

##### adaptive 04/28/2020 10:08:37
`@Olivier Michel` shall i install 3.7 or 3.8.2?

##### Olivier Michel [cyberbotics] 04/28/2020 10:08:31
I would recommend you to export only the Warthog model and re-use the existing UR arms from Webots.

##### Tahir [Moderator] 04/28/2020 10:07:31
`@Olivier Michel` The model is in Blender I am just setting up Webots blender importer and than I will have that in Webots

##### adaptive 04/28/2020 09:59:42
ok, hopefully this helps

##### Olivier Michel [cyberbotics] 04/28/2020 09:59:22
Yes.

##### adaptive 04/28/2020 09:59:15
`@Olivier Michel` so deinstalling anaconda and all packages and installing python 3.8 clean or 3.7?

##### Olivier Michel [cyberbotics] 04/28/2020 09:59:07
`@Tahir`: did you already imported / created the model in Webots?

##### nikzzzlegrande 04/28/2020 09:57:07
Can anyone help me with finding the total distance travelled by the epuck in webota

##### Axel M [Premier Service] 04/28/2020 09:56:42
Hope this helps


Then in webots preferences, I set Python command to the output of `echo $(pipenv --venv)/bin/python`


I'm currently dealing with python versions issues as well `@adaptive` . What i'm trying to do right now il to install a virtualenv using a Pipfile (for dealing both with dependencies and python version at the same time, see [https://realpython.com/pipenv-guide/](https://realpython.com/pipenv-guide/))

##### Tahir [Moderator] 04/28/2020 09:54:51
I mean what can be the procedure


So can anyone guide how can I do that in webots

##### Olivier Michel [cyberbotics] 04/28/2020 09:54:03
`@adaptive`: I would recommend you get rid of anaconda version and try to install Python 3.8 cleanly.

##### Tahir [Moderator] 04/28/2020 09:52:43
I have a robot model(Clearpath Robotics Warthog) and three Universal Robot Arms(2 UR3 and 1 UR5) all at front. each UR3 weighs 11.2 kg and UR5 20.6 kg. UR3's are on the side and UR5 is in the the middle of both UR3's. The robot can travel at a speed of 18 km\hr. 



I want to check the stability of the platform at lower as well as higher speeds in two configurations. One as shown in the figure(UR 5 a little behind 2 UR3's) and another one when the all are inline at the front.



The desired one is the second configuration where all arms are at the front and inline to give maximum area for manipulation.

##### adaptive 04/28/2020 09:51:04
I have mkl-service installed, but nothing changes


Ok, i changed the alias to "py" and now occurs this message [https://bpaste.net/CVLQ](https://bpaste.net/CVLQ) .. If Im running py in an cmd i get that the base isnt activated (i have activated it)


But if I open an CMD, and type "python" -> Microsoft Store opens and want me to install py 3.8^^


this is what I get if I run python out of the dir


"Warning:

This Python interpreter is in a conda environment, but the environment has

not been activated.  Libraries may fail to load.  To activate this environment

please see [https://conda.io/activation](https://conda.io/activation)"


oh man, what a mess, Vscode uses 3.7.6 (installed with conda), in my PATH i declared the path to python in conda dir which is the 3.7.6

##### Olivier Michel [cyberbotics] 04/28/2020 09:14:22
Can you also print the Python version in your working vscode example using numpy?


And are you sure numpy was installed for this version?

##### adaptive 04/28/2020 09:12:56
the same as yours, [slave] 3.8.2 (tags/v3.8.2:7b3ab59, Feb 25 2020, 23:03:10) [MSC v.1916 64 bit (AMD64)]


using numpy in vscode is no problem, so the package is definitely installed

##### Olivier Michel [cyberbotics] 04/28/2020 09:12:29
Which version of Python is displayed by your controller?

##### adaptive 04/28/2020 09:10:36
but the problem is still there, if i include numpy in slave.py, it is not found


I copied the project into my private directory and it seems to work now.. thanks for your patience^^


[https://bpaste.net/3BRQ](https://bpaste.net/3BRQ)

##### Olivier Michel [cyberbotics] 04/28/2020 09:06:49
Yes, you should click OK and go ahead with that.

##### adaptive 04/28/2020 09:04:34

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/704619057546002463/unknown.png)
%end

##### Olivier Michel [cyberbotics] 04/28/2020 09:02:13
Python doesn't need to build as it's not a compiled language like C or C++.

##### adaptive 04/28/2020 09:02:12
I think the problem is that I cant build the project, so that the new lines are ignored

##### Olivier Michel [cyberbotics] 04/28/2020 09:01:55
Reload.


Yes.

##### adaptive 04/28/2020 09:01:48
revert?

##### Olivier Michel [cyberbotics] 04/28/2020 09:01:26
Did you save and revert the world file?


Doing the same, I am getting this:

```
INFO: slave: Starting controller: python.exe -u "slave.py" 
INFO: slave: Starting controller: python.exe -u "slave.py" 
INFO: slave: Starting controller: python.exe -u "slave.py" 
INFO: driver: Starting controller: python.exe -u "driver.py" 
[slave] Python version
[slave] 3.8.2 (tags/v3.8.2:7b3ab59, Feb 25 2020, 23:03:10) [MSC v.1916 64 bit (AMD64)]
[slave] Python version
[slave] 3.8.2 (tags/v3.8.2:7b3ab59, Feb 25 2020, 23:03:10) [MSC v.1916 64 bit (AMD64)]
[slave] Python version
[slave] 3.8.2 (tags/v3.8.2:7b3ab59, Feb 25 2020, 23:03:10) [MSC v.1916 64 bit (AMD64)]
[driver] Commands:
[driver]  I for displaying the commands
[driver]  A for avoid obstacles
[driver]  F for move forward
[driver]  S for stop
[driver]  T for turn
[driver]  R for positioning ROBOT1 at (0.1,0.3)
[driver]  G for knowing the (x,z) position of ROBOT1
```

##### adaptive 04/28/2020 08:56:35
Its gray


But i cant Build the Project with F7


[https://bpaste.net/GQAQ](https://bpaste.net/GQAQ) but pressing the Run button dont output the version, only this [https://bpaste.net/WVXA](https://bpaste.net/WVXA)

##### Olivier Michel [cyberbotics] 04/28/2020 08:54:04
Put it at the end of the `__init__` method. Before that the interface with Webots is not initialized and print commands don't land in the Webots console.

##### adaptive 04/28/2020 08:52:31
Yes, the command is defined


I have inserted the code befode defining the class Enumerate, saved it and pressed the "run" button, but in the console there is no output

##### Olivier Michel [cyberbotics] 04/28/2020 08:51:44
Also check that the Python command is set to "python" in the Webots preferences.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/704615829291139112/unknown.png)
%end


It may be simpler to start from the `WEBOTS_HOME/projects/languages/python/worlds/example.wbt` sample world and edit the `slave.py` controller for example.


Simply create a robot that uses this controller.

##### adaptive 04/28/2020 08:48:06
I created a new project and inserted the code into an new controller, but how do I execute it?

##### Olivier Michel [cyberbotics] 04/28/2020 08:45:01
Can you print the Python version from your controller program to check it is the same?

```
import sys
print("Python version")
print (sys.version)
```

##### adaptive 04/28/2020 08:42:43
`@David Mansolino` hm.. i installed Rev2 but the error still appears.. running python in cmd shows 3.8.2 running. [https://bpaste.net/YWLA](https://bpaste.net/YWLA) this is the output of webots running an example world

##### David Mansolino [cyberbotics] 04/28/2020 08:18:21
You're welcome

##### adaptive 04/28/2020 08:18:12
ok, i will install the nightly build instead of installing two python distributions parallel, that seems smarter. Thanks

##### David Mansolino [cyberbotics] 04/28/2020 08:17:18
Ok that explains the problem, the support of Python 3.8 in Webots on Windows is not supported in R2020a-rev1, it will be in the next version of Webots. You can get a beta of the next version (R2020a-rev2) including Python 3.8 support on Windows by downloading a nightly build here: [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)

##### adaptive 04/28/2020 08:16:02
rev1


im using R2020a on Win10

##### David Mansolino [cyberbotics] 04/28/2020 08:15:22
But since you installed python 3.7 it seems it is using python 3.7 and therefore numpy is not installed for 3.7.

About python 3.8, which version of Webots are you using and on which OS ?

##### adaptive 04/28/2020 08:14:00
Numpy and any other lib is installed for 3.8

##### David Mansolino [cyberbotics] 04/28/2020 08:13:01
Is the 'numpy' module installed?

``python3.7 pip-m install numpy``

##### adaptive 04/28/2020 08:12:15
Hello, i have a problem getting webots running python. I have installed python 3.8 (anaconda) and started webots "Python 3.7 not found" -> installed Python 3.7 -> "No module named 'numpy'" ..

##### Dorteel 04/28/2020 06:53:37
ahh, no, that was the problem! thank you! ðŸ˜…

##### Olivier Michel [cyberbotics] 04/28/2020 06:53:16
I know, it's not very pythonic... ðŸ˜’


`isOver` is a method, did you try to add parenthesis?, i.e., `self.testingMotion.isOver()`?

##### Dorteel 04/28/2020 06:47:48
not just with my custom motion, same issue when I try it with the built-in motion files


I switched the controller to another one and back and now it works, but the motion.isOver still doesnÂ´t seem to work
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/704584116300939264/unknown.png)
%end

##### Olivier Michel [cyberbotics] 04/28/2020 06:38:19
OK...

##### Dorteel 04/28/2020 06:38:14
I only have one controller as far as I know

##### Olivier Michel [cyberbotics] 04/28/2020 06:37:49
It could be that one of your other controllers is crashing or hanging...

##### Dorteel 04/28/2020 06:37:03
Ah, I opened another world and now I have it running. I'll set the preferences, thank you

##### Olivier Michel [cyberbotics] 04/28/2020 06:36:53
Or use the `--mode=pause` command line argument.


Yes, you can select the startup mode from the Webots Preferences (pause mode).

##### Dorteel 04/28/2020 06:35:14
Is there a way to start up WeBots without autostarting the simulation? That seems to be why itÂ´s crashing


No, it just prints the line a couple timesteps in the motion.

##### Olivier Michel [cyberbotics] 04/28/2020 06:32:53
If you don't create the movie, but issue a print statement when the motion is over, does it work as expected?

##### Dorteel 04/28/2020 06:29:38
Hi, can you help me with recording a movie with the Supervisor? I have multiple problems, my idea was to see if the motion is over and stop the video recording. However the Motion.isOver returned true in the middle of the motion. I tried to comment out the video creating lines but I keep getting the error that the "Nothing was recorded because the simulation didnÂ´t run" even though there is no line to make a recording. I get the warning at every timestep.



EDIT: I tried restarting WeBots, but now it just starts up and crashes instantly without a warning.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/704580064972636280/unknown.png)
%end

##### David Mansolino [cyberbotics] 04/28/2020 05:24:28
> is there an Webots IRC-channel too?

`@adaptive` not as I know, at least officially only Discord is available.

##### adaptive 04/27/2020 19:07:38
is there an Webots IRC-channel too?

##### David Mansolino [cyberbotics] 04/27/2020 14:18:55
You're welcome

##### Simon Steinmann [Moderator] 04/27/2020 14:18:45
okay, thx ðŸ™‚

##### David Mansolino [cyberbotics] 04/27/2020 14:18:34
No, I am sorry I don't know, but for sure you will find some suggestions on Google ;-)

##### Simon Steinmann [Moderator] 04/27/2020 14:17:41
that's true. any library you'd recommend? eigen?

##### David Mansolino [cyberbotics] 04/27/2020 14:16:49
> now the controller is crashing... hmm perhaps I should do extra ros stuff outside of webots.... On a different note, is it possible to get positions (using supervisor) relative to a specific frame? I want to get the gripper position relative to the robot base, not the world

`@Simon Steinmann` looks like a good approach. For the supervisor, you can get the absolute position of both nodes and the compute te difference

##### Simon Steinmann [Moderator] 04/27/2020 14:14:10
right now my approach is to us the tf library to use kinematics tree transformation to calculate the toolslot position using the published tf topic. seems like uneccesary extra work. Is it possible to get that data directly?


now the controller is crashing... hmm perhaps I should do extra ros stuff outside of webots.... On a different note, is it possible to get positions (using supervisor) relative to a specific frame? I want to get the gripper position relative to the robot base, not the world


the ROS\_PACKAGE\_PATH= also has to be appended, for it to work

##### David Mansolino [cyberbotics] 04/27/2020 14:04:15
> shouldn't this line in the runtime.ini

> PYTHONPATH=$(WEBOTS\_HOME)/projects/lang....

> be this:

> PYTHONPATH=$(PYTHONPATH):$(WEBOTS\_HOME)/projects/lang....

`@Simon Steinmann` yes if you want to preserve the ``PYTHONPATH`` (in our case as we don't want that a possible ROS installation on the computer cause conflicts we don't want to preserve it).

##### Simon Steinmann [Moderator] 04/27/2020 13:55:33
good news, altering the runtime.ini works, bad news, tons of other errors. will investigate and post results


this would automatically add the stuff installed on the system


shouldn't this line in the runtime.ini

PYTHONPATH=$(WEBOTS\_HOME)/projects/lang....

be this:

PYTHONPATH=$(PYTHONPATH):$(WEBOTS\_HOME)/projects/lang....

##### David Mansolino [cyberbotics] 04/27/2020 13:48:27
Yes you can edit it per project, you just have to edit the runtime.ini file associated with your controller.

##### Simon Steinmann [Moderator] 04/27/2020 13:45:45
I am using a edited version of the universal\_robot\_ros controler, which is in its own git repository, not in the webots install


can I edit this on a per project basis, or do I have to alter the install?

##### David Mansolino [cyberbotics] 04/27/2020 13:43:28
The ROS controller of the UR robots is using the version of the python ROS libraries distributed in Webots (which doesn't include TF), this is defined (and can be changed) here: [https://github.com/cyberbotics/webots/blob/master/projects/robots/universal\_robots/controllers/universal\_robots\_ros/runtime.ini](https://github.com/cyberbotics/webots/blob/master/projects/robots/universal_robots/controllers/universal_robots_ros/runtime.ini)

##### Simon Steinmann [Moderator] 04/27/2020 13:43:07
and if so, where?


do I have to do that for webots too?


In my .bashrc I have to include the source commands to add the paths

##### David Mansolino [cyberbotics] 04/27/2020 13:42:10
No we are using python2 for ROS controllers

##### Simon Steinmann [Moderator] 04/27/2020 13:42:08
bit more readable
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/704326522281918535/unknown.png)
%end


this would indicate python2
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/704326383056453642/unknown.png)
%end


are you using a python3 compiled ros?


it only exists in python2 though


yes

##### David Mansolino [cyberbotics] 04/27/2020 13:38:10
Are you're ros library in the PYTHONPATH environment variable?

##### Simon Steinmann [Moderator] 04/27/2020 13:30:31
ImportError: No module named tf


it gives me this:


How can I tell webots to use the ros libraries installed on the system?

##### Psyka 04/27/2020 13:12:32
ok thank's

##### Olivier Michel [cyberbotics] 04/27/2020 13:11:10
You may use a touch sensor on the robots.

##### Psyka 04/27/2020 13:10:22
like a colision signal


Me again with an other question:

Is there a way to know when 2 robots touch each other ? or only by notifying the position of each and see when they are near each other ?


ok thank's very much ðŸ˜‰

##### Olivier Michel [cyberbotics] 04/27/2020 12:36:04
Exactly.

##### Psyka 04/27/2020 12:36:01
?


something like :

Supervisor {

controller "my\_supervisor"

}

##### Olivier Michel [cyberbotics] 04/27/2020 12:34:16
No. But it's very simple. Just create a Supervisor and if it has no children (default), then it is invisible.

##### Psyka 04/27/2020 12:33:31
is there a tuto or any doc who is showing an efficient way of creating an invisible supervisor process ?

##### Olivier Michel [cyberbotics] 04/27/2020 12:26:21
Yes.

##### Psyka 04/27/2020 12:25:49
having an invisible supervisor process do I have to creat it into the world file .wbt ?


ok thank's how can I do that the more efficient possible ?

##### Olivier Michel [cyberbotics] 04/27/2020 12:24:54
So, it's probably better in your case to have an invisible supervisor process logging everything.

##### Psyka 04/27/2020 12:24:52
and one or two with a lot more parameter then position


position


I've got a lot of robots to log

##### Olivier Michel [cyberbotics] 04/27/2020 12:24:09
It depends on your need.

##### Psyka 04/27/2020 12:23:43
is it not better to do that then doing a log in every robot ?

##### Olivier Michel [cyberbotics] 04/27/2020 12:23:28
Yes.

##### Psyka 04/27/2020 12:23:12
is it possible to creat in webot an invisible robot or object with a controller that can log everything ?


ho I've got a last question:


have a nice day I think it's all for me today ðŸ™‚


haha nice cool thx

##### Olivier Michel [cyberbotics] 04/27/2020 12:08:49
Yes.

##### Psyka 04/27/2020 12:08:38
but I say "WorldInfo" and "title" for field ?

##### Olivier Michel [cyberbotics] 04/27/2020 12:08:12
Yes.

##### Psyka 04/27/2020 12:08:08
it's like a position

##### Olivier Michel [cyberbotics] 04/27/2020 12:08:02
As you would get any other field of any node.

##### Psyka 04/27/2020 12:08:02
xD


i'm stupid right ?


haha

##### Olivier Michel [cyberbotics] 04/27/2020 12:07:43
You can get it from a supervisor controller.

##### Psyka 04/27/2020 12:07:32
of the simulation


the "Title" from worldinfo

##### Olivier Michel [cyberbotics] 04/27/2020 12:06:38
Do you mean the world filename?

##### Psyka 04/27/2020 12:06:32
didn't find one from the supervisor


Is there a way to get the simulation name from a controller ?


I've got an other question for you ^^


ok thank's ^^


I'm trying to do an anylizer of simulation and I will run like 20k short simulation, I would like not to see any of them

##### Olivier Michel [cyberbotics] 04/27/2020 12:03:48
Yep.

##### Psyka 04/27/2020 12:03:16
that's the more silent webots can do ?

##### Olivier Michel [cyberbotics] 04/27/2020 12:01:59
Actually, your should probably combine `--minimize`, `--batch` and `--mode=fast`.


There is `--minimize` mode, that will open a iconified window.

##### Psyka 04/27/2020 11:59:53
on windows I mean


?


Hello everyone :)

I've seen that there are some launching "mode" like "run" "pause" "fastrun" or "realtime", I've tried them but is there a silent mode where webot doesn't launch any visual just working like a hidden process

##### David Mansolino [cyberbotics] 04/27/2020 11:45:01
Actually physics plugin are more and more outdated, the Supervisor API is getting so powerfull that it offers almost all the features fo the physics plugin (and is much more simple/stable).

##### nap 04/27/2020 11:28:39
`@David Mansolino` : I could, but I figured using a physics plugin was the more natural way of doing it.  And to be honest, now that I've invested the time, I would like to work out why I'm having these problem.  Otherwise, I'll need to go through the learning curve again next time I attempt a physics plugin.

##### David Mansolino [cyberbotics] 04/27/2020 10:43:47
`@nap` why not simply changing the robot rotation using the Supervisor API instead of doing it from a physics plugin?

##### nap 04/27/2020 09:38:35
`@David Mansolino` :  You won't believe it, but I'm still stuffing around with the motor/wheel noise.  I'm using `dRFromAxisAndAngle` to rotate a small amount left/right and then `dBodySetRotation` .  However, it looks to me that on each step, my previous rotation is 'undone' and the `dBodyGetRotation` is back to its original course.

I tried using Force and Torque (as well as Rel) as you originally suggested, but I have to apply such high values to overcome the coulombFriction that when the epuck finally alters it course, it flies away wildly.

Should I use Kinematics mode?  Any other suggestions?

##### pro2017001 04/27/2020 09:31:49
`@Stefania Pedrazzi` Ok, I will check.

##### David Mansolino [cyberbotics] 04/27/2020 09:00:38
> `@David Mansolino` Hi i tried this but i had no luck. It doesnt output any feedback and ur is stuck

`@Rahul0496` on that case can you please add a comment and explain your issue in [https://github.com/cyberbotics/webots/issues/1362](https://github.com/cyberbotics/webots/issues/1362)

So that we can investigate and fix the issue. Thank you

##### nap 04/27/2020 08:53:28
`@Olivier Michel` : yes, from my controller it works fine.  Not sure why it didn't work from the physics plugin, but I'm not going to worry about that for now.

##### Olivier Michel [cyberbotics] 04/27/2020 08:52:37
I checked and it works for example in `projects/samples/devices/worlds/battery.wbt`

##### nap 04/27/2020 08:49:27
I'm doing it from the physics plugin, where normally I've been using `dWebotsConsolePrintf`.  I can put it in my controller and see.

##### Olivier Michel [cyberbotics] 04/27/2020 08:48:16
In that version `printf("\f");` should work, isn't it?

##### nap 04/27/2020 08:46:48
ok, thanks `@Olivier Michel` , how about 2020 rev 1a?

##### Olivier Michel [cyberbotics] 04/27/2020 08:46:02
On the nightly builds, you can use the ANSI control code to clear the console.

##### nap 04/27/2020 08:44:52
Is there a way to clear the console from code?  `printf("\f\n");` used to do that, but doesn't seem to do so anymore?

##### Stefania Pedrazzi [cyberbotics] 04/27/2020 08:20:05
`@pro2017001` from the log it seems that your controller program crashed. You should debug it to find where is the bug that makes it crashing.

##### Rahul0496 04/27/2020 07:54:08
> `@Rahul0496` your issue may be related [https://github.com/cyberbotics/webots/issues/1362](https://github.com/cyberbotics/webots/issues/1362).

`@David Mansolino` Hi i tried this but i had no luck. It doesnt output any feedback and ur is stuck

##### pro2017001 04/27/2020 07:15:42
I am using a Webot simulator to run the hoap2 robot using an inbuilt controller written in C programming language. I am getting an error

WARNING: hoap2: The process crashed sometime after starting successfully.

WARNING: 'hoap2' controller crashed.

And hoap2 is not working in the simulated environment.

Please guide me how can I use hoap2 robot for walking simulation.


Hello there

##### David Mansolino [cyberbotics] 04/27/2020 05:19:47
> hi, i am working with ur3e arm using ros controller and when i give it a set of positions to go to. the arm doesnt give a feedback message saying it has reached its goal and hence it doesnt go to the next position and is stuck

`@Rahul0496` your issue may be related [https://github.com/cyberbotics/webots/issues/1362](https://github.com/cyberbotics/webots/issues/1362).


> I am using gyro to turn my robot at certain degree but the problem is when I want it to stop at the particular amount of degree my robot won't stop

`@nikzzzlegrande` you set the position of the right motor to 0. But are you sure your motor is currently at position 0? And in any case as you exit right after sending the command without performing any robot step, the command is actually never sent to Webots.

P.S: next time use  screen shot instead of camera.


> Does anyone know why this happens when moving the object along with a connector?

`@machinekoder` very nice demo!

Are you speaking of the warning you get in the console about the physics step?


> We can see translation and rotational values on left side of the screen under a robots name. Can we get those values  in the code? and can we set those values from the code?

`@mearvind` to get them you can use a GPS device ([https://cyberbotics.com/doc/reference/gps9](https://cyberbotics.com/doc/reference/gps9)).

To get AND change them you will need to use the Supervisor API: [https://cyberbotics.com/doc/reference/supervisor](https://cyberbotics.com/doc/reference/supervisor)


> Is there an upper limit on the number of robots that can be included in the simulation? (I currently have 96 robots plus one supervisor that generates a TRAIL Shape for one of the robots that shows the path the robot has traversed.)

> I am getting the following error (47 times):

> `[void] socket connect() failed for /private/var/folders/tg/vymk3ysd1n14cpx7r7\_q5pgw0000gn/T/webots\_75232\_1507880620, errno=61

> [void] Cannot connect to Webots on pipe: /private/var/folders/tg/vymk3ysd1n14cpx7r7\_q5pgw0000gn/T/webots\_75232\_1507880620

> WARNING: 'void' controller exited with status: 1.

> `

> This may actually be due to an OS limit (MacOS) to the number of pipes, but the number seems small compared to what would normally be the limit.

> (I am going to start reducing the number of robots until the error goes away.)

`@nap` there is no limitation on the Webots side, but as you said, on the OS side there is a limitation about the number of pipe, but this configurable in your OS.

##### mearvind 04/27/2020 05:06:57
We can see translation and rotational values on left side of the screen under a robots name. Can we get those values  in the code? and can we set those values from the code?

##### David Mansolino [cyberbotics] 04/27/2020 05:06:21
> I add the webots/supervisor.h, but then there are more problems. Is there an example using the supervospr add force?

`@Troy` not forces, but you will find some supervisor example in this simulation:

[https://www.cyberbotics.com/doc/guide/samples-devices#supervisor-wbt](https://www.cyberbotics.com/doc/guide/samples-devices#supervisor-wbt)

and this one:

[https://www.cyberbotics.com/doc/guide/samples-howto#supervisor\_draw\_trail-wbt](https://www.cyberbotics.com/doc/guide/samples-howto#supervisor_draw_trail-wbt)

##### Rahul0496 04/26/2020 21:41:53
am i the only one facing this issue?


hi, i am working with ur3e arm using ros controller and when i give it a set of positions to go to. the arm doesnt give a feedback message saying it has reached its goal and hence it doesnt go to the next position and is stuck

##### machinekoder 04/26/2020 16:49:00
`@nikzzzlegrande` 1. set the velocity before the while loop

2. remove the set\_position call inside the if condition

##### nikzzzlegrande 04/26/2020 11:26:57
Can anyone say why because I am sure it's going inside if condition but the motor isn't stopping but controller is exiting


This is code
%figure
![JPEG_20200426_165600.jpg](https://cdn.discordapp.com/attachments/565154703139405824/703930000847667221/JPEG_20200426_165600.jpg)
%end


I am using gyro to turn my robot at certain degree but the problem is when I want it to stop at the particular amount of degree my robot won't stop

##### machinekoder 04/25/2020 11:43:05
gripper is gray, the adapter black


Note: The adapter has no physics node, the gripper has physics enabled. When I enable physics on the adapter, the gripper falls right off. Maybe that's related to the problem. ðŸ¤”
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/703571562598629396/unknown.png)
%end


Does anyone know why this happens when moving the object along with a connector?
> **Attachment**: [webots\_robot\_connector\_weirdness.mp4](https://cdn.discordapp.com/attachments/565154703139405824/703547180677595137/webots_robot_connector_weirdness.mp4)

##### nap 04/25/2020 03:20:09
`@Professor Felix` looks like your army may be smaller that you originally planned, but you may be able to concentrate the weapons more?


I suspect the limit it 50.  (49 robots + 1 supervisor)

##### Professor Felix 04/25/2020 02:29:59
If not Iâ€™m going to create a mass army of 2000+ drones and send them on a virtual attacking spree

##### nap 04/25/2020 02:25:56
Is there an upper limit on the number of robots that can be included in the simulation? (I currently have 96 robots plus one supervisor that generates a TRAIL Shape for one of the robots that shows the path the robot has traversed.)

I am getting the following error (47 times):

`[void] socket connect() failed for /private/var/folders/tg/vymk3ysd1n14cpx7r7\_q5pgw0000gn/T/webots\_75232\_1507880620, errno=61

[void] Cannot connect to Webots on pipe: /private/var/folders/tg/vymk3ysd1n14cpx7r7\_q5pgw0000gn/T/webots\_75232\_1507880620

WARNING: 'void' controller exited with status: 1.

`

This may actually be due to an OS limit (MacOS) to the number of pipes, but the number seems small compared to what would normally be the limit.

(I am going to start reducing the number of robots until the error goes away.)

##### Troy 04/24/2020 15:31:20
I add the webots/supervisor.h, but then there are more problems. Is there an example using the supervospr add force?

##### David Mansolino [cyberbotics] 04/24/2020 15:27:12
Yes, you simply have to change the floor texture, I strongly recommend to follow this tutorial if not already done: [https://www.cyberbotics.com/doc/guide/tutorial-3-appearance](https://www.cyberbotics.com/doc/guide/tutorial-3-appearance)

##### Mathie20 04/24/2020 15:25:32
is it possible to put lines on the rectanglearena. i.e. factory yellow stripe/lines...

##### David Mansolino [cyberbotics] 04/24/2020 15:25:08
`@Troy` did you include the 'supervisor' include?

##### Troy 04/24/2020 15:19:52
`@David Mansolino` Hi David, one more question, when I use the wb\_supervisor\_node\_add\_force function, it says " warning: implicit declaration of function 'wb\_supervisor\_node\_add\_force' [-Wimplicit-function-declaration]" but I do set the supervisor field to TRUE

##### David Mansolino [cyberbotics] 04/24/2020 15:05:42
You're welcome

##### SR-CNA 04/24/2020 14:56:25
`@David Mansolino` Thank you, I will go through the example you provided.

##### David Mansolino [cyberbotics] 04/24/2020 14:52:47
`@SR-CNA` yes, this is possible, for this you will have to create a PROTO of the plane and use procedural PROTO to define randomly the color.

I strongly advice to follow our tutorial about PROTO (and the previous one) if not already done: [https://www.cyberbotics.com/doc/guide/tutorial-7-your-first-proto](https://www.cyberbotics.com/doc/guide/tutorial-7-your-first-proto)

This is for creating a simple non-procedural PROTO, then you should read the documentation about procedural PROTO: [https://www.cyberbotics.com/doc/guide/tutorial-7-your-first-proto](https://www.cyberbotics.com/doc/guide/tutorial-7-your-first-proto)

And finally, you can find here an example of procedural PROTO: [https://github.com/cyberbotics/webots/blob/ad933d92210f17f784807cb33741ab4dc41d684f/projects/objects/factory/pallet/protos/WoodenPalletStack.proto#L22](https://github.com/cyberbotics/webots/blob/ad933d92210f17f784807cb33741ab4dc41d684f/projects/objects/factory/pallet/protos/WoodenPalletStack.proto#L22)

##### SR-CNA 04/24/2020 14:48:34
I wonder if it is possible to let a plane to have a random color. For example, every time I start the simulation, I hope the color of the plane can be either red or blue. Is is possible?

##### David Mansolino [cyberbotics] 04/24/2020 14:46:56
You're welcome

##### Troy 04/24/2020 14:42:54
`@David Mansolino` Thank you, I'll try the supervisor today

##### XZbot 04/24/2020 10:30:43
`@David Mansolino` thanks! I will take a look at these links.

##### David Mansolino [cyberbotics] 04/24/2020 10:22:37
Hi `@XZbot`, yes you can make a wall appears using the Supervisor API (the simplest solution is to have the wall already present in the simulation and simply move it with the supervisor): [https://cyberbotics.com/doc/reference/supervisor](https://cyberbotics.com/doc/reference/supervisor)

About multiple run, please find some explanation about numerical optimisation with Webots here: [https://cyberbotics.com/doc/reference/supervisor](https://cyberbotics.com/doc/reference/supervisor)

##### XZbot 04/24/2020 09:54:38
Hi `@David Mansolino` , I have two questions regarding the Webots environment. (1) I put an e-puck inside a triple T-maze constructed by walls. When it passes some T-intersection, I would like to temporarily block its way back so that it has to explore the unvisited area. I am not sure if a one-way door can be applied in this case, which means the e-puck can push the door from one direction but not the other, so that it won't go back after passing the door. Or can I make a door/wall suddenly appear at the intersection after the e-puck passes it during simulation? Or do you have some better suggestion?  (2) Can I run multiple simulation trials parallelly (at the same time) in the fast mode and how?  Thanks a lot!

##### kwy 04/24/2020 08:53:52
`@David Mansolino`  thanks!

##### David Mansolino [cyberbotics] 04/24/2020 08:34:05
> maybe this is a possible method for my small environment ...it seems for really huge environment ðŸ˜‚ [https://cyberbotics.com/doc/automobile/openstreetmap-importer#map-edition-and-creation](https://cyberbotics.com/doc/automobile/openstreetmap-importer#map-edition-and-creation)

`@kwy`it is indeed a possibility but you have to create the OSM map.


> The shape of these obstacles is strange, supervisor can also change the shape?

`@kwy` yes of course.

##### kwy 04/24/2020 08:08:00
maybe this is a possible method for my small environment ...it seems for really huge environment ðŸ˜‚ [https://cyberbotics.com/doc/automobile/openstreetmap-importer#map-edition-and-creation](https://cyberbotics.com/doc/automobile/openstreetmap-importer#map-edition-and-creation)


The shape of these obstacles is strange, supervisor can also change the shape?

##### David Mansolino [cyberbotics] 04/24/2020 07:57:05
You're supervisor should probably read the map image and compute the location of the obstacle.

##### kwy 04/24/2020 07:53:46
I have tried to place some path point (those red spots)on this map by supervisor.



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/703151117504348190/unknown.png)
%end


`@David Mansolino`  thanks. How to generate such a simulation environment or place object on map by a script? I have read this map as an array. Using this array to place object on map?



And this map is like this

##### David Mansolino [cyberbotics] 04/24/2020 05:04:19
> Hi! I used the dBodyAddForce  in my physics plugin, but my simulation will crash. When I delete this line, and everything go back to normal. But I do need to add a force on my robot, what can I do? Help!

`@Troy` you might use a Supervisor to add for instead of a physics plugin: [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_add\_force](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_add_force)


`@JoanGerard` very nice demo!!! Your robot-window looks very handy and your repository is very well organized (well documented and clean code), this is clearly a good reference for people wanting to use particle filter algorithm in Webots!


> hello, can I create a simulation environment from a black/white map on webots ?  Black represents obstacles

`@kwy` not automatically, but you can use it as texture for the ground and place object manually on it, or write a script to do this, or use ground sensors to detect these black area from your robot controller

##### Troy 04/24/2020 01:43:32
Itâ€˜s driving me crazy


Hi! I used the dBodyAddForce  in my physics plugin, but my simulation will crash. When I delete this line, and everything go back to normal. But I do need to add a force on my robot, what can I do? Help!

##### kwy 04/24/2020 01:15:44
hello, can I create a simulation environment from a black/white map on webots ?  Black represents obstacles

##### JoanGerard 04/23/2020 16:08:44
Hello, I've been working with Webots for almost a year now and I feel very happy with the software and the community support. You guys rock!

As part of my Master Thesis at ULB I am working on the subject: "Machine Learning for Probabilistic Robotics with Webots" and I developed a Particle's Filter algorithm together with a visualisation plugin that I would like to share with you. A very small demo can be found on Youtube: [https://www.youtube.com/watch?v=fISDutZca5g](https://www.youtube.com/watch?v=fISDutZca5g) and the code is here: [https://github.com/joangerard/webots-thesis](https://github.com/joangerard/webots-thesis) 

I am still working on the documentation part. Hopefully I will finish it by the end of next month. 

Is there anyone working on a similar subject?

##### David Mansolino [cyberbotics] 04/23/2020 14:44:29
You're welcome

##### Simon Steinmann [Moderator] 04/23/2020 14:44:23
perfect, thank you ðŸ™‚

##### David Mansolino [cyberbotics] 04/23/2020 14:44:17
yes exactly

##### Simon Steinmann [Moderator] 04/23/2020 14:43:50
So as long as Include the protos in the protos folder here and the world file is in the world folder, it works?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/702892496832692244/unknown.png)
%end

##### David Mansolino [cyberbotics] 04/23/2020 14:43:36
To test this you can try to add the ur10e proto to your world using the add node dialog, you will see that the one in your project is available but the one in the Webots installation directory is grey and not addable.


Webots will load in priority the PROTO from the ``protos`` folder of your project and then (if it didn't find them) in the Webots installation directory.

##### Simon Steinmann [Moderator] 04/23/2020 14:38:05
`@David Mansolino` Quick question, how does a worldfile know, which .proto to load? I had to make a change to the ur10e.proto, and it made me save it in my project location instead of altering the original (totally fine). However, the .wbt file does not change. Where is the link to that file stored? I'm asking, because I'm working on a group project, and our git does not include the webots install

##### Huey 04/23/2020 07:55:23
Cool.. Thanks `@David Mansolino`!

##### David Mansolino [cyberbotics] 04/23/2020 07:51:34
There is no notion of language, you have to add the sensor in the Webots scene-tree, then to use them you should do like with any other distance sensors, here is an example in Python: [https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot?tab-language=python#the-controller-code](https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot?tab-language=python#the-controller-code)

##### Huey 04/23/2020 07:49:43
However, I  wonder if there is a documentation where i could refer in python, for example the library to include for ground sensors ,etc


Thanks `@David Mansolino` ! I would like add a new ground sensor function as epuck line follower behaviour using Python..

##### David Mansolino [cyberbotics] 04/23/2020 07:41:59
Actually the names are documented just a bit after: [https://cyberbotics.com/doc/guide/epuck#devices-names](https://cyberbotics.com/doc/guide/epuck#devices-names)


`@Huey`, their name are indeed not documented ([https://cyberbotics.com/doc/guide/epuck#e-puck-characteristics](https://cyberbotics.com/doc/guide/epuck#e-puck-characteristics)), but the names are `gs0`, `gs1` and `gs2`, and they work the exact same way than the other distance sensors.

##### Psyka 04/23/2020 07:36:34
`@Olivier Michel`  ok thank's I will check that

##### Huey 04/23/2020 07:32:53
however, I cant seem to find it, would you guys mind giving me a pointer where this might be? Thankyou


Morning everyone.. I was looking for epuck groundsensor documentation in python from the cyberbotics website

##### Olivier Michel [cyberbotics] 04/23/2020 05:22:48
`@yxc1280`: a controller program should usually not `sleep()` as this will block the simulation process id the controller is synchronous. Instead you probably want to use the `wb_robot_step()` function and specify the duration as an argument (expressed in milliseconds). During this amount of time, the simulation will progress but your controller will do nothing.


`@Psyka`: you should use supervisor to track down the positions of objects and store them in your own custom log file.

##### dmknuth 04/22/2020 20:11:21
`@Olivier Michel`  the problem has not recurred with the new build (2020a-revision2)  Though I am hesitant to say this is resolved because I have seen it come back a day later before.  However, thank you for the new build.  If you don't hear from me again, then all is well!

##### yxc1280 04/22/2020 15:45:29
Hello, can you show me how to use sleep or delay function in Webots? Thank you!

##### Psyka 04/22/2020 15:43:01
I didn't find any ^^


but can we get some with the position of elements at instant T and everything happening inside the simulation ?


this log file is about performance

##### Olivier Michel [cyberbotics] 04/22/2020 15:35:19
What do you mean exactly?

##### Psyka 04/22/2020 15:27:47
Is it possible to set specified log from a simulation ?


I have an other question around the log


It will be fine enough for what I need to do thank's very much


It working only when I put the logfile into an other hard drive like E: not on C: maybe a permission issue


after reinstalling


I think I make it work with an absolute path

##### Olivier Michel [cyberbotics] 04/22/2020 15:20:41
`@Psyka`: can you try to type `webots-bin.exe` instead of `webots.exe`?

##### David Mansolino [cyberbotics] 04/22/2020 15:01:44
Perfect, thank you.

##### Olivier Michel [cyberbotics] 04/22/2020 15:01:01
I am investigating the issue on Windows right now.

##### David Mansolino [cyberbotics] 04/22/2020 15:00:38
I am sorry, I don't have Windows yet to test, but on macOS and Linux it works fine even with absolute path for me, can you please open an issue here so that we can test on Windows: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

Thank you

##### Psyka 04/22/2020 14:56:29
webots --log-performance="C:\Program Files\Webots\logfile" project.wbt


my cmd is :


it tell me: "webots: too many arguments" "try webots --help ..." and "could not open file: 'C:/Users/Name/Files/Webots/logfile'."


hum I guess I have it wrong since I can't put an absolute path

##### David Mansolino [cyberbotics] 04/22/2020 14:50:36
For me it is working fine with revision 2. Try setting an absolute path so that you are sure you know where to look for the file.


Let me try

##### Psyka 04/22/2020 14:48:09
Hello there,



I have an issue for you guys, I've installed the last vesion of REV-2 and i'll try to launch some simulation by the console, with the option --log-performance=logfile but no logfile to be found after the end of the simulation. a friend of mine has a file in "C:\Program Files\Webots\" but I don't

##### David Mansolino [cyberbotics] 04/22/2020 13:27:07
The focal distance is the distance to the focusing plane.

And the focal length is the distance from the optical centre of the lens to the sensor. Bigger this value is, larger the sharp area is.

##### Greenhigh 04/22/2020 13:26:33
Focal length should that be kinda of a zoom. Like to detimine how much of the image will be captured in the field of view?


Shouldnt it just be one varible?


So that is the diffrence between focal distance and focal length?

##### David Mansolino [cyberbotics] 04/22/2020 13:10:17
In Webots, the focal length and the FOV are not coupled you can change the FOV using the `fieldOfView` field of the camera.

##### Greenhigh 04/22/2020 13:08:01
I dont know if im doing it wrong but I tried to add the focal node and set a focal length. So now i can select a focal distance and focal length. but whenever i choose some values it changes focus as exspeted. but shouldnt the FOV change aswell?

##### David Mansolino [cyberbotics] 04/22/2020 12:12:28
Hi `@Greenhigh`  To calibrate the camera, you can add a Lens node to the camera to calibrate the distortion ([https://cyberbotics.com/doc/reference/lens](https://cyberbotics.com/doc/reference/lens)) and a Focus node ([https://cyberbotics.com/doc/reference/focus](https://cyberbotics.com/doc/reference/focus)) to define the focal length (here is a demo with auto-focus: [https://www.youtube.com/watch?v=ZHUt6ifcHfU](https://www.youtube.com/watch?v=ZHUt6ifcHfU))

##### Greenhigh 04/22/2020 12:05:21
I am trying to estimate a 3d point in the world from a pixel and depth mesurement. But i need the intrincs calibration inorder to do that ðŸ˜„


I have a question. Is there any way to set intrincs calibration for a camera? Like focal length and scew. It seems like if i add a focus node to the camera its possible to set a focal length but it seems to change noting.

##### David Mansolino [cyberbotics] 04/22/2020 09:10:29
You're welcome

##### Jeremy Jiang 04/22/2020 09:09:59
Thank you for the feedback.

##### David Mansolino [cyberbotics] 04/22/2020 08:36:16
Hi `@Jeremy Jiang`, yes we recently introduced such functions: [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_add\_force](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_add_force)

##### Jeremy Jiang 04/22/2020 08:34:46
Hello, I wonder is there any api to apply the external force to the robot in Webots?

##### Olivier Michel [cyberbotics] 04/22/2020 05:20:37
Can you try to download the latest version of Webots R2020a revision 2 which was uploaded last night at [https://github.com/cyberbotics/webots/releases/tag/nightly\_21\_4\_2020](https://github.com/cyberbotics/webots/releases/tag/nightly_21_4_2020) and let me know if that resolves the problem? This version contains a patch that should fix it.

##### dmknuth 04/21/2020 19:26:28
`@Olivier Michel` I tried your suggestions, but they did not work.  When I launched Webots this morning, it was behaving correctly, but when I launched it this afternoon, the 3D View was blank again.  I did nothing in between launches.


`@David Mansolino` here is a screen shot
%figure
![webots.png](https://cdn.discordapp.com/attachments/565154703139405824/702238453059944566/webots.png)
%end

##### Olivier Michel [cyberbotics] 04/21/2020 13:46:22
Great! Thank you for the feedback.

##### Psyka 04/21/2020 13:46:19
thank's very much


without the environment variable


just after installing the new version


Ok thank's it's working !


ok i'll try without

##### Olivier Michel [cyberbotics] 04/21/2020 13:18:05
Anyhow, the new revision 2 you are downloading may work without this.


Oops... Can you try to set the following environment variable: `QT_QPA_PLATFORM_PLUGIN_PATH` to point to `C:\Program Files\Webots\msys64\mingw64\share\qt5\plugins`?

##### Psyka 04/21/2020 13:16:27
but give it anyway I will try ^^


I already uninstall it

##### Olivier Michel [cyberbotics] 04/21/2020 13:15:42
Wait, I may have an idea...

##### Psyka 04/21/2020 13:15:40
I will keep you udpated of the issue thank's for now I'll be back once installed


ok thank's

##### Olivier Michel [cyberbotics] 04/21/2020 13:14:14
Yes.

##### Psyka 04/21/2020 13:14:07
should I uninstall the old one befor installing the new ?


I must have an older version since I didn't found any Webotsw.exe to launch it in silence mode


still have the message "file not found C://resources/qt\_warning\_filters.conf"

##### Olivier Michel [cyberbotics] 04/21/2020 13:11:34
The nightly build version of Webots R2020a revision 2 may fix the problem as we introduced a new launcher. You can download it from here: [https://github.com/cyberbotics/webots/releases/tag/nightly\_20\_4\_2020](https://github.com/cyberbotics/webots/releases/tag/nightly_20_4_2020)

##### Psyka 04/21/2020 13:11:03
Not working eather

##### Olivier Michel [cyberbotics] 04/21/2020 13:10:18
Did you try to launch `webots.bat` instead of `webots.exe`?

##### Psyka 04/21/2020 13:09:18
same

##### Olivier Michel [cyberbotics] 04/21/2020 13:07:18
Let me know if that resolves the issue.

##### Psyka 04/21/2020 13:06:55
I'll try


not at all

##### Olivier Michel [cyberbotics] 04/21/2020 13:06:11
Did you try to define the `WEBOTS_HOME` environment variable and make it point to `C:\Program Files\Webots`?

##### Psyka 04/21/2020 13:01:22
Hello everyone,



I've got an issue when I try to launch any simulation with a windows cmd I've got a message telling : "File not found: 'C://resources/qt\_warning\_filters.conf'."

and most of my textures doesn't show up, I've been searching for help everywhere, I know that the path given is wrong it should be : "C://Program Files/Webots/resources/qt\_warning\_filters.conf" but I Don't know where I could make this change. If someone can help me it would be cool.

##### David Mansolino [cyberbotics] 04/21/2020 12:21:58
> Is the simulation reset bug fixed by now?

`@Simon Steinmann` Please watch this thread to get updates about this bug: [https://github.com/cyberbotics/webots/issues/1432](https://github.com/cyberbotics/webots/issues/1432)

##### Simon Steinmann [Moderator] 04/21/2020 12:05:22
Is the simulation reset bug fixed by now?

##### Dorteel 04/21/2020 10:12:25
Thank you very much `@Olivier Michel` !

##### kf1375 04/21/2020 10:10:24
> `@kf1375` Yes except here you want to compare the value I guess not the identity, and `getKey()` will always return an integer

`@Hue` Yes, It's correct. ðŸ‘

##### Hue [cyberbotics] 04/21/2020 10:00:59
> `@Hue` [https://www.google.com/amp/s/www.geeksforgeeks.org/python-membership-identity-operators-not-not/amp/](https://www.google.com/amp/s/www.geeksforgeeks.org/python-membership-identity-operators-not-not/amp/)

`@kf1375` Yes except here you want to compare the value I guess not the identity, and `getKey()` will always return an integer

##### Olivier Michel [cyberbotics] 04/21/2020 10:00:12
Another option is to add a Display ([https://www.cyberbotics.com/doc/reference/display](https://www.cyberbotics.com/doc/reference/display)) device to your robot and display there whatever you want.


Basically your robot window is a web page which may include some JavaScript code and open a dialog box.


[https://cyberbotics.com/doc/guide/controller-plugin#robot-window](https://cyberbotics.com/doc/guide/controller-plugin#robot-window)


Hi, yes you can it from a robot window.

##### Dorteel 04/21/2020 09:56:03
Hi! Is there a way to create dialogue boxes in WeBots? I canÂ´t seem to find a solution to it
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/702095299698622494/unknown.png)
%end

##### kf1375 04/21/2020 09:53:19
> `@kf1375` Why are you using `is not -1:` ?

`@Hue` [https://www.google.com/amp/s/www.geeksforgeeks.org/python-membership-identity-operators-not-not/amp/](https://www.google.com/amp/s/www.geeksforgeeks.org/python-membership-identity-operators-not-not/amp/)

##### Hue [cyberbotics] 04/21/2020 09:41:51
> `@David Mansolino` Thank you , The problem was solved. The keyboard reading part had a problem. I changed <<while self.key:>> with <<if self.key is not -1:>>

`@kf1375` Why are you using `is not -1:` ?

##### kf1375 04/21/2020 09:26:17
> If the simulation is not running anymore it means that Webots is waiting for the controller, which means that your controller is not calling the robot.step function anymore.

`@David Mansolino` Thank you , The problem was solved. The keyboard reading part had a problem. I changed <<while self.key:>> with <<if self.key is not -1:>>

##### David Mansolino [cyberbotics] 04/21/2020 09:15:57
> If the simulation is not running anymore it means that Webots is waiting for the controller, which means that your controller is not calling the robot.step function anymore.


If the simulation is not running anymore it means that Webots is waiting for the controller, which means that your controller is not calling the robot.step function anymore.

##### kf1375 04/21/2020 09:04:57
> 

> `@kf1375` this error message gives you the answers:

> 
```
> [my_controller] my_controller.py:49: SyntaxWarning: "is not" with a literal. Did you mean "!="?
> 
```

> You should replace the `while (wb_robot_step(timestep) is not -1) {` condition by `while (wb_robot_step(timestep) != -1) {`.

> `@David Mansolino` There are no errors or warnings in the console.


> `@kf1375` this error message gives you the answers:

> 
```
> [my_controller] my_controller.py:49: SyntaxWarning: "is not" with a literal. Did you mean "!="?
> 
```

> You should replace the `while (wb_robot_step(timestep) is not -1) {` condition by `while (wb_robot_step(timestep) != -1) {`.

`@David Mansolino` I changed it but still, it doesn't work.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/702081751723540551/unknown.png)
%end

##### David Mansolino [cyberbotics] 04/21/2020 08:55:42
`@kf1375` this error message gives you the answers:

```
[my_controller] my_controller.py:49: SyntaxWarning: "is not" with a literal. Did you mean "!="?
```

You should replace the `while (wb_robot_step(timestep) is not -1) {` condition by `while (wb_robot_step(timestep) != -1) {`.

##### kf1375 04/21/2020 08:27:09
>
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/702072924051341372/unknown.png)
%end


Hello, I'm just starting with using Webots for a school project and I have a problem with writing a simple python controller for my quadrotor. I'm on a windows laptop and my controller is uploaded in the attachment. when it gets to <<while self.step(int(self.timeStep)) is not -1:>> at line 49, The simulation freezes. I'm wondering why this is happening and if there is a way to overcome this? Thank you in advance.
> **Attachment**: [pycontroller.py](https://cdn.discordapp.com/attachments/565154703139405824/702071286452453416/pycontroller.py)

##### Olivier Michel [cyberbotics] 04/21/2020 05:44:58
`@dmknuth`: in the `Tools` menu, please enable the `3D View`  and disable all other items: `Scene Tree`, `Text Editor`, `Console` and `Documentation`. Let me know if that helps.

##### David Mansolino [cyberbotics] 04/21/2020 05:13:09
> Hello, the 3D View keeps disappearing on me.  I have tried Tools->Restore Layout and that worked one time, but has not since.  Is there something else I can do?

`@dmknuth` can you send us a screenshot of the current layout you have?


You're welcome

##### Jie 04/21/2020 05:10:11
okokï¼Œthanks

##### David Mansolino [cyberbotics] 04/21/2020 05:00:49
> Hello,what meaning â€œarm\_set\_height(ARM\_FRONT\_CARDBOARD\_BOX);â€ in â€˜youbotâ€™ controller?

`@Jie` you will find the header of these functions here: [https://github.com/cyberbotics/webots/blob/master/projects/robots/kuka/youbot/libraries/youbot\_control/include/arm.h](https://github.com/cyberbotics/webots/blob/master/projects/robots/kuka/youbot/libraries/youbot_control/include/arm.h)

And the implementation here: [https://github.com/cyberbotics/webots/blob/master/projects/robots/kuka/youbot/libraries/youbot\_control/src/arm.c](https://github.com/cyberbotics/webots/blob/master/projects/robots/kuka/youbot/libraries/youbot_control/src/arm.c)

##### Jie 04/21/2020 04:19:42
Hello,what meaning â€œarm\_set\_height(ARM\_FRONT\_CARDBOARD\_BOX);â€ in â€˜youbotâ€™ controller?

##### dmknuth 04/20/2020 20:50:50
Hello, the 3D View keeps disappearing on me.  I have tried Tools->Restore Layout and that worked one time, but has not since.  Is there something else I can do?

##### Darko LukiÄ‡ [cyberbotics] 04/20/2020 18:57:05
`@Simon Steinmann` Oh, odometry is usually used in the context of mobile robots. I didn't know you use industrial robots. `tf` is a package that you want to check out. `tf` allows you to get transformation (translation and rotation) between any two links in a transform tree. 



To see all available published transformations, you can use:

```
rostopic echo /tf
```

This is one of many ways, you can use e.g. RViz or check the following page for more examples:

[http://wiki.ros.org/tf](http://wiki.ros.org/tf)



As mentioned, `tf` can calculate any transformation in the given transform tree, so you can use:

```
rosrun tf tf_echo [link_1] [link_2]
```

so, e.g. you can can obtain transformation between `upper_arm_link` and `wrist_1_link` as:

```
$ rosrun tf tf_echo /upper_arm_link /wrist_1_link
At time 152.976
- Translation: [0.000, -0.137, 1.184]
- Rotation: in Quaternion [0.000, 0.707, 0.000, 0.707]
            in RPY (radian) [3.142, 1.571, 3.142]
            in RPY (degree) [180.000, 89.998, 180.000]
At time 152.976
```



How to code it? With an understanding of everything above it is relatively easy to code. Please check an example here:

[http://wiki.ros.org/tf2/Tutorials/Writing%20a%20tf2%20listener%20%28C%2B%2B%29](http://wiki.ros.org/tf2/Tutorials/Writing%20a%20tf2%20listener%20%28C%2B%2B%29)



Hope this helps.

##### Simon Steinmann [Moderator] 04/20/2020 16:25:24
basically I want to set this, but from within my controller. And I want to get the Rotation in Quaternion as shown in the pic.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/701830894499135588/unknown.png)
%end


How can i get the position and orientation relative to a different frame? I dont want it relative to the world. In the GUI I can select it, but I want to set it by code.


with the orientation being in quaternion


and I'm using a robot arm, I basically want the position and orientation of the endeffektor relativ to the robot itself


using ROS1 sadly

##### Darko LukiÄ‡ [cyberbotics] 04/20/2020 16:20:17
`@Simon Steinmann`  If you use ROS2 than you can use `WebotsDifferentialDriveNode` in your ROS2 driver. You can check a good example of `WebotsDifferentialDriveNode` usage here:

[https://github.com/cyberbotics/webots\_ros2/blob/471430ae85beb4524f9db83b971b132fb5aa7a04/webots\_ros2\_tiago/webots\_ros2\_tiago/tiago\_controller.py#L25](https://github.com/cyberbotics/webots_ros2/blob/471430ae85beb4524f9db83b971b132fb5aa7a04/webots_ros2_tiago/webots_ros2_tiago/tiago_controller.py#L25)

##### Simon Steinmann [Moderator] 04/20/2020 16:16:17
Hi, is there a simple way to publish the odometry into a ros topic from within webots? The only way I can think of right now is to use supervisor with getPosition() and geOrientation(), to then convert the orientation matrix to Quaternion and to manually construct a Pose message and publish it. Is there a simpler way?

##### David Mansolino [cyberbotics] 04/20/2020 13:53:26
You're welcome!

##### JapieHoeven 04/20/2020 13:53:04
Yes it worked! Thanks so much!

##### David Mansolino [cyberbotics] 04/20/2020 13:52:24
It seems you closed the node editor, their is an editor on the bottom of the scene-tree (you should be able to re-open it by draging it), it should looks like: [https://cyberbotics.com/doc/guide/the-scene-tree#field-editor](https://cyberbotics.com/doc/guide/the-scene-tree#field-editor)

##### JapieHoeven 04/20/2020 13:51:16
Thanks for your quick response!


I have this, where is the controller I have to select?
%figure
![Schermafbeelding_2020-04-20_om_15.50.25.png](https://cdn.discordapp.com/attachments/565154703139405824/701792071903608852/Schermafbeelding_2020-04-20_om_15.50.25.png)
%end

##### David Mansolino [cyberbotics] 04/20/2020 13:45:37
Hi `@JapieHoeven` welcome. You have to select the 'controller' field before looking the 'Select' button.

##### JapieHoeven 04/20/2020 13:44:04
Hello, I'm just starting with using Webots for a school project and I have a question with the first tutorial. I'm on a Mac and at tutorial 1 at hands on #9. I have to connect the controller to the E-puck but there is nog "Select" button. On Windows you are able to click a select button, but I can't find that button on MacOS. Can somebody help me connecting the controller to the E-puck? Thank you in advance.

##### David Mansolino [cyberbotics] 04/20/2020 05:57:24
`@Morbius` welcome!

This robot is not available ot of the box in Webots, hoewver you can build you own model. I recommend to follow tutorial 1 to 6 to learn how to do this: [https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)

##### nap 04/19/2020 15:08:48
thnx


no problem, I will have a read of the links you posted.

##### Simon Steinmann [Moderator] 04/19/2020 15:03:57
I'm working on robot arms, so I can't help you much here, srry :p

##### nap 04/19/2020 15:03:53
I suppose I should calculate the X-Z angle.


I get the bot's current orientation using  `dBodyRobotRot = (dReal *) dBodyGetRotation(gRobotBodyID);`

##### Simon Steinmann [Moderator] 04/19/2020 15:02:40
for rotating a bot, it usually makes sense to use its own frame

##### nap 04/19/2020 15:02:35
At least that's what I want to do.


So, I get the orientation, add a small yaw and then set the new orientation.


and can be used in dBodySetRotation


From the docs, dBodyGetRotation return world coords.

##### Simon Steinmann [Moderator] 04/19/2020 15:01:00
everything depends on your reference frame. Usually every joint and the world have their own coordinate systems, and it is not always clear, which way they 'point'

##### nap 04/19/2020 15:00:24
(Thanks for your suggestions though.)


I'm  not new to 3D transformations, it's just that I don't use them everyday, and there are things happening in Webots which don't seem to make sense.  Like, when my epuck is facing up the screen (-Z), I can make it yaw by using  `dRFromAxisAndAngle(R,0.0,1.0,0.0, dBodyRobotRot[2] - angleDeltaBase);` followed by `dBodySetRotation(gLeftWheelBodyID,R);`

However, when I have the epuck facing Left on the screen (-X), I cannot use the same formula.  It doesn't make sense because I'm still performing a yaw.

##### Simon Steinmann [Moderator] 04/19/2020 14:58:37
An incredible link to understand Quaternion is this: [https://eater.net/quaternions/](https://eater.net/quaternions/)


it is not 100% necessary to understand it, but it certainly helps. There is conversion libraries, to convert things like rotations from one form into another. The 3 most commonly used rotation notations are Quaternion (x,y,z, w). Euler Angles and 3x3 Rotation matrix. They all have andvantages and disadvantages


it is linear Algebra. The math is the same, no matter what software you use

##### nap 04/19/2020 14:51:25
(and ODE?)


`@Simon Steinmann` :  Thanks.  I will read it.  Does the tutorial use the same conventions as Webots?

##### Simon Steinmann [Moderator] 04/19/2020 14:24:27
`@nap` give this a read: [https://www.tapatalk.com/groups/ultimate3d\_community/understanding-transformation-matrices-t5483.html](https://www.tapatalk.com/groups/ultimate3d_community/understanding-transformation-matrices-t5483.html)

##### nap 04/18/2020 12:26:57
Can someone please explain the 4x3 matrix returned from a call to `dBodyGetRotation`?  I know that elements 3, 7, and 11 are to be ignored.  My understanding is that the diagonal of the matrix (0, 5,10) represent the rotation about the X, Y, Z axis respectively.  What I don't understand is the purpose/meaning of the other matrix elements; 1,2,4,6,8,9.  My understanding is that those elements represent coupling between axis, but a body rotation should not have these.  Unless the matrix includes information about inertial, or the body is being distorted around axis?


This behaviour doesn't seem to make sense to me.


The code for the physics plugin is at: [https://abms.net.au/public/worldPhysicsC.c.zip](https://abms.net.au/public/worldPhysicsC.c.zip)


Q about the Physics in Webots.... I'm trying to simulate some noise in the motors/wheels in the epuck (differential robot).  I've tried a few ways so far and right now I'm attempting to alter the course of the epuck using `dBodySetAngularVel`.  I'm setting the y (yaw) parameter to some value that generates an effect.  Then, every 50 steps, I'm flipping the sign on the yaw parameter, which in theory should create a zig-zag path.  However this is not happening and I'm cannot understand why.  Attached is a video that demonstrates my point:  [https://abms.net.au/public/physics\_angular\_velocity\_oil\_slick\_then\_tar.mp4](https://abms.net.au/public/physics_angular_velocity_oil_slick_then_tar.mp4)

The name of the video says it all.

##### Morbius 04/17/2020 19:59:18
I'm new here. Is there any support for the WLKATA Mirobot G1?

##### Soyboy 04/17/2020 15:31:15
`@Olivier Michel` Ahh that makes sense, thank you so much! I'll look into Blender

##### Olivier Michel [cyberbotics] 04/17/2020 15:30:32
Not sure to understand what you mean...

##### nikzzzlegrande 04/17/2020 15:29:57
Is there any way to turn the robot using gyro sensor values

##### Olivier Michel [cyberbotics] 04/17/2020 15:26:52
However, I would recommend you to use a 3D modeling software to create complex IndexedFaceSet nodes, such as Blender.


That's because faces are single sided. If you need double sided faces, you should define them twice, but with reverse vertex order in the second time.

##### Soyboy 04/17/2020 15:24:32
Hi guys, I just started using Webots about a week ago and I'm trying to make a shape using IndexedFaceSet. I made all the points and indexes and the shape is there but each face is only visible from certain angles. Does anyone know what is causing this and/or how to fix it?

##### David Mansolino [cyberbotics] 04/17/2020 12:49:20
You're welcome.

##### Francony 04/17/2020 12:47:26
makes sense, thanks!

##### David Mansolino [cyberbotics] 04/17/2020 12:46:31
`@Francony` even if you have only one node in the children field this field type is still a MFNode so you should use   getMFNode.

getSFNode is reserved for SFNode (such as for example the ``phyiscs`` field of the ``Solid`` nodes).

##### Francony 04/17/2020 12:44:01
Hi, just out of curiousity, I have a children field with one node in it. When I used .getField("children").getSFNode() it didn't find it, but .getField("children").getMFNode(0) found it. Is there something i'm missing here?

##### nap 04/17/2020 09:53:22
In the physics plugin with an E-Puck robot, setting `dBodySetRotation(gRobotBodyID, body_posr.R);` rotates the body, but the wheels come off (that is they do not rotate with the body).  It would appear to me that this has something to do with how the `E-puck.proto` is defined.  Is that so?

##### Olivier Michel [cyberbotics] 04/17/2020 09:07:30
But unfortunately none for getting the inertia matrix. Nevertheless it shouldn't be very difficult to implement it. If you want to dig into the source code of Webots and implement it, you are very welcome!


There is an API function for getting the center of mass: [https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_get\_center\_of\_mass](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_get_center_of_mass)

##### Francony 04/17/2020 09:05:46
okay, thats what I was wondering from my first question, I wasn't clear. Thanks a lot and have a nice day.

##### Olivier Michel [cyberbotics] 04/17/2020 09:04:51
Yes, if they are not present in the scene tree, you cannot retrieve them from a supervisor...

##### Francony 04/17/2020 09:03:31
Thanks for the quick answer. Thats what I thought but when I don't add them in manually and use "inertiaMatrix.getMFVec3f(0)" I get a "called with an out-of-bound index: 0" error, should I be accessing them differently?

##### Olivier Michel [cyberbotics] 04/17/2020 09:00:51
Yes, if you don't specify the inertial matrices, they are automatically computed from the bounding object.

##### Francony 04/17/2020 08:59:35
Hi, is there a way to automatically add all Bounding object based inertial matrices to my nodes so that they are accessible from a controller?

##### Jeremy Jiang 04/17/2020 07:45:42
Ok, thank you

##### Olivier Michel [cyberbotics] 04/17/2020 07:45:06
Meanwhile, you can try to edit your world file in a text editor and add the ElevationGrid manually there.


[https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)


Please open a bug report allowing us to reproduce the crash.

##### Jeremy Jiang 04/17/2020 07:42:38
Hello, I have a problem with Webots. Every time when I create the ElevatorGrid node within the solid node, the Webots will breakdown, and I cannot find the solution. I'm using the version of webots-R2020a-rev2. Is the problem related to this version, could you tell me the suggestions?

##### yash 04/17/2020 06:00:49
Let me try it out


> `@yash` yes you have to create your own controller for detecting LEDs, this is just an example.

`@David Mansolino`  yes will have to do that , thanks

##### nap 04/17/2020 05:59:06
I may be doing something wrong


Iâ€™ll have a look at the code in the repo and do some tests

##### David Mansolino [cyberbotics] 04/17/2020 05:57:24
You're welcome

##### nap 04/17/2020 05:57:16
Thnx


`@David Mansolino` : np, thought I would ask just in case

##### David Mansolino [cyberbotics] 04/17/2020 05:56:07
> `@David Mansolino` : As explained earlier, I'm using the physics plugin to change the yaw of the robot by a small amount each step.  This seems to work for a few step, but then stops having an effect on the robot.

> I'm wondering why this is happening and if there is a way to overcome this?

`@nap` I am sorry but I have no idea why this is happening.


> I already had a look at it , in this case the camera detects coloured objects and not colour from LED.

> So thatâ€™s why asked it itâ€™s possible or not .?

`@yash` yes you have to create your own controller for detecting LEDs, this is just an example.

##### nap 04/17/2020 05:42:48
`@David Mansolino` : As explained earlier, I'm using the physics plugin to change the yaw of the robot by a small amount each step.  This seems to work for a few step, but then stops having an effect on the robot.

I'm wondering why this is happening and if there is a way to overcome this?

##### yash 04/17/2020 05:40:33
I already had a look at it , in this case the camera detects coloured objects and not colour from LED.

So thatâ€™s why asked it itâ€™s possible or not .?

##### David Mansolino [cyberbotics] 04/17/2020 05:21:21
Yes, you will find some example of simulation using the camera here for example: [https://cyberbotics.com/doc/guide/samples-devices#camera-wbt](https://cyberbotics.com/doc/guide/samples-devices#camera-wbt)

##### yash 04/17/2020 05:14:55
So we have to use getImagered ... etc functions for this purpose .?

##### David Mansolino [cyberbotics] 04/17/2020 05:14:22
> Is it possible to detect RGB colours of LED using a camera ?

`@yash` certainly yes.

##### Agriope 04/17/2020 01:10:53
Awesome. Here is a great reference for the code for each component, with examples of implementations, if it is needed: [https://www.cyberbotics.com/doc/reference/nodes-and-api-functions](https://www.cyberbotics.com/doc/reference/nodes-and-api-functions)

##### nikzzzlegrande 04/17/2020 01:09:32
`@Agriope` yeah thanks that was the issue

##### Agriope 04/17/2020 01:07:21
I believe so. Try adding these to the top of your code:

\#include <webots/accelerometer.h>

\#include <webots/gyro.h>

##### nikzzzlegrande 04/17/2020 01:06:13
Are there any libraries for accelerometer and gyro in webots?  `@Agriope`

##### Agriope 04/17/2020 01:05:23
I had a similar issue not too long ago. Are you making sure to include all the appropriate libraries?

##### nikzzzlegrande 04/17/2020 01:04:04
Can anyone tell me why I am getting this error
%figure
![JPEG_20200417_063251.jpg](https://cdn.discordapp.com/attachments/565154703139405824/700511870318018640/JPEG_20200417_063251.jpg)
%end

##### yash 04/16/2020 18:48:17
Is it possible to detect RGB colours of LED using a camera ?

##### Weiyi 04/16/2020 15:26:30
OK, thank you very much!!!ðŸ˜€

##### David Mansolino [cyberbotics] 04/16/2020 15:25:38
Hi, we have an URDF importer: [https://github.com/cyberbotics/urdf2webots](https://github.com/cyberbotics/urdf2webots)

##### Weiyi 04/16/2020 15:01:54
Hello, I wonder whether I can add stl or urdf file into my worldðŸ˜€

##### yash 04/16/2020 11:30:12
Alright thanks ... let just check it out

##### David Mansolino [cyberbotics] 04/16/2020 11:20:39
If each robot has 4 cameras, this is probably the bottleneck. Cameras are expensive to simulate or the GPU, you should either try with a more powerful GPU either try reducing the camera refresh rates.

##### yash 04/16/2020 11:14:19
And LEDs and one bump sensor


Itâ€™s a differential drive robot with 4 camera, 8 distance sensors , one turn table mechanism , one IMU, 2 position sensors

##### David Mansolino [cyberbotics] 04/16/2020 10:48:46
Can you tell us a bit more about this?


Hi, it all depends on the kind of robot and devices you are using.

##### yash 04/16/2020 10:43:38
I am working on swarm robotics . Increasing the number of robots the simulation runs slow and sometimes also hangs in between and then continues running slowly. What could be the issue .?

##### nap 04/16/2020 09:05:19
`@Olivier Michel` : I understand. I didnâ€™t realise it was the case until I was debugging a physics plugin and had my forces in the wrong field.

##### Olivier Michel [cyberbotics] 04/16/2020 05:30:11
The Y axis pointing to the sky is a standard in VRML97 from which Webots inherited. I know RViz and other software more often use Z as the vertical axis. We are considering changing this into Webots, but that will take quite some time.

##### nap 04/15/2020 23:07:53
`@David Mansolino` : I did it.  It looks crap but it works.  I ended up using a Physics Plugin, but had to resort to dBodyGetRotation and dBodySetRotation because I couldn't get dBodyAddRelTorque and dBodyAddRelForce to work for some reason.


Anyone know much about Physics Plugins and the library functions available?


Why does the Y axis point up into the sky?  Should that not be the Z axis?

##### Olivier Michel [cyberbotics] 04/15/2020 18:09:02
It may just slow down the simulation.

##### machinekoder 04/15/2020 18:00:51
`@Olivier Michel` Thanks, I'll try that. It doesn't really emulate an LED stripe, but might work for me. Is there any disadvantage of placing many lights if I disable shadows?

##### tilly 04/15/2020 16:35:34
but only on ubuntu (it works fine on mac)


hi, if Im trying to run multiple instances of webots I always get this error. Is there a way to fix it?
%figure
![image.png](https://cdn.discordapp.com/attachments/565154703139405824/700021321160982578/image.png)
%end

##### kwy 04/15/2020 15:30:48
`@nap` thanks!

##### nap 04/15/2020 15:29:55
That links to the explanation, which I have an idea about but couldn't explain succinctly.


[https://cyberbotics.com/doc/reference/distancesensor#lookup-table](https://cyberbotics.com/doc/reference/distancesensor#lookup-table)


sorry, `lookuptable`


`@kwy` : use the 'noise' parameter.  You can set the response for range.

##### kwy 04/15/2020 15:24:34
Hello, I have questions. can I change the range of the distance sensor on E-puck? and how far can it measure ?

##### nap 04/15/2020 15:11:16
I'm using the (mistake) actually it's the `flying_mybot.c` example as a rough guide.


hmmm.  `@David Mansolino` :  I decided to use a Physics Plugin.

So I edited the E-puck PROTO and added a DEF leftHinge to the HingeJoint (same for the right side).

Set the physics node in WorldInfo to my plugin name.  In the plugin C file, I have defined a `dBodyID` for each joint in the init() method using `epuckHinges[0] = dWebotsGetBodyFromDEF("epuckLeftHinge");`.  And in the step() method, I have `dBodyAddForce(epuckHinges[0], 0.0, 0.0, 9.0);` for each hinge (-9.0 for the other one.); spin around the Z axis.

But my epuck still goes straight.


`@David Mansolino` :  It would be nice to be able to open two Webots windows. (Not to run in both, but to compare.)

##### David Mansolino [cyberbotics] 04/15/2020 13:26:31
Their is an APi function for that: 

[https://cyberbotics.com/doc/reference/camera#wb\_camera\_save\_image](https://cyberbotics.com/doc/reference/camera#wb_camera_save_image)

##### nikzzzlegrande 04/15/2020 13:25:22
Can anyone tell me how to save the photo taken by the camera in webots save it to my desktop

##### nap 04/15/2020 13:10:16
`@David Mansolino` thanks a million for answering all my questions.

`@kwy` , thanks for pointing out the supervisor demos.

I have some work (fun) ahead of me to prepare for tomorrow's class.


In 'slave.py', the initialiser builds a dynamic PROTO?


oh, so how do they work?  I suppose the python demo would explain that.


Is this it: `ResettableMyBot.proto`?

##### David Mansolino [cyberbotics] 04/15/2020 13:02:35
It is not defined in a PROTO.

##### nap 04/15/2020 13:01:23
What is the name of their PROTO file? I can't find mybot.proto


Ok, that's fine.  I think some students might like them too.

##### David Mansolino [cyberbotics] 04/15/2020 12:57:58
(that's not a real robot)


yes, we call it 'MyBot'.

##### nap 04/15/2020 12:57:21
These ones
%figure
![Screen_Shot_2020-04-15_at_10.56.54_pm.png](https://cdn.discordapp.com/attachments/565154703139405824/699966597825167390/Screen_Shot_2020-04-15_at_10.56.54_pm.png)
%end


thnx


They have faces on them and the wheels are external to the body (unlike the epuck)

##### David Mansolino [cyberbotics] 04/15/2020 12:53:51
?


MyBot

##### nap 04/15/2020 12:53:35
(Which reminds me, what are those blue robots called?)


That demo has 3 blue robots running around.


I'll have a look at the python master/slave project now that can see roughly how it works.


Ok, ic.  (actually seen it a lot but never understood its real meaning.)

##### David Mansolino [cyberbotics] 04/15/2020 12:52:13
Non, when you select the node in Webots, you can define the DEF name in the node editor (just below the scene-tree): [https://www.cyberbotics.com/doc/reference/def-and-use](https://www.cyberbotics.com/doc/reference/def-and-use)

##### nap 04/15/2020 12:51:33
(turret slot?  [Which is a collection])


Or attaching it to the turret?


Ok, would that be done by editing the PROTO file?

##### David Mansolino [cyberbotics] 04/15/2020 12:50:09
> and if I wanted to get a reference to the Epuck, I would use "PROTO E-puck"?

`@nap` No, you have to add a DEF name to your e-puck and then use the same in the Supervisor controller: [https://www.cyberbotics.com/doc/reference/def-and-use](https://www.cyberbotics.com/doc/reference/def-and-use)

##### nap 04/15/2020 12:49:52
or is there a way of using the `name` property?

##### David Mansolino [cyberbotics] 04/15/2020 12:49:27
> Does DEF TARGET need to be globally unique in the world?

`@nap` Yes.

##### nap 04/15/2020 12:49:10
and if I wanted to get a reference to the Epuck, I would use "PROTO E-puck"?


Does DEF TARGET need to be globally unique in the world?


Yep, I see


I can see that it creates the Trail shape, but I'm not seeing how it know to draw it where to epuck has been.

##### David Mansolino [cyberbotics] 04/15/2020 12:44:49
It gets it from the 'TARGET' DEF name: [https://github.com/cyberbotics/webots/blob/master/projects/samples/howto/controllers/supervisor\_draw\_trail/supervisor\_draw\_trail.c#L72](https://github.com/cyberbotics/webots/blob/master/projects/samples/howto/controllers/supervisor_draw_trail/supervisor_draw_trail.c#L72)

##### nap 04/15/2020 12:43:48
In the draw trail, how does the supervisor get a reference to the Epuck?


`@kwy`, the `supervisor_draw_trail.wbt` world looks handy for my situation.  It has an epuck and a supervisor in it together.


thanks

##### David Mansolino [cyberbotics] 04/15/2020 12:17:25
> Could you point me to a supervisor example?  I've seen one in python, but I need C/C++.

`@nap` here is a simple example: [https://github.com/cyberbotics/webots/blob/master/projects/samples/devices/controllers/sample\_supervisor/sample\_supervisor.c](https://github.com/cyberbotics/webots/blob/master/projects/samples/devices/controllers/sample_supervisor/sample_supervisor.c)

##### nap 04/15/2020 12:16:49
but that's an interesting idea.


Yes, but I would need at least 3 (Win, MacOS, and Ubuntu)

##### David Mansolino [cyberbotics] 04/15/2020 12:16:08
> I could be useful here to prevent the students from modifying the supervisor code.

`@nap` in that case you can distribute an already compiled binary (if all your students are using the same OS).

##### kwy 04/15/2020 12:16:00

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/699956192881016833/unknown.png)
%end

##### nap 04/15/2020 12:15:43
`@kwy`, thanks

##### David Mansolino [cyberbotics] 04/15/2020 12:15:27
> Have the code signing mechanisms been removed from the Open Source version?

`@nap` yes.

##### kwy 04/15/2020 12:14:56

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/699955924114210906/unknown.png)
%end

##### nap 04/15/2020 12:13:34
I could be useful here to prevent the students from modifying the supervisor code.


Have the code signing mechanisms been removed from the Open Source version?


Could you point me to a supervisor example?  I've seen one in python, but I need C/C++.


Yes, and I'm very happy that I have access, I think Webots is a terrific development and look forward to a bright future.

##### David Mansolino [cyberbotics] 04/15/2020 12:10:18
> lol, one of those balls kids play with that bounces really well and high.

`@nap` not really, but you can have a ball and tune the contact properties to make bouncy.


You're lucky, Webots is now free and open-source so even with Educational license you can use the Supervisor now ðŸ˜‰

##### nap 04/15/2020 12:09:30
lol, one of those balls kids play with that bounces really well and high.


I've never used a Supervisor.  We had an Educational License for W7/8.  ðŸ˜¦

##### David Mansolino [cyberbotics] 04/15/2020 12:08:57
> does Webots model super-balls?

`@nap` What so you mean by super-balls?


But maybe if you really want to introduce some 'randomness' in your simulation the simplest solution is to use a second controller using the Supervisor API which will perturbate the robot (by adding some random force/torque on the robot for example).

##### nap 04/15/2020 12:08:28
does Webots model super-balls?


What kind of device could I insert into the chain?

##### David Mansolino [cyberbotics] 04/15/2020 12:07:22
> I assume the simulation is based on rigid bodies, can I introduce something between the motor and the epuck body that varies the position/orientation of the wheel randomly?

`@nap` yes it is indeed, yes that's a possibility.


Webots API does not include any callback, but you might introduce some in the controller.

About the Brake, it will work if you control the motor in torque, if you use speed control, the PID controller will compensate for the brake (util it reaches the maximum torque).

About the battery, it will unfortunately switch on/or the motor but not influence the commands.

##### nap 04/15/2020 12:05:08
I assume the simulation is based on rigid bodies, can I introduce something between the motor and the epuck body that varies the position/orientation of the wheel randomly?


Is the power of the wheels affected by the battery state?  Can there be some noise introduced there?


`@David Mansolino` : I've looked at the E-puck.proto file, and whilst it is possible to add noise to the positional sensors, the follow-line behaviour does not use that information.  Instead it uses the GSM module to detect the line and simply sends differential motor commands.  I don't want to introduce more noise on the GSM as that will throw the control loop out.  RotationalMotors however does not allow a noise parameter.

Just thinking aloud here.  If I were to introduce a "Brake" device, with some friction coefficient, can noise be introduced there?

Are there any callbacks I could subscribe to in order to fiddle the motor commands?

##### Olivier Michel [cyberbotics] 04/15/2020 11:23:52
I guess you will have to tune the `ambientIntensity` parameter and `location` or  `direction` depending on the type of light you will select.


[https://cyberbotics.com/doc/reference/light](https://cyberbotics.com/doc/reference/light)


This is normal. To change the illumination of surrounding objects, you should setup lights in your environment.

##### machinekoder 04/15/2020 11:19:59
`@Olivier Michel` I tried that, but it doesn't change the illumination of surrounding objects.

##### Olivier Michel [cyberbotics] 04/15/2020 10:06:58
See [https://www.cyberbotics.com/doc/reference/material](https://www.cyberbotics.com/doc/reference/material)


You should probably set some emissive color to the material of that plane.

##### machinekoder 04/15/2020 10:04:30
What's the best way to simulate a light source emitted from a plane? In particular an LED strip.

##### David Mansolino [cyberbotics] 04/15/2020 09:07:47
You're welcome

##### Laojiang 04/15/2020 09:07:39
I find it, thank you

##### David Mansolino [cyberbotics] 04/15/2020 09:05:17
Yes, you can run Webots in fast mode. This can be set using the '--mode=fast' argument when starting Webots or from the preferences.

##### Laojiang 04/15/2020 09:04:18
Is there any way to cancel graphics rendering?

##### David Mansolino [cyberbotics] 04/15/2020 08:52:28
You're welcome ðŸ™‚

##### nap 04/15/2020 08:49:04
`@David Mansolino` :  Cheers, that sounds like something interesting for me to learn how to do. (And thanks for the link/example.)


We're not going into details about PROTOs, though I've mentioned they exist.

##### David Mansolino [cyberbotics] 04/15/2020 08:48:13
> `@David Mansolino` : ok.  So it would be 'given to them' but in such a way that it would be 'obfuscated'?

`@nap` Yes exactly. Of course they can always manually edit the PROTO file a text editor, but this way more tricky.


For example for distance sensors, this is defined in the look-up table: [https://cyberbotics.com/doc/reference/distancesensor#lookup-table](https://cyberbotics.com/doc/reference/distancesensor#lookup-table)

##### nap 04/15/2020 08:47:26
`@David Mansolino` : ok.  So it would be 'given to them' but in such a way that it would be 'obfuscated'?

##### David Mansolino [cyberbotics] 04/15/2020 08:46:12
For the sensors, this is defined directly in the Webots scene-tree (or can be hidden in a PROTO file if you want to hide this to your student).

##### nap 04/15/2020 08:45:07
`@David Mansolino` :  (1) I was thinking about this after I posted my question.  I suppose if the students work out how to disable the noise they can easily work out how to implement a feedback loop for this.

(2) Our students will be installing their own Webots versions based on the OS they have.  So I would need to supply them with our version of the sensor model.

 BTW, where would the sensor noise model be implemented?  Would it be in the controller as well or in a different part of the project (I have no idea atm.)

##### David Mansolino [cyberbotics] 04/15/2020 08:26:49
You may add artificial noise on the controller side, but this is indeed easy to disable for the students. 

Otherwise, you can rather add noise on the sensor side, most of the sensors in Webots do provide a noise model.

##### nap 04/15/2020 08:06:47
`@David Mansolino` : Thanks.  I'll take you up on that suggestion.  I was planning on making an introductory exercise for my students, but with no noise, I'll work out some other scenarios.

Is there a way of inducing noise?  (I don't want the students to simply disable it and then say "Look my project works".  lol

##### furkann 04/15/2020 06:48:11
> Your Qt application should however call the `wb_robot_step` on a regular basis (for example called by QTimer callback) to make the simulation advance.

`@Olivier Michel` Thank you so much for your interest


Briefly, I want to connect simulation via qt application. For example I want to send to a command to robot

##### Olivier Michel [cyberbotics] 04/15/2020 06:47:14
Your Qt application should however call the `wb_robot_step` on a regular basis (for example called by QTimer callback) to make the simulation advance.


Hi, you can simply write a Qt application that includes webots C or C++ include files and is linked with the Webots libController library.

##### furkann 04/15/2020 06:45:18
Hello guys, How can I control a webots simulation via Qt Widget application.

##### David Mansolino [cyberbotics] 04/15/2020 06:13:55
Yes it does. On Webots 7, the kinematic version had indeed a noise feature you're right, but since these robots are now dynamic for most of them this is not supported anymore. But since it might indeed be a good idea to have noise on the motor command, feel free to open an a feature request here: [https://github.com/cyberbotics/webots/issues/new?template=feature\_request.md](https://github.com/cyberbotics/webots/issues/new?template=feature_request.md)

##### nap 04/15/2020 06:01:27
`@David Mansolino` :  So, given a differential robot and symmetric motor commands, the robot travels in a perfectly straight line on a flat/level surface?  (I don't think that was the case in Webots 7/8)

##### David Mansolino [cyberbotics] 04/15/2020 05:42:23
> In Webots R2020a-rev1, I don't seem to be getting any noise in the motors and my epuck drives striaght without needing any control.  Is there a setting that turns on noise?

`@nap` Webots does not provide noise in motor command.


> Hi, can we get robot1's sensor information (such as camera) in robot2's controller using python? For example, I want to use a centralized controller to gather all the robots sensor information and send move commands to other robots' controller..

`@Zuxin` you need to use emitter and receiver to send/share these information.


> I need help to create an account

`@ITS11` Webots does not require any account anymore, you can use any email address you want and the generic 'webots' password, for more information see:

[https://www.cyberbotics.com/doc/guide/general-faq#can-i-still-use-a-webots-version-before-the-r2019a-release](https://www.cyberbotics.com/doc/guide/general-faq#can-i-still-use-a-webots-version-before-the-r2019a-release)

Note also that we do recommend to use the latest version of Webots which doesn't require to login anymore.

##### nap 04/15/2020 05:12:16
In Webots R2020a-rev1, I don't seem to be getting any noise in the motors and my epuck drives striaght without needing any control.  Is there a setting that turns on noise?

##### luhang 04/15/2020 02:18:30
I also need a webots account

##### ITS11 04/14/2020 23:23:36
[http://www.cyberbotics.com/my\_account/register](http://www.cyberbotics.com/my_account/register)


The web page thats says below is not working longer


I need help to create an account
%figure
![webots_8.jpg](https://cdn.discordapp.com/attachments/565154703139405824/699760960507871242/webots_8.jpg)
%end


Hi there

##### Zuxin 04/14/2020 20:16:58
Hi, can we get robot1's sensor information (such as camera) in robot2's controller using python? For example, I want to use a centralized controller to gather all the robots sensor information and send move commands to other robots' controller..

##### David Mansolino [cyberbotics] 04/14/2020 15:28:14
You're welcome

##### LuisD 04/14/2020 15:24:50
Ok, but thank you for your quick answer

##### David Mansolino [cyberbotics] 04/14/2020 15:23:24
Unfortunately we are indeed still working on it. But you can subscribe to the notifications of this issue to know when we progress on this front.

##### LuisD 04/14/2020 15:19:24
Thanks yes, that's exactly my problem. But since the issue is still open, i guess there is nothing i can do about it for now?

##### David Mansolino [cyberbotics] 04/14/2020 15:14:55
Hi `@LuisD`, I am not sure to understand exactly what is your problem. Is it similar to [https://github.com/cyberbotics/webots/issues/1432](https://github.com/cyberbotics/webots/issues/1432) ?

##### LuisD 04/14/2020 15:06:51
Hi, i have a problem where the time step after i restart the simulation increases with everytime i restart the simulation. But it is only the first time step after i restart the simulation, the time steps after that are fine again. Is there something i could be doing wrong?

##### David Mansolino [cyberbotics] 04/14/2020 12:58:40
Yes, it is actually the same

##### Tosidis 04/14/2020 12:57:58
> Yes, you can but we do not provide any library to parse and export wbt file in Python.

`@David Mansolino` probably you mean wbo, right?

##### David Mansolino [cyberbotics] 04/14/2020 12:37:46
You may have to add a 'fake' bounding object and physics node to the intermediary robot node (this can be a very small sphere).

##### Mathie20 04/14/2020 12:36:31
> `@David Mansolino`  I have tried it using the robot. The multisense camera and gripper fall of when i run it...

##### David Mansolino [cyberbotics] 04/14/2020 12:23:42
It was able, but this is now deprecated and we do not provide any support for this anymore: [https://github.com/cyberbotics/naoqisim](https://github.com/cyberbotics/naoqisim)

##### luhang 04/14/2020 12:22:42
Can the Webots directly call the NAOqi library to use?

##### David Mansolino [cyberbotics] 04/14/2020 12:01:51
Yes, you can but we do not provide any library to parse and export wbt file in Python.

##### Tosidis 04/14/2020 12:01:06
Got a couple of questions. Can i open a wbt file through a python script? And if yes, can I then export a node in that world as wbo? (again through a script)

##### David Mansolino [cyberbotics] 04/14/2020 11:56:09
`@Mathie20` this is normal, the ure ros controller handle the joints only, to make the slot device available throught ROS, the simplest solution is to encapsulate them in a Robot node (which is itself in the toolslot) and assign the ``ros`` controller to this robot.

##### Mathie20 04/14/2020 11:54:06
Hi, When i use the universal robot ros controller (using a ur3e). I dont get any services on the toolslot. Which i added a camera on top of it. How can i get the rosservice of the toolslot using the universal robot ros controller so that i can activate the camera

##### David Mansolino [cyberbotics] 04/14/2020 11:38:12
You're welcome

##### nikzzzlegrande 04/14/2020 11:37:29
`@David Mansolino` thank you

##### David Mansolino [cyberbotics] 04/14/2020 11:37:08
Here is a sample code showing how to get the GPS coordinate: [https://cyberbotics.com/doc/guide/samples-devices#gps-wbt](https://cyberbotics.com/doc/guide/samples-devices#gps-wbt)

##### nikzzzlegrande 04/14/2020 11:34:17
Is there any example code available which I can refer to?

##### David Mansolino [cyberbotics] 04/14/2020 11:33:06
Yes, you simply have to add a GPS node to your robot and write a controller that does the necessary motion to reach this point based on the current position returned by the GPS.

##### nikzzzlegrande 04/14/2020 11:25:03
If I put a GPS marker my robot shud go to that particular point

##### David Mansolino [cyberbotics] 04/14/2020 11:24:24
Can you be a bit more precise, what do you mean by GPS waypoint ?

##### nikzzzlegrande 04/14/2020 11:23:15
Can we put gps way point in webots?

##### Jie 04/14/2020 06:31:42
ok

##### David Mansolino [cyberbotics] 04/14/2020 06:31:31
Yes

##### Jie 04/14/2020 06:25:17
download this one Webots Nightly Build (13-4-2020)?

##### David Mansolino [cyberbotics] 04/14/2020 06:24:04
You're welcome

##### Jie 04/14/2020 06:23:40
okï¼Œthanks for your help

##### David Mansolino [cyberbotics] 04/14/2020 06:22:45
`@Jie` you're right, we fixed this in the development version, it now have a 'staticBase' field allowing you to pin it to the environment. You can download a beta of the R2020rev2 version here: [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)

##### Jie 04/14/2020 06:16:52
`@David Mansolino` I add abb irb4600 robot, Looks it don't have it.

##### David Mansolino [cyberbotics] 04/14/2020 06:09:27
You're welcome.

##### Daniel Deng 04/14/2020 06:06:00
Sure, thanks!

##### David Mansolino [cyberbotics] 04/14/2020 06:05:22
Hi `@Daniel Deng`, what you are doing looks correct (even so it is indeed always safer to save and revert to make sure the scene tree is completely up to date), can you please open an issue with this description here: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

We will then try to fix the problem.

##### Daniel Deng 04/14/2020 05:58:15
Hi, I ran into a problem/bug, I have a solid with a group as its children, and the group as the bouldingobject. The group have contained two transforms, the first have a children shape DEF A, the second children use DEF A, (two identical shape, cylinder, at different place). When I change the radius of A, both cylinders change shape, which is correct. However, only one side of the boundingobject(white border) changed, resulting in different boundingobject on two sides. If I save and reload, the two sides will match again. Iâ€™m I missing something here?

##### David Mansolino [cyberbotics] 04/14/2020 05:49:39
> hiï¼ŒHow do I fix a robot (robotic arm) on the tableï¼ŸCan you help me ?

`@Jie` you simply have to make sure that the root node of the robot have a bounding object defined but no Physics node. Do you have one particular robot in mind?


> I want a synchronous controller in webots, for this I need a loop running, and only execute robot.step(timestep) when I give the command. How can I accomplish this. Is it possible inside webots, or do I HAVE to go the extern controller route?

`@Simon Steinmann` this is indeed possible inside Webots, but you have to make sure that you have a callback (for example from a ROS service) that calls the ``robot.step(timestep)`` function.


> Hi, I want to make my own ROS controller. However, 'import rospy' doesnt work in a new controller, it only works when changing the existing universal\_robot\_ros controller. Any ideas as to why?

`@Simon Steinmann` this is because this controller contains a ``runtime.ini`` files that adds the rospy libraries to the path, see: [https://github.com/cyberbotics/webots/blob/master/projects/robots/universal\_robots/controllers/universal\_robots\_ros/runtime.ini](https://github.com/cyberbotics/webots/blob/master/projects/robots/universal_robots/controllers/universal_robots_ros/runtime.ini)

You will find more information about the use of runtime.ini files with controllers here: [https://cyberbotics.com/doc/guide/controller-programming#environment-variables](https://cyberbotics.com/doc/guide/controller-programming#environment-variables)


> Hi, I am implementing an OpenAI gym environment using Webots. As a first step, I need to run Webots in python and make sure that it is opened successfully. how can I check if Webots opened in a safe way?

`@Meisam` I know that some other users have made partial interface between OpenAI an Webots, you might for example take inspiration from: [https://github.com/talregev/gym-webots](https://github.com/talregev/gym-webots)


> Hi, I'm using webots to test my robot with an uneven ground to prove the robustness.I find a floor object called unevenTerrain in webots, which can randomly generated uneven terrain based on Perlin noise. It is okay, but I think I may need a more uneven ground than this object. How can I get an more uneven ground in Webots or is there any methods to create my own uneven terrain?

`@Jeremy Jiang` the uneven terrain PROTO uses internally the ElevationGrid node: [https://cyberbotics.com/doc/reference/elevationgrid](https://cyberbotics.com/doc/reference/elevationgrid)

Using this node you can create a floor with any custom eleveation (based on a regularly spaced grid).


> Hi, I wonder how could I get the node inside a proto using python? For example, I want to reset the KUKA yobot's position, now I could get the node for the robot using getFromDef() function and reset its position, however, the robot arm is not reset. How can I reset the whole KUKA yobot positions (both base and arm)? Thanks.

`@Zuxin` internal nodes of a PROTO node can't be manipulated, but you might reset the robot using the wb\_supervisor\_node\_reset\_physics function ([https://cyberbotics.com/doc/reference/supervisor?version=develop#wb\_supervisor\_node\_reset\_physics](https://cyberbotics.com/doc/reference/supervisor?version=develop#wb_supervisor_node_reset_physics))


You're welcome!

##### nap 04/14/2020 05:38:08
thanks `@David Mansolino`

##### David Mansolino [cyberbotics] 04/14/2020 05:37:37
> Can someone please recommend a YouTube video that would introduce webots (and perhaps the epuck) to 1st year university students who have very little programming skills?

`@nap` here is the presentation video: [https://www.youtube.com/watch?v=O7U3sX\_ubGc](https://www.youtube.com/watch?v=O7U3sX_ubGc)

Otherwise, you can have a look at the curriculum which is a bit more technical and explains Webots and the e-puck to beginnger programmer: [https://en.wikibooks.org/wiki/Cyberbotics%27\_Robot\_Curriculum](https://en.wikibooks.org/wiki/Cyberbotics%27_Robot_Curriculum)

##### nap 04/14/2020 05:35:35
Can someone please recommend a YouTube video that would introduce webots (and perhaps the epuck) to 1st year university students who have very little programming skills?

##### David Mansolino [cyberbotics] 04/14/2020 05:35:10
> Can anyone tell me how to make a robot go to a particular set of coordinates? Is there any set of instructions other than going for a little bit complex path planning set up

`@nikzzzlegrande` you unfortunately have to do path planning for a realistic behavior. Otherwise you can use the Supervisor API to teleport your robot: [https://cyberbotics.com/doc/reference/supervisor](https://cyberbotics.com/doc/reference/supervisor)


> hi, how can i connect database to webots

`@Kyrex` What kind of database? Webots controllers are regular processes, so you can connect them to any database like you would do with any other program.

##### nikzzzlegrande 04/14/2020 05:33:06
Can anyone tell me how to make a robot go to a particular set of coordinates? Is there any set of instructions other than going for a little bit complex path planning set up

##### David Mansolino [cyberbotics] 04/14/2020 05:33:00
> Hi! I hope someone can help me ðŸ™‚ how do I set the wheel position sensor to zero or any other value ??    leftWheelSensor.getValue()

`@Techcore`, you mean from the controller? This is unfortunately not possible from the Webots API, however, you can easily compute an offset in your controller.


> Is there a document that explains how the `projects` folder is organised?  I would like to give a brief but succinct explanation to students in a class I'm instructing of what to expect and where.

`@nap`, yes, here it is: [https://www.cyberbotics.com/doc/guide/the-standard-file-hierarchy-of-a-project](https://www.cyberbotics.com/doc/guide/the-standard-file-hierarchy-of-a-project)


> Hi, i encountered a problem: when I initial my simulation I give the Thymios II certain names they are displayed (right) in the tree and starting the simulation in normal speed everything works as expected. If I start the simulation in fast mode the name I get from robot.getName() is "Thymio II" and not the name i gave them. Is there any way to fix this?

`@tilly` you have not the same behavior in real-time and fast mode? Can you please report this (including a simple world, controller and procedure to reproduce this) here: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

Thank you


> Hi! Sorry to bother you! Did this situation happened to anyone before? When I write a lot of codes in physics.c and build it, then run the simulation, but Webots just stoped working and crashed down. My environment is windows 10. Does anyone know how to fix this problem? Does this mean my codes are wrong?

`@Troy` the physics plugins are loaded directly in Webots (not like the controller which are separated executables) which means that if your plugin has an issue an crashes, it will make Webots crash too.


> I am having problem with integrating matlab with webots can anyone help

`@nikzzzlegrande` hi, we did fix a lot of issues with matlab recently, please try with a nightly version of Webots R2020a-revision2: [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)

##### Jie 04/14/2020 03:30:41
hiï¼ŒHow do I fix a robot (robotic arm) on the tableï¼ŸCan you help me ?

##### Simon Steinmann [Moderator] 04/13/2020 16:00:38
I want a synchronous controller in webots, for this I need a loop running, and only execute robot.step(timestep) when I give the command. How can I accomplish this. Is it possible inside webots, or do I HAVE to go the extern controller route?


and this does not
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/699287567895625859/unknown.png)
%end


why does this work
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/699287546139639868/unknown.png)
%end


Hi, I want to make my own ROS controller. However, 'import rospy' doesnt work in a new controller, it only works when changing the existing universal\_robot\_ros controller. Any ideas as to why?

##### Meisam 04/13/2020 09:05:28
Hi, I am implementing an OpenAI gym environment using Webots. As a first step, I need to run Webots in python and make sure that it is opened successfully. how can I check if Webots opened in a safe way?

##### Jeremy Jiang 04/13/2020 06:50:07
Hi, I'm using webots to test my robot with an uneven ground to prove the robustness.I find a floor object called unevenTerrain in webots, which can randomly generated uneven terrain based on Perlin noise. It is okay, but I think I may need a more uneven ground than this object. How can I get an more uneven ground in Webots or is there any methods to create my own uneven terrain?

##### Zuxin 04/13/2020 04:38:37
Hi, I wonder how could I get the node inside a proto using python? For example, I want to reset the KUKA yobot's position, now I could get the node for the robot using getFromDef() function and reset its position, however, the robot arm is not reset. How can I reset the whole KUKA yobot positions (both base and arm)? Thanks.

##### nap 04/12/2020 21:44:10
`@furkann` :  What language are you using? What DB do you want to connect to?


`@furkann` :  I would think that connecting to a DB, e.g. MySQL or SQLITE has nothing to do with the Webots APIs.  You just need to find the required dependencies (headers if C/C++) and add the libraries into the Makefile for linking.


Can someone please recommend a YouTube video that would introduce webots (and perhaps the epuck) to 1st year university students who have very little programming skills?

##### furkann 04/11/2020 23:04:30
> hi, how can i connect database to webots

`@Kyrex`  please help this guy

##### nap 04/11/2020 16:41:01
Never mind, I found the header and the comment stating how to do it: getAccelerometer("accelerometer")


How does one get an instance of an Accelerometer device?  Something analogous to getCamera("camera")

##### Kyrex 04/11/2020 15:27:06
hi, how can i connect database to webots

##### kwy 04/11/2020 11:44:58
`@nap` `@Darko LukiÄ‡` thanks! I will try

##### Darko LukiÄ‡ [cyberbotics] 04/11/2020 09:40:02
> hello, is there any sensor detect landmarks ?

`@kwy` 

If you want to evaluate your landmark detection algorithms (that can be scaled to the real-world) you can use ArUco Markers ([https://docs.opencv.org/trunk/d5/dae/tutorial\_aruco\_detection.html](https://docs.opencv.org/trunk/d5/dae/tutorial_aruco_detection.html)). OpenCV allows you to get position and rotation of the ArUco Markers, so you can use it to determine range and bearing. 



Otherwise, you can use Webots Recognition node. Just make sure to follow the instructions:

- [https://cyberbotics.com/doc/reference/recognition](https://cyberbotics.com/doc/reference/recognition)

- [https://cyberbotics.com/doc/reference/camera?tab-language=python#wb\_camera\_has\_recognition](https://cyberbotics.com/doc/reference/camera?tab-language=python#wb_camera_has_recognition)


> Hi, I want to recognize the things with the camera and for this reason I add recognition node in the project. But when I use the function of "getRecognitionNumberofObjects", the number of things turn to 0.  What should I do to solve this problem?

`@zynp` 

Make sure your object's `recognitionColors` field is not empty:

[https://cyberbotics.com/doc/reference/recognition?tab-language=python#description](https://cyberbotics.com/doc/reference/recognition?tab-language=python#description)

##### nikzzzlegrande 04/11/2020 08:41:14
> I have my own question:  What is the exact criteria for naming and locating a controller.  Does in NEED to be at the same level as the "worlds" folder or can it be else where?  (I already know the name of the folder becomes the name of the controller.)

`@nap`  you have to keep it in the controller of the same folder as world folder lies for ur simulation see the code


Thank you

##### Darko LukiÄ‡ [cyberbotics] 04/11/2020 08:38:18
> How to give time delay in webots

`@nikzzzlegrande` 

Please check this answer:

[https://discordapp.com/channels/565154702715518986/565154703139405824/697549114832977960](https://discordapp.com/channels/565154702715518986/565154703139405824/697549114832977960)

##### nap 04/11/2020 08:11:05
I have my own question:  What is the exact criteria for naming and locating a controller.  Does in NEED to be at the same level as the "worlds" folder or can it be else where?  (I already know the name of the folder becomes the name of the controller.)


otherwise a normal programming sleep


TIME\_STEP

##### nikzzzlegrande 04/11/2020 08:08:49
`@nap` can you tell me how to put time delay in controller

##### nap 04/11/2020 08:08:41
So, the camera provides a frame to your controller and your controller scans the frame to see if there is a green spot.  if there is, then do action A, otherwise continue doing action B.


(That is how I program my controllers.)


You would probably do that in your "Controller".  Sensors are generally NOT smart;  they just provide the data.

##### kwy 04/11/2020 07:53:08
`@nap` It that possible to build a plugin which can recognise a  simple landmarks and provide bearing/range information. The landmarks can be very simple, like a green point on the wall.

##### nap 04/11/2020 07:21:37
`@Techcore` , good question.  One way to deal with the problem would be to record the value and compare the difference later?


`@kwy` Essentially, that would be a good approach if you're using some coordinate system.  Obviously you will/can check where the robot is and compare it to your map.

In order to get bearing/range information, your vision system will need to recognise things and provide that information.  Then you could use the 'triangulation' principle to see where you are, in which case you will usually fall back to a Cartesian coordinate system.

##### kwy 04/11/2020 02:41:46
`@nap` So can I divide the map into simple geometric areas, or convert map into matrix. And then find the location of the robot and landmarks on the map. Is this effective?



using vision can I get the information about the range and bearing?


`@nap` thanks .

##### Techcore 04/10/2020 21:27:47
Hi! I hope someone can help me ðŸ™‚ how do I set the wheel position sensor to zero or any other value ??    leftWheelSensor.getValue()

##### nap 04/10/2020 16:03:39
If you're using vision, then you need some algorithm that is able to determine if it sees the landmark.


If you mean GPS or cartesian coordinates, then you need to know where you are and test whether you're at the landmark.


You need to configure your sensor analysis code to detect when a landmark is being sensed.


I would not think so, since a landmark can be anything.

##### kwy 04/10/2020 15:43:01
hello, is there any sensor detect landmarks ?

##### nap 04/10/2020 15:23:13
Is there a document that explains how the `projects` folder is organised?  I would like to give a brief but succinct explanation to students in a class I'm instructing of what to expect and where.

##### tilly 04/10/2020 07:53:14
only happens at the first try after opening webots  (after resetting the simulation it works fine)


Hi, i encountered a problem: when I initial my simulation I give the Thymios II certain names they are displayed (right) in the tree and starting the simulation in normal speed everything works as expected. If I start the simulation in fast mode the name I get from robot.getName() is "Thymio II" and not the name i gave them. Is there any way to fix this?

##### Troy 04/10/2020 02:06:56
Hi! Sorry to bother you! Did this situation happened to anyone before? When I write a lot of codes in physics.c and build it, then run the simulation, but Webots just stoped working and crashed down. My environment is windows 10. Does anyone know how to fix this problem? Does this mean my codes are wrong?

##### nikzzzlegrande 04/10/2020 00:34:09
How to give time delay in webots

##### zynp 04/09/2020 23:19:58
Hi, I want to recognize the things with the camera and for this reason I add recognition node in the project. But when I use the function of "getRecognitionNumberofObjects", the number of things turn to 0.  What should I do to solve this problem?
%figure
![Ekran_Alnts.PNG](https://cdn.discordapp.com/attachments/565154703139405824/697948955262058546/Ekran_Alnts.PNG)
%end

##### nap 04/09/2020 16:56:56
Never mind, I found the "Speaker" button in the control bar.


Or, am I not hearing it for some reason?  I have headphones plugged in and selected as well as sufficient volume.

The controller while loop doesn't do anything.


Webots 2020revB Text-to-Speech device demo...  how do you make the robot speak?

##### nikzzzlegrande 04/09/2020 16:54:48
I already installed that compiler still it's showing the error


I am having problem with integrating matlab with webots can anyone help



%figure
![IMG-20200409-WA0021.jpg](https://cdn.discordapp.com/attachments/565154703139405824/697851823817752687/IMG-20200409-WA0021.jpg)
%end

##### David Mansolino [cyberbotics] 04/09/2020 14:41:02
`@Î•Ï…Î±Î³Î³ÎµÎ»Î¯Î±` you might use a Propeller node to be able to add force and thrust on your capsule: [https://cyberbotics.com/doc/reference/propeller](https://cyberbotics.com/doc/reference/propeller)

##### Î•Ï…Î±Î³Î³ÎµÎ»Î¯Î± 04/09/2020 14:32:17
Hi! I have tried to change gravity into 0 0 0  and i kept the wheels. So, my capsule goes until one point and comes back. How can i fix it in order rto manipulate its motion and achieve to follow intestines root? I have stimulated intestine as a vrml file.

##### David Mansolino [cyberbotics] 04/09/2020 12:18:13
You're welcome ðŸ™‚

##### Shadow 04/09/2020 12:17:59
Thanks ðŸ™‚

##### David Mansolino [cyberbotics] 04/09/2020 12:17:39
This PROTO here is doing exactly what you want to do: [https://github.com/cyberbotics/webots/blob/69202baee3c0974f69f0e72d3412d19ed69feaad/projects/objects/traffic/protos/DirectionPanel.proto](https://github.com/cyberbotics/webots/blob/69202baee3c0974f69f0e72d3412d19ed69feaad/projects/objects/traffic/protos/DirectionPanel.proto)

When the ``text`` field changes it generates a new image in the temporary files and then use it as texture.

Let me know if there is something you don't understand in this PROTO.

##### Shadow 04/09/2020 12:14:54
I'm generating an image, using text from a field in the texture. I would like the texture to update when the text field is updated.

##### David Mansolino [cyberbotics] 04/09/2020 12:13:22
You want to generate the image from the proto or just change the texture used?

##### Shadow 04/09/2020 12:12:52
Using procedural proto nodes, how can I make the script to generate a texture update when one of the proto fields are updated?

##### Olivier Michel [cyberbotics] 04/09/2020 11:48:49
Please let me know if that works for you.


`@Ä°chigogo` & `@Taechuã…‡ã……ã…‡`: can you try to download this version of Webots that should fix the problem with texture errors: [https://github.com/cyberbotics/webots/releases/download/testing-webots-bin-renaming-2/webots-R2020a-rev2\_setup.exe](https://github.com/cyberbotics/webots/releases/download/testing-webots-bin-renaming-2/webots-R2020a-rev2_setup.exe)

##### David Mansolino [cyberbotics] 04/09/2020 10:56:31
You're welcome

##### chenpixx 04/09/2020 10:56:05
Thanks

##### David Mansolino [cyberbotics] 04/09/2020 10:54:55
Hi, please make sure that you have read/write access to this port, note also that naoquissim is deprecated. We recommend to use the native Webots API to simulate the nao robot.

##### chenpixx 04/09/2020 10:54:02
from naoqi import ALProxy

from naoqi import ALModule





    motion.setStiffnesses("Body", 1.0)

    postureProxy.goToPosture("StandInit", 1.0)

    



    global motion, postureProxy, memoryProxy

    motion       =  ALProxy("ALMotion" , "127.0.0.1", 9559)

    postureProxy =  ALProxy("ALRobotPosture", "127.0.0.1", 9559)

    memoryProxy  =  ALProxy("ALMemory", "127.0.0.1", 9559)


I will use simulation environment not real robot.


Hi I received the errors: [my\_controller]     initialize\_Proxys()

[my\_controller]   File "my\_controller.py", line 22, in initialize\_Proxys

[my\_controller]     motion       =  ALProxy("ALMotion" , "127.0.0.1", 9559)

[my\_controller]   File "/usr/local/lib/pynaoqi/lib/python2.7/site-packages/naoqi.py", line 237, in \_\_init\_\_

[my\_controller]     inaoqi.proxy.\_\_init\_\_(self, args[0], args[1], args[2])

[my\_controller]   File "/usr/local/lib/pynaoqi/lib/python2.7/site-packages/inaoqi.py", line 273, in \_\_init\_\_

[my\_controller]     this = \_inaoqi.new\_proxy(*args)

[my\_controller] RuntimeError:     ALBroker::createBroker

[my\_controller]     Cannot connect to tcp://127.0.0.1:9559

##### David Mansolino [cyberbotics] 04/09/2020 10:10:20
You're welcome

##### Dorteel 04/09/2020 10:09:47
Alright, thank you David! ðŸ™‚

##### David Mansolino [cyberbotics] 04/09/2020 10:04:36
Hi `@Dorteel`, unfortunately, there is no more tool to easily record motion file. But you can indeed quite easily create a script that will record them.

##### Dorteel 04/09/2020 10:03:33
I'm planning on setting up a script that would generate one for me, but I'm wondering if there is an easier way


Hi, is there a way to record motion files or an easy way to create them?

##### Olivier Michel [cyberbotics] 04/09/2020 08:38:58
Yes, this is explained here: [https://cyberbotics.com/doc/reference/motor#motor-limits](https://cyberbotics.com/doc/reference/motor#motor-limits)

##### Laojiang 04/09/2020 08:36:10
In fact, it looks that the moving can break in the limits easily


My model can move now. However, I found that my both soft (minPosition and maxPosition) and hard limits (minStop and maxStop) don't do anything during  the model moving.


ok, I'll try it, thank you

##### Olivier Michel [cyberbotics] 04/09/2020 08:13:45
It depends on your model, if it is heavy, with high friction, it may be needed to increase it.

##### Laojiang 04/09/2020 08:12:46
The default value of RotationalMotor.maxTorque is 10 ,need I to increase it?

##### Olivier Michel [cyberbotics] 04/09/2020 08:10:32
Did you check the value of the `RotationalMotor.maxTorque` in your model? Maybe you should try to increase it?

##### Laojiang 04/09/2020 08:08:49
Can you help me to check my code?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/697719367663878175/unknown.png)
%end


In fact, I'm trying to control my model by torque. However, it doesn't move anything. And my code is very simple.

##### Olivier Michel [cyberbotics] 04/09/2020 08:01:29
No, the PID values will be ignored in that case.

##### Laojiang 04/09/2020 07:58:38
when I use "wb\_motor\_set\_torque" to contorl my rotationalmotor, should I to change the "control PID" value as 0,0,0 ?

##### David Mansolino [cyberbotics] 04/09/2020 07:13:56
`@nikzzzlegrande` what you want to achieve is called path planning, you will find some explanation and example with the e-puck robot and Webots here: [https://en.wikibooks.org/wiki/Cyberbotics%27\_Robot\_Curriculum/Advanced\_Programming\_Exercises#Path\_planning\_](https://en.wikibooks.org/wiki/Cyberbotics%27_Robot_Curriculum/Advanced_Programming_Exercises#Path_planning_)[Advanced]

##### nikzzzlegrande 04/09/2020 06:29:50
Hi I am pretty much new to webots can anyone please tell me how to send your robot to a particular x, y coordinate in the simulation area. The robot in hand is a epuck by gcctronic

##### Jie 04/09/2020 05:32:59
ok, that's terribleã€‚

##### Olivier Michel [cyberbotics] 04/09/2020 05:00:43
Hi, unfortunately, it is only available in HTML on the web and within Webots.

##### Jie 04/09/2020 02:09:26
Hi, can you provide the pdf version of User guide and Reference Manual

##### JC 04/08/2020 20:57:09
ah ok thank you

##### Darko LukiÄ‡ [cyberbotics] 04/08/2020 20:51:08
`@JC` You need to call `robot.step(timestep)` periodically, e.g.:

```py
# Set motor velocity at e.g. 1 radian per second
motor.setVelocity(1)

# Let the motor move for a while
# The loop will create a pause of 10*timestep[ms]
for _ in range(10)
    robot.step(timestep)

# Do the other command...
```



You can find more about `.step()`  here:

[https://cyberbotics.com/doc/reference/robot#wb\_robot\_step](https://cyberbotics.com/doc/reference/robot#wb_robot_step)

##### JC 04/08/2020 20:10:36
Is there a way to stop execution of commands without stopping the whole simulation? My goal is to give my robot enough time to move its motors before going onto the next instruction. I have tried time.sleep but that just pauses the whole simulation and has no effect on the end result

##### Yuxiang Z's grandpapa 04/08/2020 16:27:08
Cooool!

##### Ä°chigogo 04/08/2020 15:22:47
I was clicking on the icon. If I do right click and choose Nvdia as graphic card that error happens but if I just click the icon and open it it works fine. And I found something in help >OpenGL information it shows as program uses Nvdia somehow I don't know if I understand correctly but

##### Olivier Michel [cyberbotics] 04/08/2020 13:19:46
The problem you are reporting is similar to the one described in this issue: [https://github.com/cyberbotics/webots/issues/137](https://github.com/cyberbotics/webots/issues/137)


BTW, I have a question for you: how do you start Webots? By clicking on the icon on the desktop? From the Windows Start menu? Or from a DOS CMD console by typing `webots.exe` or `webots.bat` or `webots`?

##### Ä°chigogo 04/08/2020 10:28:22
it didn't work ðŸ˜­
%figure
![1.png](https://cdn.discordapp.com/attachments/565154703139405824/697392388410179614/1.png)
%end


okay I'll try thank you so much

##### Olivier Michel [cyberbotics] 04/08/2020 10:14:49
`@Ä°chigogo`: can you try to re-install it for all users?

##### Taechuã…‡ã……ã…‡ 04/08/2020 10:14:22
perhaps. I reinstalled it for all users

##### Olivier Michel [cyberbotics] 04/08/2020 10:13:41
Instead of `C:\Users\...`? So, that would mean the problem arises when Webots is installed in the local user folder, but not when Webots is installed for all users (in `C:\Program Files\Webots`)?

##### Taechuã…‡ã……ã…‡ 04/08/2020 10:12:02
3.7


my route was the same as `@Ä°chigogo` 's  then I reinstalled Webots to c:\ program files

##### Olivier Michel [cyberbotics] 04/08/2020 10:11:37
Which version of Python did you installed?

##### Taechuã…‡ã……ã…‡ 04/08/2020 10:10:46
earlier I only found one libjpeg-8.dll in my computer. the problem occurred after I installed python in the same route as Webots

##### Ä°chigogo 04/08/2020 10:10:02
its in the C:\Users\nur-b\AppData\Local\Programs\Webots\msys64\mingw64\bin

##### Olivier Michel [cyberbotics] 04/08/2020 10:09:04
OK, so can you try to remove the one in the `windows.old` folder? By the way, where is folder located? Inside `C:\Program Files\Webots`?

##### Ä°chigogo 04/08/2020 10:06:22
I probably installed because its been a while .but It always like this from the first day I downloaded Webots. I searched  for libjpeg-8.dll I only have two one is in webots others again in webots but in windows.old folder .

##### Olivier Michel [cyberbotics] 04/08/2020 09:57:08
By the way, did you install any other software after installing Webots?

##### Ä°chigogo 04/08/2020 09:53:35
okay thank you so much

##### Olivier Michel [cyberbotics] 04/08/2020 09:53:17
Your problem is similar to the one of `@Taechuã…‡ã……ã…‡` which I just answered one hour ago, please scroll up to see it.

##### Ä°chigogo 04/08/2020 09:51:20
it worked thank you so much again. actually if you know how can I fix this graphic card problem please could you tell me ?  It happens when I try to start with Nvidia
%figure
![1.png](https://cdn.discordapp.com/attachments/565154703139405824/697383069279191050/1.png)
%end


I didn't know that I'll try thank you so much

##### Olivier Michel [cyberbotics] 04/08/2020 09:38:48
Did you try to run Webots in safe mode? [https://cyberbotics.com/doc/guide/starting-webots#safe-mode](https://cyberbotics.com/doc/guide/starting-webots#safe-mode)

##### Ä°chigogo 04/08/2020 09:38:31
I don't know I tried started with Nvdia before but this time it gives texture error so I stopped trying open with it

##### Olivier Michel [cyberbotics] 04/08/2020 09:37:47
Do you know which one is used when you run Webots?

##### Ä°chigogo 04/08/2020 09:36:46
Nvdia GeForce GTX 1050 and Intel UHD 630

##### Olivier Michel [cyberbotics] 04/08/2020 09:36:00
What graphics card do you have?

##### Ä°chigogo 04/08/2020 09:35:52
Yes

##### Olivier Michel [cyberbotics] 04/08/2020 09:35:48
10?

##### Ä°chigogo 04/08/2020 09:35:43
Windows

##### Olivier Michel [cyberbotics] 04/08/2020 09:35:35
That's strange. What is your OS?

##### Ä°chigogo 04/08/2020 09:34:57
Hi! When I start to simulation my pc suddenly shuts down itself I thought maybe it was because of my code so I tried sample worlds too but it didn't change what should I do? ðŸ˜¢

##### Olivier Michel [cyberbotics] 04/08/2020 08:53:33
OK, thank you for the feedback.

##### Taechuã…‡ã……ã…‡ 04/08/2020 08:53:11
I reinstalled webots and it worked... but thank you

##### Olivier Michel [cyberbotics] 04/08/2020 08:37:33
Let me know if that resolves the problem.

##### Taechuã…‡ã……ã…‡ 04/08/2020 08:36:30
thanks a lot! I'll have a try

##### Olivier Michel [cyberbotics] 04/08/2020 08:35:32
The name of the library is `libjpeg-8.dll`. It is located in `C:\Program Files\Webots\msys64\mingw64\bin` and Webots should use it. However, it seems your system as another version of this `libjpeg-8.dll` in a folder pointer to by your `PATH` environment variable and Webots uses it wrongly instead of using its own version. You should find this wrong library on your system and remove its path from your `PATH` environment variable or rename (temporarily) this conflicting library.

##### Taechuã…‡ã……ã…‡ 04/08/2020 08:32:54
how can I solve it? I didn't change the image format


all things aren't able to render

##### Olivier Michel [cyberbotics] 04/08/2020 08:31:31
Hi, this likely comes from a conflict coming from a wrong version of libjpeg.

##### Taechuã…‡ã……ã…‡ 04/08/2020 08:30:40
hello, could anybody help me with this warning? 

WARNING: Texture image size of 'C:/Users/Administrator/AppData/Local/Programs/Webots/projects/appearances/protos/textures/chequered\_parquetry/chequered\_parquetry\_base\_color.jpg' is not a power of two: rescaling it from -1x-1 to 0x0.

WARNING: Floor (PROTO) > ChequeredParquetry (PROTO) > ImageTexture: Cannot load texture 'C:/Users/Administrator/AppData/Local/Programs/Webots/projects/appearances/protos/textures/chequered\_parquetry/chequered\_parquetry\_base\_color.jpg': Unsupported image format.

##### Hue [cyberbotics] 04/08/2020 06:24:59
You are welcome ðŸ˜‰

##### thomas5mc 04/08/2020 06:24:37
`@Hue`  Thanks a bunch!

##### Hue [cyberbotics] 04/08/2020 06:18:16
Hi `@thomas5mc` I guess you are trying to do the first step code tutorial from the documentation...

Here is a translated example of the c controller:

```python
from controller import Supervisor

# create a supervisor instance
supervisor = Supervisor()

# get the time step of the current world.
timestep = int(supervisor.getBasicTimeStep())

# retrieve concerned robot node from supervisor
robot_node = supervisor.getFromDef("MY_ROBOT")

# retrieve concerned field from robot node
translation_field = robot_node.getField("translation")

while supervisor.step(timestep) != -1:
    # retrieve and print values from translation field repeatedly
    res = translation_field.getSFVec3f()
    print("MY_ROBOT is at position:", res[0], res[1], res[2])
    pass
```

##### thomas5mc 04/08/2020 06:14:42
But i'm getting error:
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/697328552185692160/unknown.png)
%end


Hello, I'm new to Webots and i'm trying to learn how to use the Supervisor functions in a controller. Could anybody help me out with the initial setup? I'm using it in python so that's why i can't find much resources online. I have this so far
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/697328334459109376/unknown.png)
%end

##### Jie 04/08/2020 06:06:30
`@David Mansolino` Thank you for your helpï¼ðŸ‘

##### David Mansolino [cyberbotics] 04/08/2020 05:29:18
You're welcome ðŸ˜‰

##### brainybot 04/08/2020 05:28:57
OK`@David Mansolino`ï¼Œthankyou. I checked the document and checked the proto file again. My file was disturbed by the fields I set before. Now it's settled.ðŸ˜†ðŸ˜†ðŸ˜†

##### David Mansolino [cyberbotics] 04/08/2020 05:18:51
Hi `@brainybot`, to add a battery, you should use the ``battery`` field of the Robot node: [https://cyberbotics.com/doc/reference/robot#field-summary](https://cyberbotics.com/doc/reference/robot#field-summary)

##### brainybot 04/08/2020 04:12:39
how to set battery in the proto fileï¼Ÿ

##### Agriope 04/08/2020 03:28:57
I figured it out. I wasn't including the <webots/distance\_sensor.h> library, and ignored the warnings when compiling.


Hello. New user trying to learn how to use Webots. Things going smoothly so far, until I tried reading output from the generic Distance Sensors. Does anyone happen to know what I am doing wrong here? I am not getting an error, but the wb\_distance\_sensor\_get\_value() function is returning a 1.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/697279949954089040/unknown.png)
%end

##### Darko LukiÄ‡ [cyberbotics] 04/07/2020 22:16:41
You are welcome, I am glad it works!

##### Lussfer 04/07/2020 21:42:07
thanks :)


lovely!

##### Darko LukiÄ‡ [cyberbotics] 04/07/2020 20:04:29
`@Lussfer` You probably need to call `step()` method before reading the value:

[https://cyberbotics.com/doc/reference/robot#wb\_robot\_step](https://cyberbotics.com/doc/reference/robot#wb_robot_step)

##### Lussfer 04/07/2020 18:29:17
```robot = Robot()
gps = robot.getGPS('gps')
gps.enable(int(robot.getBasicTimeStep()))
value = gps.getValues()
print(str(value))
```


Hi, I am trying to get gps coordinates on a robot using python but getting nan as a result. i am using the following code, any idea why?

##### David Mansolino [cyberbotics] 04/07/2020 13:03:14
You're welcome

##### Francony 04/07/2020 13:02:07
ohhhhh okay. I'm gonna add them all up then and see if they match. Thanks a lot!

##### David Mansolino [cyberbotics] 04/07/2020 13:00:29
No, this is just for the root node, if the node has Solid nodes in tis children fields the total mass is the sum of all the individual masses.

##### Francony 04/07/2020 12:59:37
Ah I see thanks. My main Supervisor (Robot) has a physics node and mass of 0.389. This is the sum of all the masses of the physics nodes of its children?

##### David Mansolino [cyberbotics] 04/07/2020 12:55:43
Hi `@Francony` each Solid node can have a Physics node and therfore its own mass, but Shape node are just visual, no physics

##### Francony 04/07/2020 12:54:56
Hi, I'm analyzing a robot on webots, but the overall mass of the robot is wrong. I see that there are masses under the Physics field of a node. My question is: is there another part where there could be masses? For example, I have a motor node with a Shape field that says "USE MOTOR" but there's no mass to be seen anywhere (tell me if what I wrote is too confusing). Thanks in advance.

##### David Mansolino [cyberbotics] 04/07/2020 12:54:41
> thank you for your help `@David Mansolino` !! ðŸ˜„

`@dÃ©dÃ©` You're welcome, enjoy using Webots ðŸ˜‰


> Why my model will jump first,  even though I didn't anything in my controller.

`@Laojiang` This is indeed strange, unfortunately, it is difficult to say where does the problem comes from without seen your simulation, may I ask you to open a bug report here including your world file: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

##### dÃ©dÃ© 04/07/2020 12:54:19
thank you for your help `@David Mansolino` !! ðŸ˜„

##### Laojiang 04/07/2020 12:53:57
Can anyone give me some suggestions?

##### David Mansolino [cyberbotics] 04/07/2020 12:53:18
Perfect, thank you for the feedback, yes we know this not very intuitive, this is fixed in the new version of Webots, but unfortunately at EPFL you are still using an older version of Webots.

##### dÃ©dÃ© 04/07/2020 12:52:10
It finally worksðŸ˜† , but I have to admit that is not very logical, because it is really hard to see this window


I try, and I tell you if it works

##### David Mansolino [cyberbotics] 04/07/2020 12:47:52
Ok, the problem is because a Webots window is blocking the start, you need to press OK, unfortunately, this windows is hidden below the welcome window, you can see it by pressing on another app and then Webots again

##### dÃ©dÃ© 04/07/2020 12:44:58
I don't think I can write the safe mode in the Webots variable unfortunately

##### David Mansolino [cyberbotics] 04/07/2020 12:44:25
Ok, I think I already saw this issue on mac, let me check

##### dÃ©dÃ© 04/07/2020 12:43:50
I am not sure what you mean by splash screen, it stays like on the picture
%figure
![Capture_decran_2020-04-07_a_13.14.21.png](https://cdn.discordapp.com/attachments/565154703139405824/697064090346061834/Capture_decran_2020-04-07_a_13.14.21.png)
%end

##### David Mansolino [cyberbotics] 04/07/2020 12:42:45
And what do you mean by it freeze, do you see the splash screen?


> I am on OS Catalina

`@dÃ©dÃ©` ok, in that case the first things to do is to try the safe mode of Webots:

[https://cyberbotics.com/doc/guide/starting-webots#safe-mode](https://cyberbotics.com/doc/guide/starting-webots#safe-mode)

##### Laojiang 04/07/2020 12:41:13

> **Attachment**: [1586263208735.mp4](https://cdn.discordapp.com/attachments/565154703139405824/697063431794196520/1586263208735.mp4)

##### dÃ©dÃ© 04/07/2020 12:40:40
I am on OS Catalina

##### Laojiang 04/07/2020 12:38:30
Why my model will jump first,  even though I didn't anything in my controller.

##### David Mansolino [cyberbotics] 04/07/2020 12:37:31
Are you on Windows?


Hi again dÃ©dÃ©, what is your OS ?

##### dÃ©dÃ© 04/07/2020 12:36:39
Hello ! I am an EPFL student, and I need to install Webot 2019b for a project course. But I didn't arrive to do it. The program opened once perfectly, I close it, and when I tried to re-open it, it freezes.

##### David Mansolino [cyberbotics] 04/07/2020 09:39:34
You're welcome

##### Ä°chigogo 04/07/2020 09:39:25
Okay thank you so much ðŸ™‚

##### David Mansolino [cyberbotics] 04/07/2020 09:39:07
Maybe you can try to convert it to an absolute path with something like:

```Python
os.path.abspath(path)
```

##### Ä°chigogo 04/07/2020 09:37:41
`@David Mansolino` I look at the sample project it works fine but I still get error in my project . I'm checking the path with os.path.isfile(path) it returns True
%figure
![Untitled.png](https://cdn.discordapp.com/attachments/565154703139405824/697017243921547314/Untitled.png)
%end

##### David Mansolino [cyberbotics] 04/07/2020 08:52:28
You're welcome!

##### airobotnews 04/07/2020 08:29:08
It needs to be modified for better use!


Thank you very much

##### David Mansolino [cyberbotics] 04/07/2020 08:22:51
Here is an example with autodesk: [https://www.youtube.com/watch?v=L0FVsFD2rS4&feature=youtu.be](https://www.youtube.com/watch?v=L0FVsFD2rS4&feature=youtu.be)


From solidworks you can export to VRMl and then import this VRML to Webots, this will import all the shape, you will then have to re-create the hierarchy, bounding objects and joints.

##### airobotnews 04/07/2020 08:20:53
Is it possible to export solidworks design robot prototype to webots?

##### David Mansolino [cyberbotics] 04/07/2020 05:28:59
> I can't open wav file with speaker device I tried all the combinations it just don't see the file where I am doing wrong? I have a file  my\_controller  inside of it I created another file which named sounds and  my\_controller.py. so I wrote path  in the function as sound = 'sounds / my\_sound.wav'

`@Ä°chigogo` What you did should work, what is the exact error message you get? Can you try if this controller works for you (as it uses the exact same file hierarchy): [https://github.com/cyberbotics/webots/tree/master/projects/samples/devices/controllers/speaker](https://github.com/cyberbotics/webots/tree/master/projects/samples/devices/controllers/speaker)


> Ifind how to solve my problem, its need in VS to project/Rebuild project,ðŸ˜…

`@Jie` good news, thank you for the feedback

##### Jie 04/07/2020 03:09:54
Ifind how to solve my problem, its need in VS to project/Rebuild project,ðŸ˜…

##### Ä°chigogo 04/06/2020 23:10:40
I can't open wav file with speaker device I tried all the combinations it just don't see the file where I am doing wrong? I have a file  my\_controller  inside of it I created another file which named sounds and  my\_controller.py. so I wrote path  in the function as sound = 'sounds / my\_sound.wav'

##### Olivier Michel [cyberbotics] 04/06/2020 15:09:00
Or maybe reduce the aperture, number of rays, etc.

##### ksardias 04/06/2020 15:07:45
ok, thanks

##### David Mansolino [cyberbotics] 04/06/2020 15:07:04
If you don't want this red point then you have to set the type of the distance-sensor to ``generic``the only difference between these two types is the red dot: [https://cyberbotics.com/doc/reference/distancesensor#distancesensor-types](https://cyberbotics.com/doc/reference/distancesensor#distancesensor-types)

##### ksardias 04/06/2020 15:06:54
*I wouldn't want see this red stain


i want to don't see this red stain

##### nilutpolkashyap 04/06/2020 15:04:00
`@Hue` `@Olivier Michel` Thanks

##### ksardias 04/06/2020 15:02:55
`@Hue`  not help

##### Olivier Michel [cyberbotics] 04/06/2020 15:02:43
`@nilutpolkashyap`: Windows 10.

##### Hue [cyberbotics] 04/06/2020 15:02:30
> Which is more preferred to use webots: Windows 10 or VirtualBox Ubuntu 18.0.4????

`@nilutpolkashyap` You are probably going to loose a lot of power calculation if using webots in a Virtual Machine, if you don't have Linux natively installed you may want to stick to Windows.


`@ksardias`  Do you mean you want to toggle plain rendering (View -> Plain rendering) or pressing F11 ?

##### nilutpolkashyap 04/06/2020 14:59:16
Which is more preferred to use webots: Windows 10 or VirtualBox Ubuntu 18.0.4????

##### ksardias 04/06/2020 14:58:38
laser
%figure
![ok.PNG](https://cdn.discordapp.com/attachments/565154703139405824/696735625897967768/ok.PNG)
%end


i have laser distance sensor and if detect object, this object get red frame

##### Olivier Michel [cyberbotics] 04/06/2020 14:57:02
What do you mean by laser goal view?

##### ksardias 04/06/2020 14:56:42
how to disable laser goal view?

##### helosand 04/06/2020 14:55:34
`@Olivier Michel` Thank you, indeed I hadn't check that, it works in safe mode

##### Olivier Michel [cyberbotics] 04/06/2020 13:58:53
See documentation here: [https://cyberbotics.com/doc/guide/starting-webots#safe-mode](https://cyberbotics.com/doc/guide/starting-webots#safe-mode)


You may want to try to start Webots in safe mode:


`@helosand`: It could be that your graphics card is not supported by Webots. Is your graphics drivers up-to-date?

##### Shadow 04/06/2020 12:54:47
Its the e-puck. But if it is a field, don't still need to get values from the led using a device class. The values of the led aren't in the field.

##### DrVoodoo [Moderator] 04/06/2020 12:53:43
can you DM me a copy of your proto?


I believe you need to make it one of the interface fields.

##### Shadow 04/06/2020 12:51:52
Yes

##### DrVoodoo [Moderator] 04/06/2020 12:51:45
*is


if the LED defined as part of the other robot's PROTO?

##### Shadow 04/06/2020 12:50:47
But you I seem to find a way to get a device using a supervisor

##### DrVoodoo [Moderator] 04/06/2020 12:45:35
Ah, found it [https://cyberbotics.com/doc/guide/supervisor-programming](https://cyberbotics.com/doc/guide/supervisor-programming)

##### Shadow 04/06/2020 12:45:24
Ok

##### DrVoodoo [Moderator] 04/06/2020 12:43:52
or from\_id()


when programming your supervisor you first need to get the other robots node using wb\_supervisor\_node\_get\_from\_def()

##### Shadow 04/06/2020 12:41:57
I know how to do that from the robot that has the led on it, but how do I do it from another supervisor robot

##### DrVoodoo [Moderator] 04/06/2020 12:41:28
wb\_led\_get()


ok, easy one first, reading the led state [https://cyberbotics.com/doc/reference/led](https://cyberbotics.com/doc/reference/led)

##### Shadow 04/06/2020 12:40:32
Both, I need to be able to use the supervisor to get the LED device from another robot and be able to read the led state

##### DrVoodoo [Moderator] 04/06/2020 12:39:54
and which language


which one?

##### Shadow 04/06/2020 12:37:57
`@DrVoodoo` yes

##### DrVoodoo [Moderator] 04/06/2020 12:34:54
`@Shadow` are you asking how does the supervisor get the led object from the other robot or how it reads the led state once it's got the object?

##### helosand 04/06/2020 12:18:39
Hi, I have to use Webots for a SIS project course. I installed it, I have windows 8, but when I try to open, it tells me the program has to be shut down... Here is a picture of what I get. I don't really know where to look for to fix that problem, is there anything I can try ? Thank you
%figure
![Capture_decran_370.png](https://cdn.discordapp.com/attachments/565154703139405824/696695368028520478/Capture_decran_370.png)
%end

##### Shadow 04/06/2020 12:08:25
Is there any way of a supervisor telling if a robot's LED's are on?

##### David Mansolino [cyberbotics] 04/06/2020 12:07:51
> It's just that it can't be opened

`@Jie` Ok, it makes sense, because Visual Studio can't find them so it is not able to open them.


> Can a supervisor robot get values from another robot's senors? e.g. get led values.

`@Shadow` No, this is unfortunately not possible yet.

##### Shadow 04/06/2020 12:06:09
Can a supervisor robot get values from another robot's senors? e.g. get led values.

##### Jie 04/06/2020 11:58:30
but I still canâ€˜t build the project to exe, just prompt for missing these files.
%figure
![2020-04-06_183852.jpg](https://cdn.discordapp.com/attachments/565154703139405824/696690296939085864/2020-04-06_183852.jpg)
%end


I'm sorry my English is not very good


It's just that it can't be opened

##### David Mansolino [cyberbotics] 04/06/2020 11:36:54
> when I add  "WEBOTS\_HOME" path, I can open those files.The original can not be openedã€‚

`@Jie` What do you mean by the original?


> ummmm, I find this line is not missing in my files, but I find some promble, I didn't add environment variablesï¼Œso I add "WEBOTS\_HOME" path ï¼Œand it make I can open some file in VS. But, this problems still exist.`@David Mansolino`

`@Jie` ok, indeed setting WEBOTS\_HOME is a mandatory step.

##### Jie 04/06/2020 10:47:35
when I add  "WEBOTS\_HOME" path, I can open those files.The original can not be openedã€‚
%figure
![2020-04-06_184429.jpg](https://cdn.discordapp.com/attachments/565154703139405824/696672450422898738/2020-04-06_184429.jpg)
%end


ummmm, I find this line is not missing in my files, but I find some promble, I didn't add environment variablesï¼Œso I add "WEBOTS\_HOME" path ï¼Œand it make I can open some file in VS. But, this problems still exist.`@David Mansolino`
%figure
![2020-04-06_183852.jpg](https://cdn.discordapp.com/attachments/565154703139405824/696670445818216468/2020-04-06_183852.jpg)
%end

##### David Mansolino [cyberbotics] 04/06/2020 06:53:30
I checked and it seems indeed they are missing.

You may fix this by changing this line in your Webots installation folder: 

[https://github.com/cyberbotics/webots/blob/master/resources/templates/controllers/cpp.vcxproj#L113](https://github.com/cyberbotics/webots/blob/master/resources/templates/controllers/cpp.vcxproj#L113)

##### Jie 04/06/2020 06:40:46
ok,thanks

##### David Mansolino [cyberbotics] 04/06/2020 06:39:47
Ok, let me check if this should be already included by Webots or not.

##### Jie 04/06/2020 06:38:46
if I dont add those  resources, it cant generate .exe, every project must be added, I feel it's trouble do this again and again



%figure
![2020-04-06_143445.jpg](https://cdn.discordapp.com/attachments/565154703139405824/696608912966680596/2020-04-06_143445.jpg)
%end

##### David Mansolino [cyberbotics] 04/06/2020 06:32:39
`@Jie` which resources in particular are you speaking about?

##### Jie 04/06/2020 06:28:50
`@David Mansolino` ï¼Œyes, I have use 'New Controller' wizard, but there has problems, I haven't change it, just like this, so I have to add those resources.
%figure
![2020-04-06_142442.jpg](https://cdn.discordapp.com/attachments/565154703139405824/696607331315875890/2020-04-06_142442.jpg)
%end

##### David Mansolino [cyberbotics] 04/06/2020 06:04:51
> hi, when I use Microsoft Visual Studio build my controller , I need add this resources , every new project always need this? how can I solve this problem? I used Microsoft Visual Studio  2017 Community, and webots is R2020a-rev1

`@Jie` if you use the 'New Controller' wizard, Webots will setup your project files for you so that you don't have to do anything else.


`@Simon Steinmann`, you will have to implement inverse kinematic to do cartesian control with a robotic arm, we have one example distributed within Webots, this example use the an ABB robotic arm and the ikpy python library to do inverse kinematic: From what I understood you have to provide a web simulation. You are lucky webots does provide a web interface. If I where you I would create my simulation as a Webots simulation in a first step and then use the web interface of Webots to be able to share it throught a web page. As a first step I would start by playing with the mavic simulation in Webots that is probably the closest setup to what you are aiming for: [https://www.cyberbotics.com/doc/guide/mavic-2-pro](https://www.cyberbotics.com/doc/guide/mavic-2-pro) Once you're happy with the simulation in Webots you may find interesting information about how to move it to the web here: [https://github.com/cyberbotics/webots/blob/master/projects/robots/abb/irb/controllers/inverse\_kinematics/inverse\_kinematics.py](https://github.com/cyberbotics/webots/blob/master/projects/robots/abb/irb/controllers/inverse_kinematics/inverse_kinematics.py)


> Hey, I want a webGL based Simulation of an Autonomous drone. Basically I want to run it on the Google Chrome without adding any other plugin. Is the development according to my convention possible in Webots Software? 

> What is the procedure basically? (If any)

`@Rajesh Roy` yes this is possible.

You are lucky Webots does provide a web interface. If I where you I would create my simulation as a Webots simulation in a first step and then use the web interface of Webots to be able to share it throught a web page. As a first step I would start by playing with the mavic simulation in Webots that is probably the closest setup to what you are aiming for: [https://www.cyberbotics.com/doc/guide/mavic-2-pro](https://www.cyberbotics.com/doc/guide/mavic-2-pro) Once you're happy with the simulation in Webots you may find interesting information about how to move it to the web here: [https://www.cyberbotics.com/doc/guide/web-interface](https://www.cyberbotics.com/doc/guide/web-interface)


> I am using a camera to detect coloured objects , should the RGB values differ if the robot is far or near the object ?

> And if so in my case they are not differing .!

`@yash` 

If you have no fog node, their is indeed no reason for them to differ.


> Why front left get wrong value?

`@ksardias` it seems you are using the Khepera 4 robot right? If yes, the distance sensors of the Khepera 4 are infra-red distance sensors, which means that they are influenced by the material of the object they are seeing. May I ask you to retry with a white box with a roughness of 0?

For more information about the infra-red distance sensors, please see: [https://cyberbotics.com/doc/reference/distancesensor#infra-red-sensors](https://cyberbotics.com/doc/reference/distancesensor#infra-red-sensors)


> Hello, I'm using "pen" to draw trail. but I'm confused ,when I change the size of the arena, why does the trail  disappear and "pen" no longer draws trail ?

`@kwy` It is difficult to say without looking at your simulation, may I ask you to open an issue (including your world file) here: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

Thank you


> And is there any sort of sensors for detecting colour, some sort of light sensor.

`@Shadow` why not using a camera? you can set it's resolution to 1x1.

Webots also provide a light sensor, but it is not very useful to detect color: [https://cyberbotics.com/doc/reference/distancesensor#distancesensor-types](https://cyberbotics.com/doc/reference/distancesensor#distancesensor-types)

Alternatively, you can use the distance-sensor of type ``infra-red`` which are impacted by the color of the object: [https://cyberbotics.com/doc/reference/distancesensor#distancesensor-types](https://cyberbotics.com/doc/reference/distancesensor#distancesensor-types)


> Is there any way of having a thermal camera sensor?

`@Shadow` Unfortunately this is not available out of the box in Webots.


> `@David Mansolino` I updated my graphics driver but I am still getting the white screen. I even tried messing with the OpenGL preferences. Literally everything else is working even the sound.

In that case you should probably try with the safe mode of Webots enabled: [https://cyberbotics.com/doc/reference/distancesensor#distancesensor-typesebots](https://cyberbotics.com/doc/reference/distancesensor#distancesensor-typesebots) enabled: 

`@Sashimi`


> Hi, can I create

>  motion sensor on wall?

`@ksardias` You should probably use distance-sensors and set the type to ``sonar`` and increase the numberOfRays to something like 3-5. See more information here: [https://cyberbotics.com/doc/reference/distancesensor#distancesensor-types](https://cyberbotics.com/doc/reference/distancesensor#distancesensor-types)

##### Jie 04/06/2020 04:12:14
hi, when I use Microsoft Visual Studio build my controller , I need add this resources , every new project always need this? how can I solve this problem? I used Microsoft Visual Studio  2017 Community, and webots is R2020a-rev1
%figure
![2020-04-06_120640.jpg](https://cdn.discordapp.com/attachments/565154703139405824/696572955806793829/2020-04-06_120640.jpg)
%end

##### Simon Steinmann [Moderator] 04/04/2020 17:57:12
Especially using moveit would be nice


Hi, does anyone know how to implement or make a Cartesian velocity controller for a robotic arm? Any experience or ideas are welcome, I'm somewhat stuck.

##### DrVoodoo [Moderator] 04/04/2020 14:19:16
I think you probably need to wait until Monday. The webots staff will probably be back online then

##### Rajesh Roy 04/04/2020 13:29:53
`@DrVoodoo` could you address me with the right technical person who may have fair background of my requirements?

##### DrVoodoo [Moderator] 04/04/2020 13:22:41
`@yash` I believe that you will need to use a fog node in your environment to simulate atmospheric effects if you want objects to get fainter with distance


I.e. use red instead of infrared


`@Shadow` you can filter by colour, it doesn't offer an IR option but depending on your use case you could use some other colour instead of IR


`@Rajesh Roy` there is [https://robotbenchmark.net/](https://robotbenchmark.net/) so it does appear to be technically possible but I can't speak to how it is achieved

##### Shadow 04/04/2020 13:14:48
`@DrVoodoo`  Thanks for the response, does this work for RGB too then? Is there any way of having some sort of thermal camera?

##### Rajesh Roy 04/04/2020 13:11:53
Hey `@DrVoodoo` , can you answer my question?

##### DrVoodoo [Moderator] 04/04/2020 13:08:28
Sorry, that should be `@Shadow`


@Shaow, yes [https://www.cyberbotics.com/doc/reference/lightsensor](https://www.cyberbotics.com/doc/reference/lightsensor)

##### Rajesh Roy 04/04/2020 12:25:39
Hey, I want a webGL based Simulation of an Autonomous drone. Basically I want to run it on the Google Chrome without adding any other plugin. Is the development according to my convention possible in Webots Software? 

What is the procedure basically? (If any)

##### yash 04/04/2020 11:41:40
I am using a camera to detect coloured objects , should the RGB values differ if the robot is far or near the object ?

And if so in my case they are not differing .!

##### ksardias 04/04/2020 10:46:19
Why front left get wrong value?
> **Attachment**: [rontLeftNotWork\_Trim.mp4](https://cdn.discordapp.com/attachments/565154703139405824/695947355954085898/rontLeftNotWork_Trim.mp4)

##### kwy 04/04/2020 03:50:49
Hello, I'm using "pen" to draw trail. but I'm confused ,when I change the size of the arena, why does the trail  disappear and "pen" no longer draws trail ?

##### Shadow 04/03/2020 20:06:26
And is there any sort of sensors for detecting colour, some sort of light sensor.


Is there any way of having a thermal camera sensor?

##### Sashimi 04/03/2020 17:12:18
`@David Mansolino` I updated my graphics driver but I am still getting the white screen. I even tried messing with the OpenGL preferences. Literally everything else is working even the sound.

##### ksardias 04/03/2020 16:58:22
Hi, can I create

 motion sensor on wall?

##### David Mansolino [cyberbotics] 04/03/2020 14:05:27
You're welcome!

##### jmroa0 04/03/2020 14:03:57
Awesome. After the tutorials, and the "out the box" example, I'll review these papers. Hopefully they have put some of the code in GitHub. Thanks again for your prompt and helpful responses!

##### David Mansolino [cyberbotics] 04/03/2020 14:01:54
I have been working closely with the EPFL university to do autonomous vehicle simulations in Webots, unfortunately I can't share this code either. But I can point you to some of the publications:

[https://www.epfl.ch/labs/disal/research/NetworkedIV/](https://www.epfl.ch/labs/disal/research/NetworkedIV/)

[https://infoscience.epfl.ch/record/220518/files/MV\_IROS2016\_camera\_ready.pdf](https://infoscience.epfl.ch/record/220518/files/MV_IROS2016_camera_ready.pdf)

[https://infoscience.epfl.ch/record/228319/files/IV2017\_0018\_MS\_final\_submission.pdf](https://infoscience.epfl.ch/record/228319/files/IV2017_0018_MS_final_submission.pdf)

##### jmroa0 04/03/2020 13:58:36
Thanks David. I'm working through the tutorials. They are very good! Do you know of people in academia using Webots for autonomous vehicle experiments? they tend to be more willing to share their code etc.

##### David Mansolino [cyberbotics] 04/03/2020 13:56:54
you will learn how your car controller can get camera, lidar, etc inputs and act on the car control.


If you haven't yet followed our tutorial, I strongly recommend to follow at least tutorial 1-6: [https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)


Hi `@jmroa0` we have a very simple example of autonomous simulation in Webots which is open-source (of course many of our clients have created their own IA to drive the car which are way more efficient and complex, but unfortunately they are close-source). Here is the sample: [https://www.cyberbotics.com/doc/automobile/city](https://www.cyberbotics.com/doc/automobile/city)

Here is the Webots project sources: [https://github.com/cyberbotics/webots/tree/master/projects/vehicles](https://github.com/cyberbotics/webots/tree/master/projects/vehicles)

This sample is available in Webots out of the box with the standard installation.

##### jmroa0 04/03/2020 13:52:27
Hello folks. I'm new to Webots and have a quick question. I'd like to use the platform to run experiments involving self driving autonomous vehicles. 

I'm looking for an open source example of a AI based car that can run in Webots. Basically the AI code car would get camera images, lidar etc from 

Webots and then send commands to drive the car around in the simulated world. Is there such a thing available? If so can you point me in the right direction?

Thanks a lot for your help!

##### Dorteel 04/03/2020 10:40:25
ah alright, thank you so much!!

##### Olivier Michel [cyberbotics] 04/03/2020 10:39:55
And pass the correct color from the original Nao proto.


(in addition to the existing `color` field)


Yes, but you will need to add an extra parameter to the wrist proto file, named `bodyColor` or so.

##### Dorteel 04/03/2020 10:37:00
By original I mean Nao's proto file


Thank you, I managed to change it, but I have a problem with the wrists. I saw they have their own proto file, is it possible to change the colour of those when changing the main colour in the original proto file?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/695582320807116840/unknown.png)
%end

##### Olivier Michel [cyberbotics] 04/03/2020 09:32:53
That should be pretty straightforward when you look into the PROTO file. If you have any problem let us know.


Sure.

##### Dorteel 04/03/2020 09:30:57
Hi! We're planning on doing a social experiment with the NAO robot from SoftBank, where users should be able to personalize the robot by setting colour schemes. Is it possible to set the body colour/material of the robot from white? To modify the built-in proto file?

##### David Mansolino [cyberbotics] 04/03/2020 08:06:50
Hi `@[]`, the scenario you are describing should work, however I have to admit that it was never tested, may I ask you to open an issue here: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

With a small very simple example controller + world that reproduce the issue?

##### luhang 04/03/2020 08:06:46
> `@luhang`, you might copy paste one of them and modify it by opening the file in a text editor. However, I would rather recommend to use directly the Webots motor API to control the motors:  [https://cyberbotics.com/doc/reference/motor](https://cyberbotics.com/doc/reference/motor)

`@David Mansolino` okay

##### [] 04/03/2020 07:59:20
Having a strange issue. When I launch my controller for the first time, I check that all the cameras are working and start my controller loop. It finishes, everything went ok. But when I re-execute the controller again, the cameras don't get any data. In the visualisers in webots the cameras are working, but I just don't get the camera data, its None. I'm using python and executing the controller externally. I'm also disabling the cameras before finishing the controller loop. Only when I reload the world that I can launch again the controller without issues.

##### David Mansolino [cyberbotics] 04/03/2020 05:32:39
`@luhang`, you might copy paste one of them and modify it by opening the file in a text editor. However, I would rather recommend to use directly the Webots motor API to control the motors:  [https://cyberbotics.com/doc/reference/motor](https://cyberbotics.com/doc/reference/motor)


Hi `@Sashimi` , please make sure to install the latest drivers of you GPU and retry launching Webots.

##### luhang 04/03/2020 01:10:06
Python


I want to control Nao to recognize and grasp a ball in Webots.


How can I build new motion files like those?



%figure
![IMG_20200403_090724.jpg](https://cdn.discordapp.com/attachments/565154703139405824/695439381003108362/IMG_20200403_090724.jpg)
%end

##### Sashimi 04/03/2020 00:50:55
Sorry I'm new to webots.


For some reason the world will not load, everything else works in the side bars. When I first open Webots, the simulation says loading world, when I minimize the screen and open it back up, this white screen appears. Any fixes?
%figure
![IMG_20200402_193454.jpg](https://cdn.discordapp.com/attachments/565154703139405824/695431588451975208/IMG_20200402_193454.jpg)
%end

##### David Mansolino [cyberbotics] 04/02/2020 13:26:43
You're welcome

##### Laojiang 04/02/2020 13:25:29
It's useful.Thank you!


ok,I try it now

##### David Mansolino [cyberbotics] 04/02/2020 13:14:46
That may be the cause indeed, to avoid this, you can specify the 'acceleration' in the motor node of your joint.

##### Laojiang 04/02/2020 13:12:11
Is it because the value of a[] changed too quickly?


It have six joints.


I use legs[1].setVelocity(a[1]) to control it. And the a[] is coming from a Neural Networks. The value of a[] is always changing.

##### David Mansolino [cyberbotics] 04/02/2020 13:07:03
Is your controller doing something? are you doing special when it explodes?

##### Laojiang 04/02/2020 13:05:24

> **Attachment**: [QQ202004.mp4](https://cdn.discordapp.com/attachments/565154703139405824/695257579429036172/QQ202004.mp4)

##### David Mansolino [cyberbotics] 04/02/2020 13:04:56
One possible solution is to decrease the simulation step.


To check what is hapenning it is recomended to use the step by step mode to see exactly when and how/why it does explode.


Hi this is probably a physics instability that makes the robot explode.

##### Laojiang 04/02/2020 12:57:35
My mode is a two\_leg walker


Hello. What can cause the model to disappear suddenly? Looks like it's flying away. Then the related parameters would be very strange.

##### David Mansolino [cyberbotics] 04/02/2020 12:22:28
You're welcome

##### ksardias 04/02/2020 12:16:49
ok, Thank you!

##### David Mansolino [cyberbotics] 04/02/2020 12:12:50
You can use the wheel position sensors to get the total rotation of the wheel.

##### ksardias 04/02/2020 12:12:12
ok, but how can I control or count wheel rotation?

##### David Mansolino [cyberbotics] 04/02/2020 12:09:52
The radius of the wheel of the Khepera IV is 0.021meters

##### ksardias 04/02/2020 12:07:08
but if you give me better robot to this request I will be grateful


oh! first idea sounds greate form me, how to get wheel radius, i already use Khepera IV

##### David Mansolino [cyberbotics] 04/02/2020 12:04:11
From the wheel radius you can compute how many radians you should rotate them, alternatively you can add a GPS device to your robot to get the absolute location.

##### ksardias 04/02/2020 12:03:09
`@David Mansolino` I can rotate the wheel, but I have a problem, how to measure distance

##### David Mansolino [cyberbotics] 04/02/2020 12:01:22
Hi `@ksardias` yes you can! ðŸ˜„ 

It depends on which robot, but basically you have to rotate the wheel and stop then when you reached the target location

##### ksardias 04/02/2020 12:00:22
He everyone, I want to my robot go 1m and stop, I can do that go forward

##### Laojiang 04/02/2020 09:59:27
ok, I check it now

##### David Mansolino [cyberbotics] 04/02/2020 09:57:38
Hi, `@Laojiang` the first things to try to make sure it is not pycharm is to run your controller as a regular controller from the Webots IDE, this way you will be able at least to know if the problems comes from pycharm or not.

##### Laojiang 04/02/2020 09:55:14
when I use robot.simulationReset() to reset my robot, my code just stopped here. How can I slove it? Is it because I use pycharm?

##### David Mansolino [cyberbotics] 04/02/2020 09:11:54
You're welcome

##### Î•Ï…Î±Î³Î³ÎµÎ»Î¯Î± 04/02/2020 09:06:02
I am going to check it and i will inform you. Thank you very much!!! `@David Mansolino`

##### David Mansolino [cyberbotics] 04/02/2020 05:23:04
Hi `@Î•Ï…Î±Î³Î³ÎµÎ»Î¯Î±`, you might use the propeller device: [https://www.cyberbotics.com/doc/reference/propeller](https://www.cyberbotics.com/doc/reference/propeller)

Here is an example for helicopters: [https://www.cyberbotics.com/doc/guide/samples-devices#propeller-wbt](https://www.cyberbotics.com/doc/guide/samples-devices#propeller-wbt)

You may also be interested in setting the WorldInfo.gravity field to 0 0 0: [https://www.cyberbotics.com/doc/reference/worldinfo](https://www.cyberbotics.com/doc/reference/worldinfo)

##### Î•Ï…Î±Î³Î³ÎµÎ»Î¯Î± 04/01/2020 20:09:51
Can anyone help me by givinf an idea or an instruction of what functions should i use?


i have added a capsule robot to my code and i want to give it the ability to fly in order to cross an imaginary intestine which is implemented imagine like a tube.


Hello, i am a new user of webots and i would wanted a little help please

##### nap 04/01/2020 11:18:19
I have asked the other tutor to compile the controller from within the Webots Editor.  When I get a response, I will post the outcome here. (I'm running Webots on my Mac and am able to build without problems.)

##### Olivier Michel [cyberbotics] 04/01/2020 08:51:20
Webots controllers are not supposed to be compiled from a DOS console. I would recommend using Webots to compile them (or a MSYS2 terminal if you have installed the Webots development environment).

##### Stefania Pedrazzi [cyberbotics] 04/01/2020 08:44:06
`@nap` do you get the same errors if you compile it from the Webots text editor?

##### nap 04/01/2020 08:38:32
When building my controller under windows, there were some errors reported.  These errors were not terminal, as the controller was produced and it ran fine in the Webots world I've developed for it.

Any one familiar with the cause of these errors?
%figure
![webot.png](https://cdn.discordapp.com/attachments/565154703139405824/694828032208404540/webot.png)
%end

##### David Mansolino [cyberbotics] 04/01/2020 08:20:20
You're welcome

##### [] 04/01/2020 08:18:06
`@David Mansolino`


Great thanks ðŸ˜‰

##### David Mansolino [cyberbotics] 04/01/2020 08:17:07
`@[]`, yes, make sure to enable the sensors and perform one robot step, then the sensors should all be ready.

##### ClBaze 04/01/2020 08:16:39
Ok thanks! I think it could be a nice feature. I'll try the emitter solution.

##### [] 04/01/2020 08:16:12
Hi, I am getting None when accessing sensors like cameras and position sensors when staring controller. Is there a standard way of waiting until the sensor is ready? Because I want al systems to be operational before startibg to move, thanks

##### David Mansolino [cyberbotics] 04/01/2020 08:11:02
I am sorry, I just checked in the code, but changing the lock field while the simulation is running is not yet supported (it is supported only when the simulation is started), if you need this feature, please open an issue here and the development team will try to implement this as soon as possible: [https://github.com/cyberbotics/webots/issues/new?template=feature\_request.md](https://github.com/cyberbotics/webots/issues/new?template=feature_request.md)

##### ClBaze 04/01/2020 08:06:37
Our connectors are not supposed to be magnetic, so I've set the autoLock to False. I've just increased the distance, axis and rotation tolerances but the problem persists. I figured out that if I run the simulation, save the scene and reload it the connector are well connected.

##### David Mansolino [cyberbotics] 04/01/2020 07:17:07
Ok, in that case have you tried to swithc the 'autoLock' field? Make also sure that the distance, axis and rotation tolerance are big enough.

##### ClBaze 04/01/2020 07:14:35
`@David Mansolino` thank you, the thing is that my scene contains a lot of robots (>36) with each robot having 6 connectors. Attaching a controller to each connector will really slow down the simulation I think. So the idea was to have a unique controlleur using a supervisor to lock/unlock the connectors

##### David Mansolino [cyberbotics] 04/01/2020 06:38:34
You're welcome.

##### nap 04/01/2020 06:38:20
`@David Mansolino` , thank you!!  I'll see what we can do with that.

##### David Mansolino [cyberbotics] 04/01/2020 06:00:06
You will find some example using the e-puck here: [https://cyberbotics.com/doc/guide/epuck#samples](https://cyberbotics.com/doc/guide/epuck#samples)

In addition the Webots curriculum uses the e-puck too: [https://en.wikibooks.org/wiki/Cyberbotics%27\_Robot\_Curriculum](https://en.wikibooks.org/wiki/Cyberbotics%27_Robot_Curriculum)

##### nap 04/01/2020 05:58:24
Ideally it would use more than the GSM module.


Sorry but this isnâ€™t really a technical question.

With the Corvid situation, our â€˜Intro to Roboticsâ€™ course has gone online, and because itâ€™s hard to get components, weâ€™ve decided to use Webots.

My question is: does anyone know if/where I might be able to download a working ePuck project that will work with the currently available Webots binaries?

##### David Mansolino [cyberbotics] 04/01/2020 05:27:46
`@ClBaze` why aren't you locking the connector from the connector controller directly? From the supervisor you can use the emitter to send a message when the connector need to lock and receive it from the controller of the connector with a receiver.


> `@David Mansolino` First, I wish you and your loved ones healthy days. 

> 

> Does blender webots exporter work on windows? And second question is : will exporter work in new version like 2.8?

Hi `@w3. eydi`, I wish you healthy days too, thank you.

The blender exporter is indeed supposed to work on Windows, however, for now it does not support versions > 2.7x

##### alsk 04/01/2020 05:23:12
ok, Thank you

##### Olivier Michel [cyberbotics] 04/01/2020 05:08:35
No. You can put huge values if you want, but infinity is not an option.

##### alsk 04/01/2020 04:52:25
in webot tree!



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/694771077015928842/unknown.png)
%end


Hello,Is there a way to change  the maxtorque'value& the maxvelocity's value to infinity ????

##### kwy 04/01/2020 02:49:15
`@David Mansolino` Thanks!!!

##### w3. eydi 03/31/2020 18:31:22
I couldn't find any information about these questions here.


[https://github.com/cyberbotics/blender-webots-exporter](https://github.com/cyberbotics/blender-webots-exporter)


`@David Mansolino` First, I wish you and your loved ones healthy days. 



Does blender webots exporter work on windows? And second question is : will exporter work in new version like 2.8?

##### ClBaze 03/31/2020 16:18:54
Am I missing something ?


I've also tried to set isLocked to false for both connectors just in case but same issue


unilateralUnlock field is set to TRUE for both connectors


I want to lock/unlock the connector of a robot from a supervisor. I tried to modify the isLocked field since I havn't access to the lock() function from the supervisor, and the value change but the connector won't disconnect

##### David Mansolino [cyberbotics] 03/31/2020 15:11:10
You're welcome

##### ClBaze 03/31/2020 15:07:18
Ok thanks

##### David Mansolino [cyberbotics] 03/31/2020 15:06:30
No unfortunately the node pointer will let you get/change the node content but not cast it to a robot to be used as if you were the controller.

##### ClBaze 03/31/2020 15:06:13
my bad


exactly

##### David Mansolino [cyberbotics] 03/31/2020 15:05:45
You mean a pointer to a Robot class of the Webots API ?

##### ClBaze 03/31/2020 15:05:09
Hello, I'm using the supervisor getFromDef() function to get a pointer to a robot in the scene. It returns a node pointer. Is it possible to cast this pointer to a Robot pointer ?

##### David Mansolino [cyberbotics] 03/31/2020 14:08:52
`@kwy` I checked your controller and the problem is that in Python the `send` function does accept strings only, you might change your controller like this to send the coordinate as a string:

```Python
from controller import Supervisor

TIME_STEP = 64

supervisor = Supervisor()
# /* get a handler to the emitter and to the robot /
emitter = supervisor.getEmitter("emitter")

# / get the field which contains the position of the robot*/
robot_node = supervisor.getFromDef("GPS_ROBOT")

robot_translation = robot_node.getField("translation")

while supervisor.step(TIME_STEP) != -1:
    robot_coords = robot_translation.getSFVec3f()
    emitter.send("%lf %lf %lf" % (robot_coords[0], robot_coords[1], robot_coords[2]))
```

Or use the Python `struct` module as explained in the Pyton part of the emitter.send function documentation: [https://www.cyberbotics.com/doc/reference/emitter?tab-language=python#emitter-functions](https://www.cyberbotics.com/doc/reference/emitter?tab-language=python#emitter-functions)

##### kwy 03/31/2020 12:59:53
I found the emitter is equipped on the supervisor.. still don't know how to fix


Thanks!

##### David Mansolino [cyberbotics] 03/31/2020 12:49:25
I will test and let you know


Thank you

##### kwy 03/31/2020 12:41:29

> **Attachment**: [message.txt](https://cdn.discordapp.com/attachments/565154703139405824/694526787614670918/message.txt)

##### David Mansolino [cyberbotics] 03/31/2020 12:40:43
Probably just the code is enough, thank you


> the emitter is equipped on the first one not "supervisor"

That looks strange since you are trying to emit the message from the superviros

##### kwy 03/31/2020 12:40:19
how can i send the whole code to you , or should i send the world to you?


there are two instances, "DEF GPS\_ROBOT  Robot" named "MyBot" and "Robot" named "gps\_supervisor". the fist one use the class"Robot" , and the second use the class"Supervisor". and the emitter is equipped on the first one not "supervisor".

##### David Mansolino [cyberbotics] 03/31/2020 12:34:42
Can you send me the code of you controller so that I can try ?


Ok thank you, that's strange, it is supposed to work

##### kwy 03/31/2020 12:33:08

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/694524686071234590/unknown.png)
%end

##### David Mansolino [cyberbotics] 03/31/2020 12:32:15
Just to make sure what it returns


can you print the value of the ``robot\_coords``?

##### kwy 03/31/2020 12:31:16
so ...how can i fix this error, I wrote this python based on the sample in c.

##### Dorteel 03/31/2020 12:16:01
thank you, that worked!

##### kwy 03/31/2020 12:15:56
I'm trying to learn how to use supervisor in Python..
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/694520356924293232/unknown.png)
%end

##### David Mansolino [cyberbotics] 03/31/2020 12:15:08
> Hi again, the rounded box turns into a ball when I try to make it 2cm wide cube. Tried changing the borderradius and subdivision, but didn't notice any changes

`@Dorteel` You should set the ``borderRadius``to a smaller value (e.g. 0.002).

About the different pictures, I am not so sure. You probably have to create your own model for this.

##### Olivier Michel [cyberbotics] 03/31/2020 12:12:23
You cannot send a NULL packet.


That's another problem.

##### kwy 03/31/2020 12:11:11
but i get Error: wb\_emitter\_send\_packet(): invalid argument: data = NULL.

##### Olivier Michel [cyberbotics] 03/31/2020 12:10:43
Yes, you can.

##### kwy 03/31/2020 12:10:21
Hello, for emitter I can't change "robot" to "supervisor"?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/694518949915918356/unknown.png)
%end

##### Dorteel 03/31/2020 12:10:09
also, is it possible to have different pictures on all sides?


Hi again, the rounded box turns into a ball when I try to make it 2cm wide cube. Tried changing the borderradius and subdivision, but didn't notice any changes
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/694517219631300608/unknown.png)
%end

##### kwy 03/31/2020 12:01:21
It works! ðŸ˜†  thanks

##### David Mansolino [cyberbotics] 03/31/2020 11:59:35
You're welcome

##### kwy 03/31/2020 11:59:28
ok thanks ! i'd try it

##### David Mansolino [cyberbotics] 03/31/2020 11:58:39
Then simply replace it by:

```Python
supervisor.step(8000)
```

##### kwy 03/31/2020 11:58:09
but i also need "robot.step(8000) "

##### David Mansolino [cyberbotics] 03/31/2020 11:57:37
The supervisor class inherits from the robot class, so you should only call:

```
supervisor = Supervisor()
```

And remove the:

```
robot = Robot()
```

You can then use the `supervisor` instance as if it was a `robot` instance

##### kwy 03/31/2020 11:57:11
how to get the class of "supervisor"


if i try this, there is an error "Only one instance of the Robot class should be created"
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/694515436267503616/unknown.png)
%end

##### David Mansolino [cyberbotics] 03/31/2020 11:54:08
If you want to get the supervisor itself you should use:

```Python
supervisorNode = supervisor.getSelf()
```

##### kwy 03/31/2020 11:47:56
Hello, i'm building a supervisor controller in python, before I try to get "root = supervisor.getRoot()" like " root = wb\_supervisor\_node\_get\_root(); " in c,   I have to get the "supervisor", but I don't know how to get this.  ("supervisor = robot.getSupervisor()" is not right)

##### David Mansolino [cyberbotics] 03/31/2020 11:44:43
You're welcome

##### Dorteel 03/31/2020 11:40:08
Perfect, thank you `@David Mansolino` !

##### David Mansolino [cyberbotics] 03/31/2020 11:39:52
Otherwise, would it be possible to get the complete error message?


> No I didn't

`@Ä°chigogo` did you change anything else to your system since yesterday?


Not as I know, but it should be quite simple to create one from the ``SolidRoundedBox``object:

[https://cyberbotics.com/doc/guide/object-solids#solidroundedbox](https://cyberbotics.com/doc/guide/object-solids#solidroundedbox)

Basically you just have to set the dimensions and texture.

##### Dorteel 03/31/2020 11:35:50
Hi guys! Do you know if there is a die PROTO somewhere I could use?

##### Ä°chigogo 03/31/2020 10:05:14
No I didn't

##### David Mansolino [cyberbotics] 03/31/2020 05:45:01
`@Ä°chigogo`, did you updated the Webots, Python or SUMO version installed on your computer since yesterday?

##### Ä°chigogo 03/30/2020 22:41:01
Hi! I'm getting error in sumo\_supervisor

>>> TypeError : '<' not supported between instances of 'Edge' and 'Edge'



and sumo stops working. I didn't change anything it's was working yesterday I can't understand ðŸ˜¢

##### Darko LukiÄ‡ [cyberbotics] 03/30/2020 22:14:43
No problem, good luck!

##### furkann 03/30/2020 22:14:12
Many thanks for you interest and help. I am newbie in this kind of jobs ðŸ™‚

##### Darko LukiÄ‡ [cyberbotics] 03/30/2020 22:13:17
`@furkann` A bit of background. Webots used to be a commercial product until the version R2019a - reason you are seeing the registration form. After R2019a (R2019a included) Webots is open-source! More about it here:

[https://twitter.com/webots/status/1075019490096762881](https://twitter.com/webots/status/1075019490096762881)


Is there a reason you use the old version of Webots. If not, you can download the newest version of Webots here:

[https://github.com/cyberbotics/webots/releases/download/R2020a-rev1/webots-R2020a-rev1\_setup.exe](https://github.com/cyberbotics/webots/releases/download/R2020a-rev1/webots-R2020a-rev1_setup.exe)

and you will not need an account.

##### furkann 03/30/2020 22:06:33
here is my app open form, I installed I think
%figure
![Capture.PNG](https://cdn.discordapp.com/attachments/565154703139405824/694306603372904458/Capture.PNG)
%end

##### Darko LukiÄ‡ [cyberbotics] 03/30/2020 22:05:19
`@furkann`  You don't need an account to use Webots. Do you have Webots installed on your computer?

##### furkann 03/30/2020 22:01:52
hi guys when I want to open webots, a form opens and wants e-mail and pw. but I dont have account and then when I click for registration webpage says 404 not found

##### David Mansolino [cyberbotics] 03/30/2020 15:47:13
> i have a solution where i made every different color a new floor it works but i always get a warning that the world is to complex

`@tilly` you can add several visual plane, but please avoid adding several coplanar physical planes.

##### Olivier Michel [cyberbotics] 03/30/2020 15:33:55
What kind of warning do you get exactly?

##### tilly 03/30/2020 14:26:33
i have a solution where i made every different color a new floor it works but i always get a warning that the world is to complex

##### Hue [cyberbotics] 03/30/2020 14:18:18
It is located in PROTO nodes (Webots projects)->objects->floors, have you tried to type `rect` in the Find searching field ? (Add a node popup)

##### tilly 03/30/2020 14:16:28
i cant find it


is there a way to add this node
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/694188272217358416/unknown.png)
%end

##### David Mansolino [cyberbotics] 03/30/2020 13:44:03
> Where can i set those

`@tilly` it is in the PBRappearance node of your floor appearance definition.

##### Olivier Michel [cyberbotics] 03/30/2020 13:42:23
You should follow tutorial 1 to 7.

##### CadenGS 03/30/2020 13:42:20
thank you

##### Olivier Michel [cyberbotics] 03/30/2020 13:42:11
[https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)

##### CadenGS 03/30/2020 13:42:03
where can I find these videos, on the webots yt?

##### Olivier Michel [cyberbotics] 03/30/2020 13:41:43
I would recommend you to follow our tutorials for creating a new robot from scratch.


So, you need to convert each part of your model to VRML97 to create IndexedFaceSet primitives which you can then re-use in Webots.


Yes, VRML97.

##### CadenGS 03/30/2020 13:40:23
does it need to be imprted as a certain file type? if so which?

##### Olivier Michel [cyberbotics] 03/30/2020 13:40:07
`@CadenGS`: yes, you need to convert and import such models from your CAD software to Webots.

##### CadenGS 03/30/2020 13:39:03
like a fusion cad of a vex robot for example

##### tilly 03/30/2020 13:39:02
Where can i set those

##### CadenGS 03/30/2020 13:38:54
is it possible to create and use your own 3D models as bots

##### David Mansolino [cyberbotics] 03/30/2020 13:32:54
`@tilly` the ground distance sensors can sense diffetence in the red component of the texture and roughness of the texture, so the important textures are the ``baseColorMap`` and ``roughnessMap``.

##### tilly 03/30/2020 13:22:35
Hi, how can i make the texture on the floor that the ground sensors spot a difference (eg. on the red ground is a different value than on the black). I want to use the Thymio II
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/694174741090795610/unknown.png)
%end

##### David Mansolino [cyberbotics] 03/30/2020 13:18:23
You're welcome

##### CadenGS 03/30/2020 13:15:33
thanks for the help

##### David Mansolino [cyberbotics] 03/30/2020 12:58:17
Perfect, thank you for the feedback

##### CadenGS 03/30/2020 12:55:19
no . and no / worked i think



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/694167857084497950/unknown.png)
%end

##### Olivier Michel [cyberbotics] 03/30/2020 12:13:40
Or should remove the "/" at the beginning.

##### David Mansolino [cyberbotics] 03/30/2020 12:13:01
you are missing the initial dot.

##### CadenGS 03/30/2020 12:12:25
nothing i do lets the installer run



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/694155751056474182/unknown.png)
%end

##### David Mansolino [cyberbotics] 03/30/2020 12:05:02
ok in that case you should probably ``cd Downloads``before

##### CadenGS 03/30/2020 12:04:50
so no

##### David Mansolino [cyberbotics] 03/30/2020 12:04:44
i.e. ``Users/cgear``

##### CadenGS 03/30/2020 12:04:43
i have my installer in downloads

##### David Mansolino [cyberbotics] 03/30/2020 12:04:11
is the Webots installer in the correct folder from where you are trying to start it?

##### CadenGS 03/30/2020 12:03:19

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/694154792121008218/unknown.png)
%end

##### David Mansolino [cyberbotics] 03/30/2020 11:59:01
Can you maybe try to install Webots from a command prompt?

```
./webots-R2020a-rev1_setup.exe //VERYSILENT //SUPRESSMSGBOXES //ALLUSERS
```

##### CadenGS 03/30/2020 11:58:22
I donâ€™t believe I have any other antivirus

##### David Mansolino [cyberbotics] 03/30/2020 11:56:08
If you only have firewall it should not cause any problem

##### CadenGS 03/30/2020 11:55:18
Like my Windows firewall?

##### David Mansolino [cyberbotics] 03/30/2020 11:54:42
> Both in and out of admin just nothing happens

`@CadenGS` Maybe your antivirus is blocking the installation? Can you try disabling it temporarily to install Webots ?


> `@David Mansolino` I want to know. How to find the center of the right and left foot relative to the Com point.

`@elkelkmuh` from the node editor you can get the absolute position of the center of mass, then from the node editor too ('position' tab) you can get the position of the absolute position of the selected node.

##### CadenGS 03/30/2020 11:53:06
Both in and out of admin just nothing happens

##### David Mansolino [cyberbotics] 03/30/2020 11:52:45
Maybe your antivirus is blocking the installation?


`@CadenGS` that's strange, and when you run the installer, nothing is happenning at all?

##### CadenGS 03/30/2020 11:50:24
`@David Mansolino` windows 10 and running as admin doesnt work

##### elkelkmuh 03/30/2020 11:46:02
@David Mansolino I want to know. How to find the center of the right and left foot relative to the Com point.

##### Tentaculus 03/30/2020 11:29:40
Alright thank you!

##### Olivier Michel [cyberbotics] 03/30/2020 11:28:49
Sure, it should probably be sufficient.

##### Tentaculus 03/30/2020 11:27:32
Do you think the AMD Ryzen 9 3900X is a good choice instead? It has 12 cores and is 300$ cheaper than your recommendation

##### Olivier Michel [cyberbotics] 03/30/2020 11:21:44
Also, if robot controllers are supposed to run on the same machine, I would prefer a machine with at least 12 virtual cores (which is anyhow the case for the CPUs I just recommended).


Depending on your budget, a slightly more modest configuration may also do the job if your simulation is not too intensive (like not using a high frame rate for high resolution camera images, low physics time step, etc.).


Hi, I would recommend a Intel i9-10980XE or AMD Ryzen 9 3950X CPU and a NVIDIA RTX 2080 (or RTX 2070 or GTX 1080 Ti).

##### Tentaculus 03/30/2020 11:11:05
Hey, I need to build a PC that is able to run a simulation with 10 Nao robots playing soccer (see Robocup) close to realtime. What kind of CPU/GPU do you think would be strong enough to make that happen?

##### David Mansolino [cyberbotics] 03/30/2020 06:03:22
Yes, CoM means center of mass indeed.

##### elkelkmuh 03/30/2020 06:02:48
This xyz point, Doesn't it also indicate the center of mass?

##### David Mansolino [cyberbotics] 03/30/2020 06:00:03
This indicate the position of the node you have selected, this is defined inside the PROTO you can change it by changing the 'translation' field.

##### elkelkmuh 03/30/2020 05:58:58

%figure
![Screenshot_20200330_0852592.jpg](https://cdn.discordapp.com/attachments/565154703139405824/694063102378901515/Screenshot_20200330_0852592.jpg)
%end

##### David Mansolino [cyberbotics] 03/30/2020 05:50:35
`@elkelkmuh` I am sorry but your question is not clear, what do you mean by xyz point ?

##### elkelkmuh 03/30/2020 05:44:02
Hi `@David Mansolino`, Can I change the xyz point to the feet, i.e. fsr?  Or how do I find the distance to the feet and recalculate?
%figure
![Screenshot_20200325_182645.jpg](https://cdn.discordapp.com/attachments/565154703139405824/694059343435399268/Screenshot_20200325_182645.jpg)
%end
%figure
![Screenshot_20200325_182727_com.whatsapp.jpg](https://cdn.discordapp.com/attachments/565154703139405824/694059343804629062/Screenshot_20200325_182727_com.whatsapp.jpg)
%end

##### David Mansolino [cyberbotics] 03/30/2020 05:43:28
`@Simon Steinmann` you're right, I will correct the name of the launh files. Thank you


`@CadenGS`, which version of Windows are you using? Can you trying launching the installer as administrator?


Even so we usually prefeer this way:

```Python
 rgb = (r << 16) + (g << 8) + b
```


Hi `@[]`, you're solution is pefectly correct indeed.

##### [] 03/28/2020 18:42:58
We input the int value and seems to work, while if we convert it to hex(int\_rgb) it gives error.


int\_rgb = rgb\_to\_rgbint((255, 0, 0))

print("HEX VALUE===")

print(int\_rgb)



led\_z\_pos.set(int\_rgb)


def rgb\_to\_rgbint(rgb):

    r = rgb[0]

    g = rgb[1]

    b = rgb[2]

    rgb = 65536 * r + 256 * g + b

    #value = hex(rgb)

    #value = '0x%02x%02x%02x' % rgb

    return rgb


Ok I think I gt the answer:


Hi,

I'm trying to set with PYTHON Webots API the color of led based on the camera readings RGB colors. But I cant manage to find any conversion tool in Webots API that allos to convert RGB readings form



image\_array = camera\_object.getImageArray();

image\_array = [[[116, 55, 35]], [[117, 57, 37]], [[115, 57, 39]]]



Into the HEX format that LED requires ( R8G8B8 ).



Any idea on how this could be accomplished?

Isnt there a :



led\_camera.set(value=[[116, 55, 35])?

##### CadenGS 03/28/2020 16:05:30
`@Olivier Michel` Windows

##### Simon Steinmann [Moderator] 03/28/2020 12:55:38
also I am not sure about the standard installation procedures. I just copied the whole ur\_e\_webots folder into my catkin\_ws/src, where I also have the universal\_robots package, and compiled with catkin\_make. Using the correct commands for ur\_e it works ðŸ™‚


webots uses the ur5e robot, not the ur5


The readme.me uses wrong launch commands [https://github.com/cyberbotics/webots/tree/master/projects/robots/universal\_robots/resources/ros\_package/ur\_e\_webots](https://github.com/cyberbotics/webots/tree/master/projects/robots/universal_robots/resources/ros_package/ur_e_webots)

##### Olivier Michel [cyberbotics] 03/28/2020 11:51:52
Hi, which version did you try to install? On which platform? Linux, Windows, mac OS?

##### CadenGS 03/27/2020 19:04:30
any help?


so I cant install it


Im attempting to install Webots for a class but when I run the installer after download it does nothing

##### David Mansolino [cyberbotics] 03/26/2020 14:55:36
You're welcome

##### Simon Steinmann [Moderator] 03/26/2020 14:55:07
Thank you, I will have a look. So many rabbit holes ðŸ˜„

##### David Mansolino [cyberbotics] 03/26/2020 14:53:22
We have an interface with ROS and therefore MoveIt is available through ROS, however this part is only available for the Universal Robots. But it should be quite simple to extend it to other robotic arms, here is the description: [https://github.com/cyberbotics/webots/tree/master/projects/robots/universal\_robots/resources/ros\_package/ur\_e\_webots](https://github.com/cyberbotics/webots/tree/master/projects/robots/universal_robots/resources/ros_package/ur_e_webots)

The code of the controller providing the ROS interface is available here: [https://github.com/cyberbotics/webots/tree/master/projects/robots/universal\_robots/controllers/universal\_robots\_ros](https://github.com/cyberbotics/webots/tree/master/projects/robots/universal_robots/controllers/universal_robots_ros)

Alternatively, we are currently creating a more powerfull and generic interface with ROS2: [https://github.com/cyberbotics/webots\_ros2](https://github.com/cyberbotics/webots_ros2)

But MoveIt support for ROS2 is still not perfect.

> For example: 

> Lets say we execute in the webots controller a motors.setPosition(pos) for every timestep, with each position being a waypoint of the trajectory. Would this work? Or would we run into problems with the internal PID controller. To my understanding, it tries to reach that position and then stop, while we want to keep going, after it reaches that position

`@Simon Steinmann` this should work, if you make sure to set the position at each step it should work, and even better, if I am not wrong moveit can generate velocity in addition of position, so you can also specify the velocity at each step in Webots in addition of the position.

##### Simon Steinmann [Moderator] 03/26/2020 14:47:46
For example: 

Lets say we execute in the webots controller a motors.setPosition(pos) for every timestep, with each position being a waypoint of the trajectory. Would this work? Or would we run into problems with the internal PID controller. To my understanding, it tries to reach that position and then stop, while we want to keep going, after it reaches that position


Or if not, if we create a trajectory using moveit for example (a list of joint positions), how would we go about executing these in Webots?


Have you interfaced with moveit?


I already implemented IKFast. The issue is not IK itself, but motion planning (trajectories). Meaning not just getting a valid solution vor position B, but the 'how to get from A to B'

##### David Mansolino [cyberbotics] 03/26/2020 14:10:23
Webots doesn't provide such tool out of the box, but it is very easy to use external libraries executing inverse kinematics, here is an example with the same robot arm that is using the ``ikpy``python  module (this module is used internally by MoveIt too): [https://github.com/cyberbotics/webots/blob/master/projects/robots/abb/irb/controllers/inverse\_kinematics/inverse\_kinematics.py](https://github.com/cyberbotics/webots/blob/master/projects/robots/abb/irb/controllers/inverse_kinematics/inverse_kinematics.py)



And here is an example of the result:



[https://www.youtube.com/watch?v=Jq0-DkEwwj4](https://www.youtube.com/watch?v=Jq0-DkEwwj4)

##### Simon Steinmann [Moderator] 03/26/2020 14:05:43
Is there already some sort of implementation for trajectories? Currently I calculate the end position with Inverse Kinematics, however, the PID controller just changes the angles of the motors in proportion to the start and goal angle. This can cause the end effector to crash into the ground, if the new position is a larger positional change. Any Ideas on how to approach this? For example with ROS, Moveit and Gazebo, there is trajectory controllers. Is there anything similar in Webots?

##### David Mansolino [cyberbotics] 03/26/2020 13:34:03
You're welcome.

##### Simon Steinmann [Moderator] 03/26/2020 13:33:48
ah okay, thanks that answer my question ðŸ™‚

##### David Mansolino [cyberbotics] 03/26/2020 13:33:33
I mean you can remove the parent 'Robot' node and put instead directly the rb4600-40 node.

##### Simon Steinmann [Moderator] 03/26/2020 13:32:53
root node?

##### David Mansolino [cyberbotics] 03/26/2020 13:32:30
You're welcome.

With the fixed/updated version not anymore, you will just have to set it as root node and set the 'staticBasis' field to ``TRUE``.

##### Simon Steinmann [Moderator] 03/26/2020 13:31:05
Is there a reason then, to have the robotic arm proto inside of a generic robot node?


thank you ðŸ™‚

##### David Mansolino [cyberbotics] 03/26/2020 12:48:46
HI `@Simon Steinmann`, in the development version of Webots we added a few weeks ago a new field allowing you to attach the robot to the environment:

[https://github.com/cyberbotics/webots/pull/1349](https://github.com/cyberbotics/webots/pull/1349)

To use this patch you can either copy the patch to your local version of the PROTO or use on of the nightly builds of Webtos including the patch: [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)



Another workaround would be to define a 'boundingObject' for your parent PROTO without physics object.

##### Simon Steinmann [Moderator] 03/26/2020 12:26:33
I may have missed something, but I couldnt find the answer in the documentation: How can I fix the base of the robot? I have a robot node with the irb4600-40 proto node in children. As it is a robotic arm, I want to have the base fixed in the world. currently it is wiggling around a bit (as can be seen from the translation and rotation of the children node)
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/692711090106138664/unknown.png)
%end

##### David Mansolino [cyberbotics] 03/26/2020 10:21:53
Reseting the physics just means that the velocity of all the Solids will be set to 0, but this will not reset the position. You probably better reset the simulation if you want the robot to be placed at it's initial position, please see:  [https://cyberbotics.com/doc/guide/using-numerical-optimization-methods#using-the-wb\_supervisor\_world\_reload-function](https://cyberbotics.com/doc/guide/using-numerical-optimization-methods#using-the-wb_supervisor_world_reload-function)

By the way I am adding a warnings in the Webots code that will warn you in the future versions of Webtos if you use this function while the 'supervisor' field is not set to ``TRUE``: [https://github.com/cyberbotics/webots/pull/1501](https://github.com/cyberbotics/webots/pull/1501)

##### Laojiang 03/26/2020 10:17:11
Maybe I need to change the code
%figure
![HQH78WCNXL7Y_EPH5S.png](https://cdn.discordapp.com/attachments/565154703139405824/692678530454257724/HQH78WCNXL7Y_EPH5S.png)
%end


I restart my webots, and the error has gone.However, my robots don't reset itself.

##### David Mansolino [cyberbotics] 03/26/2020 10:05:38
Make sure to save and revert when you change this field


Yes it is

##### Laojiang 03/26/2020 10:04:31
Isn't it the place I marked?
%figure
![H1DQKJMXJUZCWQNIH95RD.png](https://cdn.discordapp.com/attachments/565154703139405824/692675344297230386/H1DQKJMXJUZCWQNIH95RD.png)
%end

##### David Mansolino [cyberbotics] 03/26/2020 09:52:05
`@Laojiang`, I checked your wimulation and the Robot `supervisor` field is not set to `TRUE` in the Webots scene-tree.

Please set it to `TRUE`, save the simulation, revert the simulation and try again, it should work this way.

##### Simon Steinmann [Moderator] 03/26/2020 09:50:42
And I hope this bug gets fixed soon. It is essential for Reinforcement Learning. Soon I might be able to provide a template for OpenAI based Reinforcement learning, coupled with webots

##### David Mansolino [cyberbotics] 03/26/2020 09:50:05
You're welcome ðŸ™‚

##### Simon Steinmann [Moderator] 03/26/2020 09:49:34
Thanks :).

##### David Mansolino [cyberbotics] 03/26/2020 09:48:03
Yes, you might use this way of resetting manually your robots: [https://cyberbotics.com/doc/guide/using-numerical-optimization-methods#using-the-wb\_supervisor\_field\_set\_-and-wb\_supervisor\_simulation\_reset\_physics-functions](https://cyberbotics.com/doc/guide/using-numerical-optimization-methods#using-the-wb_supervisor_field_set_-and-wb_supervisor_simulation_reset_physics-functions)

##### Simon Steinmann [Moderator] 03/26/2020 09:47:24
perhaps manually moving to an initial position + physics reset?


Thank you. Is there a workaround in the meantime to reset a simulation without this happening? I'm using it for Reinforcement learning. I have to reset everything without resetting the controller.

##### David Mansolino [cyberbotics] 03/26/2020 09:45:38
HI `@Simon Steinmann` we are aware of the issue, this is reported here: [https://github.com/cyberbotics/webots/issues/1432](https://github.com/cyberbotics/webots/issues/1432)

We are trying to fix the problem as soon as possible, you can follow this issue to get updates.

##### Simon Steinmann [Moderator] 03/26/2020 09:44:57
Terminal output, showing the increased time required
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/692670422348595270/unknown.png)
%end


I have run into a very peculiar issue. For some reason the time required for this timestep increases with each reset. This adds up quickly. In the simulation this manifests itself by requiring many minutes up to hours of simulation time, even though it should only be milliseconds (128 to be exact). Running at real-time-speed, resets would take literally 30min-2h after a little bit
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/692670134627729458/unknown.png)
%end

##### David Mansolino [cyberbotics] 03/26/2020 09:40:26
Thank you I just received it, let me try.

##### Laojiang 03/26/2020 09:35:12
I have send a .rar file to you.

##### David Mansolino [cyberbotics] 03/26/2020 09:32:39
Thank you

##### Laojiang 03/26/2020 09:32:04
ok, I'll send you

##### David Mansolino [cyberbotics] 03/26/2020 09:31:35
Or if you don't want can you maybe send us your world file ?

##### Laojiang 03/26/2020 09:20:19
I have to install a new webotsðŸ˜±

##### David Mansolino [cyberbotics] 03/26/2020 09:18:20
Can you please try with revision 1 of R2020a ?

##### Laojiang 03/26/2020 09:17:57
webots R2020a. Yes, it's true

##### David Mansolino [cyberbotics] 03/26/2020 09:16:18
Is the ``supervisor``field of your robot set to TRUE ?


Which version of Webots are you using?

##### Laojiang 03/26/2020 09:15:17
The result is that.
%figure
![0HDD_N_N3WWW86DOG5.png](https://cdn.discordapp.com/attachments/565154703139405824/692662955883495495/0HDD_N_N3WWW86DOG5.png)
%end

##### David Mansolino [cyberbotics] 03/26/2020 09:12:28
Can you print this (just to be sure):

```Python
print([robot, robot.getSelf()])
```

##### Laojiang 03/26/2020 09:02:28
no,just this one

##### David Mansolino [cyberbotics] 03/26/2020 09:01:06
Do you have any other warning ?

##### Laojiang 03/26/2020 09:00:04
I change my cade as you advise, but  this error
%figure
![DUVJ0RXMNIMD0H.png](https://cdn.discordapp.com/attachments/565154703139405824/692659123719766076/DUVJ0RXMNIMD0H.png)
%end

##### Olivier Michel [cyberbotics] 03/26/2020 08:43:29
Got it.

##### Laojiang 03/26/2020 08:41:47
now?The picture is my modelðŸ˜…


okok, I try again

##### Olivier Michel [cyberbotics] 03/26/2020 08:38:56
Then a picture, but still no code... ðŸ˜’


I received an e-mail from you, but there is no code, it only says "I want to build a reinforcement learning project,and you needn't to see what I comment.



I am debugging this reset function at the end of the code"

##### Laojiang 03/26/2020 08:30:11
I have send you my code

##### Olivier Michel [cyberbotics] 03/26/2020 08:12:37
Please send me you whole python code at support@cyberbotics.com and I will point you to the problem more precisely.


As documented here: [https://www.cyberbotics.com/doc/reference/supervisor?tab-language=python#wb\_supervisor\_node\_reset\_physics](https://www.cyberbotics.com/doc/reference/supervisor?tab-language=python#wb_supervisor_node_reset_physics)


Instead of calling `robot.simulationResetPhysics(robotNode)`, you should get a pointer to the robot you want to reset physics and call `my_robot.resetPhysics()`

##### Laojiang 03/26/2020 08:11:04
Where is wrongï¼ŸThe .py document?

##### Olivier Michel [cyberbotics] 03/26/2020 08:08:30
Sorry, my advice was wrong...


Like in `WEBOTS_HOME/projects/languages/python/controllers/driver/driver.py`.


Your robot object should be a Supervisor instance, not a Robot instance.

##### Laojiang 03/26/2020 07:56:10
I'm sorry but...ðŸ˜”
%figure
![2EMY3NMUOTHXJJA1LT2W.png](https://cdn.discordapp.com/attachments/565154703139405824/692643042733195294/2EMY3NMUOTHXJJA1LT2W.png)
%end

##### Olivier Michel [cyberbotics] 03/26/2020 07:52:57
where `robotNode` points to your robot node.


You should call `robot.simulationResetPhysics(robotNode)`

##### Laojiang 03/26/2020 07:51:52

%figure
![KALU7ANRCUET_L5_VG2MY.png](https://cdn.discordapp.com/attachments/565154703139405824/692641960598437908/KALU7ANRCUET_L5_VG2MY.png)
%end



%figure
![JS_EGWRG9BBR7ET7ND.png](https://cdn.discordapp.com/attachments/565154703139405824/692641882093912094/JS_EGWRG9BBR7ET7ND.png)
%end


I tried many times. However, the error still hereðŸ˜”
%figure
![862GPJM9MK6T5Y_ZP84.png](https://cdn.discordapp.com/attachments/565154703139405824/692641837546209280/862GPJM9MK6T5Y_ZP84.png)
%end

##### Olivier Michel [cyberbotics] 03/26/2020 07:23:21
(assuming you are coding your controller in Python).


And then you can call `self.simulationResetPhysics(robot)`.


(also your robot controller class should be derived from `Supervisor`).


If so, you can use `simulationResetPhysics` like any other robot API function.


Does your `Robot` node have the `supervisor` field set to `TRUE`?

##### Laojiang 03/26/2020 07:19:38
How can I solve it? or how can I use the code nomally?


I try to use 'Supervisor.simulationResetPhysics(robot)' to reset my robot. However, there is an error:TypeError: in method 'Supervisor\_simulationResetPhysics', argument 1 of type 'webots::Supervisor *'


I found it ,thank you


How can I use this C code 'wb\_supervisor\_node\_reset\_physics(robot\_node)' by python?


ok ,thank you

##### Olivier Michel [cyberbotics] 03/25/2020 15:36:55
Hi, you can use the wb\_supervisor\_node\_reset\_physics(robot\_node); See the documentation here: [https://cyberbotics.com/doc/guide/supervisor-programming](https://cyberbotics.com/doc/guide/supervisor-programming)

##### Laojiang 03/25/2020 15:36:38
Just one robot, my model is a walker\_two\_legs,

##### David Mansolino [cyberbotics] 03/25/2020 15:35:40
Hi `@Laojiang` do you want to reset the whole world or only one specific robot?

##### Laojiang 03/25/2020 15:33:12
how can I reset my model by code?

##### David Mansolino [cyberbotics] 03/25/2020 15:31:31
This point is the origin of the robot. It is where the handles are located when you select the robot.

##### elkelkmuh 03/25/2020 15:30:32
Where is Op2's x = 0 y = 0 z = 0 point in webots?


Hi `@David Mansolino`
%figure
![Screenshot_20200325_182727_com.whatsapp.jpg](https://cdn.discordapp.com/attachments/565154703139405824/692394486172614696/Screenshot_20200325_182727_com.whatsapp.jpg)
%end
%figure
![Screenshot_20200325_182645.jpg](https://cdn.discordapp.com/attachments/565154703139405824/692394487271391232/Screenshot_20200325_182645.jpg)
%end

##### David Mansolino [cyberbotics] 03/25/2020 12:45:25
You're welcome ðŸ™‚

##### osiixy 03/25/2020 12:44:18
`@David Mansolino`  thank you!ðŸ¤©  It worked (I just copypaste it for testing and changed \ to / cause of Linux)

##### David Mansolino [cyberbotics] 03/25/2020 12:39:12
Hi `@osiixy`, we fixed an issue with makefiles adding a spaces in the file a few weeks ago in the development version of Webots: 

[https://github.com/cyberbotics/webots/pull/1304](https://github.com/cyberbotics/webots/pull/1304)

This is not yet released, but you can already get a patched version using the nightly builds to check if this fixes your issue:

[https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)

Alternatively, you may also try to simply apply the patch to you local Makefile of your controller.

##### osiixy 03/25/2020 12:36:12
hi! I use Manjaro and Webots is unable to build controller. During the make process an extra space is added after the WEBOTS\_HOME path (/opt/webots /resources   so after webots in my case), however my path does not contain that extra space (I've checked  and redefined it many time). It seems that it happens in the Makefile, but I cannot figure it out why.

##### divya 03/24/2020 14:09:40
oh alright!! i will check the write rights!! thanks for the answers!! ðŸ™‚

##### Olivier Michel [cyberbotics] 03/24/2020 14:08:46
Note: the resulting file will be located in your controller directory, so you must have write rights there so that the file will be created.

##### divya 03/24/2020 14:08:19
it looks exactly like this!

##### Olivier Michel [cyberbotics] 03/24/2020 14:07:46
If your code look like this [https://www.javatpoint.com/fprintf-fscanf-in-c](https://www.javatpoint.com/fprintf-fscanf-in-c), then it should work in a Webots controller as well.

##### divya 03/24/2020 14:07:19
yup!

##### Olivier Michel [cyberbotics] 03/24/2020 14:06:52
Are you doing this in the main control loop?

##### divya 03/24/2020 14:05:58
just creates a file but writes nothing in it!


tried fprintf, it didnt work in webots

##### Olivier Michel [cyberbotics] 03/24/2020 14:05:32
It's a standard C programming question, not related with Webots.

##### divya 03/24/2020 14:05:11
i am using printf statements, but what i was looking for is to write to a file!

##### Hue [cyberbotics] 03/24/2020 14:05:03
Don't forget the trailing newline though ðŸ˜‰

##### Olivier Michel [cyberbotics] 03/24/2020 14:04:34
You can simply use printf  statements...


Hi,

##### divya 03/24/2020 14:04:00
hi! I am very new to webots! can anyone tell me how to log something in webots in a C based controller?

##### Tosidis 03/24/2020 09:06:51
Ok thank you, not a big deal, since my workload dropped dramatically with the texture thing ðŸ™‚

##### David Mansolino [cyberbotics] 03/24/2020 09:06:25
Unfortunately, Blender does not support wbo export

##### Tosidis 03/24/2020 09:05:40
Last question (for now ðŸ™‚ ) Is it possible to export a wbo file from blender, or i can only export a wbt, open it in webots and then export the object as wbo

##### David Mansolino [cyberbotics] 03/24/2020 09:04:38
You're welcome!


Perfect ðŸ™‚

##### Tosidis 03/24/2020 09:03:48
I defined absolute paths in Blender file settings, and now its exporting the whole thing ðŸ™‚


David, thank you. You saved me quite some time!

##### David Mansolino [cyberbotics] 03/24/2020 08:59:20
in Blender

##### Tosidis 03/24/2020 08:58:52
while exporting you mean?


In blender?

##### David Mansolino [cyberbotics] 03/24/2020 08:57:57
How did you defined the path, absolute or relative ?


Yes unfortunately, the exporter is not compatible with Blender 2.8 yet.

##### Tosidis 03/24/2020 08:57:02
( which i didn't have a success intalling in the latest blender version )


blender to webots

##### David Mansolino [cyberbotics] 03/24/2020 08:56:25
Are you using the blender to Webots exporter or exporting from Blender to VRML ?

##### Tosidis 03/24/2020 08:55:45
Is it possible to set a correct path for them so it loads them automatically? ( i need more than enough models to run some experiments and it really takes quite some time to change the url manually)


I am importing some models from Blender, but the texture url is not correct , which results in me needing to change the appearance colormap url in every model manually.

##### David Mansolino [cyberbotics] 03/24/2020 08:53:49
Of course

##### Tosidis 03/24/2020 08:53:40
And since i have another 'problem' maybe you could help me with that aswell

##### David Mansolino [cyberbotics] 03/24/2020 08:53:31
indeed, that should fix the library path issue ðŸ™‚

##### Tosidis 03/24/2020 08:52:36
[https://github.com/cyberbotics/webots/issues/137#issuecomment-457503914](https://github.com/cyberbotics/webots/issues/137#issuecomment-457503914)


it was suggested from omichel here : I could reproduce the problem as well, but I noticed that it can be fixed by starting webots.bat instead of webots.exe. This is probably due to the fact the DOS cmd.exe ignores the webots.exe.config file that adds an extra path to the search for shared libraries (e.g., ../../usr/bin).

##### David Mansolino [cyberbotics] 03/24/2020 08:52:14
Perfect, very good news.

##### Tosidis 03/24/2020 08:51:59
running it through webots.bat (instead of webots.exe, and with administrative rights (don't know if it is needed though)) solves the problem

##### David Mansolino [cyberbotics] 03/24/2020 08:51:30
Can you please try from the command line, following the instructions here:

[https://cyberbotics.com/doc/guide/starting-webots#windows](https://cyberbotics.com/doc/guide/starting-webots#windows)

Just to check if it works this way

##### Tosidis 03/24/2020 08:51:25
even though i found a solution in the issue


nope, through the shortcut

##### David Mansolino [cyberbotics] 03/24/2020 08:48:25
Are you launching Webots from the command line?

We had a similar issue a long time ago, see: [https://github.com/cyberbotics/webots/issues/137](https://github.com/cyberbotics/webots/issues/137)

##### Tosidis 03/24/2020 08:46:49
Windows 10, 2020a rev1


WARNING: Texture image size of 'C:/Users/XXX/AppData/Local/Programs/Webots/projects/appearances/protos/textures/glossy\_car\_paint/glossy\_car\_paint\_normal.jpg' is not a power of two: rescaling it from -1x-1 to 0x0.

WARNING: Mavic2Pro (PROTO) > DEF FRONT\_LEFT\_HP\_HELIX Propeller > Solid > Shape > GlossyPaint (PROTO) > ImageTexture: Cannot load texture 'C:/Users/XXX/AppData/Local/Programs/Webots/projects/appearances/protos/textures/glossy\_car\_paint/glossy\_car\_paint\_normal.jpg': Unsupported image format.

##### David Mansolino [cyberbotics] 03/24/2020 08:46:01
And what is your OS  and Webots version?


Of course!

##### Tosidis 03/24/2020 08:45:40
yeah give me a sec

##### David Mansolino [cyberbotics] 03/24/2020 08:45:26
Hi, Can you copy paste the exact error message you have ?

##### Tosidis 03/24/2020 08:44:49
Hi! I am having some issues with my webots installation. I was running some simulations when webots crashed. When i opened it again many textures wouldn't load correctly (such as the floor or tree textures in mavic\_pro sample world). I reinstalled webots, everything run smoothly until i got another crash and then I had the same problem. Error is suggesting that the image format is unsupported.

##### David Mansolino [cyberbotics] 03/24/2020 07:52:40
The supervisor is again the way to go: [https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_get\_contact\_point](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_get_contact_point)

##### elkelkmuh 03/24/2020 07:50:06
Hi `@David Mansolino` how can I find support polygon  coordinate?

##### David Mansolino [cyberbotics] 03/24/2020 06:18:29
You can also read it in the field/node editor when you select the node and then the 'mass' tab: [https://www.cyberbotics.com/doc/guide/the-scene-tree#field-editor](https://www.cyberbotics.com/doc/guide/the-scene-tree#field-editor)


[https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_get\_center\_of\_mass](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_get_center_of_mass)


HI `@elkelkmuh`, using the supervisor you can get the position of the center of mass of any node:

##### elkelkmuh 03/23/2020 22:48:16
Hi! I see the location of center of mass of op2. It is seen as red X. How can I obtain the values of position of red X, i.e. x and y coordinates of red X.

##### Francony 03/23/2020 18:59:11
That fixed it, thanks

##### Olivier Michel [cyberbotics] 03/23/2020 17:30:32
Hi! Either you set the WorldInfo.gravity to 0 0 0, or you actively reset the position of every object to its initial value at every step (from the supervisor). Or you remove the Physics node from your objects so that they won't be subject to gravity and other dynamics behaviors.

##### Francony 03/23/2020 17:26:40
Hi! I have a Webots Supervisor running a controller that gets the position of every node. When I hit play though my model moves because it is subject to gravity, but I wanted to get the positions without it moving. Is there a way to lock it in place?

##### David Mansolino [cyberbotics] 03/23/2020 12:29:21
You're welcome

##### zhanghua7099 03/23/2020 12:20:04
Thank you very much! `@David Mansolino`

##### David Mansolino [cyberbotics] 03/23/2020 06:20:13
Hi `@Jeremy Jiang` this looks like a bug, do you have a simple procedure to reproduce it?


Hi `@zhanghua7099`, please see [https://www.cyberbotics.com/doc/guide/general-faq#can-i-still-use-a-webots-version-before-the-r2019a-release](https://www.cyberbotics.com/doc/guide/general-faq#can-i-still-use-a-webots-version-before-the-r2019a-release)

##### zhanghua7099 03/22/2020 19:47:55
How to use Webot 8 now? I can't login and use it.

##### Weiyi 03/22/2020 14:46:09
OK, thank you very much!

##### Olivier Michel [cyberbotics] 03/22/2020 14:45:06
Webots-R2020a-rev2 is a nightly build of the upcoming revision 2 (from the github master branch) while Webots-2020b is the upcoming major version (from the develop branch) and contains more features, but may be more unstable.

##### Weiyi 03/22/2020 12:13:56
Hello, I wonder if there is any difference in webots-R2020a-rev2\_setup.exe   and   webots-R2020b\_setup.exe     of github nightly buildðŸ˜†

##### Tosidis 03/22/2020 11:15:28
`@David Mansolino`  Will try the recommended version of blender, cause i got a newer one atm and it doesn't seem to work correctly. I will let you know if i face any problems

##### Jeremy Jiang 03/22/2020 10:37:13
Hello, I am working with a darwin-op robot. Sometimes I find the value of positionSensors will be strange. For example, the range of footR is [-0.68, 1.04], but the value of the positionSensor is -3.45. This makes me confused. Even when I use simulationReset() function and find the robot looks naturalï¼Œthe positionSensor is still -3.45 rather than 0. I'm a  new hand and hope for your help.

##### David Mansolino [cyberbotics] 03/22/2020 08:01:43
`@tilly`, how did you install Webots?

Please make sure that the Webots application is in your `PATH` environment variable. Can you please show us the ouput of the `env` command?


`@PTosidis`, yes probably, there is nothing platform specific in this plugins.


`@dpimbi`, about the sensors, you might use DistanceSensors (whith infra-red type): [https://cyberbotics.com/doc/reference/distancesensor#infra-red-sensors](https://cyberbotics.com/doc/reference/distancesensor#infra-red-sensors)

Or a camera: [https://cyberbotics.com/doc/reference/camera](https://cyberbotics.com/doc/reference/camera)

For both option you can find example in Webots.

For DistanceSensors: [https://cyberbotics.com/doc/guide/epuck#e-puck\_line\_demo-wbt](https://cyberbotics.com/doc/guide/epuck#e-puck_line_demo-wbt)

For camera: [https://github.com/cyberbotics/webots/blob/master/projects/vehicles/worlds/city.wbt](https://github.com/cyberbotics/webots/blob/master/projects/vehicles/worlds/city.wbt)

##### Tahir [Moderator] 03/21/2020 21:44:19
`@dpimbi` check Adept robots Pioneer,  that is a 4 wheel drive robot but you have to add the sensor. There can also be some other 4 wheel robots already in Webots.

##### dpimbi 03/21/2020 20:22:43
Hello, I am working on a 4 wheels robot that can follow a yellow line using light sensors. I am stuck on how to use the light sensors. If there is another better way to make 4 wheels robot follow a yellow line that i will save my life.  I am really a new Webots user. I would really appreciate your helps

##### PTosidis 03/21/2020 15:06:44
?


Hello,

just a quick question. Is it possible to install the blender exporter on Windows'

##### tilly 03/21/2020 15:05:04
I get the same error


Ok but this does not change the outcome

##### Hue [cyberbotics] 03/21/2020 15:00:07
you can :

`export WEBOTS_HOME=/path/to/webots`

Also you can append this command to the end of of your ~/.bashrc or ~/.zshrc so the shell will remember it.


You have to set the environment variable WEBOTS\_HOME where your installation folder is at.

##### tilly 03/21/2020 13:55:52

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/690921628464578610/unknown.png)
%end


do i have to go to a certain folder or something?


hi, if i opened a terminal on mac and type: webots --help it says that it doesnt know the command

##### David Mansolino [cyberbotics] 03/19/2020 19:01:44
`@Weiyi` you're welcome, thank you for the feedback!

##### Weiyi 03/19/2020 16:51:02
> I succeeded a month ago, but today I'm doing it on another computer, maybe there's something wrong, I'll check it for one more time nowðŸ˜€

`@Weiyi` I found that I did not use the same python.exe as the internal IDE of webots, when I change it to system python, the problem is solved, thank you very much!ðŸ˜†

##### David Mansolino [cyberbotics] 03/19/2020 16:33:41
You're welcome

##### User21 03/19/2020 16:33:31
okay thanks!

##### David Mansolino [cyberbotics] 03/19/2020 16:32:21
OK, good. About the wheel of the kuka, they actually are not so complex, in Webots we use asymetrical friction as an optimization to simulate omnidirectional wheel, this way the physical complexity of the model is very low.

##### User21 03/19/2020 16:31:02
okay i lowered the frequency of the lida sensory and now its working better. But generally the wheels of the kuka are very complex arent they?

##### David Mansolino [cyberbotics] 03/19/2020 16:22:44
The first things is to identify where is the bottlneck, physics complexity of the robot or the GPU measure of the lidar.

##### User21 03/19/2020 16:22:05
iam using the arm and lidar sensors

##### David Mansolino [cyberbotics] 03/19/2020 16:21:00
Are you using any camera? Are you using the arm of the robot?

##### User21 03/19/2020 16:19:47
how can i lower the complexity of my kuka youbot because i want to simulate more of them and i dont want to get performance issues

##### Weiyi 03/19/2020 15:16:13
I succeeded a month ago, but today I'm doing it on another computer, maybe there's something wrong, I'll check it for one more time nowðŸ˜€

##### David Mansolino [cyberbotics] 03/19/2020 15:14:01
But just to make sure, did you follow this documentation?

[https://cyberbotics.com/doc/guide/using-your-ide#pycharm](https://cyberbotics.com/doc/guide/using-your-ide#pycharm)


As you prefeer.

##### Weiyi 03/19/2020 15:13:17
Should I add it to my windows or pycharm environment variables?

##### David Mansolino [cyberbotics] 03/19/2020 15:04:42
Maybe you should try setting `PYTHONPATH` too as explained here: [https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-language=python#environment-variables](https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-language=python#environment-variables)

##### Weiyi 03/19/2020 15:02:00
But I have set my environment variables like this : "PYTHONUNBUFFERED=1;PATH=G:\Webots\lib\controller\;G:\Webots\msys64\mingw64\bin\;G:\Webots\projects\robots\robotis\darwin-op\libraries\managers\;G:\Webots\projects\robots\robotis\darwin-op\libraries\robotis-op2"


i get "ImportError: DLL load failed"


when I execute  "from controller import Robot"

##### David Mansolino [cyberbotics] 03/19/2020 15:00:54
Hi `@Weiyi` what is the problem you have?

##### Weiyi 03/19/2020 15:00:31
Hi, I'm trying to use pycharm to control webots, but I get a mistake

##### tilly 03/19/2020 14:55:22
much thanks again

##### Stefania Pedrazzi [cyberbotics] 03/19/2020 14:54:32
yes, but usually a robot translation field is a SFVec3f field and not a MFVec3f.

##### tilly 03/19/2020 14:52:20
assuming root\_children\_field is where i added the robots and 11 is the number of the node of the robot in the tree


something like this


value = 0.5

        root\_children\_field.getMFNode(11).getField("translation").setMFVec3f(0, value)

        root\_children\_field.getMFNode(11).getField("translation").setMFVec3f(1, value)

        root\_children\_field.getMFNode(11).getField("translation").setMFVec3f(2, value)

##### Stefania Pedrazzi [cyberbotics] 03/19/2020 14:43:32
but if all your robots have the same DEF name you can also retrieve them by the position in the parent "children" field: [https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_field\_get\_mf\_node](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_field_get_mf_node)


the simplest way is to retrieve it using the DEF name: [https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_get\_from\_def](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_get_from_def)

##### tilly 03/19/2020 14:41:16
eg i have 3 thymio2 nodes


How can i access certain nodes

##### Stefania Pedrazzi [cyberbotics] 03/19/2020 14:38:36
you have to retrieve the newly inserted robot using the Supervisor API, then its translation field and using the `setSFVec3f` function you can move it to a new position  [https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_field\_set\_sf\_vec3f](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_field_set_sf_vec3f)

##### tilly 03/19/2020 14:36:03
after initializing the robots where do i can set the position?


got it thanks

##### Stefania Pedrazzi [cyberbotics] 03/19/2020 14:30:22
you should put the 'children' field of the root object

##### tilly 03/19/2020 14:29:01
Field.importMFNode(FIELD? ,position = -1, filename = "path/to/my/wbofile/Thymio2.wbo") what should i insert by FIELD?

##### David Mansolino [cyberbotics] 03/19/2020 13:57:17
You will find a very simple example in C for importing a Robot in the root children field.


UNfortunately not, but you can import any node using these functions in particular: [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_field\_import\_mf\_node\_from\_string](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_field_import_mf_node_from_string)

##### tilly 03/19/2020 13:55:20
is there any example code for adding new robots?

##### David Mansolino [cyberbotics] 03/19/2020 13:51:48
You of course, using the supervisor API you can import as many robot as you want and set the loation you want

##### tilly 03/19/2020 13:51:03
is it possible to distribute the a certain amount of robots random at the beginning of a simulation run?

##### David Mansolino [cyberbotics] 03/19/2020 13:47:51
You're welcome ðŸ˜‰

##### tilly 03/19/2020 13:47:33
nvm now it works for some reason but thanks for the quick reply! ðŸ™‚

##### David Mansolino [cyberbotics] 03/19/2020 13:37:21
Hi `@tilly` please open a bug report here and include your world and controller file: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

Thank you

##### tilly 03/19/2020 13:36:01
> What do you mean with "doesnt work"? It doesn't quit Webots?

`@Olivier Michel`  if i use the simulationQuit function webots freezes and doesnt close itself.

##### David Mansolino [cyberbotics] 03/19/2020 07:19:00
You're welcome

##### seenu 03/19/2020 07:18:49
thank you

##### David Mansolino [cyberbotics] 03/19/2020 06:51:04
Yes of course, all the previous versions of Webots are available here: [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)

In particular R2019a is available here: [https://github.com/cyberbotics/webots/releases/tag/R2019a](https://github.com/cyberbotics/webots/releases/tag/R2019a)

##### seenu 03/19/2020 06:49:49
could you help in finding webots 2019a version to download

##### programmingclub 03/18/2020 17:10:35
thanks alot, let me check, regards

##### Olivier Michel [cyberbotics] 03/18/2020 17:09:49
[https://github.com/cyberbotics/webots/releases/tag/R2019a](https://github.com/cyberbotics/webots/releases/tag/R2019a)

##### programmingclub 03/18/2020 17:08:26
but where to download


its showing this: [https://cyberbotics.com/doc/guide/nao](https://cyberbotics.com/doc/guide/nao)


can u pls again

##### Olivier Michel [cyberbotics] 03/18/2020 17:06:07
See the link I sent you to download it (it include NAO as well).

##### programmingclub 03/18/2020 17:02:59
ohh , thanks but there is no webots 8.4.0 for nao

##### Olivier Michel [cyberbotics] 03/18/2020 17:02:07
It doesn't work, please use version 8.4.0 instead.

##### programmingclub 03/18/2020 17:01:42
but after installing webots for nao, its asking email and password


i am trying to use this : [http://doc.aldebaran.com/1-14/software/webots/webots\_index.html](http://doc.aldebaran.com/1-14/software/webots/webots_index.html)

##### Olivier Michel [cyberbotics] 03/18/2020 16:59:33
See [https://www.cyberbotics.com/doc/guide/general-faq#can-i-still-use-a-webots-version-before-the-r2019a-release](https://www.cyberbotics.com/doc/guide/general-faq#can-i-still-use-a-webots-version-before-the-r2019a-release) for details.


You should use a version of Webots that works with this, e.g., Webots 8.4.0 for example.

##### programmingclub 03/18/2020 16:57:35
thanks `@David Mansolino`  but after this its saying no license right

##### David Mansolino [cyberbotics] 03/18/2020 16:55:14
Just use any email and use 'webots' as password if asked by Webots


`@programmingclub` you don't need any account anymore.

##### programmingclub 03/18/2020 16:54:05
pls help


account creation page not working: [http://www.cyberbotics.com/my\_account/register](http://www.cyberbotics.com/my_account/register)

##### Laojiang 03/18/2020 15:22:10
Ok,thanks

##### Olivier Michel [cyberbotics] 03/18/2020 15:21:46
[https://cyberbotics.com/doc/reference/nodes-and-api-functions](https://cyberbotics.com/doc/reference/nodes-and-api-functions)


In the Webots reference manual.

##### Laojiang 03/18/2020 15:18:29
Where can I find the introduction of Robot library functions

##### David Mansolino [cyberbotics] 03/18/2020 13:55:40
You're welcome

##### Weiyi 03/18/2020 13:51:55
I will try it, thank you very much!!!ðŸ˜†

##### David Mansolino [cyberbotics] 03/18/2020 13:51:32
juste make sure they have different names

##### Weiyi 03/18/2020 13:51:29
OK

##### David Mansolino [cyberbotics] 03/18/2020 13:51:21
As many as you want ðŸ˜‰

##### Weiyi 03/18/2020 13:51:10
By the way, can I add only one or several sensors to one foot?

##### David Mansolino [cyberbotics] 03/18/2020 13:50:17
OK, in that case you can add nodes directly in the `leftFootSlot` and `rightFootSlot` lots of the darwin-op robot.

##### Weiyi 03/18/2020 13:49:52
Because I want to use ZMP algorithm, I wish to get the force of from the ground


under his foot

##### David Mansolino [cyberbotics] 03/18/2020 13:48:53
Hi `@Weiyi`, Where do you want to add it in the darwin-op ?

##### Weiyi 03/18/2020 13:48:08
Hello, I wonder how to add a touch sensor to Darwin-op robotðŸ˜€

##### David Mansolino [cyberbotics] 03/18/2020 10:23:07
This is indeed necessary, thank you for the feedback!

##### JoanGerard 03/18/2020 10:10:47
I realized that I need to call "resetPhysics" method and the error does not happen

##### David Mansolino [cyberbotics] 03/18/2020 09:39:41
thank you.

##### JoanGerard 03/18/2020 09:39:30
ok

##### David Mansolino [cyberbotics] 03/18/2020 09:35:05
Ok, thank you for the test, it would be nice if you could share with us a simple simulation using the e-puck robot (simple differential-wheel robot available in Webots) and a controller reproducing the problem so that we can try to better identify and fix it.

##### JoanGerard 03/18/2020 09:33:06
this is my robot after 9 minutes of simulation ðŸ˜Ÿ
%figure
![Screen_Shot_2020-03-18_at_10.32.03_AM.png](https://cdn.discordapp.com/attachments/565154703139405824/689768333670744090/Screen_Shot_2020-03-18_at_10.32.03_AM.png)
%end


is there any online platform where I can try to reproduce the bug?


T

> Ok, maybe can you try with R2020a to make sure it is fixed there ?

`@David Mansolino` I tested with that version and the error is still there...

##### David Mansolino [cyberbotics] 03/18/2020 08:57:51
The first things to check is wheter you can connect to the robot using the e-puck default tool to the robot, such as this one: [https://www.gctronic.com/doc/index.php/E-Puck#PC\_interface](https://www.gctronic.com/doc/index.php/E-Puck#PC_interface)

##### seenu 03/18/2020 08:54:49
how to check that


no

##### David Mansolino [cyberbotics] 03/18/2020 08:51:33
Then it looks like Webots doesn't have right to use the COM port

##### seenu 03/18/2020 08:45:53
my robot is paired with my desktop bluetooth


yes I did

##### David Mansolino [cyberbotics] 03/18/2020 08:39:51
Did you already had a look at this doc?

[https://cyberbotics.com/doc/guide/epuck#bluetooth-setup](https://cyberbotics.com/doc/guide/epuck#bluetooth-setup)

##### seenu 03/18/2020 08:38:16
Bluetooth connection failed with this error

[void] Serial error on port "\\\\\\\\.\\\\COM10" : Cannot open serial port

##### David Mansolino [cyberbotics] 03/18/2020 08:36:07
can you try a clean ? and if it is not avalable, restart Webots ?

##### seenu 03/18/2020 08:33:17
and now in build menu all the options are disabled


I just build my project, It is showing make -j 6

make: Nothing to be done for 'all'.

##### David Mansolino [cyberbotics] 03/18/2020 08:22:39
This is probably because you are missing a `Makefile.e-puck` file in your controller folder. See for example:

[https://github.com/cyberbotics/webots/tree/master/projects/robots/gctronic/e-puck/controllers/e-puck\_cross-compilation](https://github.com/cyberbotics/webots/tree/master/projects/robots/gctronic/e-puck/controllers/e-puck_cross-compilation)

##### seenu 03/18/2020 08:19:57
may i know, Why the cross compile option is disabled in my project page?


ðŸ‘

##### David Mansolino [cyberbotics] 03/18/2020 08:12:42
Yes, it is recommended to save it in the `protos` folder of your current webots project.

##### seenu 03/18/2020 08:09:22
Should we save the modified proto file in separate location?

##### David Mansolino [cyberbotics] 03/18/2020 07:59:45
> But I need to control via bluetoothðŸ˜‡

`@seenu` In that case you may change this line in your Webots installation folder:

[https://github.com/cyberbotics/webots/blob/master/projects/robots/gctronic/e-puck/protos/E-puck.proto#L1181](https://github.com/cyberbotics/webots/blob/master/projects/robots/gctronic/e-puck/protos/E-puck.proto#L1181)

##### seenu 03/18/2020 07:59:27
okay

##### David Mansolino [cyberbotics] 03/18/2020 07:59:00
I just checked and this seems to be the default for the e-puck2

##### seenu 03/18/2020 07:58:44
But I need to control via bluetoothðŸ˜‡

##### David Mansolino [cyberbotics] 03/18/2020 07:57:09
Oh non sorry, I am wrong, there is also a wifi version: [https://github.com/cyberbotics/webots/tree/master/projects/robots/gctronic/e-puck/plugins/remote\_controls/e-puck\_wifi](https://github.com/cyberbotics/webots/tree/master/projects/robots/gctronic/e-puck/plugins/remote_controls/e-puck_wifi)

##### seenu 03/18/2020 07:56:40
yes

##### David Mansolino [cyberbotics] 03/18/2020 07:56:17
`@seenu` for now in Webots the remote-control of the e-puck2 is done trhought bluetooth only yes

##### seenu 03/18/2020 07:56:03
Thank you Mr.David Mansolino


does the epuck2 robot supports only Bluetooth v2.0 only? Not the upgraded versions?

##### David Mansolino [cyberbotics] 03/18/2020 07:54:42
You might find an odometry library for the e-puck here: [https://github.com/cyberbotics/webots/tree/master/projects/samples/curriculum/lib](https://github.com/cyberbotics/webots/tree/master/projects/samples/curriculum/lib)

##### seenu 03/18/2020 07:52:35
What is the name of the header file for epuck robot odometry

##### David Mansolino [cyberbotics] 03/17/2020 16:31:17
either oin the doc: [https://cyberbotics.com/doc/guide/ure](https://cyberbotics.com/doc/guide/ure)

either in the robot window: [https://www.cyberbotics.com/doc/guide/controller-plugin#robot-window](https://www.cyberbotics.com/doc/guide/controller-plugin#robot-window)

##### Simon Steinmann [Moderator] 03/17/2020 16:30:18
how can I see all the nodes of a robot? Like all the actuators, joints, sensors etc?


thx!

##### David Mansolino [cyberbotics] 03/17/2020 16:17:41
About the position and orientation, you may also be interested by the supervisor API to get position and orientation of any node: [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_get\_position](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_get_position)

##### Simon Steinmann [Moderator] 03/17/2020 16:17:32
ah okay, thank you. I will give it a go ðŸ™‚

##### David Mansolino [cyberbotics] 03/17/2020 16:16:56
> Another thing: creating a new project with the wizard and adding a rectangle arena, the 'up' coordinate is 'y' instead of 'z'. Is there a reason for this?

`@Simon Steinmann` Yes, this is the Webots standard, which comes from the VRML standard

##### Simon Steinmann [Moderator] 03/17/2020 16:16:18
Another thing: creating a new project with the wizard and adding a rectangle arena, the 'up' coordinate is 'y' instead of 'z'. Is there a reason for this?

##### David Mansolino [cyberbotics] 03/17/2020 16:16:18
The usual way is to use position sensors: [https://www.cyberbotics.com/doc/reference/positionsensor](https://www.cyberbotics.com/doc/reference/positionsensor)

Using these sensors you can get the angle/position of the joint

##### Simon Steinmann [Moderator] 03/17/2020 16:15:16
that or in relation to the base joint. But in general I would like to have access to my joints. Adding GPS sensors in order to read position seems weird. And it doesnt provide orientation

##### David Mansolino [cyberbotics] 03/17/2020 16:13:30
GPS should return you the global X-Y-Z position, is this what you want ?

##### Simon Steinmann [Moderator] 03/17/2020 16:12:18
I will try the debug version tomorrow. In the meantime a noob question: How can I get the position and orientation of my robot's joints? I have tried for an hour, reading the documentation etc. but I can't seem to figure it out. I added a GPS node to the tool slot of my robotic arm, but that just has the position in relation to its own coordinate system, which is useless.

##### David Mansolino [cyberbotics] 03/17/2020 16:00:02
Of course, you can find it here: [https://github.com/cyberbotics/webots/releases/tag/R2020a](https://github.com/cyberbotics/webots/releases/tag/R2020a)

##### JoanGerard 03/17/2020 15:59:28
Could you please provide me the link to download the R2020a version? I cannot find it...

##### David Mansolino [cyberbotics] 03/17/2020 15:49:49
Thank you

##### JoanGerard 03/17/2020 15:49:43
Ok, I will

##### David Mansolino [cyberbotics] 03/17/2020 15:49:17
Ok, maybe can you try with R2020a to make sure it is fixed there ?

##### JoanGerard 03/17/2020 15:48:53
Unfortunately I do not have a robot distributed within Webots where you can reproduce the error


I think they corrected it for the R2020a release


the error was there for R2019b

##### David Mansolino [cyberbotics] 03/17/2020 15:46:58
With R2019b ?

##### JoanGerard 03/17/2020 15:46:47
I did not try it with R2020a actually ...

##### David Mansolino [cyberbotics] 03/17/2020 15:45:55
Oups, do you have a simple procedure to reproduce the issue with a robot distributed within Webots?

Was it working fin R2020a ?

##### JoanGerard 03/17/2020 15:44:12
I am using the custom robot which has two wheels. I translate it and rotate it every 100 steps.


I was experimenting this issue again with the latest version of Webots (R2020a revision 1). [https://github.com/cyberbotics/webots/issues/1118](https://github.com/cyberbotics/webots/issues/1118)

##### David Mansolino [cyberbotics] 03/17/2020 14:55:15
You're welcome

##### User21 03/17/2020 14:55:08
thanks

##### David Mansolino [cyberbotics] 03/17/2020 14:54:51
Yes you can find some sample simulations here: [http://wiki.ros.org/webots\_ros/Tutorials/Sample%20Simulations](http://wiki.ros.org/webots_ros/Tutorials/Sample%20Simulations)

The code is available here:

[https://github.com/cyberbotics/webots\_ros](https://github.com/cyberbotics/webots_ros)

##### User21 03/17/2020 14:54:03
ROS1 melodic

##### David Mansolino [cyberbotics] 03/17/2020 14:53:55
ROS1 or ROS2 ?

##### User21 03/17/2020 14:52:55
Hi, is there an example for using ros service with webots?

##### David Mansolino [cyberbotics] 03/17/2020 14:47:15
you can use one of these:

  - webots\_2020a-rev2\_amd64\_debug.deb

  - webots-R2020a-rev2-x86-64\_debug.tar.bz2


`@Simon Steinmann` I just finished to upload debug version of Webots in this nightly build: [https://github.com/cyberbotics/webots/releases/tag/nightly\_16\_3\_2020](https://github.com/cyberbotics/webots/releases/tag/nightly_16_3_2020)

##### Olivier Michel [cyberbotics] 03/17/2020 14:33:02
But it is almost never needed.


But you can add custom cleanup in the  `__del__` method of the object in Python.


No, it's not needed. It's done automatically when the object is destroyed.

##### tilly 03/17/2020 14:28:56
thanks, do i need the clean up method in python?

##### Olivier Michel [cyberbotics] 03/17/2020 14:26:22
And your `Robot` node (in the Webots world file) should have the `supervisor` field set to `TRUE`.


Because your `robot` variable should be an instance of a `Supervisor`, not a `Robot`

##### tilly 03/17/2020 14:24:42

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/689479329150795791/unknown.png)
%end


ok thanks

##### Olivier Michel [cyberbotics] 03/17/2020 14:23:21
Yes, this is because it's a non-static member method, therefore, you shouldn't call it with the `Supervisor.` prefix, but with your robot instance as a prefix, e.g., `robot.simulationQuit(0)`

##### tilly 03/17/2020 14:21:01

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/689478404621467720/unknown.png)
%end

##### Olivier Michel [cyberbotics] 03/17/2020 14:20:40
Can you copy this error here?

##### tilly 03/17/2020 14:20:26
runtime error

##### Olivier Michel [cyberbotics] 03/17/2020 14:20:20
Or do you get a runtime error?


What do you mean with "doesnt work"? It doesn't quit Webots?

##### tilly 03/17/2020 14:17:44
when i call Supervisor.simulationQuit(status) in python what should status be EXIT\_SUCCESS, "EXIT\_SUCCESS", 0, 1 doesnt work

##### Olivier Michel [cyberbotics] 03/17/2020 14:02:14
You are welcome.

##### tilly 03/17/2020 14:01:50
Thanks again

##### Olivier Michel [cyberbotics] 03/17/2020 14:01:22
Yes, simply have a supervisor that will call `wb_supervisor_simulation_quit()` after the fixed time you want.

##### tilly 03/17/2020 14:00:42
Much Thanks. Is there a way to let one run be a fixed time

##### Olivier Michel [cyberbotics] 03/17/2020 14:00:19
And possibly `--minimize` and `--stdout` and `--stderr`.


For launching series of runs, I would recommend you to start Webots with the `--batch` option, see [https://cyberbotics.com/doc/guide/starting-webots](https://cyberbotics.com/doc/guide/starting-webots)


Then, you should create a single floor with a texture that matches your need. Such a superposition of floor will likely give you strange results...

##### tilly 03/17/2020 13:58:27
yes they are superposed (lay like 0.0001 over the first floor)


for the ground sensors


for different floor colors

##### Olivier Michel [cyberbotics] 03/17/2020 13:57:24
Why do you need 4 floors? Are they superposed?


See hints here to improve your physics simulation to get rid of these warnings: [https://cyberbotics.com/doc/guide/modeling](https://cyberbotics.com/doc/guide/modeling)

##### tilly 03/17/2020 13:56:16
where can i do a simplification (changing timesteps didnt fix it)


i have the basic arena + some thymios + 4 floors i need for different ground conditions

##### Olivier Michel [cyberbotics] 03/17/2020 13:54:21
These warnings are caused by the complexity of your simulation model. You may fix them by decreasing the WorldInfo.basicTimeStep or by simplifying your model.

##### tilly 03/17/2020 13:53:00
(for a scale)


500 to 1000 runs


and the next question is it possible to do like multiple independent runs without graphic interface with mac


??


is it possible to surpress these warnings
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/689470233345261570/unknown.png)
%end

##### Simon Steinmann [Moderator] 03/17/2020 13:35:04
okay

##### David Mansolino [cyberbotics] 03/17/2020 13:28:49
> what would running a debug version entail? Is it just a setting or do I have to install another version of webots?

`@Simon Steinmann` I can send you a new Webots package compiled in debug mode if you want.

##### Simon Steinmann [Moderator] 03/17/2020 13:28:10
what would running a debug version entail? Is it just a setting or do I have to install another version of webots?


ur10e

##### David Mansolino [cyberbotics] 03/17/2020 13:18:46
Would you agree to try with a debug version so that we can get a stack ?


What kind of robot are you using ?

##### Simon Steinmann [Moderator] 03/17/2020 13:07:05
and I import a class from a different file, which does inverse kinematic calculations with ikpy. I'll try running it as a extern controller


happens frequently now. I do have a subprocess in the controller, started via threading module

##### Hue [cyberbotics] 03/17/2020 13:03:22
Unfortunately there is not enough details to tell what could be the problem, can you reproduce the bug ?

##### Simon Steinmann [Moderator] 03/17/2020 12:59:07
<@&568329906048598039> my webots has crashed several times today (started via terminal).
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/689457792842858597/unknown.png)
%end

##### Gautier A. 03/17/2020 10:23:46
Ok, thanks, I'm gonna take a look ! ðŸ˜

##### David Mansolino [cyberbotics] 03/17/2020 10:23:10
Yes this is possible thanks to the `wb_supervisor_field_get_count`([https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_field\_get\_count](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_field_get_count)) function

##### Gautier A. 03/17/2020 10:21:01
I'm thinking about retrieving the number of children of a certain node


Hello, is it possible to retrieve the number of entry in a Field ?

##### nelsondmmg 03/17/2020 10:00:25
Ah, thanks. Sorry for the confusion ðŸ˜„

##### Stefania Pedrazzi [cyberbotics] 03/17/2020 09:59:36
If you want that the message is sent to any Receiver device you can set the Emitter channel to `-1` (see the channel field description in Emitter documentation [https://www.cyberbotics.com/doc/reference/emitter](https://www.cyberbotics.com/doc/reference/emitter))


`@nelsondmmg` the Emitter message is sent to a specific channel and all the Receiver devices listening on the same channel will receive it. So you don't have to specify any address.

##### nelsondmmg 03/17/2020 09:56:40
Hi, I'm reading the Emitter API documentation and I did not found how to specify the address of the message. I would like to send it to receiver in another node (in this case emulation a vehicle 2 vehicle communication). There is this phrase: **The wb\_emitter\_send function adds to the emitter's queue a packet of size bytes located at the address indicated by dataThe wb\_emitter\_send function adds to the emitter's queue a packet of size bytes located at the address indicated by data**, but I don't know how to create the packet adding the message + address. 



As a following question: is there a way to send a broadcast message? Thanks

##### David Mansolino [cyberbotics] 03/17/2020 07:22:14
You're welcome

##### taeyoung 03/17/2020 07:16:23
Thank you, I will check it.

##### David Mansolino [cyberbotics] 03/17/2020 06:55:35
`@taeyoung`, yes,  you can use the overlay of Display node, like in this example: 

[https://cyberbotics.com/doc/guide/samples-devices#display-wbt](https://cyberbotics.com/doc/guide/samples-devices#display-wbt)

##### taeyoung 03/17/2020 02:34:28
I want to display an image at the corner of 3D view, same position regardless of viewpoint, like a text displayed by 'set\_label'.

Is it possible?

##### Simon Steinmann [Moderator] 03/16/2020 16:55:14
thank you, I'll have a look ðŸ™‚

##### Stefania Pedrazzi [cyberbotics] 03/16/2020 16:53:41
unfortunately there is no sample simulation using AI or similar in Python. The `advanced_genetic_algorithm` simulation (you can search for it in `File > Open Sample World...`)  uses a C supervisor controller but it could help you structuring your Python controller.

##### Simon Steinmann [Moderator] 03/16/2020 16:45:29
Thank you, the supervisor thing worked :). Can you recommend a good starting point for the OpenAI implementation? Doesnt have to be perfect or 100% working. Some python controller examples would already help a lot.

##### Stefania Pedrazzi [cyberbotics] 03/16/2020 16:32:30
About OpenAI gym there is currently no official implementation for Webots. But it is possible to write a custom interface for it.

We know that some users are implementing an interface for OpenAI but it is not public yet


`@Simon Steinmann` Supervisor class inherits from Robot class, so you can simply write

`robot = Supervisor()`

##### Simon Steinmann [Moderator] 03/16/2020 16:26:02
and on a different note: why does this throw the error: ' Only one instance of the Robot class should be created' ... How can I use the supervisor (to pause and reset the simulation).  The code snippet is from my controller
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/689147478431367237/unknown.png)
%end


Hi, is there a implementation of OpenAI gym with webots?

##### David Mansolino [cyberbotics] 03/16/2020 15:13:04
You're welcome

##### JC 03/16/2020 15:12:59
oh i see, thank you for the help!

##### David Mansolino [cyberbotics] 03/16/2020 15:12:27
You first have to get the node itself, e.g.:

```Python
node = supervisor.getSelf()
position = node.getPosition()
```

##### JC 03/16/2020 15:07:04
im in python and i cant seem to get supervisor.getPosition() to work, im not sure what im missing but i feel like its something

##### David Mansolino [cyberbotics] 03/16/2020 15:05:10
Yes, you can either use a GPS either use the Supervisor API.

##### JC 03/16/2020 15:04:42
Is there any way to get the translation of a robot through the controller?

##### David Mansolino [cyberbotics] 03/16/2020 11:43:42
Yes, this is on our roadmap, we plan to create a platform for the community to share their models. However, in the meantime, we highly encourage users to create a pull-request to include their model directly in the main repository: [https://github.com/cyberbotics/webots](https://github.com/cyberbotics/webots)

If you create a model of the kinova JACO2 robotic arm we will be more than happy to assist you for integrating it in Webots.

##### Simon Steinmann [Moderator] 03/16/2020 11:38:56
Have you considered an unofficial supported robot list, where users can submit their files? So not multiple people have to do the same work over and over again. For example, If I were to make the kinova JACO2 robotic arm run in Webots, it would be helpful for others, to easily be able to find it and use it as a starting point for their work.

##### David Mansolino [cyberbotics] 03/16/2020 10:46:04
But we have the universal robot arms: [https://cyberbotics.com/doc/guide/ure](https://cyberbotics.com/doc/guide/ure)


It is indeed a good candidate, unforunately we only have limited time and much to do, so its not on our short term plan.

##### Simon Steinmann [Moderator] 03/16/2020 10:44:54
Do you have current plans of adding Kinova robotic arms? It is very popular in research and teaching. Adding the JACO2 and JACO3 arms would make webots a good alternative to Gazbeo and ROS


thank you for the infos ðŸ™‚

##### David Mansolino [cyberbotics] 03/16/2020 10:41:10
You might also use the URDF to Webots to import new model: [https://github.com/cyberbotics/urdf2webots](https://github.com/cyberbotics/urdf2webots)


They indeed both use ODE, howver, Webots uses a customized version of ODE with multi-thread support.

About the models, it is true that Webots use more optmized model (both on the rendering and physical side).

About the robot models, here is a list of available model by default in Webots (but you might find some other maintained by the community on internet): [https://cyberbotics.com/doc/guide/robots](https://cyberbotics.com/doc/guide/robots)

##### Simon Steinmann [Moderator] 03/16/2020 10:35:04
So the main difference in performance between Webots and Gazebo (since both use ODE) stems from the model refinement you guys do? Like replacing meshes with simple geometry like cylinders and spheres where applicable? Also, is there a list of already implemented and future implemented robots. For example KUKA or Kinova robotic arms would be very interesting.

##### David Mansolino [cyberbotics] 03/16/2020 09:24:49
It is indeed only for rendering, for physics, you might use the multi-CPU feature of Webots (disable by default): see 'optimalThreadCount' field documentation: [https://www.cyberbotics.com/doc/reference/worldinfo#worldinfo](https://www.cyberbotics.com/doc/reference/worldinfo#worldinfo)

##### Simon Steinmann [Moderator] 03/16/2020 08:37:21
`@David Mansolino` Hi, thx for the reply. Does Webots use GPU for physics calculation, or just for rendering? I tried Webots a little 6 month ago and it definitely looks better visually, but my main concern is the physics simulation speed.

##### David Mansolino [cyberbotics] 03/16/2020 06:48:04
Hi `@Simon Steinmann`, generally speaking Webots is faster than Gazebo, this is mainly due to its native intensive usage of the GPU. Many simulations run at a speed way higher than 1-2x real time. But the best is to make yourself your own idea by trying it, when you install Webots you get plenty of sample simulations that will allow you to quickly check the simulation speed of Webots on your computer.

##### Simon Steinmann [Moderator] 03/15/2020 19:08:25
Hi, I have a general question about Webots, compared to Gazebo or other simulators. I'm looking for the best Simulator to use for training Reinforcement learning algorithms. One major deciding factor is the simulation speed. With gazebo, it is hard for me to get over 1-2x real time factor. It simply doesnt scale with more cores, or uses any GPU acceleration for physics calculations. Can anyone give me some info, how Webots performs and scales?

##### User21 03/13/2020 15:59:09
Ah okay, thanks so much!

##### David Mansolino [cyberbotics] 03/13/2020 15:57:22
You can use the 'controllerArgs' field to define the position, this controllerArgs fields defines the arguments with which the controller is started

##### User21 03/13/2020 15:43:49
Can a controller have more then one executeable Scripts? I want to use multiple Pioneers which all have the same controll functions like Drive form Point A to Point B. But the should go to diffren positions so i dont want to make a folder for each robot  which contains the same besides the one execute script.

##### David Mansolino [cyberbotics] 03/13/2020 15:43:21
You're welcome

##### User21 03/13/2020 15:33:07
okay i will try thanks!

##### David Mansolino [cyberbotics] 03/13/2020 15:32:23
Yes of course, you can get the root node of the world using the wb\_supervisor\_node\_get\_root ([https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_get\_root](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_get_root)) function. This root node is a hidden 'Group' node, you can therefore get its 'children' field and parse all the nodes inside.

##### User21 03/13/2020 15:31:40
*manually


My goal is to set the name from the robot in code and call the set name without naming them manual


Okay, if i have two robots and i want to get the translation from the second one at the first one i can call the node by using getFromDef.

Is ther another posibility to get the node?

##### David Mansolino [cyberbotics] 03/13/2020 15:26:49
Hi `@User21`, not, unfortunately it is not possible to modify it using the supervisor API

##### User21 03/13/2020 15:25:13
Hi, is it possible to define the DEF from Code?

##### David Mansolino [cyberbotics] 03/13/2020 12:43:29
Yes, you have to set the boundign objects and physics fields

##### Deep 03/13/2020 12:42:06
`@David Mansolino` If I get this straight, when importing a 3D object I have to set its collision detection parameters which are required for any physical force to be applicable on it?

##### David Mansolino [cyberbotics] 03/13/2020 11:04:25
Alternatively you can "un-prototize" you node by re-clicking on the node in the scene-tree and selecting 'Convert to Base Node(s)'.


Yes you should be able to add it directly here: [https://github.com/cyberbotics/webots/blob/master/projects/robots/softbank/nao/protos/Nao.proto#L797](https://github.com/cyberbotics/webots/blob/master/projects/robots/softbank/nao/protos/Nao.proto#L797)

##### LaCava 03/13/2020 11:03:08
^ that worked, it seems!


Ahh yup, found it in the full-fat NAO PROTO â€” can I just manually add the recognition node of the field isnâ€™t listed?


Yup - itâ€™s the NAO. May just be misunderstand how to do this, sorry about that. I appreciate the help.

##### David Mansolino [cyberbotics] 03/13/2020 10:54:25
Ok, in that case the camera is probably defined in the PROTO, are you using a PROTO distributed within Webots?

##### LaCava 03/13/2020 10:51:30
Not sure: the PROTO itself has fields like the camera width and height. I have to access it in the controller through the getCamera functions, but there are no fields corresponding to it anywhere else.

##### David Mansolino [cyberbotics] 03/13/2020 10:49:23
Hi `@LaCava`, so where is the camera defined? In the open fields of the PROTO?

##### LaCava 03/13/2020 10:48:33
Is there any way to add a recognition node to a robot that doesnâ€™t have it by default? I tried adding to to the PROTO in the world file, but the camera itself isnâ€™t actually specified in the PROTO so it wonâ€™t recognize it.

##### David Mansolino [cyberbotics] 03/12/2020 16:34:10
It is not possible out of the box to ignore gravity for one specific object, but you might add a force opposed to the gravity to cancel it using the `wb_supervisor_node_add_force` function: [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_add\_force](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_add_force)


You're welcome

##### Deep 03/12/2020 15:23:19
(If I may ask)


`@David Mansolino` Thanks david! And how can I make it ignore gravity but still respond to other forces?

##### David Mansolino [cyberbotics] 03/12/2020 15:15:18
Hi `@Deep`, no such human face are available out of the box in Webots. However you can create your own model by importing any human face model you can find on internet in VRML format using in IndexedFaceSet (see for example: [https://cyberbotics.com/doc/guide/samples-geometries#high\_resolution\_indexedfaceset-wbt](https://cyberbotics.com/doc/guide/samples-geometries#high_resolution_indexedfaceset-wbt))

##### Deep 03/12/2020 15:09:42
Dear person who is reading this:

Hey, I want to add a flying human face with approximately realistic properties and texture. Is there a model such as this for me to download?

I noticed the human being in the software doesn't have face.



I just need a static flying face.

Thanks a bunch.

##### David Mansolino [cyberbotics] 03/12/2020 14:55:39
You're welcome

##### coderrr 03/12/2020 14:45:30
Thank you so much `@David Mansolino` ðŸ‘

##### David Mansolino [cyberbotics] 03/12/2020 14:31:24
You can, but you can also probably find some libraries that can handle such transformations out of the box.

##### Axel M 03/12/2020 14:30:37
Would you recommend usingwebots.maths for this kind of operations (even if the API isn't public) ?

##### David Mansolino [cyberbotics] 03/12/2020 14:28:15
That's indeed the only solution.

##### Axel M 03/12/2020 14:26:57
I want to get velocity of a Solid given it's own frame, is the only solution to use  `wb_supervisor_node_get_orientation`, transpose it, and multiply the global velocity vector with it (ugh, not easy) ?

##### David Mansolino [cyberbotics] 03/12/2020 14:25:46
Yes that's it, it is global velocity.

##### Axel M 03/12/2020 14:24:58
(My experiments shows me that get\_velocity seems to be also in the global frame)

##### David Mansolino [cyberbotics] 03/12/2020 14:24:37
Hi `@Axel M`, let me check.

##### Axel M 03/12/2020 14:22:48
The doc specifies that `wb_supervisor_node_get_position` is relative to the global (world) frame


Hi, in which frame does `wb_supervisor_node_get_velocity` express it's velocities ? In world frame or local node frame ?

##### Stefania Pedrazzi [cyberbotics] 03/12/2020 10:29:38
`@nelsondmmg` you cannot control directly a device from another robot controller.

But instead you can let the two robot controllers communicate (for example using the Emitter/Receiver nodes). You should modify the pedestrian controller so that it processes your request to get the velocity and sends it back to your controller.


`@yash` for a simple example you can look at the Camera device sample simulation: [https://www.cyberbotics.com/doc/guide/samples-devices#camera-wbt](https://www.cyberbotics.com/doc/guide/samples-devices#camera-wbt)

The method you use depends on what you want to achieve. You can use common image processing based on the Camera image.

##### nelsondmmg 03/12/2020 10:21:47
How can I reach a GPS node and use getSpeed from another controller? I'm trying to read the velocity of a pedestrian, which uses the controller implemented in the pedestrian.wbt (it is translated, it does not move). Thanks!

##### yash 03/12/2020 09:39:12
I want to detect a red solid object using camera ....Can anyone please help regarding it? Do we have to use the recognition functions for this purpose ?

##### David Mansolino [cyberbotics] 03/12/2020 08:57:51
You're welcome ðŸ™‚

##### Laojiang 03/12/2020 08:57:37
Oh my god! Thank you very very much!!! I can do it now!

##### David Mansolino [cyberbotics] 03/12/2020 08:55:28
The time will increase only when you start the controller and the controller calls the 'step' function.

##### Laojiang 03/12/2020 08:54:39
yes, you are right. After I revert the simulation, the warning is gone. However, the time still doesn't increase. And robots doesn't move, too.

##### David Mansolino [cyberbotics] 03/12/2020 08:49:40
Unfortunately sicne webots is not yet able to detect crash/unexpected exit of the controller yet, the workaround is to manually revert the simulation before you start the controller from PyCharm.

##### Laojiang 03/12/2020 08:44:36
So what can I do to solve it?


yes yes , I agree with you!

##### David Mansolino [cyberbotics] 03/12/2020 08:41:37
It seems that somehow you controller exists sometime before the first step in a unusual way and therefore Webots is not aware that the controller exited. This is why it is not able to 'release' the controller and therefore displays this warning.

Woudl this make sense in your case ?

##### Laojiang 03/12/2020 08:40:03
Excuse me for my english grammar mistakes


I just restart webots and pycharm and when the time increasing first time. However, after the first start, the time doesn't change again. finally, after some trying , the warning here again.
%figure
![QQ202001.png](https://cdn.discordapp.com/attachments/565154703139405824/687580339366920205/QQ202001.png)
%end

##### David Mansolino [cyberbotics] 03/12/2020 08:27:22
Can you try to revert the simulation and then start the controller again from PyCharm ?

##### Laojiang 03/12/2020 08:26:27
It can work normally just when I use webots itself.

##### David Mansolino [cyberbotics] 03/12/2020 08:24:19
Ok, but from the screenshot it seems it worked for the first time but not for the next ones, can you confirm?

##### Laojiang 03/12/2020 08:23:49
Is there no place for me to configure it?



%figure
![QQ20200312162020.png](https://cdn.discordapp.com/attachments/565154703139405824/687576505068290068/QQ20200312162020.png)
%end


no, just one instance

##### David Mansolino [cyberbotics] 03/12/2020 08:20:22
ok, do you have more than one instance of Webots open at the same time?

##### Laojiang 03/12/2020 08:19:53
No, the time doesn't change.

##### David Mansolino [cyberbotics] 03/12/2020 08:17:28
If you start the simulation, is the time increasing?


This Warning message seems to indicate that none of your robot controllers are using the 'extern' controller.

##### Laojiang 03/12/2020 08:16:19
Hello, I' m trying to use pycharm to control my webots. Hewever, after I what the document suggest, the webots has a warning. How can I solve it?ðŸ˜­
%figure
![QQ.png](https://cdn.discordapp.com/attachments/565154703139405824/687574683863875594/QQ.png)
%end

##### David Mansolino [cyberbotics] 03/12/2020 07:01:27
`@taeyoung`, in that case you should probably ignore the warning.


`@coderrr`, one simple solution is to check the bounding object of the robot in its PROTO, for example for the e-puck robot the radius of the cylinder is 0.037 meters: [https://github.com/cyberbotics/webots/blob/master/projects/robots/gctronic/e-puck/protos/E-puck.proto#L1138](https://github.com/cyberbotics/webots/blob/master/projects/robots/gctronic/e-puck/protos/E-puck.proto#L1138)

##### coderrr 03/12/2020 06:48:37
Hello, I was writing the supervisor code for detecting collisions. In the code I need to specify the ROBOT\_RADIUS. How to find the radius of my robot? I am using E-puck, Khepera and Khepera-II.

##### taeyoung 03/12/2020 03:30:48
with 0 0 1, It is too bright to see the ball well


attenuation 0.1 0.3 0.1
%figure
![1.png](https://cdn.discordapp.com/attachments/565154703139405824/687502472855420968/1.png)
%end


attenuation 0 0 1
%figure
![2.png](https://cdn.discordapp.com/attachments/565154703139405824/687502416429449216/2.png)
%end


Actually, I'm using this in a different way... pointlight is in the ball

##### Olivier Michel [cyberbotics] 03/11/2020 13:04:29
Why do you need to set a value that causes the warning to fire up?

##### taeyoung 03/11/2020 12:26:20
When I use Pointlight with a vector of 'attenuation' which does not meet the condition(Only the third component of the 'attenuation' field should be greater than 0), it shows warning. Is there any way to do this without warning? or Can I disable the warning?

##### David Mansolino [cyberbotics] 03/11/2020 11:48:24
You're welcome

##### yash 03/11/2020 11:48:12
oh okay thanks `@David Mansolino`  will check that out

##### David Mansolino [cyberbotics] 03/11/2020 11:42:10
Hi `@yash` you should use a camera node (which resolution can be set to 1x1 pixel)

##### yash 03/11/2020 11:41:38
I want to detect a RGB colour solid object , which sensor should be used for this purpose.??      In case of light sensor ,its mentioned that it does not account for object colours.

##### taeyoung 03/11/2020 10:22:12
Thank you.


'dpkg --remove webots', this one  worked

##### Stefania Pedrazzi [cyberbotics] 03/11/2020 10:18:50
[https://linuxhint.com/uninstall-debian-packages/](https://linuxhint.com/uninstall-debian-packages/)


for example running

```apt-get clean && apt-get autoremove
sudo apt-get -f install
dpkg --configure -a
```


but usually you first have to fix the broken package before being able to uninstall it


is it the same with  `dpkg --remove webots`?

##### taeyoung 03/11/2020 10:16:32
When i did that, it shows 'Unmet dependencies. Try "apt-get -f install' with no packages (or specify a solution)."

##### Stefania Pedrazzi [cyberbotics] 03/11/2020 10:14:51
did you try to run `sudo apt-get remove webots` in a terminal to uninstall Webots?

##### taeyoung 03/11/2020 10:14:48
Ubuntu 16.04, and  using debian

##### Stefania Pedrazzi [cyberbotics] 03/11/2020 10:13:30
`@taeyoung` did you installed Webots from the snap store or the debian package?

##### taeyoung 03/11/2020 10:10:58
When I click Remove or Launch using the Ubuntu Software nothing happens. Even to open the simulator, I just use the terminal with the command 'webots'

##### David Mansolino [cyberbotics] 03/11/2020 10:07:50
That's indeed probably enough, but what is the issue you get when uninstalling normally ?

##### taeyoung 03/11/2020 10:07:04
I'm trying to upgrade my webots in ubuntu 16.04. But removing using ubuntu software does not work. just deleting the webots folder in \usr\local is enough for a complete uninstall?

##### Olivier Michel [cyberbotics] 03/11/2020 08:52:13
It should fixed online now.

##### alsk 03/11/2020 08:47:43
Okay!

##### Olivier Michel [cyberbotics] 03/11/2020 08:46:49
Done here: [https://github.com/cyberbotics/webots/pull/1447](https://github.com/cyberbotics/webots/pull/1447)

##### alsk 03/11/2020 08:44:53
Oh, Thank you!:)

##### Olivier Michel [cyberbotics] 03/11/2020 08:44:17
Hi, that's an error in the documentation. We should remove the end of this sentence.

##### alsk 03/11/2020 08:41:49

%figure
![torque_control.PNG](https://cdn.discordapp.com/attachments/565154703139405824/687218716370272286/torque_control.PNG)
%end


Hello , I have a question about the Refence manual ðŸ™‚ Why should  the motor force(torque) switch off?

##### kimkim 03/10/2020 08:56:16
thank you. I will reinstall and will update if it works! ðŸ˜€

##### Stefania Pedrazzi [cyberbotics] 03/10/2020 08:25:46
it seems like you have some issues with the Python 3.7 installation. Maybe you should try to reinstall it


does this path exist?

##### kimkim 03/10/2020 08:21:34
I added this path. but same problem


DYLD\_LIBRARY\_PATH=/Library/Frameworks/Python.framework/Versions/3.7/Python

##### Stefania Pedrazzi [cyberbotics] 03/10/2020 08:20:38
This should not be needed. The error message says that `Library/Frameworks/Python.framework/Versions/3.7/Python` image is not found, not `_controller.so`.

##### kimkim 03/10/2020 08:18:07
PYTHONUNBUFFERED=1;DYLD\_LIBRARY\_PATH=/Applications/Webots.app/lib; DYLD\_LIBRARY\_PATH=/Applications/Webots.app/lib/controller/python37/\_controller.so


I ready add the path below with error message, but still same error occured.

##### Stefania Pedrazzi [cyberbotics] 03/10/2020 08:15:05
what do you mean? that the path doesn't exist?

##### kimkim 03/10/2020 08:13:55
you are right.. I already checked the pre - reported resources, but I could not find exact fit to me.

##### Stefania Pedrazzi [cyberbotics] 03/10/2020 08:11:15
i would suggest you first to check that all the reported resources exist and the paths are correct (for example the `Library/Frameworks/Python.framework/Versions/3.7/Python` and the Webots `_controller.so` path)

##### kimkim 03/10/2020 08:09:26

%figure
![Screenshot_2020-03-10_at_09.09.16.png](https://cdn.discordapp.com/attachments/565154703139405824/686848176569057330/Screenshot_2020-03-10_at_09.09.16.png)
%end


And My computer is mac.


the code is from tutorial 1 at Webot website.



%figure
![Screenshot_2020-03-10_at_09.08.28.png](https://cdn.discordapp.com/attachments/565154703139405824/686847982389428234/Screenshot_2020-03-10_at_09.08.28.png)
%end


Thank you. I tried with python37 version, but same problem..



%figure
![Screenshot_2020-03-10_at_09.07.47.png](https://cdn.discordapp.com/attachments/565154703139405824/686847817070673930/Screenshot_2020-03-10_at_09.07.47.png)
%end

##### Stefania Pedrazzi [cyberbotics] 03/10/2020 08:07:05
Hi `@kimkim` , just looking at the screenshot you posted there is a mismatch between the python versions (you run python 3.8  but you link to python 3.7).

Did you try to link to the `WEBOTS_HOME/lib/controller/python38` folder instead of `WEBOTS_HOME/lib/controller/python37` (and make sure that the folder exists)?

##### kimkim 03/10/2020 08:03:13
I have followed this guide, but error occured.


[https://cyberbotics.com/doc/guide/using-your-ide?tab-language=python](https://cyberbotics.com/doc/guide/using-your-ide?tab-language=python)



%figure
![Screenshot_2020-03-10_at_09.00.57.png](https://cdn.discordapp.com/attachments/565154703139405824/686846393888800788/Screenshot_2020-03-10_at_09.00.57.png)
%end


Hi, I have problem with using pycharm for webot controller these days, if some can give me help, it would be appreciated.

##### Deep 03/09/2020 11:12:15
Thanks olivers

##### Olivier Michel [cyberbotics] 03/09/2020 11:09:17
See [https://github.com/cyberbotics/naoqisim/blob/master/worlds/naoqisim.wbt#L44](https://github.com/cyberbotics/naoqisim/blob/master/worlds/naoqisim.wbt#L44)


`@Deep`: Webots simulation are 100% reproducible if the controller programs are synchronous and deterministic. In case of use with naoqi, the non-reproducibility comes likely from naoqi and also from the fact that the naoqisim controller may be asynchronous (if Nao.synchonization = FALSE). See explanation here: [https://cyberbotics.com/doc/reference/robot#field-summary](https://cyberbotics.com/doc/reference/robot#field-summary)

##### User21 03/09/2020 11:02:39
`@Stefania Pedrazzi` okay thank you

##### Deep 03/09/2020 11:02:15
`@Olivier Michel` I understand that, I just wondered if there are similar things such as that with other robots.



Anyway. I'd like to ask something else.

It seems like the simulation is not 100% the same every run.

There are different mechanical error each run. Is that intended?

Is running under "real time" mode would make it more consistent?

Any other tip?

Thanks

##### Stefania Pedrazzi [cyberbotics] 03/09/2020 11:00:49
Hi`@User21`, the controller programs are independent. You can use the Emitter/Receiver nodes to communicate between the Ur5e controller and the Pioneer controller.

##### User21 03/09/2020 10:58:42
Hi there,

im having 2 Robots. One Ur5e and a Pioneer 3Dx. The Pioneer should move to the Ur5e and wait till the Ur5e grabs an object and place it on the Pioneer. Can i access my Ur5e Controller from my Pioneer Controller to get Feedback if my Ur5e reached his goal?

##### Olivier Michel [cyberbotics] 03/09/2020 10:54:51
`@jinu061353`: check webots/projects/samples/devices/controllers/motor/motor.c for example.

##### Gautier A. 03/09/2020 10:50:37
`@Olivier Michel` Understood, thank you a lot !

##### Olivier Michel [cyberbotics] 03/09/2020 10:50:35
(default value)


Also, collision detection can be disabled from within the same robot by setting Robot.selfCollision to FALSE.


`@Gautier A.`: there no collision detection for consecutive joints.

##### Gautier A. 03/09/2020 10:49:08
but the self collision is enabled
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/686525978520059904/unknown.png)
%end



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/686525900304547860/unknown.png)
%end


For example, here's the bounding box of the Universal Robot URE5e, 2 joints collides at the beginning

##### jinu061353 03/09/2020 10:48:01

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/686525696616431646/unknown.png)
%end

##### Gautier A. 03/09/2020 10:46:12
Hey ! I'm currently working on the bounding box of a robot. How do you make sure that the robot doesn't collide with itself when the bounding box of the different joints are a little bit overlaped ?

##### jinu061353 03/09/2020 10:41:23
I want to measure the torque applied to the motor in this situation.
> **Attachment**: [bandicam\_2020-03-08\_13-11-55-245.mp4](https://cdn.discordapp.com/attachments/565154703139405824/686524026729791504/bandicam_2020-03-08_13-11-55-245.mp4)


Is there an example of motor control using torque?

##### yash 03/09/2020 10:12:47
`@Stefania Pedrazzi`  thanks for the information

##### Stefania Pedrazzi [cyberbotics] 03/09/2020 10:07:13
`@yash` yes, each Solid node in your model represents a real part of your robot, so it has a mass or density and specific physics properties that you should specify to build a realisitc model. Here is the documentation of the Physics nodes: [https://cyberbotics.com/doc/reference/physics#how-to-use-physics-nodes](https://cyberbotics.com/doc/reference/physics#how-to-use-physics-nodes). 

If you don't need to specify the physics properties of a Solid node, then it could be that you don't need to use a Solid node, but maybe it could be replaced by a Group or Transform node.

##### yash 03/09/2020 10:00:54
as you can see the physics mode enabled under the main robot node ....so should I just specify the parameters in that or also to the physics node under solid nodes present in its children
%figure
![Capture.PNG](https://cdn.discordapp.com/attachments/565154703139405824/686513841403854917/Capture.PNG)
%end


just provide the parameters to the main robot node


My robot consists of different solid nodes.......therefore after enabling the physics mode should have to provide the parameters such as mass,density etc of all the solid nodes or

##### Stefania Pedrazzi [cyberbotics] 03/09/2020 08:57:48
`@soheil` good to know! I will check the unit vector issue and improve the documentation if needed.

Maybe you could try to reset the whole simulation after many robot moves ([https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_simulation\_reset\_physics](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_simulation_reset_physics)).

##### Olivier Michel [cyberbotics] 03/09/2020 07:48:45
`@Deep`: your question seems to be specific to naoqi and not to Webots. I am sorry I won't be able to help you. You should maybe ask to naoqi experts instead, maybe SoftBank robotics support?

##### soheil 03/09/2020 07:21:11
`@Stefania Pedrazzi` Firstly Thanks for your answer. I found out that was because the vector (x, y, z) was not unit length. That should not be forgotten. And I do reset the node physics. But this problem will happen in a long run(for example 1000 times of changing the rotation)  despite it is really less than the last case. How do you think I can handle it?

##### Stefania Pedrazzi [cyberbotics] 03/09/2020 07:09:16
`@Soheil` how do you change the rotation of the robot? Usually when changing the position or rotation of a robot from the controller program it is recommended to reset the physics to avoid this kind of issues (see [https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_reset\_physics](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_reset_physics))


`@Shadow` could you please write a bug report in GitHub and provide a sample world where you can reproduce this crash? [https://github.com/cyberbotics/webots/issues/new/choose](https://github.com/cyberbotics/webots/issues/new/choose) I checked a couple of worlds on Linux with the latest Webots version but everything works fine for me

##### Shadow 03/08/2020 20:38:25
When ever I open the velocity tab in the hierarchy window of a solid node with no physics node (NULL), webots crashes.

##### Soheil 03/08/2020 15:09:40
I have a humanoid robot which is something like a modified version of robotis op3. When I change its rotation, the robot surprisingly happens to face ridiculous problems. For example, its joints start to take apart or merge into each other. Does anyone has any idea about this?

##### Deep 03/08/2020 13:45:12
Hey guys. I compiled a control for nao with naoqi enabled thanks to the help of one of the people here, and it connects to the required software as it should.



I am now facing a small need. I am trying to a send a tiny object recognition database to the virtual robot(Through naoqi). It seems that when I try to do so I'm getting an error that perhaps there is no memory left on the robot. And the connection with the robot is closed. I was wondering if anyone may have a tip as to how I could solve this issue.

##### ptrepag 03/06/2020 23:43:52
`@Olivier Michel` thank you very much for your help.

##### Olivier Michel [cyberbotics] 03/06/2020 16:45:30
You are welcome.

##### Lussfer 03/06/2020 16:45:07
i will check it out, thank you

##### Olivier Michel [cyberbotics] 03/06/2020 16:44:06
You can download it from here: [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)


I believe you should use the latest nightly build of Webots as we recently fixed a bug affecting some ROS versions. See [https://github.com/cyberbotics/webots/pull/1426](https://github.com/cyberbotics/webots/pull/1426) for details.

##### Lussfer 03/06/2020 16:42:19
got "Python 2.7.17" as a result

##### Olivier Michel [cyberbotics] 03/06/2020 16:40:10
From the same Terminal in which you started Webots, can you type "python -V -V" to check it?

##### Lussfer 03/06/2020 16:39:28
working with ros melodic


linux 18.4

##### Olivier Michel [cyberbotics] 03/06/2020 16:39:12
Linux?


On which operating system are you?

##### Lussfer 03/06/2020 16:38:07
Hello, getting following error when trying to use webots with ROS, i have added python to the path variable as well as updated the ini file. any input is appreciated :)
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/685526638058012690/unknown.png)
%end

##### Olivier Michel [cyberbotics] 03/06/2020 16:14:50
You are welcome.

##### mero 03/06/2020 16:13:25
ahhh okay great thank you very much.

##### Olivier Michel [cyberbotics] 03/06/2020 16:13:11
You should be able to see this from the robot window if you double-click on the Tiago robot in Webots and then display the position sensors.


And you will see that a motor is named "arm\_1\_joint" and the corresponding position sensor is named "arm\_1\_joint\_sensor".


Look for example into webots/projects/robots/pal\_robotics/tiago\_extensions/protos/TiagoFrontArm.proto


From the proto files.

##### mero 03/06/2020 16:10:39
from where can i get their names?

##### Olivier Michel [cyberbotics] 03/06/2020 16:10:12
The position sensors are different devices from the motors. They have a different name as well.

##### mero 03/06/2020 16:09:25
I used the names given in the webots sample for the tiago and initialized the device tags first.  This is the code:   for (int i = 0; i < N\_PARTS; i++) {

    robot\_parts[i] = wb\_robot\_get\_device(names[i]);

    wb\_motor\_set\_velocity(robot\_parts[i], wb\_motor\_get\_max\_velocity(robot\_parts[i])/2.0);

    wb\_position\_sensor\_enable(robot\_parts[i], 64);

  }

##### Olivier Michel [cyberbotics] 03/06/2020 16:07:07
This is because your device tag is not properly initialized. You probably used a wrong name?

##### mero 03/06/2020 16:05:27
Hello, I am trying to get the current position of the joints in the hand of the tiago titanium after moving it. I tried using the wb\_position\_sensor\_enable() for all the joints in a loop but it gives me an error of invalid device tag.

##### Olivier Michel [cyberbotics] 03/06/2020 15:55:31
Cool. Thank for the feedback!

##### Axel M 03/06/2020 15:53:48
It's working as expected


I'm gonna try, thanks ðŸ™‚

##### Olivier Michel [cyberbotics] 03/06/2020 15:08:14
It can certainly change it. Not sure if the change will be effective. You should try and let us know ðŸ˜‰

##### Axel M 03/06/2020 15:03:20
Hi,

Can a supervisor controller change WorldInfo.gpsReference during the runtime, and if so, will the change be effective ?

##### Olivier Michel [cyberbotics] 03/06/2020 13:54:21
You should probably resize sub-wheels as well.


This special friction is needed to simulate the asymmetric friction of the Mecanum wheels. See the documentation here: [https://www.cyberbotics.com/doc/reference/contactproperties](https://www.cyberbotics.com/doc/reference/contactproperties)

##### ptrepag 03/06/2020 13:40:19
`@Olivier Michel` thank you for the pointer on the WorldInfo node.  I was wondering where the special friction came from.  I am still very new to Webots, so I have some dumb questions.  If I want to resize the wheels, do I just change the size of the Cylinder bounding object?  Or do I also need to apply a sizing transformation elsewhere?

##### Olivier Michel [cyberbotics] 03/06/2020 09:42:09
Please follow instructions here: [https://cyberbotics.com/doc/guide/using-your-ide#pycharm](https://cyberbotics.com/doc/guide/using-your-ide#pycharm)

##### kimkim 03/06/2020 09:38:32
On mac, I want to find webot library for import this path with pycharm. Would you help me how to?

##### Olivier Michel [cyberbotics] 03/06/2020 09:08:41
```c++
bool move_arms;
[...]
if (move_arms) {
  // control the arm movement
} else 
  gaitManager.step(basicTimeStep);
```


`@elkelkmuh`: you should call gaitManager.step() in a conditional test: when you want to move the arms, don't call it and when you want the robot to walk, call it.


`@elkelkmuh`: the gait manager controls the movements of the legs and the arms as well, so, you cannot move the arms while the robot is walking with the gait manager.  You should stop the gait manager to move the arms.


`@kevinW`: simulationReset should not crash Webots. If it does, please fill in a bug report on [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md) with all the details allowing us to reproduce the crash.


`@ptrepag`: when importing the Mecanum wheels from the Kuka youBot, you should copy the WorldInfo node as it includes important parameters allowing the Mecanum wheels to work properly, in particular the ContactProperties.


`@coderrr`: Making the e-puck a supervisor should work. Did you try to save and restart Webots? Otherwise, you can add a GPS device to the e-puck to retrieve its position.


`@lench`: I would recommend to have a look at our pedestrian simulation in Webots/projects/humans/pedestrian/worlds/pedestrian.wbt. It's a Python controller, but doesn't use ROS. It shouldn't be difficult however to control it from ROS.

##### kevinW 03/06/2020 04:07:48
Hello everyone, I am doing Machine Learning on Webots, and have already made my custom robot, and my neural network. I just need to figure out how to reset the Robot..... I am using python, and the function: simulationReset() just crashes the whole program.   Next, I tried resetting all the positions, but the function setMFRotation(...) takes an index, and if I tried working with it, but failed. (i have 30 rotational motors).... Why is resetting the robot so complex?

##### ptrepag 03/05/2020 15:10:59
I am attempting to use Webots to simulate a robot for our First Tech Challenge student team.  Our robot has Mecanum wheels, and I am having a tough time trying to figure out how to rip the wheels out of the Kuka Youbot and get them into another robot.  Has anyone successfully used Mecanum wheels in a separate robot?

##### coderrr 03/05/2020 14:12:34
Hello, Whenever I check the box and make supervisor = True for e-puck, webot starts to not responding

Is there any other way to getPosition for e-puck? as it does not have touch sensor and the supervisor approach is not working for E-puck.

##### lench 03/05/2020 13:53:27
Hi! I want to control Pedestrian with Joystick in Webots. Can somebody help me with the controller code? It should be done in python and ros. Thank you in advance!

##### Olivier Michel [cyberbotics] 03/05/2020 09:06:44
Because they include (among other things) the window layout in Webots and this is subject to change with versions.


Hi, yes, we do.

##### Axel M 03/05/2020 09:05:36
Hi, do you recommend to version `.wbproj` files ?

##### Olivier Michel [cyberbotics] 03/04/2020 15:53:54
You can subscribe to the notifications on the issue [https://github.com/cyberbotics/webots/issues/1432](https://github.com/cyberbotics/webots/issues/1432) to get notified when it is closed or when some news are available about it.

##### David Mansolino [cyberbotics] 03/04/2020 15:47:41
The best way is to fix it yourself ðŸ˜‚ 

Otherwise, we will try to make our best but to fix it as soon as possible, but we have other urgent things to do in parallel

##### JC 03/04/2020 15:46:39
ok, whats the best way to know when its been fixed?

##### David Mansolino [cyberbotics] 03/04/2020 15:09:30
Unfortunately, the next release is not planned yet, but as soon as it will be fixed you will be able to use the beta nightly releases including the patch.

##### JC 03/04/2020 14:18:47
is there an estimation on when the next release will be?

##### David Mansolino [cyberbotics] 03/04/2020 13:45:31
You're welcome, thank you for the precise bug report

##### JC 03/04/2020 13:39:57
`@David Mansolino` ill look forward to it, thanks for your help

##### User21 03/04/2020 13:30:23
`@David Mansolino` okay

##### David Mansolino [cyberbotics] 03/04/2020 13:28:38
`@User21` I am sorry but I have no idea, but I am sure this is feasible because RVIZ is able to detect it (when used with this example: [https://github.com/cyberbotics/webots/blob/master/projects/robots/universal\_robots/resources/ros\_package/ur\_e\_webots/README.md#usage](https://github.com/cyberbotics/webots/blob/master/projects/robots/universal_robots/resources/ros_package/ur_e_webots/README.md#usage) )


`@JC` I can indeed reproduce the issue you are mentioning thank to your controller, it seems the problem is on the Webots side, I did open an issue about this and we will try to fix this for the next release of Webots: [https://github.com/cyberbotics/webots/issues/1432](https://github.com/cyberbotics/webots/issues/1432)

##### User21 03/04/2020 13:25:47
`@David Mansolino` i have another question to the updated trajectory follower 

how can i get the information that my goal succeded. I tried thorught the action client but i cant get the result with just the get\_result commande

##### JC 03/04/2020 13:00:03
also im using the sony Aibo robot if that helps


but other than that its exactly what ive got


accidently deleted some from the end of supervisor.SimulationReset() when copying over

##### David Mansolino [cyberbotics] 03/04/2020 12:58:14
Thank you, I will try it

##### JC 03/04/2020 12:57:49
discord messed the formating of it but its got no errors and the simulation takes longer and longer to reset even though the only thing im doing is resetting, any ideas?


i made another controller just to be sure, this other controller is  just this:from controller import Supervisor



\# create the Robot instance.

supervisor = Supervisor()



timestep = 640





while supervisor.step(timestep) != -1:

    

    supervisor.simulationRes()

##### David Mansolino [cyberbotics] 03/04/2020 12:48:29
You're welcome ðŸ˜‰

##### SimonDK 03/04/2020 12:47:52
Great, you are a lifesaver ðŸ˜€

##### David Mansolino [cyberbotics] 03/04/2020 12:46:37
Yes of course, you can either put the object directly as a child node of the gripper for creatign a fix joint or use connector nodes: [https://cyberbotics.com/doc/reference/connector](https://cyberbotics.com/doc/reference/connector)

##### SimonDK 03/04/2020 12:45:20
Great, thank you very much `@David Mansolino` , forgot about the URDF importer, will see if I can find a URDF model of the gripper. If I do not want to simulate the physics behind grasping, can I cheat and attache the object to the gripper with a fixed joint or something?

##### David Mansolino [cyberbotics] 03/04/2020 12:43:20
Hi, `@JC` this should in theory not be the case, are you adding some node while the simulation it running from your supervisor or something similar?

##### JC 03/04/2020 10:58:39
Hi, i have a controller that runs a simulation then resets using supervisor.simulationReset() , then changes some variables before running again . This repeats a fair few times but each time the simulation takes longer and longer to reset. Is there any way to remedy this?

##### David Mansolino [cyberbotics] 03/04/2020 10:24:55
I don't know any model of this gripper in Webots yet. But it is for sure feasible to model such kind of gripper in Webots, it is indeed similar to [https://cyberbotics.com/doc/guide/gripper-actuators#robotiq-3f-gripper](https://cyberbotics.com/doc/guide/gripper-actuators#robotiq-3f-gripper)

Maybe you can find an URDF model and use the importer: [https://github.com/cyberbotics/urdf2webots](https://github.com/cyberbotics/urdf2webots)

##### SimonDK 03/04/2020 10:10:24
Small video to show how the RG2 moves: [https://youtu.be/v2vY7YfXHYE](https://youtu.be/v2vY7YfXHYE)

Is it possible to model this, I guess it is quite similar to the Schunk three-finger gripper?


We are looking at modeling the RG2 gripper ([https://onrobot.com/en/products/rg2-gripper](https://onrobot.com/en/products/rg2-gripper)). Are we so lucky that anyone already did this? ðŸ™‚ Any recommendations for modeling this kind of tool?

##### Axel M 03/04/2020 09:13:29
Thanks `@David Mansolino` ðŸ™‚

##### David Mansolino [cyberbotics] 03/04/2020 06:48:31
`@Massimo Sirigu` Hi, where is located the file ``myprotoname.proto`` ? Would you agree sharing it with us?


`@User21` perfect, thanks again fo r the feedback!

You are right, the next steps are more on the MoveIt side than Webots, but I am sure you can get help for this in the ROS community.


Hi `@Axel M` yes of course, you cn use the `wb_supervisor_field_import_sf_node_from_string` to import any node:

```
wb_supervisor_field_import_sf_node_from_string("MyProto { translation 0 1 1 }");
```

##### Massimo Sirigu 03/03/2020 18:27:15
the problem is that this error message occurs:                                                             

 ERROR: Skipped unknown 'myprotoname' node or PROTO.                                                  

this message appears when I load the project or cut and paste the object. but I'm able to instantiate it and see it. what can it be the problem?


hello, I had a problem with protos.

##### User21 03/03/2020 18:13:01
`@David Mansolino` It works! The only Problem is, moving them at the same time. sometime it works sometimes not ðŸ˜„ i think the problem is now more a MoveIt Problem then a Webots so thanks!

##### Axel M 03/03/2020 17:22:15
Is there a way to import a node from a PROTO ? wb\_supervisor\_field\_import\_mf\_node only references import of `.wbo` defined nodes

##### David Mansolino [cyberbotics] 03/03/2020 16:19:22
You're welcome

##### User21 03/03/2020 16:19:15
yea i see thanks so much!

##### David Mansolino [cyberbotics] 03/03/2020 16:18:19
For example this line does not take the node name into account: 

[https://github.com/ros-industrial/universal\_robot/blob/06d8b9e2f5f86aa54f9f2845f11edbc84e2f951e/ur5\_moveit\_config/launch/ur5\_moveit\_planning\_execution.launch#L7](https://github.com/ros-industrial/universal_robot/blob/06d8b9e2f5f86aa54f9f2845f11edbc84e2f951e/ur5_moveit_config/launch/ur5_moveit_planning_execution.launch#L7)


`@User21` probably that this launch file should be updated:

```
roslaunch ur5_moveit_config ur5_moveit_planning_execution.launch
```

But this launch file is unfotunately not owned by us, you should probably create a local copy of it and modify it

##### User21 03/03/2020 16:14:57
`@David Mansolino` Thanks to your changes launching multiple nodes to publish my Jointstates is working perfect. I only have one Problem: the action server wont get info from the move\_it node if im adding the nodeName to my initialisation from ther actionserver. Am i just missing something?

##### David Mansolino [cyberbotics] 03/03/2020 14:51:02
You're welcome, I hope it will help.

##### User21 03/03/2020 14:48:17
`@David Mansolino` Thank you for fixing the issues with ROS!

##### David Mansolino [cyberbotics] 03/03/2020 14:47:21
You're wlecome

##### Cohen 03/03/2020 14:47:11
ok let's try it thx

##### David Mansolino [cyberbotics] 03/03/2020 14:46:49
Yes, once you have created and compiled the robot window, you should be able to select it from the `window` field o your robot.

##### Cohen 03/03/2020 14:46:02
ok, no menu to add it, just prepare the file and it's up and running then ?

##### David Mansolino [cyberbotics] 03/03/2020 14:45:12
Hi `@Cohen` the choice is computed automatically depending on the robot-window found in the `plugins/robot_windows` folder of your project. You may also find some interesting information here: 

[https://www.cyberbotics.com/doc/guide/controller-plugin#robot-window](https://www.cyberbotics.com/doc/guide/controller-plugin#robot-window)

##### Cohen 03/03/2020 14:43:14
thanks in advance


do someone have any hints


in the sample file custom/html\_robot\_window there a a few other choice but i can't find then anywhere i looked


hi, i'm trying to create a new HTML window for a robot, but i only have generic or generic\_window

##### David Mansolino [cyberbotics] 03/03/2020 07:01:36
Good to know, thank you for the feeback!

##### Luiz Felipe 03/03/2020 06:59:50
just sending to let you know `@David Mansolino`


pyinstaller --paths PYTHONPATH(/usr/local/webots/lib/python3X) supervisor.py


> I tried to set the environment variables but the error persists... I think the solution is related to this issue though, tomorrow I will try again. Thanks `@David Mansolino`

`@Luiz Felipe` The error was related, but the PYTHONPATH should be set directly in pyinstaller. So the command should be

##### David Mansolino [cyberbotics] 03/03/2020 06:56:55
`@Deep` here are some instructions about how to setup the msys2 console: [https://github.com/cyberbotics/webots/wiki/Windows-installation](https://github.com/cyberbotics/webots/wiki/Windows-installation)

##### Deep 03/02/2020 19:44:28
`@David Mansolino` The program now works! But I still need a tiny winy bit of help if possible.

The 8.40 is not supportive of naoqi to work with softbank's softwere (8.2.1 was supportive but is not launching! due to a license requirement)



I found this on cyberbotic's git:

[https://github.com/cyberbotics/naoqisim](https://github.com/cyberbotics/naoqisim)



I followed instructions but msys2's console is not recognizing the command "make" and the .sln file won't complie on my visual studio since it is missing h files "alnaosim.h"

"alrobotmodel.h"



Any idea?

Thanks for the patience.


`@David Mansolino` I will have a look. If I'm not back that means it worked.

Thank you for your help dear ðŸ¥³

##### David Mansolino [cyberbotics] 03/02/2020 14:29:10
`@Deep` you can get more recent version here: [https://github.com/cyberbotics/webots/releases/tag/R2019a](https://github.com/cyberbotics/webots/releases/tag/R2019a)

Nao is supported out of the box in Webots up to version 8.4.0

##### Deep 03/02/2020 14:26:47

%figure
![New_Bitmap_Image.png](https://cdn.discordapp.com/attachments/565154703139405824/684044038604587011/New_Bitmap_Image.png)
%end


`@David Mansolino` I'm usin *webots for Nao*, version 8.2.1 and it was downloaded from softbank's website. Appears to be the only version ever made for nao.
%figure
![New_Bitmap_Image.bmp](https://cdn.discordapp.com/attachments/565154703139405824/684043823063760928/New_Bitmap_Image.bmp)
%end

##### l\_eslam\_l 03/02/2020 13:40:03
> Perfect! it's strange because these are the steps followed by the launch file too.

`@David Mansolino` Yeah it's so strange to me too haha

##### David Mansolino [cyberbotics] 03/02/2020 13:38:57
You're welcome ðŸ™‚


Perfect! it's strange because these are the steps followed by the launch file too.

##### l\_eslam\_l 03/02/2020 13:38:49
`@David Mansolino` Thanks a lot ðŸ™‚


Wow, it's working now, I followed the your steps
%figure
![Screenshot_from_2020-03-02_15-37-47.png](https://cdn.discordapp.com/attachments/565154703139405824/684031859272843268/Screenshot_from_2020-03-02_15-37-47.png)
%end

##### David Mansolino [cyberbotics] 03/02/2020 13:33:01
> For these errors, there are no corresponding errors on the terminal screen, just webots console

`@l_eslam_l` 

those one looks normal, this is just a test that test all the Webots fucntionalities and make sure they works fine.

##### l\_eslam\_l 03/02/2020 13:31:11
> In that case you should probably try runnign this example without the launch file. you can launch manually with this porocedure:

>   - start roscore.

>   - open Webots and open the 'projects/languages/ros/worlds/pioneer3at.wb' world.

>   - launch the `pioneer3at` node from the `webots_ros` package.

Ok I'll try that

`@David Mansolino`


For these errors, there are no corresponding errors on the terminal screen, just webots console
%figure
![Screenshot_from_2020-03-02_15-30-25.png](https://cdn.discordapp.com/attachments/565154703139405824/684029985560068116/Screenshot_from_2020-03-02_15-30-25.png)
%end

##### David Mansolino [cyberbotics] 03/02/2020 13:30:17
In that case you should probably try runnign this example without the launch file. you can launch manually with this porocedure:

  - start roscore.

  - open Webots and open the 'projects/languages/ros/worlds/pioneer3at.wb' world.

  - launch the `pioneer3at` node from the `webots_ros` package.

##### l\_eslam\_l 03/02/2020 13:29:47
The complete test has similar errors too!

##### David Mansolino [cyberbotics] 03/02/2020 13:28:54
Ok, it's a good news that the other nodes are working.

##### l\_eslam\_l 03/02/2020 13:27:38
I tried the pioneer example because it is so related to my project


Yeah I tried all the other examples and they're all working fine

I'm using melodic

##### David Mansolino [cyberbotics] 03/02/2020 13:14:54
Which version of ROS are you using?


I just tried and it is working fine for me. Can you maybe try with another example (such as `roslaunch webots_ros e_puck_line.launch`)?

##### l\_eslam\_l 03/02/2020 13:08:01
ok

##### David Mansolino [cyberbotics] 03/02/2020 13:07:54
ok, let me try

##### l\_eslam\_l 03/02/2020 13:07:39
`@David Mansolino` 

I actually tried both methods, and both methods gave me the exact same error

##### David Mansolino [cyberbotics] 03/02/2020 13:06:46
Hi `@l_eslam_l`, Welcome!

About your issue, how did you instal the ros nodes? From the package (apt) or from sources?

##### l\_eslam\_l 03/02/2020 12:30:40
Please help ðŸ™‚


I don't know what other node is running, I didn't run any other nodes, just this roslaunch command!



%figure
![Screenshot_from_2020-03-02_14-12-48.png](https://cdn.discordapp.com/attachments/565154703139405824/684014540454756362/Screenshot_from_2020-03-02_14-12-48.png)
%end



%figure
![Screenshot_from_2020-03-02_14-12-24.png](https://cdn.discordapp.com/attachments/565154703139405824/684014526093459511/Screenshot_from_2020-03-02_14-12-24.png)
%end


it actually launches Webots but it gives me this error


Hello guys

I've started learning webots a few weeks ago and I've gone through its tutorials and user guide quite extensively. I'm trying working with ROS

but when I run the following command in a terminal window:

roslaunch webots\_ros pioneer3at.launch 

from this tutorial page: [http://wiki.ros.org/webots\_ros/Tutorials/Sample%20Simulations](http://wiki.ros.org/webots_ros/Tutorials/Sample%20Simulations)

##### David Mansolino [cyberbotics] 03/02/2020 11:37:50
> `@Deep`: Be sure to use a version of Webots that works with this "webots" password, e.g., Webots 8.4.0 for example.

`@Olivier Michel`

##### Deep 03/02/2020 11:36:25
> `@Deep` have you tried with 'webots@cyberbotics.com' as email and 'webots' as password?

`@David Mansolino` Yes, using "webots" as passwords progresses the program to a dialog where it state that "whatever email" has no license.

I'v tried webots@cyberbotics.com, makes no change.

And I'm trying to launch webots for nao.

##### Luiz Felipe 03/02/2020 11:13:32
I tried to set the environment variables but the error persists... I think the solution is related to this issue though, tomorrow I will try again. Thanks `@David Mansolino`

##### David Mansolino [cyberbotics] 03/02/2020 10:42:53
I am not familliar with pyinstaller, btu you should probably make sure that the correct environment variables are set, e.g.: [https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-os=linux&tab-language=python#environment-variables](https://cyberbotics.com/doc/guide/running-extern-robot-controllers?tab-os=linux&tab-language=python#environment-variables)

##### Luiz Felipe 03/02/2020 10:39:10
Anyone tried to created an executable from a supervisor coded in python using pyinstaller to run in webots? When I run the generated executable I get the "ImportError: no module named controller"... I think it cannot bundle the webots controller that contains the Supervisor class when it is generating the executable...

##### David Mansolino [cyberbotics] 03/02/2020 10:34:04
You're welcome

##### Axel M 03/02/2020 10:33:53
Thanks ðŸ™‚

##### David Mansolino [cyberbotics] 03/02/2020 10:33:40
SFNode stands for Single Field Node and MFNode stands for Multiple Field Node.

Therefore, SFNode allows to insert one single node, whereas MFNode allows to import as many nodes as you want.

##### Axel M 03/02/2020 10:32:29
What's the difference between a SFNode and a MFNode ?

##### User21 03/02/2020 10:19:52
No Problem

##### David Mansolino [cyberbotics] 03/02/2020 10:19:44
Thank you.

##### User21 03/02/2020 10:19:34
okay

##### David Mansolino [cyberbotics] 03/02/2020 10:18:34
That's very strange. May I ask you to fill a bug report here: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

I check if I can reproduce the problem and try to fix it whenever I will have some free time.

##### User21 03/02/2020 10:16:58
yea exactly

##### David Mansolino [cyberbotics] 03/02/2020 10:15:50
It nevers go in the last else with the tolerance?

##### User21 03/02/2020 10:14:01
Okay, i tried it. The simulation stopps itself now after it executet the trajectory. The elif not self.last\_point\_sent is the last thing getting called

##### David Mansolino [cyberbotics] 03/02/2020 10:07:26
Ok, it makes sense, can you try with this version: [https://gist.github.com/DavidMansolino/b082c7d9670a84f99e2a0af284e1e2c8](https://gist.github.com/DavidMansolino/b082c7d9670a84f99e2a0af284e1e2c8)

##### User21 03/02/2020 10:06:24
yea in elif not self.last\_point\_sent

##### David Mansolino [cyberbotics] 03/02/2020 10:05:15
can you identify in which if it remains stuck then?

##### User21 03/02/2020 10:04:10
i notice that the last else function never gets called after the trajectory is executed


`@David Mansolino` its not the tolerance

##### David Mansolino [cyberbotics] 03/02/2020 08:37:35
You're welcome

##### User21 03/02/2020 08:22:34
`@David Mansolino` i will try thanks!

##### Olivier Michel [cyberbotics] 03/02/2020 07:56:51
`@Deep`: Be sure to use a version of Webots that works with this "webots" password, e.g., Webots 8.4.0 for example.

##### David Mansolino [cyberbotics] 03/02/2020 06:37:06
`@User21` goal\_handle is a handle to the current target trajectory received. The last if should indeed be raised when the robot reaches the target position. Maybe the tolerance is to small, you may reduce the tolerance sent to the `within_tolerance` function. You may also print the difference between curent and target position to check what is hapenning exactly.


`@asphyxia` thank you.


`@sun` here is an example of omnidirectionnal wheel robot: [https://cyberbotics.com/doc/guide/robotino3](https://cyberbotics.com/doc/guide/robotino3)

The key point is to define an assymatric friction in the Worldinfo.contactproperties field: [https://cyberbotics.com/doc/guide/robotino3#sample](https://cyberbotics.com/doc/guide/robotino3#sample)

##### asphyxia 03/02/2020 06:32:29
sorry, yes I meant `step()`, idk what I was thinking lol. I'll file an issue soon

##### David Mansolino [cyberbotics] 03/02/2020 06:32:11
`@Deep` have you tried with 'webots@cyberbotics.com' as email and 'webots' as password?


`@asphyxia` what do you mean by `tick()` are you refeering to `wb_robot_step()` ? If this is the case, may I ask you to open a bug report (including a sample controller) here: [https://github.com/cyberbotics/webots](https://github.com/cyberbotics/webots)

Thank you.


`@LaCava` This is indeed the simplest solution ðŸ™‚


Hi `@jinu061353`, the total mass of the darwin-op3 is ~3.1 kg. You can easily see this in Webots by selecting the robot node and then the 'mass' node in the field/node editor: [https://cyberbotics.com/doc/guide/the-scene-tree#field-editor](https://cyberbotics.com/doc/guide/the-scene-tree#field-editor)

##### jinu061353 03/02/2020 03:42:19
Does anyone know the mass of a darwin-op3 in Webots?

##### LaCava 03/01/2020 17:56:35
Wait

Just as I've sent that I remembered there are available 'slots', so I assume I can add non-colliding nodes there and just track those.


Hi all -- I'm trying to keep track of the position in space (X, Y, Z) of a few choice parts of a robot (Softbank NAO). I'm aware of the different spatial sensors, but I'm looking for a more direct way to track those values with a supervisor.

##### asphyxia 03/01/2020 17:29:54
Hello, I think I have found a race condition between `Supervisor::simulationReset()` and `Robot::tick()`. If `simulationReset()` is called before `tick()` (with a nonzero step), sometimes `tick()` will wait until the simulation time is `step` ms after the time *before* `simulationReset` was called, instead of `step` ms after time 0, causing the simulation to run for much more than `step` ms (e.g. if `simulationReset` is called at 5.000 seconds simulation time, and then `tick(32)` is called, `tick` will return after another 5 seconds - when the simulation time has gone from 0s up to 5.032s). I can't seem to reproduce this too reliably (I just ran a test 10 times, and the race happened twice); I'm using python 3.8 on a synchronized controller.

##### Deep 03/01/2020 12:57:02
Doesn't work with "webots@cyberbotics.com"

either... `@David Mansolino` Sorry to bother but you seem to know your way around here. May I have some assistance please?


Password "webots" results in "Bla bla no license" and a dead link.


Can anyone help with webots for nao? There's no option to open an account which is requested.

##### jinu061353 03/01/2020 05:16:18
darwin-op3


What is the weight of a op3 on the webots?

##### User21 02/29/2020 15:49:10
When i test the code the last else function never gets called and throught that the goal\_handle.set suceeded never gets called. And to my knowledge is that the way i get the feedback if my robot reached the goal. Im quite confused about the variable goal\_handle because of his type. its either None or some sort of adress. maybe im just missing something. I hope you understand my problem.


`@David Mansolino` 

I dont understand the last function of the TrajectoryFollower code from the universal\_robots\_ros controller. These function gets called in the while loop of the universal\_robots\_ros python script and its executing planned path.

Here the Code:
> **Attachment**: [message.txt](https://cdn.discordapp.com/attachments/565154703139405824/683338393370886267/message.txt)

##### sun 02/29/2020 01:28:07
hello,how to add a all direction wheel in the webots????this question has fused me for two days::i used two joint\_hinge one for z axis rotation and the other for x axis rotaton, when i simulate this wheel didn't work as i think.

##### David Mansolino [cyberbotics] 02/28/2020 15:46:19
You're welcome

##### kwy 02/28/2020 15:46:14
thanks!!!

##### David Mansolino [cyberbotics] 02/28/2020 15:46:07
Exactly ðŸ˜‰

##### kwy 02/28/2020 15:45:43
wow,the location of the PointLight is moved.. so i can change the location of a robot (x,y,ðœ‘) on a map with Supervisor

##### David Mansolino [cyberbotics] 02/28/2020 15:37:08
(it is in C, but other languages works the same way)


Yes, this sample show how to move a light to a defined location for example: [https://cyberbotics.com/doc/guide/samples-devices#supervisor-wbt](https://cyberbotics.com/doc/guide/samples-devices#supervisor-wbt)

##### kwy 02/28/2020 15:36:22
thanks, is there any sample to show this function?

##### David Mansolino [cyberbotics] 02/28/2020 15:32:08
This function is not for setting the map position directly, but for acting on a joint position.

If you want to set the absolute position of a robot on a map you should use the Supervisor API: [https://cyberbotics.com/doc/reference/supervisor](https://cyberbotics.com/doc/reference/supervisor)

##### kwy 02/28/2020 15:30:56
yes. i want to set the relative position in a map

##### David Mansolino [cyberbotics] 02/28/2020 15:29:10
Hi `@kwy` you mean the motor.setPosition function, right?

##### kwy 02/28/2020 15:27:52
Hello, is there any sample use "setPosition" to control robot

##### David Mansolino [cyberbotics] 02/28/2020 13:24:34
You're welcome

##### User21 02/28/2020 13:24:21
okay thanks

##### David Mansolino [cyberbotics] 02/28/2020 13:23:47
You can't indeed acess devices of a child robot, robot can only access it's own devices (not including devices from sub-robot)

##### User21 02/28/2020 13:22:23
If i do it with  two robot nodes i cant enabel my arm sensors. Is it because it cant find the sensors from a robot in arobot node?


`@David Mansolino` Thank you!

##### schadocalex 02/28/2020 11:41:48
Yes my models are not very low poly ones. Thanks!

##### David Mansolino [cyberbotics] 02/28/2020 11:38:25
No the PROTO works indeed only for trees (but you might get inspiration from it if needed), but if your original model contains many triangles then the Supervisor is indeed the way to go.

##### schadocalex 02/28/2020 11:35:42
Thanks for the fast answers.

Ok so Webots Supervisors are the way to do it.

About Forest PROTO, can I add my own tree types? Because itâ€™s not really trees I want, I have my own custom models.

##### David Mansolino [cyberbotics] 02/28/2020 11:20:46
`@schadocalex`, alternatively the `Forest` PROTO node allows you to define the position of a large number of three in a file in an efficient way: [https://cyberbotics.com/doc/guide/object-trees#forest](https://cyberbotics.com/doc/guide/object-trees#forest)


`@User21` the workaround is to put your robot in the children field of another Robot node (whose controller is set to 'none') this way you have two independant rotation fields to manipulate. But it would be cleaner to handle rotation combination directly in your Supervisor.

##### Olivier Michel [cyberbotics] 02/28/2020 11:17:41
Hi `@schadocalex`, I believe the second option you propose is probably the best way to go. This script could actually be implemented as a Webots Supervisor. Also, instead of instantiating new models, it could simply move existing models (e.g., trees) that are already loaded in the world file.

##### schadocalex 02/28/2020 11:11:26
Hi, Webots is awesome! But I have a problem. I have a big world definition input, that say for example "one tree is at this position". I can have thousands of trees. I have two solutions, for both I can't find how to do it in Webots:

1) Generate a big world file and then load it. But there is no LOD or something so there will be too much objects in the scene, I think. Maybe I can make chunks of the maps and load them depending of my main robot pos? Is it possible?

2) Have a standalone script that instantiate models dynamically in the world, depending on robot pos.

Thanks!

##### User21 02/28/2020 11:06:46
Hey i have a Problem with the rotation of the ur5e. Can i predefine a rotation for that robot and then rotate it from there? I want to rotate the robot around the robots z Axis over a supervisor filed but its not that easy possible because i get multiple changes in the x,y,z rotations

##### David Mansolino [cyberbotics] 02/28/2020 06:27:52
`@User21`, no problem, yes you can simply check if your action client state is succeded, see this example: [http://wiki.ros.org/actionlib#C.2B-.2B-\_SimpleActionClient](http://wiki.ros.org/actionlib#C.2B-.2B-_SimpleActionClient)

##### User21 02/27/2020 17:37:03
`@David Mansolino`  Yes ðŸ˜„ Sorry for these questions but im not quite familiar with ros im just learning it. I appreciate your help very much.

##### David Mansolino [cyberbotics] 02/27/2020 15:15:36
> I can open an issue on github if you wish

`@Axel M` 

It would be nice, thank you.


Exactly, this is the idea, to be able to compile ROS node from Webots without needing to have the complete ROS toolchain installed.

##### Axel M 02/27/2020 15:14:43
I can open an issue on github if you wish


I'm assuming having the ros libraries inside webots is to provide the ability to run a ros\_controller without having to source a workspace ?

##### David Mansolino [cyberbotics] 02/27/2020 15:14:06
It is indeed from kinetic


Perfect. In that case it means that the ros libraries shiped within webots are not compatible with the one you are using.

##### Axel M 02/27/2020 15:13:39
(i'm using melodic)


I guess the libraries you got in there are from kinetic release or something like this ?


`@David Mansolino` Yup that worked

##### David Mansolino [cyberbotics] 02/27/2020 15:01:30
`@User21`, I assume you are using the universal robot model and ROS1, right ?


Maybe that can be an explanation, because it adds `webots/projects/default/libraries/ros` to the path, maybe this cause library conflicts with your ros libraries. Can you try temporarily removing those libraries from `webots/projects/default/libraries/ros` ?


`@Axel M` Webots does indeed change the `LD_LIBRARY_PATH`, it adds some paths

##### User21 02/27/2020 14:31:07
Hi there,

im using moveit with webots, and i wanted to know if the trajectoryFollower gives me feedback if i reached my goal. I need to know because i want to use it as reason to exit a while loop.

Thanks for helping!

##### Axel M 02/27/2020 14:19:52
The only thing that comes to my mind would be a skewed LD\_LIBRARY\_PATH (As I have to set it in order to run the controller externally, maybe Webots override it and something happens with the shared libraries of ROS ?)


I don't know the "right" way to do it but in my case, it is compiled by a catkin CMakeLists where I added manually linking to libCppController


thanks `@David Mansolino` ðŸ™‚ I updated the snipped to a fully standalone controller code. However, it needs to be linked to ros librairies

##### David Mansolino [cyberbotics] 02/27/2020 14:05:32
Ok, thank you for this code snipet, I will try it as soon as I have a bit of time

##### Axel M 02/27/2020 14:04:56
Running externally time is running as expected ðŸ¤”


The real part is random while the decimal part always end identically


Timestamp output example : 3863553536.000032767


\#include <ros/ros.h>

\#include <iostream>

\#include <memory>

\#include <webots/Robot.hpp>



using namespace webots;

int main(int argc, char** argv) {

    std::shared\_ptr<Robot> robot(new Robot());



    ros::init(argc, argv, "test\_node");

    ros::console::set\_logger\_level(ROSCONSOLE\_DEFAULT\_NAME, ros::console::levels::Debug);

    ros::NodeHandle nh;



    std::cout << "running test controller"

              << "\n";

    while (ros::ok() && robot->step(1000) != -1) {

        std::cout << ros::Time::now() << "\n";

        ros::spinOnce();

    }



    return 0;

}


In the end, my minimal code reproduction that demonstrate the problem is just :


The time is running in webots, yup


`@David Mansolino` No simulated time : so use\_sim\_time false, no /clock, and the timestamps are just plain random that goes from 1987 to 2090+

##### David Mansolino [cyberbotics] 02/27/2020 13:56:15
`@Axel M` that's strange, the behavior should be the same between intern and extern controllers. What kind og timestamps do you get? Is the time running in Webots? Are you publishing the clock topic? Are use setting 'use\_sim\_time'?


`@Oxygenious` you're welcome

##### Oxygenious 02/27/2020 13:49:27
`@David Mansolino` It works, thank you!

##### Axel M 02/27/2020 13:48:14
Hi, I've written a webots controller in Cpp which use roscpp lib internally. If I run the controller externally, everything is working perfectly. However, running the controller inside webots gives weird random (and constant) timestamps as output of ros::Time::now()

##### David Mansolino [cyberbotics] 02/27/2020 13:38:25
Creo use the `Anchor` WRML node (amongst other) when exporting to WRML, unfortunately this node is not supported by Webots.

I suggest to use another tool to export as VRML, you can use for example this free online platform that export in a VRMl format compatible with Webots: [https://cloud.cadexchanger.com/app](https://cloud.cadexchanger.com/app)

##### Oxygenious 02/27/2020 13:27:49
Hi everyone,

I needed to import a 3D CAD to Webots, so i have exported a solid from Creo (Pro engineer) as VRML. However when i tried to import it in Webots nothing happens. 

Thanks in advance for your help
> **Attachment**: [roller\_wheel\_60mm\_prt.wrl](https://cdn.discordapp.com/attachments/565154703139405824/682579644587048985/roller_wheel_60mm_prt.wrl)

##### Francony 02/27/2020 11:09:13
I see, thanks. 

I need to visualize and interact with the Robot in rviz from ROS.

##### David Mansolino [cyberbotics] 02/27/2020 11:03:59
Hi `@David Mansolino`, from Webots the Supervisor is indeed the way to go. Alternatively, you can write a script (in python for example) that reads direct the world or PROTO file to extract the information.

Just by curiosity, why do you need to write this URDF description?

##### Francony 02/27/2020 10:57:10
Hi, I have a robot model in Webots and need to extract all of the node's positions/masses/inertias to write a URDF description of the robot. For this, I tried writing a supervisor controller that goes through all the nodes in the my tree but it's harder to navigate the nodes than I expected. Do you know of a more efficient way to do this? thanks in advance

##### David Mansolino [cyberbotics] 02/27/2020 07:17:11
This is unfortunately not on our short term plans, but feel free to add it yourself to Webots: [https://github.com/cyberbotics/webots/blob/master/CONTRIBUTING.md](https://github.com/cyberbotics/webots/blob/master/CONTRIBUTING.md)

##### elkelkmuh 02/27/2020 06:22:17
`@David Mansolino` Thank you for the information So will fsr be added to webots?

##### David Mansolino [cyberbotics] 02/27/2020 06:18:46
`@elkelkmuh` it means that the model of the darwin-op distributed within Webots does not contain any FSR

##### elkelkmuh 02/26/2020 16:28:23
`@David Mansolino`  what is it mean out of the box?


`@David Mansolino`  Plots are from robot windows in real robot transfer.

##### David Mansolino [cyberbotics] 02/26/2020 16:21:00
`@elkelkmuh` I am sorry but your question is not clear, where does this picture comes from? Webots does not provide support for the FSR sensors in remote-control out of the box. Are thos plots simulation or real robot?

##### elkelkmuh 02/26/2020 16:04:58
`@David Mansolino`  how can I solve this problem


Hi @David Mansolino  These values are those of real robotis-op2 or op2 in simulation. They dont change. why?I did cross complciaton. They dont change.The values  â€‹â€‹change in simulation.  It doesn't actually change when you connect and transfer cables
%figure
![IMG-20200226-WA0004.jpg](https://cdn.discordapp.com/attachments/565154703139405824/682243855655108643/IMG-20200226-WA0004.jpg)
%end

##### User21 02/26/2020 15:12:14
`@David Mansolino` Related to my previous question 

if i change the prefix i get the Error: Received a goal with incorrect joint names

##### jinu061353 02/26/2020 08:27:31
I know the force measurement with a touch sensor, but all I want is a torque measurement method.ðŸ˜‚

##### David Mansolino [cyberbotics] 02/26/2020 08:23:30
(It can be a passive motor)


To measure joint a joint between the two solid must be present, and the Motor API should be used.


Yes, it can measures 3D forces

##### jinu061353 02/26/2020 08:22:21
As far as I know, the touch sensor measures force. No?

##### David Mansolino [cyberbotics] 02/26/2020 08:10:23
Maybe you are looking for touchSensors: [https://cyberbotics.com/doc/reference/touchsensor](https://cyberbotics.com/doc/reference/touchsensor)

##### jinu061353 02/26/2020 08:09:48
I'm sorry, but I'll ask you again. can i use f/t sensor in webots????

##### David Mansolino [cyberbotics] 02/26/2020 08:07:36
You can enable torque feedback of any motor joint: [https://cyberbotics.com/doc/reference/motor#wb\_motor\_enable\_force\_feedback](https://cyberbotics.com/doc/reference/motor#wb_motor_enable_force_feedback)


Hi `@jinu061353`, of course

##### jinu061353 02/26/2020 08:06:29
can i sensing torque in webots????

##### David Mansolino [cyberbotics] 02/26/2020 06:51:20
You're welcome

##### XZbot 02/26/2020 06:51:02
Thanks a lot `@David Mansolino`  I will try your method tomorrow

##### David Mansolino [cyberbotics] 02/26/2020 06:48:56
`@XZbot`, you are almost there, the problem comes from the fact that the Supervisor class inherits from the Robot class, it is therefore sufficient to instantiate only the Supervisor class and use this instance instead of the robot instance, e.g.:

```Python
supervisor = Supervisor()
leftMotor = supervisor.getMotor('left wheel motor')
```


`@coderrr`, no. You should set the aperture from the scene-tree you can't change it from the API.


`@Valtteri Bottas`, it depends on the surface, there is no 'correct' global value for the columb friction.

##### Valtteri Bottas 02/25/2020 22:55:23
I have a general question. What is the most accurate value for columb friction to simulate?

##### XZbot 02/25/2020 20:30:13
How I changed the motor speed is using a Robot class:

    from controller import Robot

    ...



    robot = Robot() 

    leftMotor = robot.getMotor('left wheel motor')

    rightMotor = robot.getMotor('right wheel motor')

    leftMotor.setPosition(float('inf'))

    rightMotor.setPosition(float('inf'))

    leftMotor.setVelocity(0.0)

    rightMotor.setVelocity(0.0)

    ...



    ## Inside the while loop for each time step

       ...

       #modify speed

       leftSpeed = ...

       rightSpeed = ...



       # write actuators inputs

       leftMotor.setVelocity(leftSpeed)

       rightMotor.setVelocity(rightSpeed)

       ...





How I want to extract translation and rotation value while it's autonomously moving is to use a Supervisor class, which seems to be not compatible with a Robot class: 

    

    supervisor = Supervisor()

    robotNode = supervisor.getFromDef('E-puck')

    robotTranslationField = robotNode.getField('translation')

    robotRotationField = robotNode.getField('rotation')



    ## Inside the while loop for each time step

       ...

       #read translation and rotation values

       trans = robotTranslationField.getSFVec3f()

       rotat = robotRotationField.getSFRotation()


Hi David, I am working on a simulated maze experiment using Webots and I have a question regarding the extraction of ground-truth position of the robot during simulation. I put an e-puck in my maze and set it to start at a certain position by setting up the initial translation and rotation values under the E-puck node in the scene tree before starting simulation. In my controller code, at each simulation time step, I first extract the robot's distance sensor values, and use that to regulate its left motor and right motor speed when it moves inside the triple T maze. So the robot can now autonomously move inside the triple T-maze and turn properly at a corner or a T-intersection. My controller code is now able to extract useful sensor information and write to a csv file at each time step for each simulation trial. However, I cannot extract the translation and rotation values at each time step, although I can monitor them changing under the E-puck node in the scene tree during the simulation. The related code I have is shown below. Could you please give any suggestion of how to solve this problem? Thanks!

##### coderrr 02/25/2020 20:27:58
ds0 = robot.getDistanceSensor('ds0')

ds0.enable(TIME\_STEP)

ds0.aperture = 0.75

print(ds[0].getApperture())

Can I set aperture of distance sensor like this?

##### David Mansolino [cyberbotics] 02/25/2020 20:15:47
You're welcome

##### coderrr 02/25/2020 20:12:32
Thanks for the solution! It worked!

##### David Mansolino [cyberbotics] 02/25/2020 20:08:28
Exactly, it is ``ROBOT`` then

##### coderrr 02/25/2020 20:08:07

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/681955611990425711/unknown.png)
%end

##### David Mansolino [cyberbotics] 02/25/2020 20:03:39
The value is not robot-dependant, but it is the DEF name that you defined (in your case probably 'ROBOT'). You can define the def name by selecting the node in the scene tree and then usinf the node editor: [https://cyberbotics.com/doc/guide/the-scene-tree#field-editor](https://cyberbotics.com/doc/guide/the-scene-tree#field-editor)

##### coderrr 02/25/2020 20:01:42
I am using khepera and e-puck. The parameter value will be 'e-puck' and 'khepera' or 'ROBOT'


supervisor = Supervisor()

node = supervisor.getFromDef('ROBOT')

node.getField('translation')

##### David Mansolino [cyberbotics] 02/25/2020 19:59:33
You're welcome ðŸ˜‰

##### coderrr 02/25/2020 19:58:53
`@David Mansolino` Thank you so much ðŸ˜


Okay

##### David Mansolino [cyberbotics] 02/25/2020 19:58:04
not exactly, once you did get the node, you can use it to get fields:

```
supervisor = Supervisor()
node = supervisor.getFromDef('...')
field = node.getField('translation')
translationValue = field.getSFVec3f()
```


supervisor = Supervisor()

node = supervisor.getFromDef('...')

##### coderrr 02/25/2020 19:53:02
what is equivalent to "wb\_supervisor\_node\_get\_from\_def" in Python?

##### David Mansolino [cyberbotics] 02/25/2020 19:52:56
`@coderrr` instead of instatiating a Robot class you should simply instantiate a Supervisor class (it inherits from the Robot class and provide all the Supervisor methods)

##### coderrr 02/25/2020 19:51:15
Hello, How to use Supervisor API for python? I have read the documentation but some sample code in python would be useful

##### kwy 02/25/2020 12:02:27
thanks, I will try to connect Webots and CLion

##### David Mansolino [cyberbotics] 02/25/2020 12:00:03
Hi `@kwy` yes of course, for pycharm we do provide a guide to set it up: [https://cyberbotics.com/doc/guide/using-your-ide#pycharm](https://cyberbotics.com/doc/guide/using-your-ide#pycharm)

##### kwy 02/25/2020 11:59:07
hello, can Webots connect with CLion like with Pycharm?

##### Stefania Pedrazzi [cyberbotics] 02/25/2020 08:46:54
Yes, this is a good approach. It depends on the complexity of the programs, but splitting them could also help making a better use of the PC's CPUs.

##### Axel M 02/25/2020 08:41:34
Thanks for your answer `@Stefania Pedrazzi`, do you recommend this approach though ? maybe some caveats appears when you run 12+ robot nodes ?

##### Stefania Pedrazzi [cyberbotics] 02/25/2020 08:40:32
Hi `@Axel M`, only Robot nodes can run scripts or programs. But it is possible to have nested Robot nodes, i.e. you can add a Robot node as parent of your Camera node. Each Robot node, even if nested, runs independent programs, so you will be able to run a script just for the Camera.

##### Axel M 02/25/2020 08:36:40
Is it possible to "attach a script" to a Node which is not a robot ? I would love to have a process running on a camera (to emulate an HTTP server as we have on our real sensors). Is the right way to do this to encapsulate this server inside the robot or supervisor controller ?

##### David Mansolino [cyberbotics] 02/25/2020 07:43:28
Ok, in that case it should indeed work, for stopping it, as you can see in the doc ([https://cyberbotics.com/doc/guide/robotis-op2#gait-manager](https://cyberbotics.com/doc/guide/robotis-op2#gait-manager)) there is a `stop()` function.

##### elkelkmuh 02/25/2020 07:41:25
`@David Mansolino` first I will use gaitmanager in webots for walking. Then I will stop gait manager. Finally I will control the motors of only arm. How can stop gait manager.I will not generate new gait manager.

##### David Mansolino [cyberbotics] 02/25/2020 06:34:08
`@elkelkmuh` in that case you have to develop your own gait algorithm (or improve the existing one) as the current gait algorithms impose the position of all the motors.


Hi `@coderrr`, yes you can specify the aperture using the `aperture` of the `DistanceSensor` node. See the documentation for more information: [https://cyberbotics.com/doc/reference/distancesensor](https://cyberbotics.com/doc/reference/distancesensor)

##### elkelkmuh 02/25/2020 06:06:07
Hi `@David Mansolino` First I want op2 to walk and then I want to stop and move its arms. 

How can I do it.(Normally I can do  seperately them)

I can't control the motors of the arms when I use gaitManager = RobotisOp2GaitManager(controller, "") and its initialization.

##### coderrr 02/25/2020 04:24:16
I am a new user of webots. I want to set aperture for distance sensor. Does anyone know how to do that?


Hello all,

##### David Mansolino [cyberbotics] 02/24/2020 15:25:15
I have never used openai gym with Webots, but I know somw people did, here is a few example (not sure about the quality of such examples):

[https://github.com/talregev/gym-webots](https://github.com/talregev/gym-webots)

[https://stackoverflow.com/questions/59786161/integration-with-open-ai-gym-stable-baselines](https://stackoverflow.com/questions/59786161/integration-with-open-ai-gym-stable-baselines)

##### kimkim 02/24/2020 15:23:25
Is there any tutorial I could refer to, it sould be big help. thano you. I'll use UR5.


And furthermore, I would like to try openai gym with webot,


Thank you, David, I'll use launch file. ðŸ™‚

##### David Mansolino [cyberbotics] 02/24/2020 13:18:46
`@User21` I have checked and on the Webots side the only thing you have to do is to make sure you use different prefixes in this launch file:  [https://github.com/cyberbotics/webots/blob/master/projects/robots/universal\_robots/resources/ros\_package/ur\_e\_webots/launch/ur5e\_joint\_limited.launch](https://github.com/cyberbotics/webots/blob/master/projects/robots/universal_robots/resources/ros_package/ur_e_webots/launch/ur5e_joint_limited.launch)



For the rest, it is not really related to Webots, You should probably ask directly to [https://github.com/ros-industrial/universal\_robot](https://github.com/ros-industrial/universal_robot) how you should do to control more than one arm.


You're welcome

##### User21 02/24/2020 09:14:43
okay thank you very much!

##### David Mansolino [cyberbotics] 02/24/2020 09:12:31
Ok, I will try when I have a bit of time and let you know.

##### User21 02/24/2020 09:09:35
*two


yea its working for one robot 

the problem i am not able to launch multiple moveit Nodes to plan for each robot im using. At the begining i just want to try it for to ur5e robots

##### David Mansolino [cyberbotics] 02/24/2020 09:06:41
What is the current problem you are facing?


`@User21` ah ok, good so for 1 robot it is working?

I have never tried it with more than one robot. But this should theoretically work

##### User21 02/24/2020 08:59:57
`@David Mansolino` i made my launchfile with these files you sent, but i want to use more then one robot with moveit so i have to use the group command, but when i use it (it seems like) it blocks outgoing messages from webots

##### David Mansolino [cyberbotics] 02/24/2020 07:18:41
`@User21` you can use one of these launch file to launch the simulation with the universal robot and ros interface: [https://github.com/cyberbotics/webots/tree/master/projects/robots/universal\_robots/resources/ros\_package/ur\_e\_webots/launch](https://github.com/cyberbotics/webots/tree/master/projects/robots/universal_robots/resources/ros_package/ur_e_webots/launch)

Then you can use directly the launch files from the 'MoveIt! with a simulated robot' part here: [https://github.com/ros-industrial/universal\_robot/blob/kinetic-devel/README.md](https://github.com/ros-industrial/universal_robot/blob/kinetic-devel/README.md)


What is exactly your problem?


`@kimkim`, I have never tried the ROS2 package for mac, but I would be more than happy to help you using it for mac.

##### kimkim 02/23/2020 14:33:30
Hi I am install webot - Ros2 package with mac, but problem is here..

##### User21 02/21/2020 19:29:31
Its just for one robot but i wanted to add more if it works for one


<?xml version="1.0"?>

<launch>

<group ns="robot1">

  <arg name="limited" default="true"  doc="If true, limits joint range [-PI, PI] on all joints." />

  <arg name="prefix" default="" doc="Prefix to robot's joints' and links' names" />

  <arg name="debug" default="false" />

  <arg name="pipeline" default="ompl" />

  <arg name="sim" default="True" />

  <arg name="config" default="true" />

  <param name = "use\_sim\_time" value= "True" type ="bool" />

  <param name="tf\_prefix" value="robot1\_tf" />









 

 <!-- Remap follow\_joint\_trajectory -->

  <remap if="$(arg sim)" from="/follow\_joint\_trajectory" to="/robot1/arm\_controller/follow\_joint\_trajectory"/>





  <!-- send robot urdf to param server -->

  <include file="$(find ur\_e\_description)/launch/ur5e\_upload.launch">

    <arg name="limited" value="$(arg limited)"/>

  </include>



 <!-- Launch moveit -->

  <include file="$(find ur5\_e\_moveit\_config)/launch/move\_group.launch">

    <arg name="allow\_trajectory\_execution" value="true"/>

    <arg name="fake\_execution" value="False"/>

    <arg name="info" value="true"/>

    <arg name="debug" value="$(arg debug)"/>

    

  </include> 





 <!-- Run Rviz -->

  <include file="$(find ur5\_e\_moveit\_config)/launch/moveit\_rviz.launch">

    <arg name="config" value="$(arg config)"/>

    <arg name="debug" value="$(arg debug)"/>



  </include>



  <!-- Robot state publisher -->

  <node pkg="robot\_state\_publisher" type="robot\_state\_publisher" name="robot\_state\_publisher">

    <param name="publish\_frequency" type="double" value="50.0" />

  </node>





  <!-- Fake Calibration -->

  <node pkg="rostopic" type="rostopic" name="fake\_joint\_calibration" args="pub /calibrated std\_msgs/Bool true" />



  <!--Start ManipulatorController (Path: webots\_posegoal -> posegoal -->

  <node name="ProvideManipulatorControll" pkg="webots\_posegoal" type="pose\_goal1"/>

 </group>

</launch>


My launchfile looks like that


Hi,

I want to use two ur5e with move\_it.  I followed the Gazeb Tutorial and tried to implement implement it in webots. I have to edit the launch file and i had to use the group command to seperate the published joint states. My Problem is  that Webots stops publishing so MoveIt cant plan.

##### Olivier Michel [cyberbotics] 02/21/2020 16:40:50
Of course, you can scale down all the masses if you don't want to modify the `WorldInfo` parameters, that should be equivalent, but maybe misleading if you look at the masses of the model...


No need to reduce the `WorldInfo.basicTimeStep` too much.


The boomer tractor is an example of an heavy weight vehicle: `webots/projects/vehicles/worlds/boomer.wbt` for which a number of `WorldInfo` parameters were adjusted to avoid getting the robot sinking into the ground. They are mainly `WorldInfo.ERP` and `WorldInfo.contactProperties.softCFM`. Playing with these values and going away from default value will make your simulation compliant with heavy weight vehicles.


There are other parameters which you can tune to allow for heavy weight models. Let me check it and I will revert back to you about it here...

##### Axel M 02/21/2020 16:32:42
How worth is it to simulate real weights of a somewhat massive robot ? Mine is about ~3 Tons and it's sinking into the ground even if I reduce basicTimeStep. I've tried the Model 3 Tesla Model, and it stop sinking into the ground at basicTimeStep ~= 2ms. I was wondering if, dividing all weights by 100 or 1000 in order to have a higher basicTimeStep was a valid approach (I imagine it to be a tradeoff between realistic forces / torques and simulation speed ?)

##### Troy 02/21/2020 16:30:17
`@David Mansolino` Hi David, on my Mac I replaced someRobot.urdf with the path to my urdf, and then it told me  zsh error, no match for outputFlie

##### David Mansolino [cyberbotics] 02/21/2020 14:01:20
No problem, you're welcome to do it yourself next time ðŸ˜‰

##### Axel M 02/21/2020 14:00:27
Uh sorry, could have done the PR myself ðŸ˜…

##### David Mansolino [cyberbotics] 02/21/2020 13:59:49
`@Axel M` I am improving the tutorial as you suggested here: [https://github.com/cyberbotics/webots/pull/1400/files](https://github.com/cyberbotics/webots/pull/1400/files)


You're welcome

##### Axel M 02/21/2020 13:57:47
Understood, thanks ðŸ™‚

##### David Mansolino [cyberbotics] 02/21/2020 13:56:25
About the dumbell, a Transform is required because there is only one Solid node (the whole dumbell is considered as one single object), therefore the various part of this object (e.g. Shapes) needs to be encaspulated in a Transform otherwise they would all be centered at the origin of the Solid.


You're right about the cylinder rotation, I will add a not about this.


Let me check

##### Axel M 02/21/2020 13:44:16
I have some remarks / questions regarding Tutorial 6 (4-Wheels Robot):

- (Even if kind of obvious), the rotation of the cylinder modelling the wheels is not mentioned ( (0,0,1) 1.5707 ) 

- Why are the translations of the spheres in the dumbell (Tutorial 5) achieved via Transform Node, whereas in the Tutorial 6 they're done using the translation attribute of the wheel Solid Node ?

##### David Mansolino [cyberbotics] 02/21/2020 13:34:34
You're welcome

##### MohammadSorush 02/21/2020 13:34:10
`@David Mansolino`  thank you

##### David Mansolino [cyberbotics] 02/21/2020 13:15:53
Note also that it should be defined in kilogram per square meter (and not as SoliWorks in grams per square millimeters)


`@MohammadSorush` in Webots inertial matrix must be defined at the center of mass in the object coordinate system


`@elkelkmuh` you're welcome, thank you for the feedback!

##### elkelkmuh 02/21/2020 12:24:07
`@David Mansolino` rev2 works.  thank you

##### MohammadSorush 02/21/2020 12:12:50
inertia by solidworks
%figure
![Screenshot_from_2020-02-21_15-31-56.png](https://cdn.discordapp.com/attachments/565154703139405824/680386450642305063/Screenshot_from_2020-02-21_15-31-56.png)
%end


Hi i want to import inertia matrix into webots so i found 3 type of data from solidworks  and i dont know which one is the answer. would you help me?

##### David Mansolino [cyberbotics] 02/21/2020 12:11:02
You're welcome

##### mero 02/21/2020 12:05:18
Thank you

##### David Mansolino [cyberbotics] 02/21/2020 12:02:42
Hi `@mero`, welcome!

Webots does provide one hand gripper as example: [https://cyberbotics.com/doc/guide/gripper-actuators](https://cyberbotics.com/doc/guide/gripper-actuators)

But I am sure many users created their own one

##### mero 02/21/2020 12:00:32
Hi, its my first time using webots and i was wondering if there is a simulation for a prosthetic hand that I can use?

##### David Mansolino [cyberbotics] 02/21/2020 10:55:33
Of course, you will find in the list: webots-R2020b-x86-64.tar.bz2

##### elkelkmuh 02/21/2020 10:55:11
Are there r2020 ver2 in ubuntu(beta)

##### David Mansolino [cyberbotics] 02/21/2020 10:51:32
Ok, that can explain the problem, we just fixed an issue with the camera.saveImage function a feww weeks ago as explained in the changelog of de development version: [https://github.com/cyberbotics/webots/blob/master/docs/reference/changelog-r2020.md#webots-r2020a-revision-2](https://github.com/cyberbotics/webots/blob/master/docs/reference/changelog-r2020.md#webots-r2020a-revision-2)

Maybe you should try with a beta version of 'R2020a ver2), you can find them in the nightly build, for example: [https://github.com/cyberbotics/webots/releases/tag/nightly\_19\_2\_2020](https://github.com/cyberbotics/webots/releases/tag/nightly_19_2_2020)

##### elkelkmuh 02/21/2020 10:49:04
2020a ver1

##### David Mansolino [cyberbotics] 02/21/2020 10:34:58
Which version of Webots are you using ?

##### elkelkmuh 02/21/2020 10:25:40
self.camera.saveImage("image%s.jpg"  %noun,100)

##### David Mansolino [cyberbotics] 02/21/2020 10:22:07
Ho do you save the image ?

##### elkelkmuh 02/21/2020 10:21:54
I am saving image . That was corrputed

##### David Mansolino [cyberbotics] 02/21/2020 10:18:35
Hi `@elkelkmuh`, where are you seeing this image? In the robot window, in the camera overla or when saving it from the controller?

##### elkelkmuh 02/21/2020 10:10:47
Hi `@David Mansolino`  camera image was corrupted in both real transfer and simulation. How can I correct i
%figure
![image2020-02-21-13-24-28-58685.jpg](https://cdn.discordapp.com/attachments/565154703139405824/680355731978977280/image2020-02-21-13-24-28-58685.jpg)
%end

##### David Mansolino [cyberbotics] 02/21/2020 06:33:41
Hi `@Troy`, you should indeed replace `someRobot.urdf` with the path to your urdf file. The arguments inside bracket are optional arguments that you can use to enable/disable some features.

Can you give us the exact command you are using to call the script?

##### Troy 02/20/2020 20:45:30
I tried to replace the "someRobot.urdf" with my robot urdf file, but it didn't work


python demo.py --input=someRobot.urdf [--output=outputFile] [--box-collision] [--normal] [--disable-mesh-optimization]


what should I change if I want to use this line


I'm very confused about how to use the urdf2webots tool


Hi everyone

##### David Mansolino [cyberbotics] 02/20/2020 16:13:39
Very nice model ! ðŸ˜„

##### Axel M 02/20/2020 16:02:42

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/680081911099686920/unknown.png)
%end


urdf2webots working (almost) like a charm ðŸ˜„


That's great, i'll give it a shot. Thanks ðŸ™‚

##### Fabien Rohrer [Moderator] 02/20/2020 13:38:12
[https://cyberbotics.com/doc/automobile/ackermannvehicle](https://cyberbotics.com/doc/automobile/ackermannvehicle)


.. including all our car models


And Webots contains several robot models containing suspensions


[https://www.cyberbotics.com/doc/guide/object-floors#uneventerrain](https://www.cyberbotics.com/doc/guide/object-floors#uneventerrain)


Uneven terrains can be created easily, for example using this node:


`@Axel M` Webots is indeed a good solution to model such robot.

##### David Mansolino [cyberbotics] 02/20/2020 13:35:21
`@kimkim` you're welcome :-)

##### Fabien Rohrer [Moderator] 02/20/2020 13:34:25
`@Axel M` Hi

##### kimkim 02/20/2020 13:33:59
wow thank you very much. ðŸ™‚

##### Axel M 02/20/2020 13:33:58
Hi everyone,

I'm in charge of trying webots as a potential solution for the new version of my company's robot simulator.

Do you have any resources recommendations regarding wheeled robots with suspensions ? A main concern for us is realistic physics on uneven terrain

##### David Mansolino [cyberbotics] 02/20/2020 13:28:53
Yes of course, this sample of the UR5 robot using gripper: [https://www.youtube.com/watch?v=WIY9ebqSXUc&feature=emb\_logo](https://www.youtube.com/watch?v=WIY9ebqSXUc&feature=emb_logo)

Is distributed within Webots:

[https://cyberbotics.com/doc/guide/ure#samples](https://cyberbotics.com/doc/guide/ure#samples)

##### kimkim 02/20/2020 13:27:24
Is there any information or example with griper I could reter to?

##### David Mansolino [cyberbotics] 02/20/2020 13:27:09
Hi  `@kimkim`

##### kimkim 02/20/2020 13:26:52
hi there, I am working with UR5 robot and add gripper.

##### junjihashimoto 02/20/2020 13:22:40
Thx!

##### David Mansolino [cyberbotics] 02/20/2020 13:21:38
This is done here: [https://github.com/cyberbotics/webots/blob/master/src/packaging/webots\_distro.c#L1104](https://github.com/cyberbotics/webots/blob/master/src/packaging/webots_distro.c#L1104)

Thank you


Hi,

##### junjihashimoto 02/20/2020 13:19:51
hi,

deb package of webots  needs libxkbcommon-x11. But it is not installed. I want to update the dependency of the package.

Where is the description of the dependency?

##### David Mansolino [cyberbotics] 02/20/2020 13:07:06
Hi `@TIm`, yes of course, what you are looking ofr is the Supervisor API: [https://cyberbotics.com/doc/reference/supervisor](https://cyberbotics.com/doc/reference/supervisor)

##### TIm 02/20/2020 12:18:46
Hi,

can you edit a world file by using code? Like insertRobot(Coordinates)

##### Stefania Pedrazzi [cyberbotics] 02/20/2020 08:30:58
You are welcome

##### User21 02/20/2020 08:30:36
Okay perfect thank you ver much

##### Stefania Pedrazzi [cyberbotics] 02/20/2020 08:30:16
Hi `@User21`, yes if you set the Solid.physics field to NULL, then the object will be a static object. If you need a pure graphical object, you should also set the Solid.boundingObject field to NULL.

##### User21 02/20/2020 08:27:47
Hi there its me again ðŸ˜ƒ 

Is it possible to make a box without pysical properties? my mobile robot has to move right through the object.

Thank you

##### David Mansolino [cyberbotics] 02/19/2020 15:22:53
You're welcome

##### Ultra\_LcD 02/19/2020 15:22:46
Ok, thank you for the help ðŸ˜€

##### David Mansolino [cyberbotics] 02/19/2020 15:21:57
Just for information, we are currently improving a lot the Webots-ROS2 interface, to have the latest improvement you can build the packages from sources from here: [https://github.com/cyberbotics/webots\_ros2.git](https://github.com/cyberbotics/webots_ros2.git)


This is indeed one possible solution!

##### Ultra\_LcD 02/19/2020 15:14:23
It's already done, I found the solution.  I've manually set the environment variable: export ROS2\_WEBOTS\_HOME=/usr/local/webots

##### David Mansolino [cyberbotics] 02/19/2020 15:10:35
Ok, the webots\_ros package doesn't include the Webots simulator (to be installed seperately), the simplest solution is to install the `webots_ros2_desktop` package from the package manager.

##### Ultra\_LcD 02/19/2020 15:09:37
From the package manager

##### David Mansolino [cyberbotics] 02/19/2020 15:08:37
Hi `@Ultra_LcD` wehlcome! How did you install the webots\_ros2 package? from sources or from APT ?

##### Ultra\_LcD 02/19/2020 14:39:53
Hello first time here ! I'm newbee in ros2 and webots, I have a proble with my install. The error said : Webots not found, you should either define "ROS2\_WEBOTS\_HOME", "WEBOTS\_HOME" or install the "webots\_ros2\_desktop" package.

Anybody have an idea ?

##### sunnyjerai 02/19/2020 13:52:07
Okay, understood. You've been of  great help. Thank you `@Fabien Rohrer`

##### Fabien Rohrer [Moderator] 02/19/2020 13:44:01
VRML does not contain data about physics, and meshes are not very stable in Webots. So I would say that critical geometries should be translated to simple primitives. In your case, I think that it's necessary to convert the wheels to cylinders, the caster wheels to spheres, and the gripper to (a set of) boxes. But the collisions over the body may be kept as a mesh.

##### sunnyjerai 02/19/2020 13:40:48
So, when I import a VRML file, I should use it only for defining geometry, however, I should use a primitive for defining the bounding object for better stability. I am getting this right?

##### Fabien Rohrer [Moderator] 02/19/2020 13:38:06

> **Attachment**: [review\_agent.mp4](https://cdn.discordapp.com/attachments/565154703139405824/679683132865118218/review_agent.mp4)


I fixed several of these small issues, and I have now a working result, but perfectible. At least it's a new good starting sample for you.



> **Attachment**: [bisro\_pull.py](https://cdn.discordapp.com/attachments/565154703139405824/679682644149141519/bisro_pull.py)



> **Attachment**: [review\_agent.wbt](https://cdn.discordapp.com/attachments/565154703139405824/679682626185068552/review_agent.wbt)


`@sunnyjerai` 3. The biggest issue is certainly that the boundingObject of the gripper plate is a mesh. This primitive is not very stable. Replacing it by a box gives much better results.

##### sunnyjerai 02/19/2020 13:18:48
Okay, I'll try that as well

##### Fabien Rohrer [Moderator] 02/19/2020 13:16:02
=> I'm giving a quick try to grip the object this way right now..


(Maybe that the gripper has too much force)


2. to control the gripper in force/torque mode rather in position mode.


1. do not use threads, especially to trigger the robot.step()


I also advise you to:


You should probably add a dummy boundingObject there, typically a sphere of radius 0.01

##### sunnyjerai 02/19/2020 13:06:01
That is the turn Table mechanism, However, it has 3 children which have their own bounding object.

##### Fabien Rohrer [Moderator] 02/19/2020 13:04:02
There is a Solid without boundingObject. That can cause issues


> WARNING: Robot > Solid: Mass is invalid because 'boundingObject' is not defined. Using default mass properties: mass = 1, inertia matrix = identity

##### sunnyjerai 02/19/2020 12:59:32

> **Attachment**: [bisro\_pull.py](https://cdn.discordapp.com/attachments/565154703139405824/679673427405176853/bisro_pull.py)


yeah

##### Fabien Rohrer [Moderator] 02/19/2020 12:59:04
Could you send it too?


I can't investiguate much more without the controller.


just looked a bit, and it seems that the contact properties are well defined.

##### sunnyjerai 02/19/2020 12:51:46

> **Attachment**: [review\_agent.wbt](https://cdn.discordapp.com/attachments/565154703139405824/679671470137671703/review_agent.wbt)


Yes , sure

##### Fabien Rohrer [Moderator] 02/19/2020 12:48:35
could you send your world here?


it seems there is an issue somewhere.


but the result in your movie seems to contradict this.


yes, -1 is supposed to give an infinite friction.

##### sunnyjerai 02/19/2020 12:45:12
As of now, the coulombFriction between the gripper contact material and object contact material is -1(for infinity)

##### Fabien Rohrer [Moderator] 02/19/2020 12:45:10
2 is twice bigger.


The default friction is ContactProperty.coulombFriction = 1.


To do so, you need to specify the Solid.contactMaterial fields, and then to define the WorldInfo.contactProperty for each couple of materials.


You should check that you defined well the friction.


`@sunnyjerai` difficult to answer without looking at the simulation file, but it seems that the friction object-gripper and object-ground is extremely low, rather than infinity as you claim.

##### sunnyjerai 02/19/2020 12:39:25
Can someone help me figure out why object keeps slipping. I've set the friction between the gripper and the object to infinity so that they won't slip. The object mass is 0.1 Kg and the robot can easily push the object.
> **Attachment**: [error\_01.mp4](https://cdn.discordapp.com/attachments/565154703139405824/679668362099425299/error_01.mp4)

##### Lifebinder (tsampazk) 02/19/2020 09:26:25
I don't know if its any extra help but, upon further investigation, i see that i changed the world file in the sphero/worlds and also added an extra texture in the same directory. Apparently that and updating to the new version broke the loading of the robot completely (even from other separate custom projects). Both the world and the texture files were not removed during uninstall. Thanks again.

##### Stefania Pedrazzi [cyberbotics] 02/19/2020 09:18:41
ok, thank you for info. We will try to improve it. We already know that there are some issues uninstalling Webots on windows if the installation directory has been modified manually by the user. In fact this is not recommended.

##### Lifebinder (tsampazk) 02/19/2020 09:17:22
Also i didn't mess with the bb-8 file but added some textures in the worlds directory

##### Stefania Pedrazzi [cyberbotics] 02/19/2020 09:15:37
OK. the error I mentioned it is not prompt in a new window, but in the logs area of the the installer report. Of course prompting it in a new window would be much more visible.

##### Lifebinder (tsampazk) 02/19/2020 09:14:11
I think i would remember if it threw an error when i updated, i don't think it did. It threw an error after the uninstall process now though.
%figure
![SPOILER_Annotation_2020-02-19_110312.png](https://cdn.discordapp.com/attachments/565154703139405824/679616715163828224/SPOILER_Annotation_2020-02-19_110312.png)
%end

##### Stefania Pedrazzi [cyberbotics] 02/19/2020 09:12:27
`@Lifebinder (tsampazk)` yes, if you modified a Webots installation file, then the Webots installer cannot delete them. but the installer should report if any file cannot be deleted properly. Did you remember if it was the case for you the first time you installed Webots R2020a rev1?

##### David Mansolino [cyberbotics] 02/19/2020 09:09:35
Very good news, thank you for the feedback.

##### Lifebinder (tsampazk) 02/19/2020 09:09:08
Ok now bb-8 is loaded properly. The problem seemed to be on my end, where I might have changed something that i don't remember and then updating to the new version broke it. I completely removed any related webots files and reinstalled and now it works. Thank you!

##### David Mansolino [cyberbotics] 02/19/2020 09:06:20
`@User21` ok in that case you are using ROS1, in that case you should be able to use the RVIZ and Moveit from the 'MoveIt! with a simulated robot' part documented here: [https://github.com/ros-industrial/universal\_robot/blob/kinetic-devel/README.md](https://github.com/ros-industrial/universal_robot/blob/kinetic-devel/README.md)

(after starting the simulation with `roslaunch ur_e_webots ur5.launch` ).

##### Lifebinder (tsampazk) 02/19/2020 09:01:24
this file is present in that path, maybe something went wrong on the installation of the new version over the old one? I'll try reinstalling and will get back to you

##### David Mansolino [cyberbotics] 02/19/2020 08:53:22
I just tried on Windows with R2020a rev1 and it is working fine for me.

Can you check if you have the BB-8 PROTO file in `WEBOTS_HOME/projects/robots/sphero/bb8/protos/BB-8.proto`?

If this is not the case, can you please try uninstalling and re-installing Webots?


Hi `@Lifebinder (tsampazk)` , let me check if I can reproduce this

##### Lifebinder (tsampazk) 02/19/2020 08:26:16
Hello, after the latest update (R2020a rev1) the sphero robot is not loaded, throwing an error, both in the robot benchmarking example and the sphero/worlds/pit\_escape.wbt



The error in the console reads :

ERROR: 'C:/Program Files/Webots/projects/robots/sphero/worlds/pit\_escape.wbt':103:16: error: Skipped unknown 'BB-8' node or PROTO.

##### User21 02/18/2020 17:01:52
`@David Mansolino` ah sorry im using ros melodic

##### Staff | paulthemagno 02/18/2020 16:36:09
> `@Staff | paulthemagno` I think this function can help: [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_reset\_physics](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_reset_physics) ... before you reset physics you probably should set the translation and rotation of your robot node with setSFVec3f(translation) and setSFRotation(rotation)

`@Luiz Felipe` Can you give me a snippet of the code? And how to extract the node of the robot, given the robot itself?

##### David Mansolino [cyberbotics] 02/18/2020 16:28:45
`@sunnyjerai` you're welcome

##### sunnyjerai 02/18/2020 16:28:31
Thank you so much `@David Mansolino` . The problem is solved. we can now works ahead.

##### David Mansolino [cyberbotics] 02/18/2020 16:09:58
I would also recomend to build the package from source from the master branch ([https://github.com/cyberbotics/webots\_ros2](https://github.com/cyberbotics/webots_ros2)) to get the latest improvments of the webots-ros2 interface.


Ok perfect, in that case you will find some examples here: [http://wiki.ros.org/webots\_ros2/Tutorials/webots\_ros2\_universal\_robot](http://wiki.ros.org/webots_ros2/Tutorials/webots_ros2_universal_robot)

##### User21 02/18/2020 16:07:17
ros2

##### David Mansolino [cyberbotics] 02/18/2020 16:06:14
`@User21` are you using ROS1 or ROS2 ?

##### User21 02/18/2020 16:04:42
hi there im tring to work with moveit and webots universa robot Ur5e.

I want to give the Ur5e more the one Positions for my endeffector. At the end i want to move my endeffector to a coordinate and then i want him to wait a few seconds. After that it should move to another position.

It works for the first coordinate but after that it move uncontrollable through the world. After some time it moves to the second position. 

Did someone make some experience with controlling the ur5e with moveit over a c++ or python script?

##### David Mansolino [cyberbotics] 02/18/2020 15:41:57
`@sunnyjerai`, I checked your model, and the problem is that the sliders of the gipper are not childrens of the 'Table' solid. I will send you a fixed version by mail. Note also that you should probably improve your bounding objects to use sets of basic geometries instead of indexedFaceSet, this will make the simulation run faster and more stable.


`@yash` you're welcome

##### yash 02/18/2020 15:27:33
Thanks `@David Mansolino`

##### David Mansolino [cyberbotics] 02/18/2020 15:27:08
Thank you, I will look at it.

##### sunnyjerai 02/18/2020 15:26:56
I've mailed the world file on the above mentioned mail address. Thank you.

##### David Mansolino [cyberbotics] 02/18/2020 15:24:33
You're welcome

##### sunnyjerai 02/18/2020 15:22:59
Okay, Thank you.

##### David Mansolino [cyberbotics] 02/18/2020 15:22:41
You can send it to me directly at support@cyberbotics.com.

##### sunnyjerai 02/18/2020 15:18:38
How should I send you the file?


Sure Thing. That would be great

##### David Mansolino [cyberbotics] 02/18/2020 15:13:29
Ok, in that case it is difficult to help you more without seeing exactly what is hapenning, would you agree sharing the robot model? (If you want to keep it confidential you can send it to me directly).

##### sunnyjerai 02/18/2020 15:12:13
No, we don't get any warning. on the console

##### David Mansolino [cyberbotics] 02/18/2020 15:10:03
Do you have any warnings in the Webots terminal when you load the model?

##### sunnyjerai 02/18/2020 15:09:30
Yes all of them have their Physics node enabled

##### David Mansolino [cyberbotics] 02/18/2020 15:07:52
Does the gripper have physics? All the Solid nodes ?

##### sunnyjerai 02/18/2020 15:06:59
This is the error that we are facing, The grey gripper is supposed to move with the turn-table.
> **Attachment**: [error.mp4](https://cdn.discordapp.com/attachments/565154703139405824/679343110022758410/error.mp4)

##### David Mansolino [cyberbotics] 02/18/2020 15:04:52
(you can add a group to create a composed boundign object)


The boudning object should be defined in the 'SOLID1+2' Solid

##### yash 02/18/2020 15:04:03
But then def shape will not have option for bounding object !

##### David Mansolino [cyberbotics] 02/18/2020 14:16:51
In that case, yes, you can do as `@Olivier Michel` said, it will result in something like:

```
DEF SOLID1+2 Solid {
  children [
    DEF SHAPE1 Shape {
      ...
    }
    DEF SHAPE2 Shape {
      ...
    }
    DEF JOINT HingeJoint {
      ...
    }
  ]
}
```

##### yash 02/18/2020 14:15:43
Yes I want all the part to be linked together and then rotate that linked part

##### David Mansolino [cyberbotics] 02/18/2020 14:13:59
`@yash`, you want all the part to be linked together right?

##### yash 02/18/2020 14:12:37
So should I still proceed as you instructed .?


`@Olivier Michel`  I tried doing it .... but one solid has hinge joint and one is just a solid

##### Olivier Michel [cyberbotics] 02/18/2020 12:01:09
E.g., 
```
DEF SOLID1 Solid {
  children [
    DEF SHAPE1 Shape {
      ...
    }
  ]
}
DEF SOLID2 Solid {
  children [
    DEF SHAPE2 Shape {
      ...
    }
  ]
}
```



Is merged this way:



```
DEF SOLID1+2 Solid {
  children [
    DEF SHAPE1 Shape {
      ...
    }
    DEF SHAPE2 Shape {
      ...
    }
  ]
}
```


`@yash`: you can simply put all the Shapes nodes as the children of the same Solid.

##### David Mansolino [cyberbotics] 02/18/2020 11:56:58
You're welcome

##### Lifebinder (tsampazk) 02/18/2020 11:56:53
`@David Mansolino` ok, thank you!

##### David Mansolino [cyberbotics] 02/18/2020 11:56:27
`@Lifebinder (tsampazk)`, this looks indeed like a bug, may I ask you to open an issue on the Github project: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)



Thank you.

##### yash 02/18/2020 11:55:34
Hi..I wanted know how to combine multiple solids(multiple transforms) into a single solid .... so that when in motion it moves together

##### Lifebinder (tsampazk) 02/18/2020 11:54:16
Hello, i'm using a supervisor node to reset a robot controller. The supervisor node and the robot node communicate with receivers/emitters both ways. They work ok up until i reset the robot controller



After resetting the robot controller and it is restarted and properly broadcasting, it seems that the supervisor receiver stops receiving the messages (the queue length stays at 0). After several steps the supervisor receiver starting picking up the messages the old messages (after reset) in order, thus they get badly desynchronized. The send method in the robot emitter properly returns 1.

##### David Mansolino [cyberbotics] 02/18/2020 07:47:00
You're welcome

##### Luiz Felipe 02/18/2020 07:45:49
I will test it. Thanks ðŸ™‚

##### David Mansolino [cyberbotics] 02/18/2020 06:33:49
`@Luiz Felipe`, in that  case, restarting the controllers ([https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_restart\_controller](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_restart_controller)) wouldn't be enough?


`@Staff | paulthemagno` In that case you should probably use this instead:

```
for x in range(0, 3):
  robot.fowards.play()
  robot.step(32)
  while not robot.fowards.isOver():
    robot.step(32)
```

##### Luiz Felipe 02/18/2020 02:50:23
My problem is similar I guess... I want to restart a simulation from a timestep, but keeping the inertia, velocities, and relocating the robots to the positions they were at that timestep (kind of a 'replay' or 'rewind function')... And start to explore again with my robots or repeat the same behavior from that 'point'/'checkpoint'... Is it possible to reset the simulation in this way? I see that when i save an html 5 animation I generate a json with rotation and translation parameters...


`@Staff | paulthemagno` I think this function can help: [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_reset\_physics](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_reset_physics) ... before you reset physics you probably should set the translation and rotation of your robot node with setSFVec3f(translation) and setSFRotation(rotation)

##### Staff | paulthemagno 02/18/2020 01:22:48
> You are completely correct.

> HOwever, time.sleep(5) will not help as it will make the controller wait, but not the simulation runs. As a first step try to call instead `robot.step(5000)`.

`@David Mansolino` Thank you very much David, it works! Can I ask if there is a way to automatically shift the robot to a certain position whithout steps? Because I have to run several epochs and the robot has to begin from the same position at the beginning of each epoch

##### David Mansolino [cyberbotics] 02/17/2020 19:24:48
> I think it's beacuse motion.play() only make the movement start, but doesn't wait the end of the command. 

You are completely correct.

HOwever, time.sleep(5) will not help as it will make the controller wait, but not the simulation runs. As a first step try to call instead `robot.step(5000)`.

##### Staff | paulthemagno 02/17/2020 18:58:43
> I am sorry but Webots is doesn not provide such high level control for the robot, if you want to define your own motion you have to control the motor of the robot individually, please follow this tutorial for more information: [https://cyberbotics.com/doc/guide/tutorial-4-more-about-controllers](https://cyberbotics.com/doc/guide/tutorial-4-more-about-controllers)

`@David Mansolino` Thank you David. I'm trying to do as you said but I'm founding difficoulties on more than 1 consecutive steps: I put in a for the api motion.play() to do it more times. Unfortunately the nao only does the first step, but not the other ones. I think it's beacuse motion.play() only make the movement start, but doesn't wait the end of the command. Not sure if it's so. It seems that every movement is launched almost together and it takes only the first. I try to put a time.sleep(5) between every method but it didn't changhed
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/679039039436881920/unknown.png)
%end

##### David Mansolino [cyberbotics] 02/17/2020 14:07:29
I am sorry but Webots is doesn not provide such high level control for the robot, if you want to define your own motion you have to control the motor of the robot individually, please follow this tutorial for more information: [https://cyberbotics.com/doc/guide/tutorial-4-more-about-controllers](https://cyberbotics.com/doc/guide/tutorial-4-more-about-controllers)

##### Staff | paulthemagno 02/17/2020 14:04:28
> One simple solution would be to let the nao do several step and then check the distance made, then you can simply compute the distance per step.

`@David Mansolino` This could be a way, and to turn the nao 90Â°? Because I see only 60, 40 and 180 in the documentation..

##### David Mansolino [cyberbotics] 02/17/2020 14:02:34
One simple solution would be to let the nao do several step and then check the distance made, then you can simply compute the distance per step.

##### Staff | paulthemagno 02/17/2020 13:56:51
> `@Staff | paulthemagno` here are some informations about motion files: [https://cyberbotics.com/doc/reference/motion-functions](https://cyberbotics.com/doc/reference/motion-functions)

`@David Mansolino` sorry for the questions about Nao in the server. I have already seen both the [https://github.com/cyberbotics/webots/tree/master/projects/robots/softbank/nao/motions](https://github.com/cyberbotics/webots/tree/master/projects/robots/softbank/nao/motions) files and the link you have posted ([https://cyberbotics.com/doc/reference/motion?tab-language=python](https://cyberbotics.com/doc/reference/motion?tab-language=python)). Anyway I don't find a way for my purpose: I have a virtual map and I should synchronize it with the map of Webots. For my project the Nao has to make little steps. To make the map in Webots be the same of my virtual map, I should know how long is its step or how to change it. In this way I can change the size of the squares of the chessboard, to make the nao be at the center of a square at the end of any step. How can I do that?

##### David Mansolino [cyberbotics] 02/17/2020 12:49:08
`@Staff | paulthemagno` here are some informations about motion files: [https://cyberbotics.com/doc/reference/motion-functions](https://cyberbotics.com/doc/reference/motion-functions)

##### Staff | paulthemagno 02/17/2020 12:48:20
> `@Staff | paulthemagno`, you should probably include the motion files: [https://github.com/cyberbotics/webots/tree/master/projects/robots/softbank/nao/motions](https://github.com/cyberbotics/webots/tree/master/projects/robots/softbank/nao/motions)

`@David Mansolino` Yes I saw these files and I'm using them. But how can I costumize them on a fixed lenght of step forward? I see there are a lot of rows and numbers and I'm not able to change the lenght of the step

##### David Mansolino [cyberbotics] 02/17/2020 12:43:30
Very good news !

##### elkelkmuh 02/17/2020 11:31:55
Thank you. Its works

##### David Mansolino [cyberbotics] 02/17/2020 11:02:52
jpeglib.h ?

##### elkelkmuh 02/17/2020 11:02:07
`@David Mansolino`  Thanks david, previously I tried it but  I will change which file, main.cpp in which folder

##### David Mansolino [cyberbotics] 02/17/2020 10:59:11
[http://letmegooglethat.com/?q=size\_t+does+not+name+a+type](http://letmegooglethat.com/?q=size_t+does+not+name+a+type)

##### elkelkmuh 02/17/2020 10:55:15
`@David Mansolino`  can you help me?


I have been unable to work because of this problem for a long time.  I can't find where the problem might be.  Anybody have an idea?


`@David Mansolino`  The only error when trying with Ubuntu is libjpeg.  Can you help with this?
%figure
![IMG_20200217_122937.jpg](https://cdn.discordapp.com/attachments/565154703139405824/678896643197763605/IMG_20200217_122937.jpg)
%end


`@David Mansolino` I did. What should I do now



%figure
![JPEG_20200217_110458.jpg](https://cdn.discordapp.com/attachments/565154703139405824/678874544148316193/JPEG_20200217_110458.jpg)
%end

##### David Mansolino [cyberbotics] 02/17/2020 08:01:40
With whatever you want that uses the SSH protocol

##### elkelkmuh 02/17/2020 08:00:44
With putty?

##### David Mansolino [cyberbotics] 02/17/2020 07:57:41
and to SSH ? Webots is using SSH internally to connect to the robot.

##### elkelkmuh 02/17/2020 07:57:20
I can connect to vnc

##### David Mansolino [cyberbotics] 02/17/2020 07:56:46
`@elkelkmuh` can you ping the robot from this new computer ?

##### elkelkmuh 02/17/2020 07:45:52
Hi, I'm trying on another windows10 installed computer.  It never connects.  Can I do anything for this?
%figure
![IMG_20200217_104310.jpg](https://cdn.discordapp.com/attachments/565154703139405824/678869711043166209/IMG_20200217_104310.jpg)
%end

##### David Mansolino [cyberbotics] 02/17/2020 07:45:20
`@Staff | paulthemagno`, you should probably include the motion files: [https://github.com/cyberbotics/webots/tree/master/projects/robots/softbank/nao/motions](https://github.com/cyberbotics/webots/tree/master/projects/robots/softbank/nao/motions)


Hi `@User21`, this examples lets you control the robot using 'FollowJointTrajectoryAction' action (named `follow_joint_trajectory`). The state of the joints is published in the `/joint_states` topic.

##### Stefania Pedrazzi [cyberbotics] 02/17/2020 07:10:17
`@Nocturnal Warfare` unfortunately VRML files  (.wrl) can only be imported at the root node. But if your CAD model has a top node and in the VRML file this top node disappears and all the parts are defined as sibling nodes, then there is probably an problem with the VRML exporter. Not sure if this would work in your applications, but an alternative to copy and paste the nodes individually could be to add an additional parent node before exporting the VRML or if it doesn't work to add a parent node directly in the generated VRML file.

##### elkelkmuh 02/16/2020 13:00:50
> I reached just only one error

> [sudo] password for robotis: In file included from /robotis/Linux/include/../build/streamer/jpeg\_utils.h:11:0,

>                  from main.cpp:15:

> libjpeg-turbo/include/jpeglib.h:776:3: error: â€˜size\_tâ€™ does not name a type

> libjpeg-turbo/include/jpeglib.h:787:3: error: â€˜size\_tâ€™ does not name a type

> libjpeg-turbo/include/jpeglib.h:816:3: error: â€˜size\_tâ€™ has not been declared

> libjpeg-turbo/include/jpeglib.h:818:3: error: â€˜size\_tâ€™ has not been declared

> libjpeg-turbo/include/jpeglib.h:967:34: error: â€˜size\_tï¿½ï¿½ï¿½ has not been declared

> libjpeg-turbo/include/jpeglib.h:969:36: error: â€˜size\_tâ€™ has not been declared

> libjpeg-turbo/include/jpeglib.h:977:30: error: ï¿½ï¿½ï¿½FILEâ€™ has not been declared

> libjpeg-turbo/include/jpeglib.h:978:29: error: â€˜FILEâ€™ has not been declared

> make: *** [main.o] Error 1

`@elkelkmuh`  

Can I use jpeglib.h in the link to solve this problem?

[https://github.com/darwinop/webots-cross-compilation/blob/master/resources/projects/robots/darwin-op/remote\_control/libjpeg-turbo/include/jpeglib.h](https://github.com/darwinop/webots-cross-compilation/blob/master/resources/projects/robots/darwin-op/remote_control/libjpeg-turbo/include/jpeglib.h)

Where should I add this h file?

`@David Mansolino`

##### Staff | paulthemagno 02/15/2020 15:16:49
> `@Staff | paulthemagno`, here is an example of python controller for the NAO robot: [https://github.com/cyberbotics/webots/blob/master/projects/robots/softbank/nao/controllers/nao\_demo\_python/nao\_demo\_python.py](https://github.com/cyberbotics/webots/blob/master/projects/robots/softbank/nao/controllers/nao_demo_python/nao_demo_python.py)

`@David Mansolino` thank you very much!! I should custom the lenght of the step forward of NAO. How can I do that?

##### User21 02/15/2020 14:23:33
Hi there,

how does the trajectory follower form the webots-ros universal robot example work? Can someone explain it to me?

Just by looking at the Code i cant really tell whats going on

##### Nocturnal Warfare 02/15/2020 06:45:27
I had a question about importing my CAD .wrl into my simulation. When importing VRML file into webots, is there anyway to import it directly into the child of my robot? When I import it seems to import almost every part individually, and it throws all of the transforms into the main directory that has my WorldInfo, Floor, etc. Alternatively is there any easier way to copy those imported transforms into my robot over copying and pasting each one individually?

##### Olivier Michel [cyberbotics] 02/14/2020 15:41:38
OK, thank you for the video. It looks like a bug indeed. The wireframe color doesn't seem to be reset to white as it should. Can you open a bug report about it with a link to you movie? [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

##### ClBaze 02/14/2020 15:37:42
[https://youtu.be/W2Se0ipM7nQ](https://youtu.be/W2Se0ipM7nQ)


`@Olivier Michel` Here is a video of the collision. In fact its probably a display issue, I've just noticed that if I click away and then back on the solid it resume to white

##### elkelkmuh 02/14/2020 15:21:12
I used sudo make...

##### DrVoodoo [Moderator] 02/14/2020 15:17:16
*wouldn't get that


Very odd, it would be one thing if the Makefile had an error but not to be able to see the Makefile at all......even if the file permissions were wrong you would get that error message. It is literally that make cannot see that file for some reason

##### Olivier Michel [cyberbotics] 02/14/2020 15:14:29
`@ClBaze`: yes, that means that there is still some collision (and hence repulsion forces are generated).

##### elkelkmuh 02/14/2020 15:10:37

%figure
![IMG_20200214_180950.jpg](https://cdn.discordapp.com/attachments/565154703139405824/677894471819591690/IMG_20200214_180950.jpg)
%end


> and if you explicitly specify the Makefile with your make command. i.e. "make -f Makefile"

`@DrVoodoo`  I did it. Again same error" no rule no make target makefile stop

##### ClBaze 02/14/2020 15:04:59
What does it mean ? Maybe the bounding box of the solid is pushed into its parent ?


Sometimes if it hit a bit hard, the bounding box stay red


Hello, I've noticed that when a solid enters in collision with another, its bounding box becomes red and then turn back to white when there is no more contact.

##### DrVoodoo [Moderator] 02/14/2020 14:57:22
and if you explicitly specify the Makefile with your make command. i.e. "make -f Makefile"

##### elkelkmuh 02/14/2020 14:52:05
There is makefile in that directory

##### DrVoodoo [Moderator] 02/14/2020 14:51:21
but there is no Makefile in that directory?

##### elkelkmuh 02/14/2020 14:38:41
> 2? In which case you appear to be in the wrong directory, you should be in the darwin directory within libraries, not the libraries dir itself

`@DrVoodoo` I'm in that location


I followed webots page for transfer to real robot.



But I received  some erros later I tried the page David said

##### DrVoodoo [Moderator] 02/14/2020 14:34:36
2? In which case you appear to be in the wrong directory, you should be in the darwin directory within libraries, not the libraries dir itself


`@elkelkmuh` Which instruction are you trying to follow?

##### elkelkmuh 02/14/2020 14:01:39
Please can you help?


`@David Mansolino`  the steps in [https://github.com/darwinop/webots-cross-compilation](https://github.com/darwinop/webots-cross-compilation)  dont work.

 for example :/usr/local/webots/resources/projects/robots/darwin-op/libraries# make

make: *** No targets specified and no makefile found.  Stop


`@David Mansolino`  What can I do for this error?


It is about jpeglib


I reached just only one error

[sudo] password for robotis: In file included from /robotis/Linux/include/../build/streamer/jpeg\_utils.h:11:0,

                 from main.cpp:15:

libjpeg-turbo/include/jpeglib.h:776:3: error: â€˜size\_tâ€™ does not name a type

libjpeg-turbo/include/jpeglib.h:787:3: error: â€˜size\_tâ€™ does not name a type

libjpeg-turbo/include/jpeglib.h:816:3: error: â€˜size\_tâ€™ has not been declared

libjpeg-turbo/include/jpeglib.h:818:3: error: â€˜size\_tâ€™ has not been declared

libjpeg-turbo/include/jpeglib.h:967:34: error: â€˜size\_tï¿½ï¿½ï¿½ has not been declared

libjpeg-turbo/include/jpeglib.h:969:36: error: â€˜size\_tâ€™ has not been declared

libjpeg-turbo/include/jpeglib.h:977:30: error: ï¿½ï¿½ï¿½FILEâ€™ has not been declared

libjpeg-turbo/include/jpeglib.h:978:29: error: â€˜FILEâ€™ has not been declared

make: *** [main.o] Error 1


Hi `@David Mansolino`

##### David Mansolino [cyberbotics] 02/14/2020 08:29:45
ok, good news ðŸ™‚

##### Ptosidis\_opendr 02/14/2020 08:26:59
done, i used cam and camera for camera Api and Sup api and messed up the names along the way ðŸ™‚

##### David Mansolino [cyberbotics] 02/14/2020 08:15:07
Yes you should be able to get it but not throught the camera API, you should use the Supervisor API.

##### Ptosidis\_opendr 02/14/2020 08:12:43
that was probably misleading, since I got the width through the getCamera function and through that object i got the width. But since rotation is included under camera, shouldn't i be able to access it aswell? (and to anwer your question, yeah the value is the correct one)

##### David Mansolino [cyberbotics] 02/14/2020 08:07:39
ok, that's very strange, and you get the correct value for the width ?

##### Ptosidis\_opendr 02/14/2020 07:45:33
yeah, and even though i can get the Camera's width etc, i cant get the Rotation vector

##### David Mansolino [cyberbotics] 02/14/2020 07:43:06
Hi `@Ptosidis_opendr` are you using the Supervisor API to do this ([https://cyberbotics.com/doc/reference/supervisor?tab-language=python](https://cyberbotics.com/doc/reference/supervisor?tab-language=python)) ? If this is the case, you should probably check at each step if the field/node you get is correct.

##### Ptosidis\_opendr 02/14/2020 07:34:42
Hello again, 

i am trying to access the field 'rotation' within the camera of the Mavic2pro (Mavic2Pro -> cameraslot-> Camera -> Rotation) so i can manually set it from a supervisor, but I can't seem to hit it right. Could you please guide me in the right direction? (python)

##### David Mansolino [cyberbotics] 02/14/2020 06:38:03
`@Staff | paulthemagno`, here is an example of python controller for the NAO robot: [https://github.com/cyberbotics/webots/blob/master/projects/robots/softbank/nao/controllers/nao\_demo\_python/nao\_demo\_python.py](https://github.com/cyberbotics/webots/blob/master/projects/robots/softbank/nao/controllers/nao_demo_python/nao_demo_python.py)

##### Staff | paulthemagno 02/14/2020 00:34:30
have you got a python snippet of the controller for NAO in which it steps forward?

##### hkdeman 02/13/2020 10:42:48
Thank you! I shall add the bug!

##### Fabien Rohrer [Moderator] 02/13/2020 10:40:07
[https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)


This should not crash Webots. If you have a crash stack or something, please fill a bug report:


An alternative could be to use a GPS device.

##### hkdeman 02/13/2020 10:36:41
Hi, I was working with ROS and Webots together. Although, when I have a supervisor mode turned on for BB-8 robot and I try getting the translation of the robot, the ROS connection crashes in Webots. Is there any alternative to getting the translation without using the supervisor? Or on how I could fix this issue?

##### David Mansolino [cyberbotics] 02/13/2020 05:58:08
Hi `@zibz`, yes, you can find examples with opencv in C++ here: [https://github.com/cyberbotics/webots/tree/master/projects/samples/howto/controllers/vision](https://github.com/cyberbotics/webots/tree/master/projects/samples/howto/controllers/vision)

And Python here: [https://github.com/cyberbotics/webots/blob/master/projects/samples/robotbenchmark/visual\_tracking/controllers/visual\_tracking/visual\_tracking.py](https://github.com/cyberbotics/webots/blob/master/projects/samples/robotbenchmark/visual_tracking/controllers/visual_tracking/visual_tracking.py)

For zbar, the integration should work the exact same way.

##### zibz 02/13/2020 03:09:13
hi, has anyone used opencv or zbar with camera data?

##### Olivier Michel [cyberbotics] 02/12/2020 11:52:20
Thank you for the detailed explanation.

##### kwy 02/12/2020 11:50:58
If I choose other one for â€œPython interpretersâ€ on â€œConfigurationâ€, then the Process finished with exit code 139 (interrupted by signal 11: SIGSEGV), and sometime even crashing Python.



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/677119417271844874/unknown.png)
%end


Only the selected one is available, which was installed for the â€œyouBot robotâ€ of Webots.



If I choose other one for â€œproject interpretersâ€ on â€œpreferenceâ€, then these is a Warning on webots


I have installed so many python â€¦
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/677119341048627220/unknown.png)
%end

##### Olivier Michel [cyberbotics] 02/12/2020 11:25:51
So, did you set it to the one of the official Python distribution (which you installed from python.org as explained in the Webots user guide)?

##### kwy 02/12/2020 11:19:27
..have fixed, just change the Python interpreter in the Configuration âœ…


Hello, I'm using Pycharm with Webots, but the Process finished with exit code 139 (interrupted by signal 11: SIGSEGV), and sometime crashing Python.  how can I fix it? thanks advance

##### David Mansolino [cyberbotics] 02/12/2020 10:08:40
You're welcome ðŸ˜‰

##### Gautier A. 02/12/2020 10:08:30
Thank you a lot !


It works !

##### David Mansolino [cyberbotics] 02/12/2020 09:43:09
Hi `@Gautier A.`, yes of course, this is done for example here: [https://github.com/cyberbotics/webots/blob/69202baee3c0974f69f0e72d3412d19ed69feaad/projects/objects/floors/protos/UnevenTerrain.proto#L29](https://github.com/cyberbotics/webots/blob/69202baee3c0974f69f0e72d3412d19ed69feaad/projects/objects/floors/protos/UnevenTerrain.proto#L29)

##### Gautier A. 02/12/2020 09:40:33
(I need this library to import an environnement variable)


Is it possible to import the library "os" when using lua inside a generated proto ?


Hello

##### elkelkmuh 02/12/2020 09:25:42
`@David Mansolino`  Thank you. I started to review the file.  I will do it all step by step. hope it works.

##### David Mansolino [cyberbotics] 02/12/2020 09:17:38
You should probabyl get insipration from the installation steps from the README file fo this erpo: [https://github.com/darwinop/webots-cross-compilation](https://github.com/darwinop/webots-cross-compilation)

##### elkelkmuh 02/12/2020 09:14:45
`@David Mansolino`  Do you have any advice?

For example, I recovered the robot and turned it back to its original settings.

Can you write the steps I can follow for the post?

##### David Mansolino [cyberbotics] 02/12/2020 08:55:56
Hi again `@elkelkmuh`, you should probably try to understand and fix the compilation problem on the robot directly (without usign Webots in a first step). Once this is working you should retry with the Webots interface.

##### elkelkmuh 02/12/2020 08:49:40
> `@elkelkmuh` I think you should summarize in a concise way the current issue you are trying to solve,  and do hypothesis by yourself, and come here in a second step, where you identified well the issue.

`@Fabien Rohrer` Actually, I do not have any problems in programming. Problem: I cannot run webots and op2 together. I think I will try to solve the problem myself.

##### Fabien Rohrer [Moderator] 02/12/2020 08:29:37
`@elkelkmuh` I think you should summarize in a concise way the current issue you are trying to solve,  and do hypothesis by yourself, and come here in a second step, where you identified well the issue.

##### elkelkmuh 02/12/2020 08:24:28
Does anyone have any advice on this matter? I have not been able to solve this problem for a long time.

##### Fabien Rohrer [Moderator] 02/12/2020 08:16:15
`@elkelkmuh` no, this is for `@Nocturnal Warfare` ðŸ˜‰

##### elkelkmuh 02/12/2020 08:15:15
> Unfortunately, I don't have a better starting point to provide you (the examples we have doing this are certainly too complex to be good starting points). Maybe this doc: [https://cyberbotics.com/doc/guide/interfacing-webots-to-third-party-software-with-tcp-ip](https://cyberbotics.com/doc/guide/interfacing-webots-to-third-party-software-with-tcp-ip)

`@Fabien Rohrer` is this for me?

##### Fabien Rohrer [Moderator] 02/12/2020 08:10:00
`@Nocturnal Warfare` Unfortunately, I don't have a better starting point to provide you (the examples we have doing this are certainly too complex to be good starting points). Maybe this doc: [https://cyberbotics.com/doc/guide/interfacing-webots-to-third-party-software-with-tcp-ip](https://cyberbotics.com/doc/guide/interfacing-webots-to-third-party-software-with-tcp-ip)

##### Nocturnal Warfare 02/12/2020 08:08:12
yeah i think that makes sense, thank you

##### Fabien Rohrer [Moderator] 02/12/2020 08:06:40
`@Nocturnal Warfare` Looking at that quickly, I would create a Webots controller in Python which would simply open an UDP server, and wrap the simulated drone API with the DroneKit protocol. Then a regular dronekit script ([https://github.com/dronekit/dronekit-python#getting-started](https://github.com/dronekit/dronekit-python#getting-started)) could connect to this "fake" server to dialog with it as it is a real drone. Therefore, the main difficulty of such wrapper would be to mimic perfectly the DroneKit protocol. Does this make sense?

##### elkelkmuh 02/12/2020 08:04:37
`@David Mansolino`  I can not find how to solve the problem, can you help me?

##### Nocturnal Warfare 02/12/2020 08:00:47
Are there any resources on how I would start making such a wrapper?

##### Fabien Rohrer [Moderator] 02/12/2020 07:56:33
`@Nocturnal Warfare` Hi. In my knowledge, there is unfortunately no interface between Dronekit and Webots. It is clearly possible to implement a wrapper between them.

##### David Mansolino [cyberbotics] 02/12/2020 07:52:42
`@threeal`, here is the exact worflow to update the motor position: 

[https://cyberbotics.com/doc/reference/motor#position-control](https://cyberbotics.com/doc/reference/motor#position-control)

You can also find an example of PID tunning here: 

[https://cyberbotics.com/doc/guide/samples-howto#ziegler\_nichols-wbt](https://cyberbotics.com/doc/guide/samples-howto#ziegler_nichols-wbt)

##### Nocturnal Warfare 02/12/2020 07:47:25
So I am making a robot and have been doing simulation in Webots using python, but I wanted to implement it using a Pixhawk 4 mini through Dronekit. I was wondering if anyone has any experience porting over the Webots simulation to the Pixhawk running ArduPilot over Dronekit and if they had any advice on the matter.

##### threeal 02/12/2020 07:12:01
I see, but how pid gain in webots affects  the calculation of the target motor position?  `@David Mansolino`

##### elkelkmuh 02/12/2020 06:30:06
Errors
> **Attachment**: [message.txt](https://cdn.discordapp.com/attachments/565154703139405824/677038707663962112/message.txt)


Hi `@David Mansolino`  , I tried the framework at this address (  [https://sourceforge.net/p/darwinop/code/HEAD/tree/trunk/darwin/](https://sourceforge.net/p/darwinop/code/HEAD/tree/trunk/darwin/) )

 I get errors when I  installed this.

##### David Mansolino [cyberbotics] 02/12/2020 06:23:10
HI `@threeal`, by default Webots uses (10, 0, 0). Note also that there is a difference between Webots and the robotis motors, Webots does a control in speed regulation whereas robotis motors do a control on torque regulation.

##### threeal 02/11/2020 18:18:56
hi there, in webots documentation, it said that webots use pid controller to control the motor position ([https://cyberbotics.com/doc/reference/motor#field-summary](https://cyberbotics.com/doc/reference/motor#field-summary).)

but how is the exact pid system in that motor controller? like in the robotis's motor it said this specification fo the controller system ([http://emanual.robotis.com/docs/en/dxl/mx/mx-64/#p-gain](http://emanual.robotis.com/docs/en/dxl/mx/mx-64/#p-gain)), but when i see the default pid controller in robotis darwin op demo it use (8 0 0), is it the right value in webots?

##### David Mansolino [cyberbotics] 02/11/2020 16:20:33
You're welcome

##### elkelkmuh 02/11/2020 16:20:06
`@David Mansolino`  thank you

##### David Mansolino [cyberbotics] 02/11/2020 15:51:31
`@elkelkmuh` you should probably have a look into previous versions of the framework (available on sourceforge)


`@TIm` you're welcome

##### TIm 02/11/2020 15:23:29
`@David Mansolino` Thank you very much â˜ºï¸

##### elkelkmuh 02/11/2020 15:09:54
`@David Mansolino`  Can I copy or download this from anywhere?


I cant find it

##### David Mansolino [cyberbotics] 02/11/2020 14:53:18
First look for it, maybe it was simply renamed or so.

##### elkelkmuh 02/11/2020 14:52:19
> Can you find it somewhere in the framework?

`@David Mansolino`  OK. I try. What can I do if I can't find it?

##### David Mansolino [cyberbotics] 02/11/2020 14:48:29
Can you find it somewhere in the framework?


In that case you should try to understand why the `SearchAndTracking` function is not found.

##### elkelkmuh 02/11/2020 14:43:31
`@David Mansolino` i did it.  gives the same error again.

Is there anything else I can do?

##### David Mansolino [cyberbotics] 02/11/2020 14:42:31
Hi `@TIm` , Yes of course you can create your own robot model: [https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot](https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot)

Or import one from an URDF model: [https://github.com/cyberbotics/urdf2webots](https://github.com/cyberbotics/urdf2webots)

##### TIm 02/11/2020 14:40:29
hi,

is it possible to include the panda robot in webots?

##### David Mansolino [cyberbotics] 02/11/2020 14:25:27
Yes

##### elkelkmuh 02/11/2020 14:25:14
can i do it from this window?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/676795890534711305/unknown.png)
%end

##### David Mansolino [cyberbotics] 02/11/2020 14:20:28
You should probably try to uninstall Webots from the robot and re-install it.

##### elkelkmuh 02/11/2020 14:19:01
`@David Mansolino`  Robotis-op2 v1.7.0



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/676793768933851196/unknown.png)
%end

##### David Mansolino [cyberbotics] 02/11/2020 14:12:25
which version of the robotis framework are you using?


Yes it seems you can now connect to the robot succesfully but you have compilation issues..

##### elkelkmuh 02/11/2020 14:11:18
connection error solved. but  I have a new error 

Error:

streamer/jpeg\_utils.cpp:188:39: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]

streamer/jpeg\_utils.cpp:166:9: warning: variable â€˜zâ€™ set but not used [-Wunused-but-set-variable]

streamer/mjpg\_streamer.cpp: In constructor â€˜mjpg\_streamer::mjpg\_streamer(int, int)â€™:

streamer/mjpg\_streamer.cpp:39:30: warning: deprecated conversion from string constant to â€˜charâ€™ [-Wwrite-strings]

g++ -O2 -D

LinuxCM730.cpp: In function â€˜void sem\_wait\_nointr(sem\_t)â€™:

LinuxCM730.cpp:163:21: warning: unused variable â€˜sem\_countâ€™ [-Wunused-variable]

StatusCheck.cpp: In static member function â€˜static void Robot::StatusCheck::Check(Robot::CM730&)â€™:

StatusCheck.cpp:123:26: warning: statement has no effect [-Wunused-value]

main.cpp: In function â€˜int main()â€™:

main.cpp:236:35: error: â€˜class Robot::BallTrackerâ€™ has no member named â€˜SearchAndTrackingâ€™

make: * [main.o] Error 1

In file included from /robotis/Linux/include/../build/streamer/jpeg\_utils.h:11:0,

                 from main.cpp:15:

libjpeg-turbo/include/jpeglib.h:776:3: error: â€˜size\_tâ€™ does not name a typ

[sudo] password for robotis: [sudo] password for robotis: sudo: /robotis/Linux/project/webots/remote\_control/remote\_control: command not found

##### David Mansolino [cyberbotics] 02/11/2020 14:07:14
OK, but do you still have now the Error message:"Unable to establish connection with the robot. Connection error: server identity not verified".

SSh-RSA key has changed , for security reasons the connection will be stopped ,please remove the old SSH-RSA  the known\_hosts file

??

##### elkelkmuh 02/11/2020 14:06:20
I cant remove the rsa key on the robot. I removed on computer. 

cp ~/.ssh/known\_hosts ~/.ssh/known\_hosts.old

rm ~/.ssh/known\_hosts

this code did not work on the robot.

##### David Mansolino [cyberbotics] 02/11/2020 14:04:58
This code seems right, and it looks like it did fix the initial issue. Can you confirm ?

##### elkelkmuh 02/11/2020 14:04:04
`@David Mansolino` I used this code for remove: 

cp ~/.ssh/known\_hosts ~/.ssh/known\_hosts.old

rm ~/.ssh/known\_hosts


`@David Mansolino`  Error:       

streamer/jpeg\_utils.cpp:188:39: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]

streamer/jpeg\_utils.cpp:166:9: warning: variable â€˜zâ€™ set but not used [-Wunused-but-set-variable]

streamer/mjpg\_streamer.cpp: In constructor â€˜mjpg\_streamer::mjpg\_streamer(int, int)â€™:

streamer/mjpg\_streamer.cpp:39:30: warning: deprecated conversion from string constant to â€˜char*â€™ [-Wwrite-strings]

g++ -O2 -D

LinuxCM730.cpp: In function â€˜void sem\_wait\_nointr(sem\_t*)â€™:

LinuxCM730.cpp:163:21: warning: unused variable â€˜sem\_countâ€™ [-Wunused-variable]

StatusCheck.cpp: In static member function â€˜static void Robot::StatusCheck::Check(Robot::CM730&)â€™:

StatusCheck.cpp:123:26: warning: statement has no effect [-Wunused-value]

main.cpp: In function â€˜int main()â€™:

main.cpp:236:35: error: â€˜class Robot::BallTrackerâ€™ has no member named â€˜SearchAndTrackingâ€™

make: * [main.o] Error 1

In file included from /robotis/Linux/include/../build/streamer/jpeg\_utils.h:11:0,

                 from main.cpp:15:

libjpeg-turbo/include/jpeglib.h:776:3: error: â€˜size\_tâ€™ does not name a typ

[sudo] password for robotis: [sudo] password for robotis: sudo: /robotis/Linux/project/webots/remote\_control/remote\_control: command not found


`@David Mansolino`  I cant remove the rsa key on the robot. I removed on computer

##### avs 02/11/2020 11:12:28
Thank You

##### David Mansolino [cyberbotics] 02/11/2020 11:11:54
Hi `@avs`, you can find the Webots requirement here: [https://cyberbotics.com/doc/guide/system-requirements](https://cyberbotics.com/doc/guide/system-requirements)

##### avs 02/11/2020 11:11:14
what are system requirements to run a free software

##### David Mansolino [cyberbotics] 02/11/2020 09:26:57
The first thing to try is to remove the `~/.ssh/known_hosts` file (both on your computer and on the robot)


Have you tried removing the old RSA key?

##### elkelkmuh 02/11/2020 09:19:01
OP: windows

Webots version: 2020 rev 1

I can connect with wifi.  

Error message:"Unable to establish connection with the robot. Connection error: server identity not verified".  

SSh-RSA key has changed , for security reasons the connection will be stopped ,please remove the old SSH-RSA  the known\_hosts file


I am a phd student.  I can't do my thesis because I can't solve the problem.

##### David Mansolino [cyberbotics] 02/11/2020 09:08:35
Ok, let's try to check what is happenning. Here are a few questions to better understand what is happenning:

  - Which version of Webots do you have?

  - On which OS are you?

  - Are you connected to the robot by wire or wifi?

  - What is exactly the error message you have?

##### elkelkmuh 02/11/2020 09:05:36
Unfortunately, op2

##### David Mansolino [cyberbotics] 02/11/2020 09:03:33
(please don't say darwin-op)


To which robot?

##### elkelkmuh 02/11/2020 09:03:06
While trying to connect to the robot, the webost program gives an error.  I can't connect to the robot.

##### David Mansolino [cyberbotics] 02/11/2020 09:02:25
Can I help you?


Hi

##### elkelkmuh 02/11/2020 09:00:56
Hi `@David Mansolino`

##### David Mansolino [cyberbotics] 02/11/2020 08:25:08
You're welcome

##### Gautier A. 02/11/2020 08:24:50
Hi `@David Mansolino`, understood. Thank you for your response !

##### David Mansolino [cyberbotics] 02/11/2020 06:22:05
Hi `@Gautier A.`, unfortunately this is not possible, a robot can't get the value of devices of another robot.


Hi `@elkelkmuh`

##### elkelkmuh 02/11/2020 03:07:50
Hello

##### Gautier A. 02/10/2020 16:21:54
(and I can't use "getPositionSensor()" because it's not a position sensor in the robot, but in another robot that is the children of that first robot)


Basically, I have a proto with a robot inside. I have position sensors on that robot. I made them visible in the scene tree by declaring a field in the proto heading. Now, I have a handler to the node, but I can't seem to be able to activate these position Sensor and retrieve their value ?


Is it possible to call function specific to its type (in my case, a position sensor) through the variable (that is an "handler on a node") ?


I have a handler on an node, through a supervisor. This node is a position sensor.


Hello !

##### David Mansolino [cyberbotics] 02/10/2020 13:26:39
Yes you can add a Robot 'inside' another Robot node

##### kadeng 02/10/2020 13:26:11
After that, I would be able to put a robot node into it? Thanks, will try that.

##### David Mansolino [cyberbotics] 02/10/2020 13:25:13
Abotu your other problem, you are not allowed to insert a Robot node in a Solid node. The workaround is to create your box node from a Robot node and simply setting the `controller` field to `none`.


Hi `@kadeng`, to fix the box to the floor the simplest (and better) way to do is simply to remvoe the Physics node of the box (but not the boundingObject).

##### kadeng 02/10/2020 12:36:43
I'm trying to attach a pre existing Robot model to the side of a fixed box. Just copying and pasting it as a child to the box (whether as proto node or as base node) do not seem to work. How do I achieve what I want? And how do I fix the box to the floor? (Should I just make it incredibly heavy)

##### zibz 02/10/2020 10:52:05
true, thks

##### David Mansolino [cyberbotics] 02/10/2020 10:51:41
Make sure to select the 3D view with the mouse ðŸ˜‰

##### zibz 02/10/2020 10:51:31
entry


ok, it's working, forget about the above


?


something missing=


getKey() yielding -1 constantly


enabled it


already got the device from robot


having trouble reading from keyboard


hi

##### David Mansolino [cyberbotics] 02/10/2020 09:54:40
You're welcome

##### sunnyjerai 02/10/2020 09:54:29
Sure thing `@David Mansolino` , Thanks a lot.

##### David Mansolino [cyberbotics] 02/10/2020 09:48:48
`@sunnyjerai` this is unfortunately not on our short term roadmap. But feel free to implement it yourself and submit a PR, we will be more than happy to review it.

##### Olivier Michel [cyberbotics] 02/10/2020 09:15:14
`@Heisenberg`: I was wrong, it is indeed possible to configure a LightSensor node so that it filters some color, using the colorFilter field of the LightSensor node, see documentation here: [https://cyberbotics.com/doc/reference/lightsensor](https://cyberbotics.com/doc/reference/lightsensor)

##### sunnyjerai 02/10/2020 08:52:17
Thanks for the info `@David Mansolino` . However, is there a chance this feature might be added in future updates. Where we can control the RGB variables along with the LED's intensity?

##### Gman 02/10/2020 07:19:24
â¤ï¸


ya ty

##### David Mansolino [cyberbotics] 02/10/2020 06:46:47
`@User21`, not out of the box, but you can of course build your own gripper.


`@sunnyjerai` unfortunately not, you can change the intensity of the red, green and blue component independently but this will of course change the color too.


`@kadeng` note that arbitrary collision shapes using indexedFaceSet are working but way less efficient and stable than using a set of basic geometries.


`@Gman`, `@Ä°chigogo` is completely right, you can use the emitter-receiver mechanism, find an example in this sample simulation: [https://www.cyberbotics.com/doc/guide/samples-devices#emitter\_receiver-wbt](https://www.cyberbotics.com/doc/guide/samples-devices#emitter_receiver-wbt)


`@ian_lau` you can get the field of view with this this function: [https://www.cyberbotics.com/doc/reference/rangefinder#wb\_range\_finder\_get\_fov](https://www.cyberbotics.com/doc/reference/rangefinder#wb_range_finder_get_fov) 

Then you can get the resolution with these functions: 

[https://www.cyberbotics.com/doc/reference/rangefinder#wb\_range\_finder\_get\_width](https://www.cyberbotics.com/doc/reference/rangefinder#wb_range_finder_get_width)

Finally, you can compute the vertical field of view from the horizontal one and the resolution by using the fact that pixel are exactly squarre.

You might also be interested of gettign the maximum range of the range-finder:

[https://www.cyberbotics.com/doc/reference/rangefinder#wb\_range\_finder\_get\_max\_range](https://www.cyberbotics.com/doc/reference/rangefinder#wb_range_finder_get_max_range)****


You can also use a `runtime.ini` file in your controller folder to define this variable: [https://cyberbotics.com/doc/guide/controller-programming#environment-variables](https://cyberbotics.com/doc/guide/controller-programming#environment-variables)


`@sujit`, you should be able to use your library (Tkinter) without copying it, just make sure its path is included in the `PYTHONPATH` environment variable.

##### Tahir [Moderator] 02/09/2020 15:45:52
`@User21` there us ine from Robotis but I don't know if it is available in Webots, however you should be able to import it using Webots tools

##### User21 02/09/2020 15:42:35
Hi there,

are there any other grippers than the 3 Finger gripper?

##### sunnyjerai 02/09/2020 14:20:10
Hello there, I wanted to know if I could use the LED in RGB mode and yet control the intensity of it apart from its colour?

##### kadeng 02/09/2020 07:09:42
Never mind, I found the answer.


As far as I can tell, at least.


The docs just mention primitives..


Just a quick question: Is it possible to have arbitrary collision shapes, or do these have to be basic geometric primitives?

##### Gman 02/08/2020 22:24:50
ok thanks

##### Ä°chigogo 02/08/2020 22:03:08
I'm not sure but I remember as I read something about receiver device it may help you

##### Gman 02/08/2020 21:00:19
I have, in the same simulation, two robots and a different controller for each.  How to I communicate between them?  For instance Im trying to share compass data between the robots how do I do this?

##### sujit 02/08/2020 12:17:05
Is there a better way that would save duplicating the library?


ok....i solved my own problem....was easier than anticipated...you make a new directory webots/lib/tcl/Python27 and copy c:/python27/tcl  into that directory...then tkinter will run from a native webots controller...


in python is it possible to make "import Tkinter " work from a native (not <extern>) motor controller? would I need to change a path or possibly copy the tcl folder somewhere within webots?

##### ian\_lau 02/08/2020 09:31:54
Cause I want to converse range\_finder image to point cloud, I want to get the inner params(fx, fy, cx, cy) of this range\_finder to build a conversion code. If you did it, please tell me, thank you very much!


Hello, everyone. Do you know how to get the camera intrinsics of custom camera?

##### sujit 02/08/2020 01:56:56
im using an external python motor controller launched from python IDLE utilising tkinter gui. Im having trouble making the simulation restart supervisor function simulationReset() which causes both programs to freeze ....is it possible to do this from an external motor controller? <extern>. i dont to keep having to manually load the motor contrtoller...

##### David Mansolino [cyberbotics] 02/07/2020 15:55:20
You're welcome.

##### SimonDK 02/07/2020 15:55:03
`@David Mansolino`  Super, I will play around with. Much appreciated!

##### David Mansolino [cyberbotics] 02/07/2020 15:48:29
We do not add it, because we want to be able to commit il, to make sure everyone uses the same layout, but it is not a bad practice to ignore it.

Alternatively, if you define the `WEBOTS_ALLOW_MODIFY_INSTALLATION` environment variable, Webots will not change the wbproj file: [https://github.com/cyberbotics/webots/blob/07d7ca6722139cec1415a7d3e308c298512b3124/src/install\_scripts/bashrc.linux#L12](https://github.com/cyberbotics/webots/blob/07d7ca6722139cec1415a7d3e308c298512b3124/src/install_scripts/bashrc.linux#L12)

##### SimonDK 02/07/2020 15:46:35
`@David Mansolino` Cool thank you. I do not see the wbproj file. It seems to be world related and may update on changing e.g. the view of in WeBots but not the files. Is it good or bad practice to add it to gitignore?

##### David Mansolino [cyberbotics] 02/07/2020 15:44:55
`@SimonDK` the generic Webots gitignore file is a good starting point: [https://github.com/cyberbotics/webots/blob/master/.gitignore](https://github.com/cyberbotics/webots/blob/master/.gitignore)

##### SimonDK 02/07/2020 15:44:14
Are there any recommend files to include in gitignore e.g. hidden WeBots files like .*.wbproj and .*.cache?

##### kwy 02/07/2020 15:26:15
`@yunus` thanks for your help! I will try it now

##### yunus [Moderator] 02/07/2020 15:24:15
`@kwy` I have not yet used Webots on mac, but I am sure you must install ROS first before you can use "ros python". This is true for Windows, Linux and mac also. The latest ROS distribution called Melodic can be installed on mac according to this official ROS page: [http://wiki.ros.org/melodic/Installation/macOS/Homebrew/Source](http://wiki.ros.org/melodic/Installation/macOS/Homebrew/Source)

##### kwy 02/07/2020 14:12:15
I just tried to run the project "ros python" on mac. But i get a WARNING: ros\_python: Forced termination (because process didn't terminate itself after 1 second).  That means i need to install ROS ?

##### kadeng 02/07/2020 14:11:32
`@David Mansolino` BTW just to let you know. I gave up on building roscpp and related libraries in msys. This is probably a ton of work. You would have to either get catkin to run properly in msys (which requires *reverting* a lot of the special treatment for Windows. Or, most likely much easier, put all of the  sources into one big library and build a dll from it. The thing is, roscpp pulls in a lot of other ROS components.

##### yunus [Moderator] 02/07/2020 13:58:17
Just as an additional remark: before rospy on Webots can work, I had first to install ROS for Windows using the steps on this link: [http://wiki.ros.org/Installation/Windows](http://wiki.ros.org/Installation/Windows), (the last step is to create that shortcut file that you will call "ROS", and when you type "roscore" in it, it should show you no error. This indicates that ROS has been correctly installed)


`@David Mansolino` thank you, I just realized you've answered the question before me ðŸ™‚


`@kadeng` The rospy library comes directly installed in Webots on this path `C:\Program Files\Webots\projects\languages\ros\controllers\ros_python`

If you go to Webots, Files > Open Sample World, then browse to: languages > ros > ros\_python.wbt you will see a sample world with a Thymio robot having a controller "ros\_python" that creates some ROS topics "motor" and "sensor". After you open that sample world, you should be able to see the sensor values being published on the Webots console. That's how you know ROS is working.

##### David Mansolino [cyberbotics] 02/07/2020 13:45:20
`@kadeng`: it is distributed within Webots in: `projects/languages/ros/controllers/ros_python`


`@kadeng`: it is distributed within Webots in: `projects/languages/ros/controllers/ros_python`

##### kadeng 02/07/2020 13:17:48
@yunus: ping, given that I forgot to correctly @mention you before..


@yunus: I tried the custom ros controller, but could not find a way to get rospy library for Windows. Where did you get it from?

##### yunus [Moderator] 02/07/2020 12:43:21
`@kadeng` yes, there is no ros.exe for Windows, I noticed that too. And as `@David Mansolino` pointed out. I am using that costum ros controller with rospy, and it works. Hopefully the roscpp will be complied for Windows and supported in future Webots releases.

##### David Mansolino [cyberbotics] 02/07/2020 06:37:28
A quick look search on Google lead me for example on this tutorial explaining how to use OpenCV to do this: [https://www.learnopencv.com/opencv-qr-code-scanner-c-and-python/](https://www.learnopencv.com/opencv-qr-code-scanner-c-and-python/)


Hi `@zibz` you can use any image processing library you want, here is how to integrate it in C/C++ for example: [https://cyberbotics.com/doc/guide/using-webots-makefiles#adding-an-external-library-ccp](https://cyberbotics.com/doc/guide/using-webots-makefiles#adding-an-external-library-ccp)


`@kadeng`, I just cheked and you are right, the Windows version of the ros controller is not available anymore because we have issues recompiling the  ros/rocpp\_core, roscpp and rosconsole with mingw64 (but this is for sure doable, we just hadn't time to do this).

However, on Windows you might use the python API to communicate with Webots from ROS: [https://cyberbotics.com/doc/guide/using-ros#custom-ros-controller](https://cyberbotics.com/doc/guide/using-ros#custom-ros-controller)

##### zibz 02/06/2020 19:44:04
hi, what would I use to interpret qr codes with camera?

##### kadeng 02/06/2020 17:54:01
@yunus Seems like there is no ros.exe for Windows at the moment. I hope to be able to build one by first building the required libs using Mingw64 (ros/rocpp\_core, roscpp and rosconsole seem to be required)

##### W.El-Badry 02/06/2020 17:36:09
> 

> Hi `@W.El-Badry` unfortunaely Mathworks doesn't want to share a license anymore with us so that I can't test this ðŸ˜•

> `@David Mansolino` This is so unfortunate. I thought they push licenses to third party developers like you who creates distinguish software.

##### yunus [Moderator] 02/06/2020 16:43:47
`@David Mansolino` indeed there is no ros.exe in the entire C:\Program Files\Webots. Thank you very much for your advice, I will reinstall Webots and see. Also for the delay I hope using 'ros' instead of 'rospy' can fix that. I will also try your method `@kadeng` of using printf debugging to find where it lags, I appreciate your tip.

##### David Mansolino [cyberbotics] 02/06/2020 15:47:28
Hi `@W.El-Badry` unfortunaely Mathworks doesn't want to share a license anymore with us so that I can't test this ðŸ˜•

##### W.El-Badry 02/06/2020 15:36:30
Did a restart , new Webots installation after MATLAB. Same issue that Webots doesn't detect MATLAB location


Hello,

Does MATLAB R2019b has issues with webots?

Although MATLAB is installed correctly and path is set as described with MATLAB can be instantiated from cmd, Webots doesn't recognize it. Also,  MATLAB MinGW-w64 C/C++ Compiler is successfully installed
%figure
![1.png](https://cdn.discordapp.com/attachments/565154703139405824/675001579522359296/1.png)
%end



%figure
![2020-02-06_17-30-10.png](https://cdn.discordapp.com/attachments/565154703139405824/675001575571193916/2020-02-06_17-30-10.png)
%end



%figure
![3.png](https://cdn.discordapp.com/attachments/565154703139405824/675001523931185152/3.png)
%end

##### David Mansolino [cyberbotics] 02/06/2020 13:51:49
You're welcome

##### kadeng 02/06/2020 13:51:38
Thanks

##### David Mansolino [cyberbotics] 02/06/2020 13:51:05
Here is the exact list of required libraries: roscpp rosconsole roscpp\_serialization rostime

##### kadeng 02/06/2020 13:49:53
Will do that

##### David Mansolino [cyberbotics] 02/06/2020 13:49:37
Ok, let us know if you have some issues

##### kadeng 02/06/2020 13:48:55
I'll take a look and try...

##### David Mansolino [cyberbotics] 02/06/2020 13:48:40
If it is build with GCC too it should work

##### kadeng 02/06/2020 13:48:09
I guess the normal Windows build of ROS will not work, due to different compilers etc. Or what do you think? Because I built ROS for Windows already, but ended up not using it..

##### David Mansolino [cyberbotics] 02/06/2020 13:48:08
(yes, I said libros, but it's probably not named like this, this was just an example)

##### kadeng 02/06/2020 13:46:47
So the libros is part of ROS? If so, I can find it.

##### David Mansolino [cyberbotics] 02/06/2020 13:44:34
> I was wondering whether it would be possible to get it to run on Windows (acting as a client to a Linux VM running ROS)

If you manage to recompile it for Windows (I did it a long time ago, but it is not working with the newer version of Webots), it should be possible indeed.


HI `@kadeng` yes it is open source, the code is here: [https://github.com/cyberbotics/webots/tree/master/projects/default/controllers/ros](https://github.com/cyberbotics/webots/tree/master/projects/default/controllers/ros)

Abotu the Makefiles, you are probably refeering to: [https://github.com/cyberbotics/webots/blob/master/projects/default/libraries/Makefile](https://github.com/cyberbotics/webots/blob/master/projects/default/libraries/Makefile)

This makefiles only download the dependencies of the controller (libros.dll etc.),

##### kadeng 02/06/2020 13:41:34
I was wondering whether it would be possible to get it to run on Windows (acting as a client to a Linux VM running ROS)


Does anyone know if the source code of the standard ros controller for webots is open source? Seems like it is a precompiled library that is being downloaded via the Makefile


I would recommend to use printf debugging (write a log files with timestamps) to isolate the delay.

##### David Mansolino [cyberbotics] 02/06/2020 13:23:34
About the reason of the delay, it is diffcult to say, because you have many conversion from one framework to the other. Webots->ROS->Simulink->Ros->Webots


Hi `@yunus` the ros controller is suppose to be in `C:/Program Files/Webots/projects/default/controllers/ros/` can't you see any ros.exe there? If not re-installing Webots might fix the problem.

##### yunus [Moderator] 02/06/2020 13:16:02
Hello. On the same subject of using ROS. I am trying to use ROS to communicate commands from MATLAB Simulink to a Khepera III in Webots. All is running on Windows 10. I used 'rospy' Python controller in Webots and it works, but there is at least 20 seconds latency between when I send the Simulink command and when the robot starts moving. So I am thinking of using 'ros' controller to get around this problem of asynchronous response (*as I think C codes are faster to compile than Python's*). However, when I open any sample world that uses 'ros', I get this error:

`WARNING: Robot: The controller directory has not been found, searched the following locations:

C:/Program Files/Webots/projects/languages/ros/controllers/ros/

C:/Program Files/Webots/projects/default/controllers/ros/

C:/Program Files/Webots/resources/projects/controllers/ros/`

Can you please give me some advice?

And what possibly you think is the reason why my Webots simulation doesn't run immediately as I press run on my Simulink simulation?

##### kwy 02/06/2020 11:45:12
thanks !

##### Fabien Rohrer [Moderator] 02/06/2020 11:36:26
You could even think about running ROS in a linux virtual machine on mac ðŸ˜‰


[https://cyberbotics.com/doc/guide/using-ros#using-the-standard-ros-controller](https://cyberbotics.com/doc/guide/using-ros#using-the-standard-ros-controller)


You should use this parameter: ROS\_MASTER\_URI:


Yes, it seems to be possible. But in any case, the ROS node should run in Linux. But Webots can run on macOS.

##### kwy 02/06/2020 11:33:10
ok.  when I create a simulation, i need to run ROS and Webots on Linux. after i finish the simulation,  then i can run the simulation directly on mac. Right?

##### Fabien Rohrer [Moderator] 02/06/2020 11:31:06
You just need to set your Robot.controller field to "ros"


[https://github.com/cyberbotics/webots/tree/master/projects/default/controllers/ros](https://github.com/cyberbotics/webots/tree/master/projects/default/controllers/ros)


it can be run in every simulation (as it's a default controller):


The client ROS controller is called "ros"


This should run out-of-the-box in Webots.

##### kwy 02/06/2020 11:28:21
Oh! that is perfect. so i need to download the ROS client?

##### Fabien Rohrer [Moderator] 02/06/2020 11:26:14
If I'm not wrong, ROS itself cannot run on macOS. You should think about running it on linux. However, the ROS client which interfaces Webots and ROS can run on macOS. Therefore your simulation may run on macOS.


Hi,

##### kwy 02/06/2020 11:23:10
Hallo, i want to use Webots and ROS on Mac. Has anyone actually got ROS working on Mac ?

##### David Mansolino [cyberbotics] 02/06/2020 06:58:51
Hi `@zibz`, you can find more information about obstacle avoidance here: [https://en.wikibooks.org/wiki/Cyberbotics%27\_Robot\_Curriculum/Intermediate\_programming\_Exercises#Obstacle\_avoidance\_Module\_](https://en.wikibooks.org/wiki/Cyberbotics%27_Robot_Curriculum/Intermediate_programming_Exercises#Obstacle_avoidance_Module_)(OAM)

##### zibz 02/05/2020 19:24:55
actually khepera


worked through braitenberg controller example


using a khepera III


if anyone could point out some direction..that'd be great


having a rough time working with collision avoidance


hi

##### David Mansolino [cyberbotics] 02/05/2020 14:58:22
`@Viniciusaguiar` see also this question on stackoverflow on the subject: [https://stackoverflow.com/questions/58208419/does-webots-have-headless-mode](https://stackoverflow.com/questions/58208419/does-webots-have-headless-mode)

##### Olivier Michel [cyberbotics] 02/05/2020 14:56:51
See documentation here: [https://cyberbotics.com/doc/guide/web-interface](https://cyberbotics.com/doc/guide/web-interface)


Hi, yes, you can run Webots headless as it is the case on [https://robotbenchmark.net](https://robotbenchmark.net)

##### Viniciusaguiar 02/05/2020 14:51:45
Is there headless version of Webots like Gazebo's Gzweb?

##### David Mansolino [cyberbotics] 02/05/2020 14:24:16
You're welcome

##### nelsondmmg 02/05/2020 14:23:58
Thanks `@David Mansolino`!

##### David Mansolino [cyberbotics] 02/05/2020 14:07:18
Oh, for the documentation, it is indeed english only for now.

##### w3. eydi 02/05/2020 14:04:38
`@David Mansolino` I actually said it for the documentation page. Like tutorials. I understand that you will integrate this translation into the Webots program. I will work on this topic at the first opportunity.

##### David Mansolino [cyberbotics] 02/05/2020 14:00:32
`@nelsondmmg` a 'Contact Joint' is used to model the contact between the tire and the road: [http://ode.org/wiki/index.php?title=Manual#Contact](http://ode.org/wiki/index.php?title=Manual#Contact)


`@w3. eydi` we indeed don't have any Turkish translation, if you would liek to translate it to Trukish this would be highly appreciated: here is the procedure how to create a translation for a new language:

[https://github.com/cyberbotics/webots/tree/master/resources/translations](https://github.com/cyberbotics/webots/tree/master/resources/translations)

Once you have done the `wb_tr.ts` file, you can send it to me and I will integrate it into Webots.

##### nelsondmmg 02/05/2020 13:58:44
Hi, which type of joint is used to model the contact between tire and the road `@David Mansolino`? I'm trying to find out if it is necessary to consider lateral or longitudinal slip for the vehicle

##### w3. eydi 02/05/2020 13:58:32
For documentation, sorry. ðŸ˜€


`@David Mansolino` David, do you have a different language option for language? I mean, I can translate to community in Turkish.

##### David Mansolino [cyberbotics] 02/05/2020 13:38:18
You're welcome. We will try fix [https://github.com/cyberbotics/webots/issues/1310](https://github.com/cyberbotics/webots/issues/1310) soon so that you are not blocked by this.

##### Gautier A. 02/05/2020 13:37:38
Understood, thank you for the help !

##### David Mansolino [cyberbotics] 02/05/2020 13:35:59
Unfortunately this is not available through the Supervisor API.

##### Gautier A. 02/05/2020 13:35:12
Is there any way to convert automatically the proto in base node (through supervisor or other) ? We use a supervisor to instantiate the different proto at the beginning of the simulation, so we try to "minimize user input".


Ok, that's good new, thank you a lot !

##### David Mansolino [cyberbotics] 02/05/2020 13:32:19
And you can follow the progress of [https://github.com/cyberbotics/webots/issues/1310](https://github.com/cyberbotics/webots/issues/1310)


In the meantime, I would recomment to convert your PROTO temporarly to base node, you can easily do this by right-clicking on your PROTO node and selecting `Convert to Base Node(s)`


Unfortunately this is a known limitation, but the good news is that we have plans for improving this in a near future: [https://github.com/cyberbotics/webots/issues/1310](https://github.com/cyberbotics/webots/issues/1310)

##### Gautier A. 02/05/2020 13:30:17
Yes, that's right !

##### David Mansolino [cyberbotics] 02/05/2020 13:29:58
You want to get the field using the supervisor API right?

##### Gautier A. 02/05/2020 13:28:16
I tried to put the children field as a "" visible field "" of the proto with some default argument, instantiating the other different proto, but that doesn't works because we use some lua to put their orientation/position


So, my problem is that I want to access the children field of a proto. I have some other proto in the "children" field and I would like to retrieve their orientation/translation


Hi `@David Mansolino`  !

##### David Mansolino [cyberbotics] 02/05/2020 13:14:11
Hi `@Gautier A.` yes of course!

##### Gautier A. 02/05/2020 12:59:42
Hello ! Might I ask a question ?

##### David Mansolino [cyberbotics] 02/05/2020 07:18:32
`@SimonDK` thank for the feedback. If you want to use another distribution of Python you can recompile the python wrapper for your specific distribution, here is the mekfaile that need to be adjusted: [https://github.com/cyberbotics/webots/blob/master/resources/languages/python/Makefile](https://github.com/cyberbotics/webots/blob/master/resources/languages/python/Makefile)


`@nelsondmmg` they do represent the spring and damping effect that you can see in a real joint.

##### kadeng 02/05/2020 07:01:06
Yes, that's also a great thing.

##### Fabien Rohrer [Moderator] 02/05/2020 07:00:26
... and an active community here ðŸ˜‹

##### kadeng 02/05/2020 06:59:16
Thanks, I think I will definitely give it a try.

##### Fabien Rohrer [Moderator] 02/05/2020 06:58:19
It could be plugged in any other robot, or your own one.


We have an UR5 arm running out of the box: [https://cyberbotics.com/doc/guide/ure](https://cyberbotics.com/doc/guide/ure)

##### kadeng 02/05/2020 06:57:16
Physical simulation accuracy is also important, since the robot is for a plugging task.


Well, I am currently trying to design a custom robot which also has an UR5 robotic arm attached for simulation in Gazebo. Installed the Phobos plugin in Blender and tried to get things working. But noticed that basically not much is working as documented, docs are bad and out of date, exceptions keep popping up. Then this morning I found webots..

##### Fabien Rohrer [Moderator] 02/05/2020 06:56:15
It has obvious advantages over Gazebo: it runs smoothly on Windows/macOS, it is deterministic, it provides a realistic rendering, its physics engine and collisions are better, it provides web streaming features, etc.


We could try to provide you more precise answer on specific topics.


`@kadeng` Difficult to have an impartial answer here, but Webots is much more mature IMO. Certainly because of its close source history (before being released open source).

##### kadeng 02/05/2020 06:46:15
Hi, I just accidentally stumbled upon Webots. Just to get a rough idea, how mature is Webots in comparison to Gazebo?

##### SimonDK 02/04/2020 19:20:23
> `@SimonDK` how did you installed Python? Make sure to not use Python from brew or other, Webots will work only with the one downloaded on python.org. See this related post: [https://stackoverflow.com/questions/59840278/running-an-external-python-controller-from-console](https://stackoverflow.com/questions/59840278/running-an-external-python-controller-from-console)

`@David Mansolino` I ended up doing just that and it works. It is a pity because I had to skip using my python virtual environment, which I am not too happy about ðŸ˜… Any experience in using the python.org dist towards virtualenv?

##### John-ns 02/04/2020 17:01:37
Thank you `@David Mansolino` for your answer. Appreicate it.

##### nelsondmmg 02/04/2020 16:59:41
`@DrVoodoo` thanks ðŸ‘ðŸ»

##### David Mansolino [cyberbotics] 02/04/2020 16:59:29
[https://cyberbotics.com/doc/automobile/driver-library#wbu\_driver\_set\_cruising\_speed](https://cyberbotics.com/doc/automobile/driver-library#wbu_driver_set_cruising_speed)

##### nelsondmmg 02/04/2020 16:59:19
`@David Mansolino` so these terms are not real? It is the same for the break coefficient (if it is correspondent with the real case)?

##### David Mansolino [cyberbotics] 02/04/2020 16:58:37
`@John-ns`  you can control the vehicle in speed mode using the set cruising speed function.

##### John-ns 02/04/2020 16:52:49
Hello guys, I would like to ask a question in the Driver Library for Automobiles. The library allows me to maually set the gear of the vehicle. My question is, could I set the gear to automatic control mode? Thanks a lot.

##### David Mansolino [cyberbotics] 02/04/2020 16:09:45
`@nelsondmmg`, `@DrVoodoo` is correct, the four main parameters that influences the suspensions are `suspensionFrontSpringConstant`, `suspensionFrontDampingConstant`, `suspensionRearSpringConstant` and `suspensionRearDampingConstant` the spring effect defines the magnitude of the spring force effect and the damping effect produce viscous friction, see the pages for more information:

[https://cyberbotics.com/doc/automobile/ackermannvehicle](https://cyberbotics.com/doc/automobile/ackermannvehicle)

and

[https://www.cyberbotics.com/doc/reference/jointparameters#springs-and-dampers](https://www.cyberbotics.com/doc/reference/jointparameters#springs-and-dampers)

##### DrVoodoo [Moderator] 02/04/2020 15:53:08
`@nelsondmmg` the tesla model is using the Car proto so you could adjust the suspension damping values

##### nelsondmmg 02/04/2020 14:33:45
I have a question related to the graphical representation of objects on webots. I'm using the tesla model 3 robot, and when it drives onto the sidewalk the tire surpasses the vehicle's body (the suspension is pretty low). Is there a parameter that I can change to stop this from happening? Thanks

##### David Mansolino [cyberbotics] 02/04/2020 13:27:28
`@rachel` probably trying to launch the node directly (not from the launch file) will give you more information.

##### rachel 02/04/2020 09:24:48
When I start "roslaunch ur5\_e\_moveit\_config ur5\_e\_moveit\_planning\_execution.launch sim:=true" it is freezing. If I remove code for gripper it can work
%figure
![Screenshot_from_2020-02-04_10-23-30.png](https://cdn.discordapp.com/attachments/565154703139405824/674183566753792000/Screenshot_from_2020-02-04_10-23-30.png)
%end

##### David Mansolino [cyberbotics] 02/04/2020 09:17:53
> `@David Mansolino` But if I just add joint in trajectory\_folloer.py so arm joints and gripper joint will all publish to topic /follow\_joint\_trajectory. I want use /arm\_control/follow\_joint\_trajectory for arm and /gripper\_contraol/follow\_joint\_trajectory

`@rachel` 



That makes sense indeed. What you deed seems correct (not tested, but I had an overview of the code). Do you have issues with it?


Nice to see that you have already the gripper model.

##### rachel 02/04/2020 09:11:30
This the gripper I am using after convert from urdf [https://github.com/ipa-rwu/ur5\_2f\_webots/blob/master/protos/Robotiq85Gripper.proto](https://github.com/ipa-rwu/ur5_2f_webots/blob/master/protos/Robotiq85Gripper.proto)


`@David Mansolino` But if I just add joint in trajectory\_folloer.py so arm joints and gripper joint will all publish to topic /follow\_joint\_trajectory. I want use /arm\_control/follow\_joint\_trajectory for arm and /gripper\_contraol/follow\_joint\_trajectory

##### David Mansolino [cyberbotics] 02/04/2020 08:50:02
About the trajectory\_follower.py it is probabyl simpler to just add the name to the `jointNames` array


You therefore have to create yourself the model. For this you can use our urdf importer: [https://github.com/cyberbotics/urdf2webots](https://github.com/cyberbotics/urdf2webots)


We don't have the 85 model, only the 3F one: [https://cyberbotics.com/doc/guide/gripper-actuators#robotiq-3f-gripper](https://cyberbotics.com/doc/guide/gripper-actuators#robotiq-3f-gripper)

##### rachel 02/04/2020 08:07:25
Hello `@David Mansolino`. Thank yo for your response. I will explain what I already did. According to robotiq 85 simulation in Gazebo [https://github.com/StanleyInnovation/robotiq\_85\_gripper/blob/master/robotiq\_85\_simulation/robotiq\_85\_gazebo/controller/gripper\_controller\_robotiq.yaml](https://github.com/StanleyInnovation/robotiq_85_gripper/blob/master/robotiq_85_simulation/robotiq_85_gazebo/controller/gripper_controller_robotiq.yaml) The gripper is only controlled by one joint "gripper\_finger1\_joint". So I added this joint in the file  [https://github.com/ipa-rwu/ur5\_2f\_webots/blob/master/controllers/universal\_robots\_ros/joint\_state\_publisher.py](https://github.com/ipa-rwu/ur5_2f_webots/blob/master/controllers/universal_robots_ros/joint_state_publisher.py) which is this file [https://github.com/cyberbotics/webots/blob/master/projects/robots/universal\_robots/controllers/universal\_robots\_ros/joint\_state\_publisher.py](https://github.com/cyberbotics/webots/blob/master/projects/robots/universal_robots/controllers/universal_robots_ros/joint_state_publisher.py). And I modify the file [https://github.com/cyberbotics/webots/blob/master/projects/robots/universal\_robots/controllers/universal\_robots\_ros/trajectory\_follower.py](https://github.com/cyberbotics/webots/blob/master/projects/robots/universal_robots/controllers/universal_robots_ros/trajectory_follower.py). You can find here [https://github.com/ipa-rwu/ur5\_2f\_webots/blob/master/controllers/universal\_robots\_ros/trajectory\_follower.py](https://github.com/ipa-rwu/ur5_2f_webots/blob/master/controllers/universal_robots_ros/trajectory_follower.py). Could you have look the file I modify? I am not so sure how to write FollowJointTrajectoryAction for gripper in Webots.

##### David Mansolino [cyberbotics] 02/04/2020 06:35:19
Hi again `@rachel`, for ROS1 our interface with the FollowJointTrajectory action is limited to the univrsal robot robots. It is implemented in this controller: [https://github.com/cyberbotics/webots/tree/master/projects/robots/universal\_robots/controllers/universal\_robots\_ros](https://github.com/cyberbotics/webots/tree/master/projects/robots/universal_robots/controllers/universal_robots_ros)

It should be quite easy to extend it to the gripper too. It is just a metter of adding the names of the gripper motors:

[https://github.com/cyberbotics/webots/blob/master/projects/robots/universal\_robots/controllers/universal\_robots\_ros/joint\_state\_publisher.py#L24](https://github.com/cyberbotics/webots/blob/master/projects/robots/universal_robots/controllers/universal_robots_ros/joint_state_publisher.py#L24)

[https://github.com/cyberbotics/webots/blob/master/projects/robots/universal\_robots/controllers/universal\_robots\_ros/trajectory\_follower.py#L106](https://github.com/cyberbotics/webots/blob/master/projects/robots/universal_robots/controllers/universal_robots_ros/trajectory_follower.py#L106)

##### rachel 02/03/2020 16:31:12
I try to run arm and gripper in two group like running gazebo. Thank you very much! `@David Mansolino`


ROS 1 with moveit

##### David Mansolino [cyberbotics] 02/03/2020 16:28:19
Juste Ã  question, are you using ROS 1 or 2?


Hi `@rachel`, yes I have an idea, but I am currently online from my phone. I will answer you tomorrow morning from my computer.

##### rachel 02/03/2020 16:24:53
`@David Mansolino` Hello David, do you have idea how to simulate gripper in webots with ros control? How to create FollowJointTrajectoryAction for gripper?

##### David Mansolino [cyberbotics] 02/03/2020 16:16:43
I just checked them, there are indeed never freed but they are unique and used during the whole life of the controller, so you can safely ignore these warnings


> I just tried it, there is still some leaks, but there is a noticable improvement

`@Gautier A.` 

Thank you, the line number will help you checking this.

##### rachel 02/03/2020 16:10:38
Thank you

##### Tahir [Moderator] 02/03/2020 16:08:51
I haven't use it in simulations but the real robot


No idea of that

##### rachel 02/03/2020 16:06:53
Shall I also add controller in gripper?
%figure
![Screenshot_from_2020-02-03_17-06-21.png](https://cdn.discordapp.com/attachments/565154703139405824/673922367969427513/Screenshot_from_2020-02-03_17-06-21.png)
%end

##### Tahir [Moderator] 02/03/2020 16:02:53
[http://wiki.ros.org/robotiq/Tutorials/Control%20of%20a%202-Finger%20Gripper%20using%20the%20Modbus%20RTU%20protocol%20%28ros%20kinetic%20and%20newer%20releases%29](http://wiki.ros.org/robotiq/Tutorials/Control%20of%20a%202-Finger%20Gripper%20using%20the%20Modbus%20RTU%20protocol%20%28ros%20kinetic%20and%20newer%20releases%29)


[http://wiki.ros.org/robotiq](http://wiki.ros.org/robotiq)

##### rachel 02/03/2020 16:00:55
Is any example of gripper controlled by ROS?

##### Tahir [Moderator] 02/03/2020 15:56:56
And there might be other options as well


This can also be controllex with rqt trajectory planner


If you just go to Universal Robots ROS driver github pacakage you can find a couple of exaoles there


This is an action server you have to write an action client which will talk to the server and get the job done


There is one Robotiq package in ROS have a look at that

##### rachel 02/03/2020 15:53:49
Hello everyone, I am working on simulation UR5e + robotiq 2 finger 85 gripper  with ROS controller. I can connect ur5 with ros in webots. But I have no idea how to control gripper with ROS. The gripper is supposed to be controlled through FollowJointTrajectoryAction. Is anyone have ideas how to do it?

##### Gautier A. 02/03/2020 15:12:16

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/673908625047027725/unknown.png)
%end


I just tried it, there is still some leaks, but there is a noticable improvement


No worries

##### David Mansolino [cyberbotics] 02/03/2020 14:24:21
You just have to replace your folder (do not forget to make a backup first) WEBOTS\_HOME/lib/controller by this one.


Sorry it tooks a bit longer than expected.
> **Attachment**: [controller.zip](https://cdn.discordapp.com/attachments/565154703139405824/673896433262264320/controller.zip)

##### Gautier A. 02/03/2020 13:41:36
Ahah, ok ! ðŸ˜„

##### David Mansolino [cyberbotics] 02/03/2020 13:37:24
It will work for both ðŸ˜‰

##### Gautier A. 02/03/2020 13:36:37
The dockers run on ubuntu 16.04, but my current "linux distro" is ubuntu 18.04 ðŸ˜…

##### David Mansolino [cyberbotics] 02/03/2020 13:35:53
Oh if you are on ubuntu 16.04, then I can send you directly the debug version, give me 5 minutes

##### Gautier A. 02/03/2020 13:35:03
I'm currently running webots R2020a on a docker image of ubuntu 16.04


I can try !

##### David Mansolino [cyberbotics] 02/03/2020 13:32:58
Thank it may indeed come from the libcontroller (even if we are regularly checking for memory leaks). Would it be possible for you to use the development environment of Webots to recompile webots in debug mode in order to try to get more information on where exactly is the leak? (I can send you the procedure).

##### Gautier A. 02/03/2020 13:27:01
and the resulting message in webots (compiled with the option -fsanitize=address )
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/673882135290970122/unknown.png)
%end


Here is my controller : [https://pastebin.com/BSLtLKfK](https://pastebin.com/BSLtLKfK) , my makefile: [https://pastebin.com/TCRnuxpw](https://pastebin.com/TCRnuxpw)


Hi again, I have memories leak in my controller, and I'm not sure if that come from my controller (in itself) or webots ?

##### David Mansolino [cyberbotics] 02/03/2020 11:06:51
You're welcome

##### Gautier A. 02/03/2020 11:06:36
Ok, I'm gonna take a look ! Thank you !

##### David Mansolino [cyberbotics] 02/03/2020 10:57:08
Just for information, here is an example of PROTO reding a 'configuration file': [https://github.com/cyberbotics/webots/blob/master/projects/objects/trees/protos/Forest.proto#L99](https://github.com/cyberbotics/webots/blob/master/projects/objects/trees/protos/Forest.proto#L99)

##### Gautier A. 02/03/2020 10:54:46
Thank you


Oh, I see


Basically, I want to use a lua library to load a config file when the proto is being loaded, but I want the user to be able to modify its value later

##### David Mansolino [cyberbotics] 02/03/2020 10:54:16
For this iteration yes, but not for the next regeneration.

##### Gautier A. 02/03/2020 10:53:47
But the change will be taken "into account" when the proto is being generated ?

##### David Mansolino [cyberbotics] 02/03/2020 10:53:11
You can change the `fields.variableName.value` value, but unfortunately this will not be visible in the scene-tree (this possibility is not yet implemented).

##### Gautier A. 02/03/2020 10:52:18
Hi David, I would like it to change the value of its own field, visible in the scene tree (the value we access through "fields.variableName.value")

##### David Mansolino [cyberbotics] 02/03/2020 10:51:10
Hi `@Gautier A.` you mean you want a procedural PROTO to change the value of its own field visible in the scene tree or change the value of one of its internal fields?

##### Gautier A. 02/03/2020 10:49:57
Hello, I would like to know if that's possible to change the value of a custom field of a proto using lua in procedural protos nodes ?

##### nelsondmmg 02/03/2020 07:47:14
`@Fabien Rohrer` ah, you are absolutely right, I did not updated the LD\_LIBRARY\_PATH. Thanks ðŸ‘ðŸ»

##### Fabien Rohrer [Moderator] 02/03/2020 07:45:12
`@nelsondmmg` Updated the dependencies? do you have a local copy of libController? It seems that you are not using the correct version, because line 54 is on line 52 here [https://github.com/cyberbotics/webots/blob/R2020a/src/lib/Controller/api/abstract\_camera.c#L54](https://github.com/cyberbotics/webots/blob/R2020a/src/lib/Controller/api/abstract_camera.c#L54) ðŸ˜‰ Please check how libController is linked and update the shared library.

##### David Mansolino [cyberbotics] 02/03/2020 07:44:41
`@MohammadSorush` not as is but they can be computed, for example it is easy to compute `maxVelocity` from speed: 63 [rev/min]

##### MohammadSorush 02/03/2020 07:43:42
`@David Mansolino` none of the parameters that i mentioned, exist in this link could you help me how did you find out these parameters for MX-28?  Pleaaaase ðŸ˜ž

##### nelsondmmg 02/03/2020 07:41:36
`@Fabien Rohrer`  just updated the dependencies to the new 2020a libs and the error still happens. I'm using the same wbt file and the error still happens

##### Fabien Rohrer [Moderator] 02/03/2020 07:32:50
`@nelsondmmg` Did you clean and rebuild your controller? (controllers may be not binary compatible between 2 major versions)

##### nelsondmmg 02/03/2020 07:31:51
Hi. I just updated webots from 2019b to 2020a and my vehicle controller crashes at initialization. I'm using a camera to show the driver's point of view. The following message is displayed: api/abstract\_camera.c:54: assertion failed: -1 != c-> schmid

##### Olivier Michel [cyberbotics] 02/03/2020 07:31:01
`@vinay`: your question doesn't seem to be related with Webots, it looks like a hardware question. I am sorry we can't help you on that.

##### David Mansolino [cyberbotics] 02/03/2020 06:47:53
`@SimonDK` how did you installed Python? Make sure to not use Python from brew or other, Webots will work only with the one downloaded on python.org. See this related post: [https://stackoverflow.com/questions/59840278/running-an-external-python-controller-from-console](https://stackoverflow.com/questions/59840278/running-an-external-python-controller-from-console)


`@shivajitheboss`, unfortunately we don't have any way of transferrign to arduino out of the box. But since both Webots and arduino support C like language it should be quite easy to adapt your code from one to the other.


Hi `@w3. eydi` Welcome ðŸ˜‰


`@MohammadSorush` you can find some information in the dataseets of the device (e.g. [http://emanual.robotis.com/docs/en/dxl/mx/mx-64/](http://emanual.robotis.com/docs/en/dxl/mx/mx-64/)).

However, some of these parameters depends on the configuration of your robot (i.e. to what is connected the device) and not only the motor itself.

##### MohammadSorush 02/02/2020 14:41:46
I need dampingConstant* staticFriction* maxVelocity* acceleration* springConstant*


I found this for MX-28 from this link [https://cyberbotics.com/doc/guide/robotis-op2](https://cyberbotics.com/doc/guide/robotis-op2)
%figure
![Screenshot_from_2020-02-02_17-59-59.png](https://cdn.discordapp.com/attachments/565154703139405824/673537683091488768/Screenshot_from_2020-02-02_17-59-59.png)
%end


Hi, I'am trying to prepare simulation of a humanoid robot but unfortunatly i couldnt find some parameters about MX-64 and MX-106 (Dynamixel actuators) can anyone help me?

##### vinay 02/02/2020 10:31:58
`@Olivier Michel` can u reply fastly


as we are using motor driver also can this motor driver alter our supply voltage accordingly the required voltage for motors?


we dont have much time to buy any new instuments how to do voltage dividing?

##### SimonDK 02/02/2020 08:58:41
`@vinay` make a voltage divider or buy a DC-DC converter.

##### vinay 02/02/2020 06:23:48
we are making a micromouse for that we have two motors with rated voltage 6v each but our battary is 12v lipo i want any solution for this issue

##### w3. eydi 02/01/2020 19:36:12
ohh sry this is tecnical questions ðŸ™‚


im new in webots


hi guys

##### shivajitheboss 02/01/2020 19:21:44
I wanted to know if i can transfer my code to arduino. Do i have to make any changes? Please help at the earliest.

##### SimonDK 02/01/2020 14:57:16
Not entirely sure what is going on, but looking at the Webots source it is built against the python version living in /Library/Frameworks/Python.framework, which seems to not be recommended in newer MacOS versions. Most people recommend to remove that python directory if it is there, and on MacOS Catalina the folder does not exist.


Running WeBots on Mac and using Python 3.7 I get the following error:

`import \_controller  ImportError: dlopen(/Applications/Webots.app/lib/controller/python37/\_controller.so, 2): 

Library not loaded: /Library/Frameworks/Python.framework/Versions/3.7/Python  

Referenced from: /Applications/Webots.app/lib/controller/python37/\_controller.so  

Reason: image not found`



Python 3.7 is available on the system but is not located at the path above i.e. /Library/Frameworks/Python.framework ... That path does not exist.



Should I install Python from the Python website or what is expected to use the Webots python libraries?

##### Fabien Rohrer [Moderator] 02/01/2020 07:42:12
This service is currently down, please use the Open street map importer instead [https://cyberbotics.com/doc/automobile/openstreetmap-importer](https://cyberbotics.com/doc/automobile/openstreetmap-importer)

##### Nocturnal Warfare 02/01/2020 00:31:05
does anyone know where the terrain generator went? It is just returning Error 404 Not Found. [https://cyberbotics.com/terrain\_generator](https://cyberbotics.com/terrain_generator)

##### David Mansolino [cyberbotics] 01/31/2020 06:21:03
Hi `@LISC`, Webots is now free and open-source, we had therefore to change the login system of the older version to make it free for everyone. You simply need to use 'webots' as password.

##### LISC 01/31/2020 01:31:26
Hello, right now i'm using Webots 8.4.0, the login system says my password was incorrect. But I'm pretty sure that it was correct. What are the potential reasons to that?

##### Olivier Michel [cyberbotics] 01/30/2020 10:58:39
You are welcome.

##### Panos 01/30/2020 10:45:42
Ok, I will try this. Thanks for your help!

##### Olivier Michel [cyberbotics] 01/30/2020 10:37:38
I would suggest you to start from a working camera example (for example in projects/samples/devices/worlds/camera.wbt) and modify it by importing your pedestrian model and you will likely find why the camera doesn't work as expected.


Ok, then are you sure there is no object in front of the camera occluding its field of view?

##### Panos 01/30/2020 10:31:41
Hi Olivier, thanks for you reply. Yes, I added  "class Mycamera (Camera):" and then "def enable(self, samplingPeriod):" and "self.SamplingPeriod = 1"

##### Olivier Michel [cyberbotics] 01/30/2020 10:23:40
Hi Panos, did you enable the camera from a controller program?

##### Panos 01/30/2020 10:08:01
Hi, I have attached a pair of glasses on the pedestrian model, which I want to work as a camera. I am trying to enable the camera in the pedestrian controller (python) but the camera overlay remains black. Can you help me with this?

##### Olivier Michel [cyberbotics] 01/29/2020 16:48:15
The answer to this question is complicated and lies basically in Webots side file indicated by `@David Mansolino`.

##### nelsondmmg 01/29/2020 16:07:57
How each physical parameter for each type of vehicle are taken into account?


Thanks, but I'm looking for the file that really applies the torque using the dynamic vehicle equations

##### David Mansolino [cyberbotics] 01/29/2020 15:53:58
And in case you are interested, here is the relation on the Webots side: [https://github.com/cyberbotics/webots/blob/master/src/webots/nodes/WbMotor.cpp#L445](https://github.com/cyberbotics/webots/blob/master/src/webots/nodes/WbMotor.cpp#L445)


Here it is: [https://github.com/cyberbotics/webots/blob/master/src/lib/Controller/api/motor.c#L545](https://github.com/cyberbotics/webots/blob/master/src/lib/Controller/api/motor.c#L545)

##### nelsondmmg 01/29/2020 15:51:34
I'm looking for the function wb\_motor\_set\_torque in the file motor.c but there it isn't there (it is inside the header). Where this function is implemented?

##### David Mansolino [cyberbotics] 01/29/2020 14:35:30
You're welcome

##### nelsondmmg 01/29/2020 14:35:19
Ahh ok, thanks ðŸ‘ðŸ»

##### David Mansolino [cyberbotics] 01/29/2020 14:34:29
Yes, but the properties of the contact between the wheel and the ground are defined in the WorldInfo.contactProperties field: [https://www.cyberbotics.com/doc/reference/contactproperties](https://www.cyberbotics.com/doc/reference/contactproperties)

##### nelsondmmg 01/29/2020 14:33:12
So there is not any slippage considered in the dynamic model?

##### David Mansolino [cyberbotics] 01/29/2020 14:32:22
`@Daniil` simply open one of the worlds in the WEBOTS\_HOME/projects/robots/softbank/nao folder: [https://cyberbotics.com/doc/guide/nao](https://cyberbotics.com/doc/guide/nao)


Hi `@nelsondmmg` the wheelsDampingConstant field of the car proto defines the friction parameter of the wheels joint, it is used to simulate the friction that slow down the vehicle.

##### nelsondmmg 01/29/2020 14:26:27
*longitudinal direction, sorry


Hi, I have a question concerning some of the available parameters for the vehicle. What does wheel damping constant stands for? This means that the tire is modeled in the longitudinal sense as a damper? Is there a defined value for the cornering stiffness for the Tesla model 3? Thanks

##### Daniil 01/29/2020 14:24:24
`@David Mansolino`, how can I choose Aldebaran robotics in webots R2020a version?

##### David Mansolino [cyberbotics] 01/29/2020 14:01:42
You're welcome ðŸ™‚

##### Dorteel 01/29/2020 14:01:30
`@David Mansolino` Great to know! Thank you very much for the answer!

##### David Mansolino [cyberbotics] 01/29/2020 14:00:39
The robot itself has some inertia, but on the motor side the wheel instantaneously rotate at the desired speed. It would be nice to valibrate this, but I don't have access to the real robot to test this yet.


`@Dorteel` yes indeed the acceleration was not calibrated and is therefore set to infinity for now.

##### Dorteel 01/29/2020 13:58:54
I'm wondering if the robot has any momentum we should account for. If we're moving backwards  with max speed and the next velocity command is moving forward with max speed, do we just move forward with max speed in the next timestep? Or is there some momentum involved?

##### David Mansolino [cyberbotics] 01/29/2020 13:58:25
`@Daniil` it does not anymore, as license you just have to but webots@cyberbotics.com and use 'webots' as password

##### Dorteel 01/29/2020 13:57:52
Hi guys! I have a question regarding the TurtleBot 3  motor acceleration. Is it set to Infinite? Can't see it in the proto file.

##### Daniil 01/29/2020 13:57:48
what should I do?


thanks, but the programm requires license

##### David Mansolino [cyberbotics] 01/29/2020 13:55:41
Hi `@Daniil` , you don't need to register anymore. Webots is free now, you simply have to set any email you want and use 'webots' as password

##### Daniil 01/29/2020 13:55:02
?


Hi, how I can register in webots 8.2.1&

##### ð•–ð•ð•ð•¤ð•’ð•Ÿ 01/29/2020 09:06:35
thank you very much

##### Fabien Rohrer [Moderator] 01/29/2020 09:05:30
Hi, there is no more regisration for Webots 7, you can simply login Webots 7 using the "webots" password as explained here: [https://cyberbotics.com/doc/guide/general-faq#can-i-still-use-a-webots-version-before-the-r2019a-release](https://cyberbotics.com/doc/guide/general-faq#can-i-still-use-a-webots-version-before-the-r2019a-release)

##### ð•–ð•ð•ð•¤ð•’ð•Ÿ 01/29/2020 09:04:00
hi. i have webots v7.4.0 but i can't register. is there a way to register?

##### Tahir [Moderator] 01/28/2020 10:27:01
That are available on Webots github


You can built your own, import from URDF or using some other available tools


Yes I did worked in webots and forklifts, I inported it from URDF

##### Ayoub Thabit 01/28/2020 10:23:59
Plz i have a project where i need a forklift in the factory but i can't find it in webots, how can i add it do i have to build it from scratch? did anyone build it before?


`@David Mansolino` yes am sure;but thanks it got fixed on its own when i reinstalled webots again

##### Mic.lop 01/27/2020 12:06:16
Thanks `@Fabien Rohrer` , will try that. I may also try importing a Liftkit to the environment

##### Fabien Rohrer [Moderator] 01/27/2020 11:01:24
You can easily mount your UR5e arm on a linear slider. To do so, just add a Robot node with a SliderJoint, and mount your arm as a children of this node.

##### Mic.lop 01/27/2020 10:40:01
Hey everyone! Im a developer trying to use the software to make a simulation of a 3d printing factory. I began using the UR5e model to start. But quickly realize it would be tricky since I do not have the linear sliders available, so I am trying to go with the kuka youbot. However, I will need to stack printers on top of each other (they are big 1mÂ³). So I wanted to get the opinion of someone regarding what could be a quicker fix to have a mobile robot managing a matrix of 3 x 3 x3 printers ?

##### David Mansolino [cyberbotics] 01/27/2020 07:12:30
`@Ayoub Thabit` areyou sure it is the 64bit version of Python that is installed ?

##### shivajitheboss 01/26/2020 21:02:33
Yeah I had the same problem, but it got fixed on its own when i restarted my PC somehow

##### Ayoub Thabit 01/25/2020 19:08:31
plz heeelp


path*


i made sure the oath is good
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/670706520060854322/unknown.png)
%end


this is the error i get, although i installed python and am sure the path points to the right version



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/670706238799216651/unknown.png)
%end


hello i have a problem in webots, i used to work with C++ i didn't have any problems, now that i want to work with python also i changed my laptop so i reinstalled webots (so we're sure the old configurations on c++ aren't there it's virgin xD) long story short, when i launch the simulation i get error message

##### David Mansolino [cyberbotics] 01/25/2020 07:23:49
Hi `@enescan`  you can export your robot in VRML from SolidWorks and then import this VRML file in Webots directly (not that this will import only the shapes, you will then have to add solids, bounding objects, physics, sensors, etc.). Or import from SolidWorks to Blender and then Blender to Webots, here is an example with Autodesk Inventor  (Solidworks works similarly): [https://youtu.be/L0FVsFD2rS4](https://youtu.be/L0FVsFD2rS4)


`@Ä°chigogo`, it is not 'extend' but 'extern'


Hi `@FB`, you can download the latest version of Webots from here: [https://github.com/cyberbotics/webots/releases/tag/R2020a-rev1](https://github.com/cyberbotics/webots/releases/tag/R2020a-rev1)

And older release from here: [https://github.com/cyberbotics/webots/releases/tag/R2019a](https://github.com/cyberbotics/webots/releases/tag/R2019a)

##### FB 01/25/2020 06:36:27
how can I download it?


this link:Windows: [https://www.cyberbotics.com/archive/windows/webots-7.4.0\_setup.exe](https://www.cyberbotics.com/archive/windows/webots-7.4.0_setup.exe)


hi  I want to install software Webots but the link dosn't exist

##### enescan 01/25/2020 02:09:32
Hello, I'm Enes from istanbul technical university. I have quick question. Is there any chances to get our 3d desinged robot (on solidworks) to webots simulation. If exist any tutorials will be best for me. thanks for answering

##### Ä°chigogo 01/25/2020 00:23:34
Now I chose car's controller as <extend> like in the tutorial but it says there is no extend controller ðŸ˜­ 



<< When I try to use pycharm it gives error as " ImportError: DLL load failed: The specified module could not be found "  How can I solve it? ðŸ¥º  ( I'm using Windows with Python 3.7)



Okay I solved it I don't know if I did correct thing but I'm sharing because I saw that some people couldn't solve it like me. I added path variable to

 C:\Users\***\AppData\Local\Programs\Webots\scripts;C:\Users\***\AppData\Local\Programs\Webots\lib\controller;C:\Users\***\AppData\Local\Programs\Webots\lib\controller\python37;C:\Users\***\AppData\Local\Programs\Webots\msys64\mingw64\bin



And lastly I added my project file's location to the Path.  >>

##### David Mansolino [cyberbotics] 01/24/2020 13:38:30
You're welcome

##### Willem3141 01/24/2020 13:38:13
I'll look into that, thanks for the pointer!

##### David Mansolino [cyberbotics] 01/24/2020 13:36:36
Hi `@Willem3141` not as I now, but you can automatically start the remote control mode when you start the controller with this function: `wb_robot_set_mode` ([https://cyberbotics.com/doc/reference/robot#wb\_robot\_get\_mode](https://cyberbotics.com/doc/reference/robot#wb_robot_get_mode))

##### Willem3141 01/24/2020 13:33:47
Is there a way to keep e-pucks connected via Wi-Fi when reloading the world or resetting the simulation? Or alternatively, to automatically reconnect them? (Background: We had some student teams working on shape formation algorithms with many e-pucks, and while debugging the controller they had to reconnect to all the e-pucks every time they wanted to change something in the controller and reload, which really takes a lot of time...)

##### David Mansolino [cyberbotics] 01/24/2020 13:32:05
You're welcome

##### Ross 01/24/2020 13:32:00
Okay thank you so much!

##### David Mansolino [cyberbotics] 01/24/2020 13:31:14
Then if you have any specific question about Lidar do not hesitate to ask.


`@Ross` in that cas I strongly recommend to start with the official tutorial (at least 1 to 6): [https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)

They are not strictly related to Lidar, but will give you a good overview of how Webots works and how to use the various sensors of Webots.

##### Ross 01/24/2020 13:29:09
I am a beginner and I don't know how to start off.. Like I know how to code in python and C++..but I know jackshit about how to go ahead and make the Lidar simulation.. :/

##### David Mansolino [cyberbotics] 01/24/2020 13:27:41
`@Ross` yes of course, what is your issue?

##### DrVoodoo [Moderator] 01/24/2020 13:27:18
```camera = robot.getCamera( "cameraname" )
   camera.enable( refresh )
   camera.recognitionEnable( refresh )

   #stepping stuff

   positions = ( ( *object.get_position_on_image(), *object.get_size_on_image() )
                  for object in camera.getRecognitionObjects() )
```

##### Ross 01/24/2020 13:27:13
<#565154703139405824> I am trying to make a Lidar simulation..Can anyone help in that respect..

##### zibz 01/24/2020 13:26:09
yes, I see that

##### DrVoodoo [Moderator] 01/24/2020 13:25:54
in your control code you've got to enable the recogniser seperately

##### zibz 01/24/2020 13:25:36
thank you for replies


just had to add it

##### DrVoodoo [Moderator] 01/24/2020 13:25:08
```Camera 
{         
  translation 0 0 -0.01
  recognition Recognition
  {
     maxObjects -1
  }
}
```

##### zibz 01/24/2020 13:24:49
kay, done that, gonna fiddle with it

##### DrVoodoo [Moderator] 01/24/2020 13:23:52
`@zibz` you need to have your camera node in your PROTO file and then you need to set up the recognition field e.g.

##### zibz 01/24/2020 13:20:29
that's the context


hence was trying to understand what would the best approach be to have such feature on a controller


don't seem to have such node


so to distinguish objects in world


with the camera


am trying to use features of a Recognition node

##### DrVoodoo [Moderator] 01/24/2020 13:00:24
How you process an image world depends on what it is that you're trying to do. When you say image recognition do you mean using the webots  recognition feature or something else?

##### zibz 01/24/2020 12:05:53
ok, thanks


if I cant enable that, how can I process image?

##### David Mansolino [cyberbotics] 01/24/2020 12:04:00
I will leave for lunch (i wil come back in ~1h30)

##### zibz 01/24/2020 12:03:48
and regarding image recognition?

##### David Mansolino [cyberbotics] 01/24/2020 12:03:44
You're welcome

##### zibz 01/24/2020 12:03:39
thx


kay, spot on probably

##### David Mansolino [cyberbotics] 01/24/2020 12:03:19
This is required because the image is updated only at the step (before it is None).

##### zibz 01/24/2020 12:02:46
no

##### David Mansolino [cyberbotics] 01/24/2020 12:02:19
Did you call the robot.step function BEFORE the first for?

##### zibz 01/24/2020 12:01:34
it's enabled and attached to display, can see rendered images

##### David Mansolino [cyberbotics] 01/24/2020 12:00:48
How did you enable the camera? Did you call the robot.step function before ?

##### zibz 01/24/2020 12:00:44
that's the correct object reference


subscripting NoneType Object


image = self.camera.getImageArray()



        #display the components of each pixel

        for x in range(self.camera.getWidth()):

            for y in range(self.camera.getHeight()):

                red = image[x][y][0]

                green = image[x][y][1]

                blue = image[x][y][2]

                gray = (red + green + blue) / 3

                print('r='+str(red)+' g='+str(green)+' b='+str(blue))

##### David Mansolino [cyberbotics] 01/24/2020 11:59:02
Can you post the code that you are using and which is not working?

##### zibz 01/24/2020 11:58:47
?

##### David Mansolino [cyberbotics] 01/24/2020 11:57:16
Can you post the exact code?

##### zibz 01/24/2020 11:56:14
python notes


regarding getImageArray


used the code on reference manual

##### David Mansolino [cyberbotics] 01/24/2020 11:54:36
Can you post a snap of your problematic part of code?

##### zibz 01/24/2020 11:54:30
*process

##### David Mansolino [cyberbotics] 01/24/2020 11:54:22
> It doesn't seem to have recognition capability

You don't need

##### zibz 01/24/2020 11:54:12
need to proccess image data?

##### David Mansolino [cyberbotics] 01/24/2020 11:54:10
Do you mean `cam.getImage()` is returning None?

##### zibz 01/24/2020 11:53:56
It doesn't seem to have recognition capability

##### David Mansolino [cyberbotics] 01/24/2020 11:53:23
You don't need to get the actual data, you can simply use the 'Display.attachCamera' function ([https://cyberbotics.com/doc/reference/display#wb\_display\_attach\_camera](https://cyberbotics.com/doc/reference/display#wb_display_attach_camera))

##### zibz 01/24/2020 11:52:36
any debug tips?


its enabled


but I dont seem to be able to get any data with cam.getImage() or cam.getImageArray()

##### David Mansolino [cyberbotics] 01/24/2020 11:51:04
Yes of course

##### zibz 01/24/2020 11:50:47
ok, so I could attach a device cam to a display

##### David Mansolino [cyberbotics] 01/24/2020 11:50:41
What is exactly the problem you have?


Yes of course

##### zibz 01/24/2020 11:50:22
am I in the correct channel?

##### David Mansolino [cyberbotics] 01/24/2020 11:50:08
Hi `@zibz`

##### zibz 01/24/2020 11:49:48
having trouble obtaining camera data on python


hi

##### David Mansolino [cyberbotics] 01/24/2020 11:30:23
Ok thank you for the information, on Windows Webots uses QtWebkit, it seems QtWebkit supports CSS animation ([https://doc.qt.io/archives/qt-4.8/qtwebkit-guide-css.html](https://doc.qt.io/archives/qt-4.8/qtwebkit-guide-css.html)).

What is exactly the issue you have?

##### Shadow 01/24/2020 08:18:16
`@David Mansolino` currently using windows

##### David Mansolino [cyberbotics] 01/24/2020 06:57:47
`@Shadow` on which OS are you (Webots does not use the same web engine on linux and mac or Windows) ?

##### Shadow 01/23/2020 18:53:26
I was wondering if you can use css animations in a robot window? I can't seem to be able to get it to work

##### JC 01/23/2020 16:59:58
fantastic, thanks for your help

##### Fabien Rohrer [Moderator] 01/23/2020 16:59:57
Supervisor is a subclass of Robot.


yes, exactly.

##### JC 01/23/2020 16:59:13
oh i see, i thought of it like an add on to an existing robot but its more like a robot instance with more functionality

##### Fabien Rohrer [Moderator] 01/23/2020 16:58:16
> supervisor = Supervisor()

> ds = supervisor.getDistanceSensor('ds')  # Robot API example

> node = supervisor.getSelf()  # Supervisor API example


Typically:


All the robot API is accessible from a Supervisor instance.


Ok, please do not create a Robot() instance then.

##### JC 01/23/2020 16:56:14
as an error


Only one instance of the Robot class should be created


i tried that and got:

##### Fabien Rohrer [Moderator] 01/23/2020 16:54:58
ðŸ˜‰


> supervisor = Supervisor()


Try:

##### JC 01/23/2020 16:54:40
TypeError: \_\_init\_\_() takes 1 positional argument but 2 were given


and get the error


i use supervisor = Supervisor(robot)


Hi, cant quite seem to initialise the supervisor in python, i really feel like im missing something simple.

##### David Mansolino [cyberbotics] 01/23/2020 09:12:30
You're welcome

##### Dorteel 01/23/2020 09:12:11
Great, that clears things up! Thanks once again!

##### David Mansolino [cyberbotics] 01/23/2020 09:10:45
Yes it seems indeed.

##### Dorteel 01/23/2020 09:10:20
ah I see. So it's actually physically not possible to have both of them set to the max a the same time, right?

##### David Mansolino [cyberbotics] 01/23/2020 09:09:17
I am sorry but from the datasheets of the motor ([http://emanual.robotis.com/docs/en/dxl/x/xl430-w250/](http://emanual.robotis.com/docs/en/dxl/x/xl430-w250/)) it say maximum speed is 61 [rev/min] which is way lower than  12.64 rad/sec.

##### Dorteel 01/23/2020 09:08:13
if I'm setting linear and angular velocities  to the max in ROS, then I should get the maximum velocity of a wheel corresponding to 12.64 rad/sec. Using the model in the screenshot
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/669830742016131072/unknown.png)
%end

##### David Mansolino [cyberbotics] 01/23/2020 09:05:47
You mean if the robot is going at the maximum forward speed and rotating in the same time?

##### Dorteel 01/23/2020 09:04:55
However if I set the motors to both the maximum linear and angular velocity, then the maxVelocity should be around 12.65 if I'm not mistaken


Hi guys! Referring to my earlier problem with the angular and linear velocity of the TurtleBot 3 Burger, I've noticed that the maxVelocity is set to 6.66 rad/sec corresponding to the maximum linear velocity of 0.22 m/s of the real robot.

##### David Mansolino [cyberbotics] 01/23/2020 06:57:10
Hi `@yunus`, this is indeed a format issue. Your are almost correct, the only issue is that mygps.getValues() returns an array and not a Vector3, here is a more correct version:

```
mygps = robot.getGPS('gps')
mygps.enable(timeStep)
...
GPSpub = rospy.Publisher('mygps',Vector3, queue_size=10)
...
# in the control loop
gpsValues = mygps.getValues()
GPSpub.publish(Vector3(x=gpsValues[0], y=gpsValues[1], z=gpsValues[2]))
```

##### yunus [Moderator] 01/23/2020 05:32:59
Hello. I am using **rospy **in Webots to communicate with Simulink. I added a GPS device to my Khepera robot by adding it as node in the TurretSlot field in the scene tree. In the controller, I have enabled GPS like this:

`mygps = robot.getGPS('gps')`

`mygps.enable(timeStep)`

`......`

`GPSpub = rospy.Publisher('mygps',Vector3, queue_size=10)`

and inside the control loop, I added a line"

`GPSpub.publish(mygps.getValues())`



The error I get is in the control loop, and the useful info in it says:

`.............

Invalid number of arguments, args should be ['x', 'y', 'z'] args are([-0.01999999987308264, -0.00011893769370018015, -0.125],)

............`

PS: Those three numerical value above are the exact GPS location, so I know at least that it reads them, but I think it's not correctly formatted. Thank you for pointing to me the mistake.

##### David Mansolino [cyberbotics] 01/22/2020 08:47:47
Perfect, thank you for the feedback !

##### Dorteel 01/22/2020 08:47:23
Thank you very much `@David Mansolino` ! Solved the issue perfectly!

##### David Mansolino [cyberbotics] 01/22/2020 08:45:46
I am fixing this for the next version of Webots: [https://github.com/cyberbotics/webots/pull/1294](https://github.com/cyberbotics/webots/pull/1294)

##### Dorteel 01/22/2020 08:40:35
ah, yeah, that makes perfect sense. I knew the 2.84 was familiar ðŸ˜„

##### David Mansolino [cyberbotics] 01/22/2020 08:40:34
May I ask you to test with this patched version or the PROTO ?
> **Attachment**: [TurtleBot3Burger.proto](https://cdn.discordapp.com/attachments/565154703139405824/669461393984061470/TurtleBot3Burger.proto)


It seems indeed that there is an issue, the 'Maximum rotational velocity' was used to compute the maximum wheel speed instead of the 'Maximum translational velocity'.


Hi `@Dorteel` let me check this

##### Dorteel 01/22/2020 08:23:55
Hi guys! I'm trying to set the built-in TurtleBot 3 Burger's linear velocity to match the real TurtleBot 3 Burger's maximum linear velocity of 0.22 m/s (as specified here: [http://emanual.robotis.com/docs/en/platform/turtlebot3/specifications/](http://emanual.robotis.com/docs/en/platform/turtlebot3/specifications/)), but I run into a warning, saying that the maxVelocity is set to 2.84 rad/sec (which in this case with 0.033m wheel radius would be around 0.09 m/s) and I can't exceed that. Is there a way to change that maximum velocity?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/669457204595785758/unknown.png)
%end

##### David Mansolino [cyberbotics] 01/22/2020 07:03:56
Yes that may be an explanation, we have noticed such kind of performance difference across OS (in one way or the other) too. Make sure that your GPU drivers are up to date on Windows.

##### Luiz Felipe 01/22/2020 05:32:55
Hello. I am running webots on windows with a 1080Ti gpu and with a 1060Ti gpu. In both of them for my environment the speed is around 0.5x. When i run the same environment in linux with the 1080Ti I get around 0.9-1x speed. This problem is related with the nvidia drivers for windows?

##### Angerbot 01/21/2020 15:03:24
It is a ATI Radeon HD 5870 im sure - sounds right. I will give the above a go! thanks !

##### David Mansolino [cyberbotics] 01/21/2020 15:01:53
`@Angerbot` you're welcome, happy to see you like it.

What is your GPU? Make sure that the drivers are up to date.

In the worse case you can disable some of the OpenGL feature: [https://cyberbotics.com/doc/guide/preferences#opengl](https://cyberbotics.com/doc/guide/preferences#opengl)

For example disabling the 'Ambient Occlusion' might help quite a lot on low-end GPU.

You might find other tips too here: [https://www.cyberbotics.com/doc/guide/speed-performance](https://www.cyberbotics.com/doc/guide/speed-performance)


`@Gautier A.` this is now done here (any progress will be posted on the issue): [https://github.com/cyberbotics/webots/issues/1290](https://github.com/cyberbotics/webots/issues/1290)

##### Angerbot 01/21/2020 14:57:31
Hi `@David Mansolino`, thanks for the platform - really great. Im running lower requirement GPU (2012 Mac Pro/12GB RAM). Application seems to lag quite abit. Any advice? Thanks

##### David Mansolino [cyberbotics] 01/21/2020 14:42:10
Unfortunately no, But I will open a bug report and we will try to fix this as soon as possible.

##### Gautier A. 01/21/2020 14:41:25
Do you have any idea where it can come from ?


`@David Mansolino` yes, that's the bug !

##### David Mansolino [cyberbotics] 01/21/2020 14:34:27
`@Gautier A.` ok I can reproduce with this slightly modified version of the sample: [https://gist.github.com/DavidMansolino/a2006549cb834f312b9ebdb830006764](https://gist.github.com/DavidMansolino/a2006549cb834f312b9ebdb830006764)

##### DrVoodoo [Moderator] 01/21/2020 14:32:16
Have you set the contactmaterial parameter?


`@moustachemartin`  it sounds like the arm is interacting with the box. Is the box moving at all?

##### David Mansolino [cyberbotics] 01/21/2020 14:29:55
Ok thank you for the precision, I will try to reproduce this.

##### Gautier A. 01/21/2020 14:25:39
I've made a video that shows the behavior : [https://www.youtube.com/watch?v=-Ex\_tqCoKFI&feature=youtu.be](https://www.youtube.com/watch?v=-Ex_tqCoKFI&feature=youtu.be) One world works, one world doesn't. Both world have the same proto with the same controller, but in one, it's the children of a proto, and in the other the children of a robot


I've tried to replicate the bug with "default/box" protos, but I wasn't able to replicate it. It seems to not works when it's a proto which has another proto has a children


I tried your file and your world, it does work


`@David Mansolino`  Thank you for your response

##### David Mansolino [cyberbotics] 01/21/2020 13:42:22
`@Gautier A.` I juste tried with this controller and world and I can't reproduce the issue:

[https://gist.github.com/DavidMansolino/a2006549cb834f312b9ebdb830006764](https://gist.github.com/DavidMansolino/a2006549cb834f312b9ebdb830006764)

It has a one step delay between the value displayed in the scene-tree and the one in the console but this is normal. Can you reproduce the same bahavior too?


thank you


Ok, I will try it soon

##### Gautier A. 01/21/2020 13:25:53
The proto is a generic proto, with  just "rotation IS rotation" and "    field SFRotation rotation               0 1 0 0                   # Is `Transform.rotation`."


for the supervisor


Node * reaction = supervisor->getSelf();

  double rotation[4] = {0,0,0,0};

  double * tempo;    

  Field * rotationField = reaction->getField("rotation");



    tempo = (double *) rotationField->getSFRotation();

    rotation[0] = tempo[0];

    rotation[1] = tempo[1];

    rotation[2] = tempo[2];

    rotation[3] = tempo[3];

    

    std::cout<<"Current rotation ! "<<rotation[0]<<" "<<rotation[1]<<" "<<rotation[2]<<" "<<rotation[3]<<" "<<std::endl<<std::endl;


Sure, here is the corresponding code I use :

##### David Mansolino [cyberbotics] 01/21/2020 13:18:32
Hi `@Gautier A.`, do you have a simple example / procedure to share?

##### Gautier A. 01/21/2020 13:16:09
What I mean by "It doesn't works" is that I have to save the simulation and reset it for the value to be actualized


I have a problem : I try to get the value of a field (the "rotation" field)  from a proto. It doesn't works when the node is a proto (but it does works when that proto is converted to base node).


Hello !

##### David Mansolino [cyberbotics] 01/21/2020 13:07:45
`@aysegulucar` can you reproduce the same problem with the 'Reset Simulation' button ([https://cyberbotics.com/doc/guide/the-user-interface#file-menu](https://cyberbotics.com/doc/guide/the-user-interface#file-menu)) ?

Are you using the latest version of Webots (we fixed some issues with the reset in R2020a).

##### moustachemartin 01/21/2020 12:32:19
`@DrVoodoo`   Yes the boxes have physics nodes. I have added contact properties to each part. I have increased the torque of the motors. And still it wonâ€™t lift.

##### aysegulucar 01/21/2020 12:26:08
Hi DAvid , Thanks.  I did not undestand the sentence  Do you have one specific procedure to reproduce the issue?  I am using def myreset(self):

        supervisor = self.simulationReset() in my supervisor. I just used simulationReset instead of working one,  worldload reset. I  think, it has problem at multiple itarations, for example 25. I have added sleep but it has still problem

##### DrVoodoo [Moderator] 01/21/2020 12:11:19
`@moustachemartin` does the box have physics? Or is it immovable?

##### moustachemartin 01/21/2020 12:09:57
Hi all. Iâ€™m currently working on a university assignment. Building a robotic arm in webots. I have everything working. But my end effector wonâ€™t grip the box. The motors grab it. But it wonâ€™t pick it up. It just slides out. Can anyone help.

##### David Mansolino [cyberbotics] 01/21/2020 06:56:21
`@aysegulucar` it should work for all the joints/motors, I jsut tested and it seems to works fine for me with the op2. Do you have one specific procedure to reproduce the issue?

##### aysegulucar 01/20/2020 21:50:43
Hello, I think that simualtion reset does not work for op2 because just head is reseted but arms dont reset. Is it correct?

##### DrVoodoo [Moderator] 01/20/2020 21:46:44
@jc or you can get the current simulation time off the robot node

##### JC 01/20/2020 19:07:05
awesome , ill read through the documentation. Thanks for the help

##### DrVoodoo [Moderator] 01/20/2020 19:06:42
As long as you keep the timestep count yourself, yes

##### JC 01/20/2020 19:06:02
or something like that


ah i see , so it would allow me to reset the simulation after a set number of time steps?

##### DrVoodoo [Moderator] 01/20/2020 19:05:02
But you set supervisor to True on your robot and you get access to the god mode functions, including rest sim


Well, it's not a node.


Supervisor node [https://cyberbotics.com/doc/reference/supervisor](https://cyberbotics.com/doc/reference/supervisor)

##### JC 01/20/2020 19:03:16
Hi everyone, im currently trying to implement a genetic program to teach a robot to walk. To test this i need to be able to automatically reset the simulation after testing a possible solution, how would i go about automatically resetting the simulation like this?

##### John-ns 01/20/2020 16:51:35
Thank you `@Stefania Pedrazzi` for your help. It works.

##### Stefania Pedrazzi [cyberbotics] 01/20/2020 16:51:13
but you can start it from the terminal from the webots folder


Using the tarball package the application is not really "installed" on the system, i.e. the `webots` command is not available from any terminal path


Hi `@John-ns` , you should type `./webots` to start the application

##### John-ns 01/20/2020 16:48:39
Thanks a lot!


How could I start Webots application?


Is it installed alreadly?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/668859162956005402/unknown.png)
%end


Hi guys, I am installing Webots. I first downloaded webots-R2020a-rev1-x86-64.tar.bz2, and followed the instruction as:

##### David Mansolino [cyberbotics] 01/20/2020 11:26:37
You're welcome

##### bsr.nur.bahadir 01/20/2020 11:24:30
okay thank you so much

##### David Mansolino [cyberbotics] 01/20/2020 11:22:21
`@bsr.nur.bahadir` ok, this definitely means that you have one library installed on your computer that is causing conflicts with the jpeg library used by Webots, unfortunately it is very difficult for me to say where this library can be located.


`@Dorteel` good news !

##### Dorteel 01/20/2020 11:16:23
Yes `@David Mansolino` , exactly. But managed to find the problem, I changing the order I add the wheels solved the issue first the right then the left wheel instead of other way around.

##### bsr.nur.bahadir 01/20/2020 11:12:46

%figure
![Untitled1.png](https://cdn.discordapp.com/attachments/565154703139405824/668774919739408384/Untitled1.png)
%end

##### David Mansolino [cyberbotics] 01/20/2020 11:07:03
What is exactly the error message you get when using jpeg?


No it should not be necessary.

##### bsr.nur.bahadir 01/20/2020 11:04:40
I found jpeg.dll in << C:\Program Files (x86)\Java\jre1.8.0\_241\bin  >> should I add it to PATH?
%figure
![Untitled.png](https://cdn.discordapp.com/attachments/565154703139405824/668772884138819614/Untitled.png)
%end

##### David Mansolino [cyberbotics] 01/20/2020 10:55:50
What is the content of your PATH environment variable?

Do you have any jpeg.dll somewhere installed on your computer?

##### bsr.nur.bahadir 01/20/2020 10:53:13
`@David Mansolino`  thank you ðŸ™‚ drivers are up to date and I couldn't find anything about jpeg library in the PATH environment variables

##### David Mansolino [cyberbotics] 01/20/2020 10:44:46
You mean you had a cusom TurtleBot3 model before and now you are trying to use the one coming with Webots and it's not working anymore, am I right ?

##### Dorteel 01/20/2020 10:42:26
Hi `@David Mansolino` , thanks for the quick reply. Using 2020a, and custom controller that was working on my model of TurtleBot3, but not on this one. I made sure to rename everything I use accordingly (LiDAR, wheels, robot)

##### David Mansolino [cyberbotics] 01/20/2020 10:40:26
Hi `@Dorteel`, Which version of Webots are you using? Is it while you are runnign the default controller or a custom one?

##### Dorteel 01/20/2020 10:39:17
Hi! I'm having an issue getting the TurtleBot model to work, the controller crashes, never seen this kind of error before, could you have a look at it when you get a chance?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/668766493546250250/unknown.png)
%end

##### David Mansolino [cyberbotics] 01/20/2020 09:53:02
`@bsr.nur.bahadir` using the Nvidia GPU is indeed a better idea to run Webots ;-)

Please make sure:

  1. to update your GPU drivers.

  2. that your `PATH` environment variable is clean (it is for example possible that a conflicting version of the jpeg library is in your path).

##### bsr.nur.bahadir 01/20/2020 09:50:25
`@David Mansolino` I'm using lastest version of Webots on Windows. I actually don't know too much these things but when I run Webots with Nvidia's gpu it's having jpg issue but if I use Intel's this time program generally shuts down itself.

##### David Mansolino [cyberbotics] 01/20/2020 06:57:01
`@Lifebinder (tsampazk)` you can find the exact same worlds in Webots in 'projects/samples/robotbenchmark': [https://github.com/cyberbotics/webots/tree/master/projects/samples/robotbenchmark](https://github.com/cyberbotics/webots/tree/master/projects/samples/robotbenchmark)


`@sunnyjerai` you're welcome!


`@bsr.nur.bahadir`, you're welcome. About the jpg issue, which version of Webots are you using, and on which OS?

##### Lifebinder (tsampazk) 01/19/2020 14:50:02
`@DrVoodoo` I just need the specific terrain that is used on robotbenchmarking with just a single "hole" in the middle. Tried fiddling with the noise but couldn't get a good enough similar hole.

##### Troy 01/18/2020 20:36:53
`@Olivier Michel` thank you so much

##### DrVoodoo [Moderator] 01/18/2020 20:07:24
`@Lifebinder (tsampazk)` is it purely that the noise is an issue? You can turn the amplitude down to 0

##### Lifebinder (tsampazk) 01/18/2020 19:59:35
Hello! Is there a way to get the terrain from the bb-8 example in [https://robotbenchmark.net/](https://robotbenchmark.net/) to run locally? The example in the webots installation has a perlin noise terrain.

##### bsr.nur.bahadir 01/18/2020 13:32:00
Hi thank you so much `@David Mansolino` , I solved that problem with changing GPU settings but now when I try to add texture it works with png but says Unsupported image format to jpg .

##### Olivier Michel [cyberbotics] 01/18/2020 11:07:38
No, there is no such a thing in Webots. You can however adjust the friction parameters to make the contact properties as close as possible as if it was sand, but I am not sure how realistic that could be.

##### Troy 01/17/2020 20:00:13
I want to so some simulation about robot running on sand


Hi guys! I'm a new user. I'm wondering if there is a sand ground environment in webots 2020?

##### sunnyjerai 01/17/2020 17:25:34
Thank you `@David Mansolino` , Helpful as always ðŸ˜

##### David Mansolino [cyberbotics] 01/17/2020 16:00:22
You're welcome

##### e-puck 01/17/2020 15:59:14
Thank you very much for the quick response, I will try to implement that now

##### David Mansolino [cyberbotics] 01/17/2020 15:57:48
But of course other solutions exist (but this is probably the simplest one).


Hi e-puck, you can use amitter-receiver devices for example to broadcast a message when the epuck finish its task, when all the e-pucks are broadcasting it means they have all finished.

##### e-puck 01/17/2020 15:52:57
Hello, I'm currently working with e-pucks in Webots. I'm struggling with synchronizing the e-pucks (they should wait for all pucks to finish moving before beginning a new cycle (cycle is look-compute-move)). I'm currently doing this by allocating e-pucks a max number of timesteps, when e-pucks finish before the max number of timesteps, they wait. This methods works but causes very very long simulations. Would anyone know of a better solution?

##### David Mansolino [cyberbotics] 01/17/2020 14:12:29
Hello `@sunnyjerai` , as any other sensors you have to activate it, then you can use the `getRollPitchYaw` fucntion which will return you an array with three components representing (in this order) the roll, the pitch and the yaw.

##### sunnyjerai 01/17/2020 14:06:51
I am using python as the language for my controllers


Hello, I was wondering if someone could help me understand how I can use the IMU in webots

##### David Mansolino [cyberbotics] 01/17/2020 13:57:26
You're welcome

##### Angerbot 01/17/2020 13:51:57
`@David Mansolino` Hi David, thanks very much for your detailed response. Looking forward to creating!

##### David Mansolino [cyberbotics] 01/17/2020 13:33:55
We strongly recommend to use the Webots tutorial to get familiar with Webots: [https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)


There is no interface for arduino but as arduino support C language and Webots too it should be quite simple to go from one to the other.


Yes of course you can use the position-sensor device to read a joint angle and then use the motor API to control the joint


From fusion 360 you should export your model into VRML format, this format can then be imported into Webots.


Hi `@Angerbot` You can download Webots from here: [https://github.com/cyberbotics/webots/releases/tag/R2020a-rev1](https://github.com/cyberbotics/webots/releases/tag/R2020a-rev1)

##### Angerbot 01/17/2020 13:19:52
Appreciate!


Hi `@michou214` Im not yet able to download the software to use. Does Webots allow import of third-party platforms such as Fusion 360? Is it also possible to input code that will, for instance simulate readings from an optical encoder then potentially execute new joint-movement from input corrections?What is the compatibility with arduino and possibility to form movement and automatically generate code for arduino IDE?

##### David Mansolino [cyberbotics] 01/17/2020 07:06:54
`@sujit` if you want Cyberbotics provide professional consulting and can create the model for you.


`@sujit`, welcome to Webots!

Unfortunately we don't have a spot mini model yet, but you can create one yourself, here is a tutorial for creating a simple robot model: [https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot](https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot)

And then to create a PROTO from it: [https://cyberbotics.com/doc/guide/tutorial-7-your-first-proto](https://cyberbotics.com/doc/guide/tutorial-7-your-first-proto)


`@bsr.nur.bahadir`, do you experience this with one specific simulation? Or when adding one specific object? On which OS are you and are you using the latest version of Webots?

In any case, make sure that your GPU drivers are up to date.


`@User21` of good news, thank you for the feedback !

##### sujit 01/17/2020 04:11:55
one hsve a spot mini model?


does any


AMAZING!!


O just discovered webots aftre years stuck with physics mods in sketchup its AN

##### bsr.nur.bahadir 01/16/2020 23:12:54
Hi I'm trying to learn Webots with the tutorials but sometimes it shuts down itself without any reason when I try to add objects or start the simulation. How can I solve this problem?

##### User21 01/16/2020 17:30:40
`@David Mansolino`  sorry for not responding i had an knew approach and now it works more or less. my controller crashed when i Instantiate a MoveGroupCommander object.  

Im starting now a new node and use the MoveGroup Commander functions to set the endeffector goals+

##### Fabien Rohrer [Moderator] 01/16/2020 16:54:14
The Compass is very basic, it only indicates the direction of the WorldInfo.northDirection vector. A white noise can be added using the lookupTable. Compass doesn't deal with anything else, such as electromagnetic field, etc.


Could you give an example of "particular model"?

##### vinay 01/16/2020 16:47:39
but i am actually asking about the particular model for good performance

##### Fabien Rohrer [Moderator] 01/16/2020 16:46:21
mmm... the reference manual link mentioned above gives a lot of information about this model, doesn't it? Do you refer about something in particular?

##### vinay 01/16/2020 16:44:34
but there are no details about sensor model?

##### Fabien Rohrer [Moderator] 01/16/2020 16:42:40
- this example: [https://cyberbotics.com/doc/guide/samples-devices#compass-wbt](https://cyberbotics.com/doc/guide/samples-devices#compass-wbt)


- the Compass node doc: [https://www.cyberbotics.com/doc/reference/compass](https://www.cyberbotics.com/doc/reference/compass)


Please refer to:


Webots contains a Compass sensor out of the box.

##### vinay 01/16/2020 16:40:05
we are actually making bot for robocon events so,we want a good compass sensor do anyone help which is better to use


hello everyone

##### DrVoodoo [Moderator] 01/15/2020 15:51:58
So technically possible but definitely not worth the hassle. Thanks for the help, I'll stick with the rename

##### David Mansolino [cyberbotics] 01/15/2020 15:48:19
You're welcome


Unfortunately that's not so simple, Node arguments are not simply translated into strings but into a dictionnary (that you have to parse if you want to use it: [https://www.cyberbotics.com/doc/reference/procedural-proto-nodes#programming-facts](https://www.cyberbotics.com/doc/reference/procedural-proto-nodes#programming-facts))

##### DrVoodoo [Moderator] 01/15/2020 15:46:32
Ok, thanks


In effect something like 
```extensionSlot [ 
  %{= fields.extensionSlot.value }%
```

##### David Mansolino [cyberbotics] 01/15/2020 15:44:41
Yes, simply renaming it in your BaseChassis.proto should fix the problem. You can do this with lua too indeed, but that's more complicated

##### DrVoodoo [Moderator] 01/15/2020 15:43:47
Ok, so I have got to rename it? I have also been trying to use the lua template syntax to insert the contents of the field into the existing extensionSlot definition but my lua is non-existant

##### David Mansolino [cyberbotics] 01/15/2020 15:42:14
Ok yes I forgot this rule, in that case you simply have to use another name for your field in BaseChassis.proto, such as:

```
...
    extensionSlot [
      Group {
        children IS baseChassisExtension
      }
      other nodes...
    ]
...
```

##### DrVoodoo [Moderator] 01/15/2020 15:40:40
specifically "error: Derived and base PROTO can use the same parameter name only if it is linked directly, like 'extensionSlot IS extensionSlot'."


but if I try that approach is get an error


`@David Mansolino` you've definitely understood that I'm trying to achieve

##### David Mansolino [cyberbotics] 01/15/2020 15:38:54
Ok, the solution is quite simple, if you want to extend and not override you have to create something like this in BaseChassis.proto:

```
...
    extensionSlot [
      Group {
        children IS extensionSlot
      }
      other nodes...
    ]
```

Does this answer your question (I am not 100% sure to understand the problem)?

##### DrVoodoo [Moderator] 01/15/2020 15:36:02
but I can't append the contents of that to extensionSlot of the Car, all I can do is override it


I can add an extensionSlot field to ACar (field MFNode     extensionSlot   [])


Hi `@David Mansolino`


Let's call this new proto ACar

##### David Mansolino [cyberbotics] 01/15/2020 15:34:31
Hi `@DrVoodoo`

##### DrVoodoo [Moderator] 01/15/2020 15:33:12
So I've another proto that defines a BaseChassis and then I want to be able to add to the extensionSlot of the Car


We got various possible configurations of sensors that can be stuck on this base chassis (let's call it BaseChassis.proto)


*are declared


Is anyone able to help with a question regarding proto files? I've got a proto defines a Car and then additional aspects of the design as declared within the extensionSlot (body shell geometry etc)

##### LaCava 01/15/2020 14:37:25
All good now, thanks again.

##### Olivier Michel [cyberbotics] 01/15/2020 14:34:41
Supervisor is a super-class of Robot and hence expose all the Robot API + the Supervisor API.

##### LaCava 01/15/2020 14:34:37
Knew it had to be something simple


Ah, thanks! I'll take a look, much appreciated.

##### Olivier Michel [cyberbotics] 01/15/2020 14:34:06
(see the driver.py example in Webots/projects/languages/python/controller/driver/driver.py)


Then you should derivate your controller class from Supervisor instead of deriving it from Robot.

##### LaCava 01/15/2020 14:32:33
Python

##### Olivier Michel [cyberbotics] 01/15/2020 14:32:30
Which programming language do you use?

##### LaCava 01/15/2020 14:31:26
Hi -- apologies for this incredibly simple question (\_very\_ new to Webots), but when a Robot has its Supervisor attribute set to TRUE, how are those functions actually invoked (say, within a controller)?



After reading the docs, I was under the impression that I could call them as if they were Robot functions inside my controller, but this doesn't appear to be the case, unless I've gone off the rails in my understanding/setup.



The controller itself is simple, I've got a robot class containing a few basic initialization functions, and a run function that accepts keyboard input to change LED colors (advanced robotics, I know). My goal was to map some supervisor functions to keypresses as well, just to see it 'working' - but this is met with AttributeErrors, since the class doesn't actually \_have\_ those functions.



Outwith the class, the robot is instantiated and its run() function invoked. Like I said, it's quite barebones.

##### David Mansolino [cyberbotics] 01/15/2020 11:53:38
`@sajid` why would you need to add the supervisor specifically to the wheel ? Can't you just pu tthe supervisor at the root of the tree and get the wheel from the supervisor?

You can either transform the car itself in a supervisor (by setting the `supervisor` to true) either add an independant supervisor that will communicate with your vehicle using emitter-receiver.

If you are interested Cyberbotics provide professionnal consulting and can send you an offer for developing this for you.


`@User21`, ok then you are in a very similar setup to the known working one, that's good. When the controller crashes, do you have any stack displayed?

##### User21 01/15/2020 09:23:30
`@David Mansolino`  i am using the universal robot ur5e with ros melodic. im using the universal ros controller and added code to define the endeffector goal.

##### David Mansolino [cyberbotics] 01/15/2020 09:23:17
`@sajid` we currently don't have any matlab interface for the driver API, however, the dependencies are exactly the same as for libcontroller.

##### sajid 01/15/2020 09:20:16
Hi all,

Quick question. Is there a matlab support for 'driver' library (mainly for cars, e.g. using in city.wbt)? 

Is there any more dependencies we should consider when calling C functions from Matlab for the driver library?

##### David Mansolino [cyberbotics] 01/15/2020 07:05:00
`@Lifebinder (tsampazk)` the getVelocity function returns the absolute velocity (thank you for pointing this out, we will make this clearer in the doc), if you want to get relative velocities you simply have to get the velocity of the other solid too and compute the difference.


`@PA` , I am sorry but this chat is in english only.


`@User21` hi, with which robot are you using MoveIt and with ROS1 or ROS2 ? And which controller are you using (the default ros controller?)? I don't know the MoveGroup Commander but we have successfully used MoveIt in RViz to control the UR5e robot in Webots.

##### User21 01/14/2020 17:08:58
Hi :)

I want to use MoveIt with Webots and I want to set a Goal for my Endeffector as a Function in Webots. I tried it with the MoveGroup Commander but my controller crashes everytime when i want to use the command.

##### Lifebinder (tsampazk) 01/14/2020 15:50:10
Hello there! Quick question: In the UI i can see 3 kinds of velocities for a Solid (absolute, and 2 relative), is there a way to get the relative one's in code? Which one does the getVelocity() method return? ( i'm working in python 3.7)

##### Fabien Rohrer [Moderator] 01/14/2020 15:09:22
oops, we certainly don't test it often until the last block ðŸ˜„

##### nap 01/14/2020 15:08:41
Thanks for that.


But a nice demo nonetheless!


lol, the Kuka didn't place the last block properly...
%figure
![Screen_Shot_2020-01-15_at_1.05.30_am.png](https://cdn.discordapp.com/attachments/565154703139405824/666659824360226826/Screen_Shot_2020-01-15_at_1.05.30_am.png)
%end

##### Fabien Rohrer [Moderator] 01/14/2020 14:58:24
for sure, that will help ðŸ˜„

##### nap 01/14/2020 14:58:06
Sorry, I just realised I actually (lol) had to compile the controller first, after copying it into my folder from the git repo.

##### Fabien Rohrer [Moderator] 01/14/2020 14:56:41
Here is some doc: [https://www.cyberbotics.com/doc/guide/the-standard-file-hierarchy-of-a-project](https://www.cyberbotics.com/doc/guide/the-standard-file-hierarchy-of-a-project)


a project directory could contain the "worlds", "controllers" and "protos" (and more) at the same level.


Yes, Webots is strict about the sub-directories of the project directory.

##### nap 01/14/2020 14:54:28
But what if `worlds` and `controllers` are at the same level?

##### Fabien Rohrer [Moderator] 01/14/2020 14:53:48
first, it checks the "controllers" directory of the current project, then, if the robot is a PROTO, the "controllers" directory of the proto source location.

##### nap 01/14/2020 14:50:27
What is/are the paths that Webots searches to populate the `controller` selection list?

##### Fabien Rohrer [Moderator] 01/14/2020 14:45:31
(I confirm there is a compass too ðŸ™‚ )


[https://github.com/cyberbotics/webots/blob/master/projects/samples/contests/tower\_of\_hanoi/worlds/tower\_of\_hanoi.wbt#L231](https://github.com/cyberbotics/webots/blob/master/projects/samples/contests/tower_of_hanoi/worlds/tower_of_hanoi.wbt#L231)

##### nap 01/14/2020 14:45:01
Ok, that's nice.  Thanks `@Fabien Rohrer`

##### Fabien Rohrer [Moderator] 01/14/2020 14:44:43
It is done in the tower\_of\_hanoi.wbt sample:


> YouBot.bodySlot [ Kinect {}]


Yes, you can add the Kinect into the youBot slots.


Yes, the arm is controlled by a sequence of predefined poses, except for the final approach where IK is used to move the arm down perfectly vertically. A local GPS (and Compass if I remember well) is used to move the robot at the correct location.

##### nap 01/14/2020 14:42:56
Can the Youbot proto accept a Kinect?


Ok, that's fine.  I suppose it's just a sequence of poses

##### Fabien Rohrer [Moderator] 01/14/2020 14:41:48
It is only enabled.


To be honest, the Kinect is not used in the tower of hanoi demo ðŸ™‚


No, but an interface with the Kinect can be directly done in the controller.

##### nap 01/14/2020 14:40:45
Cool.  Does that library include facilities for a Kinect?

##### Fabien Rohrer [Moderator] 01/14/2020 14:39:29
In Webots, the youbot controllers are using this library which offers helper functions to control the arm and the base. (basic IK, etc.)


.. and the youbot library: [https://github.com/cyberbotics/webots/tree/master/projects/robots/kuka/youbot/libraries/youbot\_control](https://github.com/cyberbotics/webots/tree/master/projects/robots/kuka/youbot/libraries/youbot_control)

##### nap 01/14/2020 14:38:04
Yes, thank you very much.   I will check on github next time.

##### Fabien Rohrer [Moderator] 01/14/2020 14:37:39
The controller: [https://github.com/cyberbotics/webots/blob/master/projects/samples/contests/tower\_of\_hanoi/controllers/hanoi/hanoi.c](https://github.com/cyberbotics/webots/blob/master/projects/samples/contests/tower_of_hanoi/controllers/hanoi/hanoi.c)


The world: [https://github.com/cyberbotics/webots/tree/master/projects/samples/contests/tower\_of\_hanoi/worlds](https://github.com/cyberbotics/webots/tree/master/projects/samples/contests/tower_of_hanoi/worlds)

##### nap 01/14/2020 14:37:15
Thanks `@Fabien Rohrer`

##### Fabien Rohrer [Moderator] 01/14/2020 14:36:52
`@nap` Yes, everything resources are available (open-source). Let me check...

##### nap 01/14/2020 14:35:28
According to the documentation, there is a world for the KUKA robot called `tower_of_hanoi.wbt`.  However, when I looked in the folder where it's supposed to be at, only the other two example worlds were there.  Can this, including the controller, be downloaded from somewhere?

##### Fabien Rohrer [Moderator] 01/14/2020 14:24:22
Especially the: wb\_supervisor\_simulation\_set\_mode() [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_simulation\_set\_mode](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_simulation_set_mode)


`@W.El-Badry`  This is certainly possible using the Supervisor API:

##### W.El-Badry 01/14/2020 14:19:39
Is there any step by step for doing a "step simulation" using Python? i.e. :

1. Send a command like speed and step.

2. Webots do a step (10 ms).

3. Sends back acknowledgment for step completion and wait for next step command.

##### sajid 01/14/2020 13:16:51
`@David Mansolino` Thanks David. I will try to reuse the code. However, this is not what we are looking for though. It would be great if we could find the displacement of the car from the centre of lane at any given point. For that, we were looking into using a supervisor as you also suggested. We are encountering few modelling challenges here. 

Is it possible to add a supervisor to the wheel of the car?

How to run the supervisor along with the car driver?

It would be great if you could help us with these challenges.



Thanks again for your suggestions in the right direction.

Best,Sajid

##### David Mansolino [cyberbotics] 01/14/2020 10:07:43
You're welcome

##### AlbusSong 01/14/2020 10:07:19
Thanks a lot!

##### David Mansolino [cyberbotics] 01/14/2020 07:10:40
`@siti_raehan` you can either use an inertial unit device to retrieve direction the orientation of the robot or if you use the initial orientation you can use odometry to update the orientation at each step.


And here are the mac specific instructions: [https://github.com/cyberbotics/webots/wiki/macOS-installation](https://github.com/cyberbotics/webots/wiki/macOS-installation)

##### Olivier Michel [cyberbotics] 01/14/2020 06:59:54
It explains how to compile Webots from the source and how to contribute.


The guide is here: [https://github.com/cyberbotics/webots/wiki](https://github.com/cyberbotics/webots/wiki)

##### siti\_raehan 01/14/2020 01:36:30
`@David Mansolino` Hi 

Can you share about how to calculate the heading of e-puck at Webots simulator.

##### AlbusSong 01/14/2020 00:28:16
I want to try it from sources. But I dont find the guide.

##### Tahir [Moderator] 01/14/2020 00:13:03
Have you tried installation from sources? 

I beleive there is a step by step guide

##### AlbusSong 01/13/2020 23:07:43

%figure
![Screenshot_2020-01-14_at_01.06.17.png](https://cdn.discordapp.com/attachments/565154703139405824/666418127462072331/Screenshot_2020-01-14_at_01.06.17.png)
%end


`mkdir build && cd build && make ../ `?


I have cloned the webots codes from Github, but I don't find any direct commands on how to compile the project: [https://github.com/cyberbotics/webots/wiki](https://github.com/cyberbotics/webots/wiki)

##### sunnyjerai 01/13/2020 15:12:51
Instead of using DEF string , I just copied the shape geometry from all those transforms. It worked. I later exported it as a proto node.


Thank you `@David Mansolino`

##### David Mansolino [cyberbotics] 01/13/2020 07:09:19
`@sajid`, this is not a trivial task but you can use a Supervisor to parse the world and get the trajectory of the road. You might be interessted by this script that parses a webots world file to extract the position of the roads: [https://github.com/cyberbotics/webots/tree/master/resources/sumo\_exporter](https://github.com/cyberbotics/webots/tree/master/resources/sumo_exporter)


`@sunnyjerai` the DEF should be defined inside the PROTO file, is it the case ?


`@Dr. Sudip Chakraborty` not for robotic arm, but there is a step by step tutorial for a wheeled robot: [https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot](https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot)

Creatign a robotic arm is very similar (excepte that your joint should be serial).


`@Fandykun` yes of course, Webots can easily simulate many robots (this will of course have an impact on the simulation speed, but if your computer is powerful enough this shouldn't be a problem).

##### Fandykun 01/13/2020 07:02:43
i want to simulate 10 robots together like soccer robot. is webots can handle that process?

##### Tahir [Moderator] 01/12/2020 11:08:32
[https://cyberbotics.com/doc/guide/robots](https://cyberbotics.com/doc/guide/robots)

##### Dr. Sudip Chakraborty 01/12/2020 10:45:21
I want to create 6df robotic arm from scratch.  Is there example or doc?

##### sunnyjerai 01/11/2020 11:38:29
I think i might be getting the error since the body borrows its definition from a different node


The definition of bounding objects were taken from transforms

##### Tahir [Moderator] 01/11/2020 10:47:46
For hounding objects I think you can chwck the tutorials as well


Also robot is used twice names should be unique


It says you haven't defined bounding object in each solid you can define that

##### sunnyjerai 01/11/2020 10:44:20
Hello everyone, I imported a VRML file of my robot chassis which appeared as multiple transforms. I then proceeded to make a robot node in the scene tree and used the DEF strings from all those transforms to define the body of the robot. I wanted to make this robot as a proto node for the project so I followed the steps in tutorial 7.  After that, the Robot did appear in proto nodes, however the body is missing and I got the error as shown in the picture. The 2 wheels and distance sensors appeared since they were defined separately.
%figure
![agent_error.jpg](https://cdn.discordapp.com/attachments/565154703139405824/665506273390755851/agent_error.jpg)
%end

##### sajid 01/10/2020 17:10:54
Hi. For city.wbt, I want to find the coordinates of the lane. The idea is to find the deviation of the current position of the car from the centre of the lane. The current position could be obtained from the GPS coordinate. However, I was wondering if there is a way to obtain the coordinates of the centre of the lane.

##### David Mansolino [cyberbotics] 01/10/2020 10:10:42
You're welcome

##### Fandykun 01/10/2020 10:10:22
thanks, i'll try that

##### David Mansolino [cyberbotics] 01/10/2020 10:08:00
Hi `@Fandykun` you can use a spherical camera to simulate an omni-vision camera, see an example distributed within Webots here: [https://cyberbotics.com/doc/guide/samples-devices#spherical\_camera-wbt](https://cyberbotics.com/doc/guide/samples-devices#spherical_camera-wbt)

##### Fandykun 01/10/2020 10:06:51
Hi everyone, i'd like to simulate robot with omni-vision camera,

How to simulated it using webots?

##### ClBaze 01/09/2020 10:43:55
`@Fabien Rohrer` Thanks for your feedback

##### sunnyjerai 01/09/2020 10:32:53
thank you `@Stefania Pedrazzi` , problem solved

##### Stefania Pedrazzi [cyberbotics] 01/09/2020 10:32:04
you should use `robot.getLightSensor('ds_left')`

##### sunnyjerai 01/09/2020 10:31:44
okay, understood

##### Stefania Pedrazzi [cyberbotics] 01/09/2020 10:31:28
Ok. Your sensor is a LightSensor and not a DistanceSensor.

##### sunnyjerai 01/09/2020 10:31:23
so I think that there might be something else at play


and this one is of the right
%figure
![ds_right.jpg](https://cdn.discordapp.com/attachments/565154703139405824/664778167231315968/ds_right.jpg)
%end


This is the name given to the left line sensor
%figure
![ds_left.jpg](https://cdn.discordapp.com/attachments/565154703139405824/664778102135848970/ds_left.jpg)
%end

##### Stefania Pedrazzi [cyberbotics] 01/09/2020 10:29:22
Note that from a robot controller you can get only a device defined inside the Robot model running the controller and you cannot access devices of other robots. Not sure if this is the case in your simulation.


I suspect there is some issue with the names, because the devices are not found.

##### sunnyjerai 01/09/2020 10:26:04
They are correct


Yes , that's first thing I checked

##### Stefania Pedrazzi [cyberbotics] 01/09/2020 10:23:32
`@sunnyjerai` did you double checked if the device names defined in the DistanceSensor.name field of your robot are  "ds\_left" and "ds\_right"?

##### sunnyjerai 01/09/2020 10:15:04
Hi `@David Mansolino` , I added print(ds) as you suggested and this is the result.
%figure
![controller_error_ds.jpg](https://cdn.discordapp.com/attachments/565154703139405824/664774134730981376/controller_error_ds.jpg)
%end

##### Fabien Rohrer [Moderator] 01/09/2020 09:37:26
However, I think this is a complex solution: from my experiment, having a single, well structured and single-threaded controller is always simpler to implement and more robust.


You have to implement a way to dialog between them (for example using an Emitter/Receiver)


A Robot can contain other Robot instances with their own controllers.


Webots can indeed handle this.


Hi,

##### ClBaze 01/09/2020 09:34:07
Hi guys, I'd like to simulate an attitude and orbit control system.

The simulated spacecraft would have 4 gyros, 3 star trackers, 6 reaction wheels and 16 thrusters.

I want to implement custom noise models for each sensor and actuator.

My first idea was to do this in the webots controller of the robot node containing all these components (the spacecraft).

But as these devices work at different frequencies, I think it's not the best idea.

What do you think if I put each device in a robot node with its own controller, and all these robot nodes in another robot node (the spacecraft).

I mean it makes a lot of executables (webots controllers), do you think Webots could handle it ?

##### David Mansolino [cyberbotics] 01/09/2020 08:42:41
Hi `@sunnyjerai`, your code seems correct, can you add a print(ds) right after the ds.append ?

##### sunnyjerai 01/09/2020 08:21:16
Hello, I was working with a self made robot, the controller code in almost the same as in Tutorial 6. However, I keep getting this error on line 9 of the controller. Can anyone tell me why this error occurs and what might be the possible solution to it.
%figure
![controller_error.jpg](https://cdn.discordapp.com/attachments/565154703139405824/664745495566221312/controller_error.jpg)
%end

##### David Mansolino [cyberbotics] 01/09/2020 06:57:13
`@User21` unfortunately not directly, however, you can export the world in VRML format from Webots: File => Export VRML97...

Then you can use a software (e.g. Blender) to convert VRML to any other format (such as Collada).


`@azpi` if you use the default Webots Makefile you don't need to care about this.

But in any case these files are located in WEBOTS\_HOME/include/controller/c (see: [https://github.com/cyberbotics/webots/tree/master/include/controller/c/webots](https://github.com/cyberbotics/webots/tree/master/include/controller/c/webots) )


`@Dr. Sudip Chakraborty`, no idea, you should probably check in the doc: [https://ikpy.readthedocs.io/en/latest/genindex.html](https://ikpy.readthedocs.io/en/latest/genindex.html)

##### User21 01/08/2020 18:38:20
Hi its me again ðŸ˜… 

sorry for these questions but,

is it possible to load the webots world file in "MoveIT" so that it can  consider the obstacles and plan around it?

To my knowledge MoveIT only accepts URDF or Collada files.

##### azpi 01/08/2020 18:01:53
where can i find the libraries motor.h and lidar.h?


hey guys i've got a really silly question

##### Dr. Sudip Chakraborty 01/08/2020 16:43:05
in ikpy, is there scope to send  rpy with xyz in EF matrix?

##### User21 01/08/2020 16:15:05
okay perfect 

Thank you very much

##### Fabien Rohrer [Moderator] 01/08/2020 16:14:35
Once this is done, you could modify all the nodes defining the robot, including the gripper.


you can convert the youBot PROTO node to base node, by rightclicking on it in the scene tree, and select "Convert to Base node."


yes, it's possible.


Hi

##### User21 01/08/2020 16:12:20
Hey :)

is it possible to change the kuka youbot gripper?

##### Tahir [Moderator] 01/08/2020 13:17:22
OK also will these above steps be similar

##### David Mansolino [cyberbotics] 01/08/2020 13:09:14
with the syncronized setup, you should need to call the step for each robot, otherwise the simulation will block.

##### Tahir [Moderator] 01/08/2020 12:56:34
Will the time updated in bith cases be the same or not if not which one is the correct simulation time


So my question is are these two cases equivalent in Webots and what about the time gaurantees


In a multi robot scenario in syncronized setup.

We can do two things.

1. Wait for all robots cmd vel, when everything is available, than call one robot/time\_step service to update the simulation. 

1.1.Is it ok to call just one service robot/time\_step for update of all of the robots or we have to call service for every single robot.

2. Not waiting for all robots data contrary to above approach, for every robot whenever the data is available call its own service to uodate the simulation. 

2.1. In this case multiple robots will update time is this OK

##### sunnyjerai 01/08/2020 12:40:30
Understood, Thanks a lot for the help ðŸ˜„

##### Fabien Rohrer [Moderator] 01/08/2020 12:39:35
You could choose one of them, or add directly a PBRAppearance node, and play with its parameters.


Webots comes with an appearance set: [https://www.cyberbotics.com/doc/guide/appearances](https://www.cyberbotics.com/doc/guide/appearances)


You just need to remove the node in the RectangleArena.floorAppearance, and add another appearance instead.


You selected the correct field ðŸ™‚

##### sunnyjerai 01/08/2020 12:36:40
Hello, I wanted to know if I can change the texture of the arena from checked boxed to anything else like plain White. Or should I design an entirely new arena?
%figure
![arena.jpg](https://cdn.discordapp.com/attachments/565154703139405824/664447379570819087/arena.jpg)
%end

##### David Mansolino [cyberbotics] 01/08/2020 11:35:12
Did you add the `--synchronize` in controllerArgs field?

##### Tahir [Moderator] 01/08/2020 10:58:09
I just commented this service call part in my code and the robots are still moving

##### David Mansolino [cyberbotics] 01/08/2020 10:53:55
Yes, if each robot is using it's own ros controller and has the `--synchronize` argument it will wait for each robot to call the service.

##### Tahir [Moderator] 01/08/2020 10:53:27
Or should I wait for all robots to get the data and than call this service once


Will this be the same for multiple robots running in different threads

##### David Mansolino [cyberbotics] 01/08/2020 10:48:14
The simulation will not run as long as you don't call the step service and you use the `--synchronize` argument.

##### Tahir [Moderator] 01/08/2020 10:47:09
What I want to is until I get some data the robot should stop


If I don't call the /robot/time\_step service the robot should not move right?


Just a question for the ros service


OK I'll try that

##### Stefania Pedrazzi [cyberbotics] 01/08/2020 09:40:46
`@jyuan` you can import your model in Webots saving it in VRML format (from the File menu select "Import VRML97").

Another option is to import your model in Blender and then user this Blender plugin to import in in Webots:

[https://github.com/cyberbotics/blender-webots-exporter](https://github.com/cyberbotics/blender-webots-exporter)

##### David Mansolino [cyberbotics] 01/08/2020 09:39:18
Yes exactly, it's probably not a problem if it falls down, and worse case you can set the 'WorldInfo.gravity' to '0 0 0'-

##### Tahir [Moderator] 01/08/2020 09:37:05
It will fall down


And than runing the simulation?

##### David Mansolino [cyberbotics] 01/08/2020 09:34:52
can you try to make it float in the air? simply remove everything else than the robot.

##### Tahir [Moderator] 01/08/2020 09:32:20
The robot is on ground but moving really really too slow


This is for validation I will use multiple

##### yash 01/08/2020 09:31:49
thank you `@David Mansolino`  problem solved.!

##### Tahir [Moderator] 01/08/2020 09:31:38
I mean there is just one robot and a floor


No no not in the air

##### David Mansolino [cyberbotics] 01/08/2020 09:31:01
You mean your robot is alone floating in the air (this would be an ideal scnario to make sure the simulation part is not the bottlneck) ?

##### Tahir [Moderator] 01/08/2020 09:30:32
This is after 24 hours of sinulation in fast mode


And all the visualization is in rviz


I am runing simulation in fast mode


Just a single robot


Nothing is in the environment

##### David Mansolino [cyberbotics] 01/08/2020 09:29:04
Not really, is one of your robots kind of stuck or having many collision? You might want to check the contact points to make sure there is not an 'explosion' of th enumber of contact points. This is just an idea but might not be the cause.

##### Tahir [Moderator] 01/08/2020 09:27:47
Guys any thoughts I'm still having the problem


Hello,

I am using Webots with ros to simualte warehouse environments and forklifts. I am using Webots in asynchronous mode and using Webots simulation time as reference. 

Currently I am validating the simulation with our real experimental data from the warehouse. I am running the simulation in Fast mode.  initially the simulation starts with 18 to 20x speed and the robot runs blvery fast but its OK because it is taking round trip on average in 8.5 minutes which is true in real as well. 

But after 18 or 20 hours the robots gets too slow, ros is running fine no error at ros side I can see the commands published, no error in Webots. Data is also being exchanged as expected. None of the computational resources exhausted.

##### jyuan 01/08/2020 09:26:02
Hi, guys, if I want to import some solid model like some plants in greenhouse like tomatos, how can I do?

##### David Mansolino [cyberbotics] 01/08/2020 06:51:44
`@yash` once imported you may want to remove usless small shapes (such as screws, etc.) then you can group your shapes together using the Group node.

You might also merge your shapes directly in Solidworks before exporting your model.

##### yash 01/08/2020 06:11:27
therefore how to reduce them .?


Importing the CAD file from Solidworks has resulted into so many tranforms i.e one tranform corresponds to one shape .

##### Tahir [Moderator] 01/07/2020 19:46:12
You are welcomed

##### shivajitheboss 01/07/2020 19:45:47
thanks

##### Tahir [Moderator] 01/07/2020 19:45:18
Hello,

For comparison There is great article on Wikipedia you can have a look at it. 

For exeskeleton I think it is possible but I haven't did anything on it. But to the extent I know Webots it should be possible

##### shivajitheboss 01/07/2020 19:43:24
PS- I'm making a special type of exoskeleton


Hi! I'm currently in my final year engineering and am doing a project in robotics, wanted to know if webots will be of any help or i should look at other softwares?

##### Dr. Sudip Chakraborty 01/07/2020 12:00:31
ok

##### David Mansolino [cyberbotics] 01/07/2020 11:57:35
No, there is the emitter-receiver mechanism to communicate between controllers, but to communicate with other apps since many standard ways are already existing there is no specific mechanism to Webots.

##### Dr. Sudip Chakraborty 01/07/2020 11:56:19
is there any shared variable feature to exchange data between webots and others app?

##### David Mansolino [cyberbotics] 01/07/2020 11:54:51
You're welcome

##### Dr. Sudip Chakraborty 01/07/2020 11:54:43
ok, thanks lot  for your valuable response.

##### David Mansolino [cyberbotics] 01/07/2020 11:49:26
I am sorry but this discord channel is for question about Webots, this is a general programming question, you should probably ask it on stackoverflow or so.

##### Dr. Sudip Chakraborty 01/07/2020 11:32:46
why not come back in main loop after starting thread?


webots time counting but not come back in main loop


in my case system not responding


srv=threading.Thread(target=self.process)

     srv.start()

##### David Mansolino [cyberbotics] 01/07/2020 11:25:58
Yes of course.

##### Dr. Sudip Chakraborty 01/07/2020 11:24:31
can  run separate thread  for TCP server in python?

##### David Mansolino [cyberbotics] 01/07/2020 11:22:30
Both are equivalent if correctly implemented.

##### Dr. Sudip Chakraborty 01/07/2020 11:22:09
which is more reliable ? phython socket  or  c/cpp socket

##### David Mansolino [cyberbotics] 01/07/2020 11:16:30
You can simply use any communication protocol (such as TCP IP for example) from within your controller to communicate with another computer.

##### Dr. Sudip Chakraborty 01/07/2020 11:06:22
I want to exchange data between webots and other pc application. what is the correct procedure?


I have trouble pls help me.  I am moving my arm using ikpy from my c# application over socket. in webots end  tcp server is running for receiving the command. after creating the server object webots not responding . server running in separate thread. what is the issue?

##### David Mansolino [cyberbotics] 01/07/2020 10:47:36
I am not sure, you should probably directly ask the developers of the libraries.

But since it is the library behind moveit used by ROS it is probably quite safe.

##### Dr. Sudip Chakraborty 01/07/2020 10:46:00
can i use ikpy for industrial use?

##### David Mansolino [cyberbotics] 01/07/2020 10:44:01
Hi `@Dr. Sudip Chakraborty`, we do not provide such example (we do provide a Python example) but you can fore sure find some libraries on internet that does this, e.g. [http://openrave.org/docs/0.8.2/openravepy/ikfast/](http://openrave.org/docs/0.8.2/openravepy/ikfast/)

##### Dr. Sudip Chakraborty 01/07/2020 10:41:25
is there any cpp ik pki for 6df arm?

##### David Mansolino [cyberbotics] 01/07/2020 07:37:40
`@lunarpulse`, we have a documentation about using numerical optimization with Webots that might be of interest for you: [https://cyberbotics.com/doc/guide/using-numerical-optimization-methods](https://cyberbotics.com/doc/guide/using-numerical-optimization-methods)


> I didnt install it, so i think this is the porblem i thought it is automatically installed wth Webots

`@User21`, no it is not installed automatically with our ROS1 interface (it is with our ROS2 package).

##### Stefania Pedrazzi [cyberbotics] 01/07/2020 07:28:38
`@User21` you should probably check where does your ROS\_LOG\_DIR variable point to and make sure that it exists and that is writable


About external controller I would suggest you to check the documentation [https://www.cyberbotics.com/doc/guide/running-extern-robot-controllers](https://www.cyberbotics.com/doc/guide/running-extern-robot-controllers)

After setting the required environmental variables it should work the same as in Webots


`@Nocturnal Warfare` you could check the `altino.wbt` simulation (in `projects/robots/saeon/worlds` folder): in this Python controller after pressing M to enable the manual control, the wheeled robot is controlled using the arrows keys.

##### Nocturnal Warfare 01/07/2020 02:29:53
are there any tutorials involving python with keyboard control of a robot, like WASD control of a wheeled robot. I specifically would need it through an external controller but that is a problem for another day.

##### lunarpulse 01/06/2020 23:32:26
Hi everyone,

Have you done use Webot as the basis of Reinforcement Learning? I saw some ROS developers using Gazebo to train robotic arms. I want to hear experienced people's opinion.

##### User21 01/06/2020 18:56:54
`@Stefania Pedrazzi` 

it woked but if i want to start the simulation i get the error message: WARNING: cannot create log directory [ros\_python\_log]. Please set ROS\_LOG\_DIR to a writable location.


`@Stefania Pedrazzi` 

First of all thank you for your fast response.

I didnt install it, so i think this is the porblem i thought it is automatically installed wth Webots

##### Stefania Pedrazzi [cyberbotics] 01/06/2020 17:08:24
Hi `@User21`,

you can use any ros package to connect with the Webots ROS interface.

About using MoveIT with other robots you should probably refer to the MoveIT documentation, but a priori I think that yes you can do it after configuring it.

 Do you have the `universal_robots` package installed?


ok, so then if your controller is also simple and you are available to send it to us (for example using Gist) we will look at it. But it should work out of the box on a single machine, otherwise it would be difficult to reproduce the issue.

##### Tahir [Moderator] 01/06/2020 16:56:19
I am intended to ise it for multiple robots may be 10 or 20 in that case I can say the world would be complex but not in the case now I think so


It is just one robot in Webots and nothing else at all


This is the simplest I can run now


Well just to clarify I am using Supervisor API but not for robot motion control.

##### Stefania Pedrazzi [cyberbotics] 01/06/2020 16:52:59
The fact that the resources where not exhausted let me think that it could be an internal problem. But if you are not deleting/creating nodes and you are not using the Supervisor API (that could be affected by the changes in the scene tree) the problem is not where I though it could be.

If could try to simplify your simulation as much as possible so that it still reproduces the issue but in a simple example (maybe running a simple controller on one machine) we will take a look at it to try to understand what is the problem.

##### User21 01/06/2020 16:51:32
Hi,

I am new to Webots and i want to use MoveIT with the UR5e.

I have several questions:

1.If i try to launch MOVEIT! like in the documentation written i always get this error message:



Resource not found: ur\_e\_description

ROS path [0]=/opt/ros/melodic/share/ros

ROS path [1]=/home/arches/catkin\_ws/src

ROS path [2]=/opt/ros/melodic/share

The traceback for the exception was written to the log file

(I just copied the file ur\_e\_webots in my catkin workspace)

Is it possible to use MoveIT with other Manipulators like the KUKA YouBot?

Is it possible to use the ros Package navigation?

##### Tahir [Moderator] 01/06/2020 16:46:13
One is running hustvWebots and another just robot softwar


Non of the resources are exhasuted, also I am using to PCs directly connected via lan so I think no lag in the communication as well.


Hello,

I am using motor control to steer the robot not suoervisor api, not deleting any node from the scene tree,  memory consumption is same as at the start.

##### Stefania Pedrazzi [cyberbotics] 01/06/2020 16:43:11
`@Tahir` it could be that there are some internal data that is not managed efficiently and will slow down the simulation. But it is difficult to tell without looking in details at your simulation. 

Are you using the Supervisor API for updating the robot position?

Are you creating/deleting many nodes?

Did you notice if the memory usage continuously increase while running the simulation?

##### Tahir [Moderator] 01/06/2020 13:41:49
This cloud warning is fine, but here in the screenshot the velocity amd angles are continously sent but robots position updates too slowly



%figure
![20200106_144032.jpg](https://cdn.discordapp.com/attachments/565154703139405824/663738783732334594/20200106_144032.jpg)
%end


I really am not getting what could be the problem


Due to this slow motion of tue robot now round trip time goes to 20 30 minutes.


Hello,

I am using Webots with ros to simualte warehouse environments and forklifts. I am using Webots in asynchronous mode and using Webots simulation time as reference. 

Currently I am validating the simulation with our real experimental data from the warehouse. I am running the simulation in Fast mode.  initially the simulation starts with 18 to 20x speed and the robot runs blvery fast but its OK because it is taking round trip on average in 8.5 minutes which is true in real as well. 

But after 18 or 20 hours the robots gets too slow, ros is running fine no error at ros side I can see the commands published, no error in Webots. Data is also being exchanged as expected. None of the computational resources exhausted.

##### David Mansolino [cyberbotics] 01/06/2020 12:38:27
`@musabcoskun` you're welcome

##### musabcoskun 01/06/2020 12:16:26
`@David Mansolino` thanks, it's working now

##### David Mansolino [cyberbotics] 01/06/2020 11:22:53
You're welcome ðŸ™‚

##### yunus [Moderator] 01/06/2020 11:22:27
Thank you so much `@David Mansolino`  for your clear and valuable reply. I have followed your instructions and it works perfectly.

##### David Mansolino [cyberbotics] 01/06/2020 10:07:09
You're welcome

##### sunnyjerai 01/06/2020 10:07:03
Problem solved. thanks a lot `@David Mansolino`

##### David Mansolino [cyberbotics] 01/06/2020 10:05:36
`protoFields` should be replaced by the fields you want to keep open, for now you can simply remove it (you will learn later on in the tutorial how to add fields).

##### sunnyjerai 01/06/2020 10:04:17

> **Attachment**: [message.txt](https://cdn.discordapp.com/attachments/565154703139405824/663684258325331998/message.txt)

##### David Mansolino [cyberbotics] 01/06/2020 10:03:41
Hi `@sunnyjerai`, can you show us the content of your PROTO file?

##### sunnyjerai 01/06/2020 10:02:53
I am currently following tutorial 7 and trying to make my own proto node. However, after following the steps and copying the text from 4\_wheel\_robot.wbt to 4WheelsRobot.proto I encountered this error. Can someone please help me with this.
%figure
![Annotation_2020-01-06_152803.jpg](https://cdn.discordapp.com/attachments/565154703139405824/663683904808550420/Annotation_2020-01-06_152803.jpg)
%end

##### David Mansolino [cyberbotics] 01/06/2020 07:56:44
`@musabcoskun`, the problem should now be fixed (if it is not the case, please clear the cache of your browser).


`@yash`, you have to add the motors and sensors in Webots directly after importing your CAD model, you should probably have a look at this tutorial explaining how to create your own robot model: [https://www.cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot](https://www.cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot)


`@musabcoskun`, ok thank yo ufor the confirmation, I have logged this in our bug tracker and we will fix this soon: [https://github.com/cyberbotics/webots/issues/1235](https://github.com/cyberbotics/webots/issues/1235)


`@yunus`, you are in the right direction, using a sliderjoint ([https://www.cyberbotics.com/doc/reference/sliderjoint](https://www.cyberbotics.com/doc/reference/sliderjoint)) and setting appropriate jointparameters ([https://www.cyberbotics.com/doc/reference/jointparameters](https://www.cyberbotics.com/doc/reference/jointparameters)) is indeed the way to go.

Here are the steps:

  - Add a Solid node (which a bounding object but no physics) this is your wall (it is static since there is no physics).

  - In the children field of the Solid add a SliderJoint.

  - In the `jointParamerters` field of the SliderJoint add a JointParameters node.

  - In the `endPoint` field of the SliderJoint add a Solid node (which is your moving mass with physics).

##### yash 01/05/2020 13:09:44
So that I can make the controller accordingly.


I have imported my solidworks model into webots. How do we define the motors and sensors on the CAD model .?

##### musabcoskun 01/05/2020 08:42:26
`@David Mansolino`I'm using Firefox n Chrome on Ubuntu 16.04 n Windows 10

##### yunus [Moderator] 01/04/2020 20:34:12
Hello. We want to use Webots to implement a simple physical model: one solid mass joined by a spring to a stationary mass (to a wall for example). We want the spring to oscillate continuously as it would be in real life. We came across this description: [https://www.cyberbotics.com/doc/reference/jointparametersfound](https://www.cyberbotics.com/doc/reference/jointparametersfound), we want to implement that figure "Mechanical Diagram of a Slider Joint" at the end of that webpage.



We found SliderJoint.wrl in the ..resources/nodes folder of Webots, but we couldn't import it in Webots, and there is no node in Webots that accomplish that spring motion.



Can you please give us a lead on how to proceed? Thank you so much

##### David Mansolino [cyberbotics] 01/03/2020 21:44:22
`@musabcoskun` I have indeed the same problem, which browser and OS are you using?


`@nap` ok, this can indeed explain the issue you are having, make sure to follow this guide before launching any controller yourself: [https://www.cyberbotics.com/doc/guide/running-extern-robot-controllers#environment-variables](https://www.cyberbotics.com/doc/guide/running-extern-robot-controllers#environment-variables)

I had a very nice Christmas and New Year thank you, I hope you too.

##### nap 01/03/2020 18:41:37
`@David Mansolino` : Hope you had a good Christmas and New Year!


`@David Mansolino` : yes I was launching from the command line.

##### musabcoskun 01/03/2020 18:19:38
My browser can not load the kuka's joints values. Before there was no such problem, how can I fix it?
%figure
![xxx.png](https://cdn.discordapp.com/attachments/565154703139405824/662721751054286890/xxx.png)
%end

##### David Mansolino [cyberbotics] 01/03/2020 10:42:19
You're welcome

##### yash 01/03/2020 10:33:23
alright thank you .!

##### David Mansolino [cyberbotics] 01/03/2020 10:13:06
These ones you can simply ignore them, the geometry should still be correct

##### yash 01/03/2020 10:12:37
this the error shown after importing VRML97


error: Skipped unknown 'color' field in IndexedFaceSet node.

error: Skipped unknown 'colorIndex' field in IndexedFaceSet node.

##### David Mansolino [cyberbotics] 01/03/2020 09:52:11
Please make sure when you export from SolidWorks that you select VRML97 and not another version of VRML.


The `Separator` node is indeed not supported in Webots.

##### yash 01/03/2020 09:48:33
this the error
%figure
![Screenshot_143.png](https://cdn.discordapp.com/attachments/565154703139405824/662593133833486356/Screenshot_143.png)
%end

##### David Mansolino [cyberbotics] 01/03/2020 09:41:08
What are exactly the error you get?

It might be normal that you get some errors since Webots doesn't implements all the fields of VRML (such as colorPerVertex for example), but this shouldn't prevent the shape to be functionnal.

##### yash 01/03/2020 09:39:17
I wanted to know the exact steps to import the file in Webots since its not mentioned in the documentation/reference manual.


I have converted the solidworks file in VRML format ... but at the time of import in webots error occurs.

##### David Mansolino [cyberbotics] 01/03/2020 09:34:51
`@yash` yes, what is your issue ?

##### yash 01/03/2020 09:34:20
I am facing an issue to import the robot from solidworks to Webots . Can anyone please help regarding this problem.?

##### David Mansolino [cyberbotics] 01/03/2020 07:47:52
`@nap`, are you trying to launch your controller yourself as an 'extern' controller?


`@Shanks`, yes, it is highly recommended to start with the tutorials: [https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)


`@SomeOne`, yes you can use Blender to create your robot model and then export it to PROTO using our Blender-to-Webots converter: [https://github.com/cyberbotics/blender-webots-exporter](https://github.com/cyberbotics/blender-webots-exporter)


`@swebdev`, if it is the root node you can simply add a bounding object without any Physics node. Otherwise you can use a SolidReference and set it's 'solidName' field to '<static environment>' ([https://cyberbotics.com/doc/reference/solidreference](https://cyberbotics.com/doc/reference/solidreference))


`@Tahir`, there are many ways to increase the lightning of your scene, have you tried increasing the value of the Background.luminosity field for example?


`@ã€ŽDEMÃŽã€Ghozt (Redsign)` and `@sugus105`, you can export your robot in VRML from SolidWorks and then import this VRML file in Webots directly (not that this will import only the shapes, you will then have to add solids, bounding objects, physics, sensors, etc.). Or import from SolidWorks to Blender and then Blender to Webots, here is an example with Catia (Solidworks works similarly): [https://youtu.be/L0FVsFD2rS4](https://youtu.be/L0FVsFD2rS4)


`@BoBo73` Unfortunately the motion editor is not available in the latest version of Webots anymore, instead you should use directly motor control: [https://cyberbotics.com/doc/reference/motor#motor-functions](https://cyberbotics.com/doc/reference/motor#motor-functions)


`@Shanaka` instead of using motion file you should control directly the motor individually  (in speed, position or torque/force) using the motor API: [https://cyberbotics.com/doc/reference/motor#motor-functions](https://cyberbotics.com/doc/reference/motor#motor-functions)

You can easily get the name of the individual motors by double-clicking on the robot to open the robot-window.

IF you didn't already did, I strongly recommend to follow our tutorial (which explains how to control the motors individually): [https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)

##### Shanaka 01/02/2020 08:11:30
this is my modified PUMA560
%figure
![image.png](https://cdn.discordapp.com/attachments/565154703139405824/662206323357646869/image.png)
%end


currently working as a research engineer in the department of electrical and electronic engineering, University of Peradeniya, Sri Lanka. These days, I engaged to design simulation using PUMA 560 robot manipulator in WEBOT and note that I'm very new to webot. 



I modified the end-tool of the manipulator by replacing the Pioneer gripper



I  control this entire manipulator (with new gripper) by modifying puma560.motion file and puma560.c file. 



But I need to add dynamics and individual joint controllers to this simulation with the idea of implementation in real world. So i check puma560.c file and there I found  functions called 



wbu\_motion\_new("puma560\_1.motion");

wbu\_motion\_play(motion);

but I was not able to find the definition of these functions anywhere. ( I checked motion.h Motion.hpp Motion.cpp files.) Although I can find the function definitions inside the above-mentioned files, still I was not able to find function definitions and how the given angles fed to motors in the manipulator by wbu\_motion\_play() function. 



The final target is to implement the controller in the real world using Raspberry pi or FPGA microcontrollers. So by using wbu\_motion\_play() functions how can I do it? Where can I find the function description? If this method is impossible, it will be great if you can give guidance to make it a success. 



your response will be highly appreciated !!

## 2019

##### Tahir [Moderator] 12/31/2019 21:03:40
you are welcomed

##### HBK 12/31/2019 21:02:32
`@Tahir` Thank you very much these were really useful insights.

##### Tahir [Moderator] 12/31/2019 20:58:36
so I would say it depends upon your requirements so just try it


sorry I forgot to mention in my case the local planner takes some time so I to synchronize or in other words to wait for ros to plan everything I did that


like here on this link you can see asynchronous waits for webots\_robot\_step to execute


[https://cyberbotics.com/doc/reference/robot#synchronous-versus-asynchronous-controllers](https://cyberbotics.com/doc/reference/robot#synchronous-versus-asynchronous-controllers)

##### HBK 12/31/2019 20:55:15
As you are emphasizing more on asynchronous mode can I know the trade offs of using this mode.(Mostly cons over synchronous mode)

##### Tahir [Moderator] 12/31/2019 11:30:32
I will suggest spending a little more time on step one and two and making sure that everything is 101% working as expected becase if there is a problem at this point this might give you hard time and you might see random behaviour


5. I will again highly suggest using asynchronous mode with this you can also run the headless mode and the robot will for sure wait for the commads and hopefully there will be no problem but I am not expert may be there might somone else shed light on this


1. you can start import your robot model in Webots. You can use urdf2webots or some other plugins available on Webots gihub. The model produced will be a little crude. So you can start organizing the stuff e.g. naming sensors and actuators, setting up the fields with resepctive bounding objects etc and atlast you can make a proto if you want. There are alot of example protos you can just change them to base node and see the hieracrhy there is also DJI drone in webots you can check that as well. 



2. After that I will say check the robots maneuverabilty that it moves in the correct direction and orientation for example teleopate on a line and a circle. 



3. Next is just write a small script which at the start enables webots devices. 



4. Webots is left handed system whereas ROS is right handed. This was another problem which I faced so there was two options one to write a transformation which actually does the correct mappings or another to change webots simulation to right handed, so I have gone for the second I changedevery nodes perspective which is now perfectly fine this will have some graphics issues but thats dependant on your need what do you want.

##### HBK 12/30/2019 18:50:18

%figure
![step_1.png](https://cdn.discordapp.com/attachments/565154703139405824/661279920210837509/step_1.png)
%end


I have multi-drone system with 4 drones working in an environment. Where I am applying Travelling salesmen Problem (K-TSP) to solve the issue.

So In gazebo sometimes drones fell down

In Gazebo


Brief of my project details:


I am well verse with ROS and gazebo. What will be best way to start shifting my project in webots `@Tahir`

##### Tahir [Moderator] 12/30/2019 18:39:39
Well I have 25 I will suggest use asynchronous mode that will not create much load and will update every robot individually, initially I was using synchronous so robots sometimes got out of the planned path. Also in my case visuals are not important I have everything in rviz. So previously when I run without graphics it didn't worked at all because ros and webots frequencies were different so it didn't made sense, now in asynchronous if I run without graphics robots stays on path.

Also I connected two pcs directly with lan, one running just webots and another just ros, so in this way its working well for me.

##### HBK 12/30/2019 18:28:39
`@Tahir` Great !!!  Thank you very much.  I am planning to work with 10 robots wont creating multiple instances make process slow ?

##### Tahir [Moderator] 12/30/2019 08:32:11
Webots ROS handling is also good everything is in form of services which might make life easier at some points


Well I am using Webots for multi agents planning. I would say it's great. I haven't worked with Gazebo quite much, but we already had simulation for single robot in Gazebo(which I didn't worked on, my supervisor did, he said that it might not work for multiple robots in our scenario we can just try) so I moved on to Webots. It didn't gave me much hard time as compared to other ones. I imported my custom robot. Wrote interfaces for Webots services and our custom software. Than just created multiple instances of robots in Webots, run multiple software instances and eveything worked.

##### HBK 12/30/2019 08:11:51
Is Webots a good simulator for Multi-agent planning ? It will be a great help if I get a brief comparison of gazebo and Webots for ROS integration.

##### swebdev 12/28/2019 23:40:36
`@Shanks` You could try to get your hands dirty on [http://robotbenchmark.net/](http://robotbenchmark.net/) which is fun. The next step would be to follow the tutorials here: [https://cyberbotics.com/doc/guide/tutorials?tab-language=java](https://cyberbotics.com/doc/guide/tutorials?tab-language=java) . As you start going with it, the further next step will be to stick to the rest of the documentation.

##### nap 12/28/2019 04:10:05
`@David Mansolino` :  I've found that under MacOS, I have the same problem with `libController.dylib`.  The runtime error is:



`dyld: Library not loaded: @rpath/lib/libController.dylib

  Referenced from: /Users/user/src/webots/projects/controllers/ePuckIface/./build.host/ePuckIface

  Reason: image not found`



And as before, setting `LD_LIBRARY_PATH` makes the problem go away.


`@David Mansolino` :  I made a little progress.  Setting the link command to:

`g++ -Wl,-rpath-link,"/usr/local/webots/lib/webots/",-rpath-link,"/usr/local/webots/lib/controller/" -Wl,-R "/usr/local/webots/lib/controller/" -s -o build/release/ePuckMeander build/release/ePuck.o build/release/ePuckMeanderBhvr.o build/release/ePuckContainer.o -lm -L"/usr/local/webots/lib/controller" -lController -lCppController`



Fixed the `libCppController.so` runtime error, but now it's complaining about libController.so.  

I would have thought that given the two are in the same folder specified by `-rpath-link` this would be fixed.  However, since I'm not actually building `libCppController.so`, it may be the reason.



By setting `LD_LIBRARY_PATH=/usr/local/webots/lib/controller/` fixed the problem, but I would consider this a bandaid solution.


`@David Mansolino` : Well, that almost worked.  It generated a binary, but upon running it, it issued an error stating it could not find  `libCppController.so`.  This is confirmed by using `ldd` on my controller.


`@David Mansolino` :Problem solved.  I needed to add a line in my Makefile with the following: `LFLAGS=-Wl,-rpath-link,/usr/local/webots/lib/webots` parameters, and it's worked.

##### Shanks 12/27/2019 13:34:11
Hello there Im new to webots, Is there a course or site to follow for development, Like from modelling objects to programming

##### nap 12/27/2019 10:30:44
libController.so, not the Cpp version.


Same problem even though it's in the same directory.  When I run ldd on libCppController.so, it says : `libpng12.so.0 => not found`


I can try that.


`@David Mansolino` Hi David.  I'm running this on Ubuntu 18.04.3 LTS using the package manager's version.

##### David Mansolino [cyberbotics] 12/27/2019 09:59:31
@nap, is this problem only visible with the latest version of Webots? You might fix it simply by copying libpng12.so.0 into /usr/local/webots/lib/controller

##### nap 12/27/2019 09:49:03
hi, I'm trying to build my controller on linux, and whilst the compilation works, the linking fails with an error stating:

ld: warning: libpng12.so.0, needed by libController.so, not found (try using -rpath or -rpath-link)

Now, I do have that library in /usr/local/webots/lib/webots



How do I fix this?

##### SomeOne 12/26/2019 10:41:46
Oh, I think my question belong to general. Sorry


Hi, is there an app ore something to create protos in Webots easier? Or another kind of user interface (,instead of writing that Lua code,) to create new photos?

##### swebdev 12/25/2019 19:16:32
Also, how do you affix a solid to the rectangle arena, I would like to make it immovable w.r.t. the ground. Any pointers shall be appreciated.


BoundingObject of Robot becomes null after world reload - This is likely a bug, but I posted as a question to confirm - [https://stackoverflow.com/questions/59476046/webots-boundingobject-of-robot-becomes-null-after-world-reload-how-to-prevent](https://stackoverflow.com/questions/59476046/webots-boundingobject-of-robot-becomes-null-after-world-reload-how-to-prevent)

##### Tahir [Moderator] 12/24/2019 20:44:20
I jave changed the webots coordinate system from LHS to RHS, to get everyhing compatible with ROS. Initially I had problems with the light source so I changed to Point light and it worked fine for a smaller scenario. Now I am having a bigger scenario around 300x300 meters and point light does not seems to be a feasible option . As to get a better overview after increasing its intensity I can not monitor it as after sonetime I get headache because of too much brightness. Any alernative or suggestions to change will highly be appreciated

##### sugus105 12/24/2019 09:29:10
i have same question of Redsign

##### ã€ŽDEMÃŽã€Ghozt (Redsign) 12/24/2019 07:37:54
I designed a robot in solidworks. How could i upload it to webot

##### BoBo73 12/23/2019 18:45:25
i can't open the Motion Editor. windows = "generic\_window" then reload, 

it does not work!!

##### casey 12/23/2019 03:45:27
I follow this tutorial, [https://en.wikibooks.org/wiki/Cyberbotics%27\_Robot\_Curriculum/Beginner\_programming\_Exercises](https://en.wikibooks.org/wiki/Cyberbotics%27_Robot_Curriculum/Beginner_programming_Exercises)

but I don't know  how to open the BotStudio, I believe `@Stefania Pedrazzi` said that 

`we won't drop BotStudio until we have a working alternative`

Can anyone help me?

##### swebdev 12/22/2019 21:34:09
`@Tahir` Makes sense, thanks!

##### Tahir [Moderator] 12/22/2019 21:29:07
If you check here in this link with every MF field they are arrays


[https://cyberbotics.com/doc/reference/solid](https://cyberbotics.com/doc/reference/solid)


I think its Single Field and Multi Field,  but I am not sure

##### swebdev 12/22/2019 21:17:11
Hi, what's the difference between MFNode and SFNode? Is it documented somewhere - I tried looking but couldn't find. Appreciate any pointers or help!

##### swebdev 12/22/2019 20:44:34
Hi, I created a question on SO - [https://stackoverflow.com/questions/59447623/webots-open-multiple-windows-side-by-side](https://stackoverflow.com/questions/59447623/webots-open-multiple-windows-side-by-side) but will ask here as well - Is it possible to have multiple webots world windows simultaneously open?

##### Alexis Balayre 12/22/2019 18:40:23
so i can't use webot with choregraph ...

##### Fabien Rohrer [Moderator] 12/22/2019 18:39:39
Unfortunately, naoqisim (Â«Â wrapperÂ Â» between Webots and Choregraph) is not maintained anymore.


Please refer to this documentation: [https://github.com/cyberbotics/naoqisim/blob/master/README.md](https://github.com/cyberbotics/naoqisim/blob/master/README.md)

##### Alexis Balayre 12/22/2019 18:35:45
how can i connect choregraph to webot ?


thanks !

##### Fabien Rohrer [Moderator] 12/22/2019 16:28:18
There no need of account anymore for this old version, you should simply use Â«Â webotsÂ Â» as password: [https://www.cyberbotics.com/doc/guide/general-faq#can-i-still-use-a-webots-version-before-the-r2019a-release](https://www.cyberbotics.com/doc/guide/general-faq#can-i-still-use-a-webots-version-before-the-r2019a-release)

##### Hao 12/19/2019 01:20:19
webots for nao

##### Tahir [Moderator] 12/18/2019 13:51:32
OK thanks for the prompt replies I'll do that way

##### Fabien Rohrer [Moderator] 12/18/2019 13:48:04
`@Tahir` About the installation, installing it from a precompiled package is indeed much simpler if you don't want to modify Webots sources.


For now, it would be awesome to use stackeoveflow for all the questions of general interest.

##### Hayden Woodger 12/18/2019 13:46:29
I couldn't agree more

##### Fabien Rohrer [Moderator] 12/18/2019 13:46:21
It's a good opportunity to restart on a strong basis of knowledge.


We fear that the users may be confused by information on it.

##### Tahir [Moderator] 12/18/2019 13:45:33
Oh thats alright I just was trying to install from sources and it was not able to find .asc file byt now I will take .deb from github

##### Hayden Woodger 12/18/2019 13:45:27
ah good point

##### Fabien Rohrer [Moderator] 12/18/2019 13:45:17
We think that it contains a lot of obsolete information.

##### Hayden Woodger 12/18/2019 13:44:56
That's a shame, there's so much useful info there

##### Fabien Rohrer [Moderator] 12/18/2019 13:44:45
But this is for good


It has been dropped for ever

##### Hayden Woodger 12/18/2019 13:44:26
There's a story? lol

##### Fabien Rohrer [Moderator] 12/18/2019 13:44:14
For the forum, it's another story.


We recently had big issues with the website, and we are about to migrate to a new system, and have a brand new website ;.)

##### Hayden Woodger 12/18/2019 13:43:55
Can't access the forum, if i click the top link in the search results: [https://www.google.com/search?q=webots+cannot&rlz=1C1CHBF\_en-GBGB879GB879&oq=webots+cannot&aqs=chrome..69i57.9887j0j4&sourceid=chrome&ie=UTF-8](https://www.google.com/search?q=webots+cannot&rlz=1C1CHBF_en-GBGB879GB879&oq=webots+cannot&aqs=chrome..69i57.9887j0j4&sourceid=chrome&ie=UTF-8)

##### Tahir [Moderator] 12/18/2019 13:43:05
OK

##### Fabien Rohrer [Moderator] 12/18/2019 13:42:53
[https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)


We migrate it to the github page:


the download page is not accessible anymore

##### Tahir [Moderator] 12/18/2019 13:42:30
Let me do it again


I tried from 3 pcs


The downloads page

##### Fabien Rohrer [Moderator] 12/18/2019 13:42:11
Could you clear your cache and try again?


It seems to work well from my side: [https://cyberbotics.com/](https://cyberbotics.com/)

##### Hayden Woodger 12/18/2019 13:41:02
It's been down for some time, i haven't been able access it either

##### Tahir [Moderator] 12/18/2019 13:40:38
I am trying to access the download page and it hoes to 404 not found


Is there some issue with cyberbotics website?

##### Fabien Rohrer [Moderator] 12/17/2019 14:41:33
Does this make more sense for you?


the perfect value can be found from the API or is stored in the .wbt file using a double precision.


the value you see in the field editor is however more precise.


the value you see on the scene tree is indeed rounded to few decimals.


`@Tahir` Hi

##### Tahir [Moderator] 12/17/2019 14:35:06
Here blue points are robot's home positions but they are shifted towards right



%figure
![JPEG_20191217_153433.jpg](https://cdn.discordapp.com/attachments/565154703139405824/656504558847131648/JPEG_20191217_153433.jpg)
%end


Any insight on that will highly be appreciated


I can see in rviz that every robot is moved from their home position



%figure
![JPEG_20191217_152827.jpg](https://cdn.discordapp.com/attachments/565154703139405824/656503357997056031/JPEG_20191217_152827.jpg)
%end


The value in translation field is rounded off but in the down in edit area it shows the right value
%figure
![JPEG_20191217_152841.jpg](https://cdn.discordapp.com/attachments/565154703139405824/656503316632829963/JPEG_20191217_152841.jpg)
%end


Hello,

I am having a strange thing which I am not able to understand, I have set my robits position and all of them are rounded off to the upper value and it is moving every robot a little

##### Fabien Rohrer [Moderator] 12/17/2019 11:17:54
Glad to read that. You should come here with very precise and well formulated questions if you want help. Webots already contain a yamor model.

##### Arthur VAL 12/17/2019 11:15:17
We have to make a complete Yamor


Hi guys I really need some help please, Iâ€™m currently in my high school  in France and Iâ€™ve to do a project with Webots

##### chamandana 12/17/2019 10:02:58
okay thanks ðŸ™‚

##### Stefania Pedrazzi [cyberbotics] 12/17/2019 10:02:19
on Windows they should be at `C:\Users\user\AppData\Local\Temp\Webots-<pid>`


Hi `@chamandana`, they are in the temporary folder (that depends on the OS). you are on Windows, is it correct?

##### chamandana 12/17/2019 09:58:04
hey, I was recording a long simulation and forgot I didn't have much space left in C:/ . So, the recording stopped as expected, but I couldn't remove the temporary files generated from the recording to regain the disk space. Do you have any insights where the temporary recording files are?

##### Stefania Pedrazzi [cyberbotics] 12/16/2019 14:35:11
you're welcome!

##### csnametala 12/16/2019 14:34:50
OK! thank you very much for your help `@Stefania Pedrazzi` . I will check

##### Stefania Pedrazzi [cyberbotics] 12/16/2019 14:30:51
Since last week you don't need any longer a license to run old Webots versions.

You just need to use the password `webots`

[https://www.cyberbotics.com/doc/guide/general-faq#can-i-still-use-a-webots-version-before-the-r2019a-release](https://www.cyberbotics.com/doc/guide/general-faq#can-i-still-use-a-webots-version-before-the-r2019a-release)

##### csnametala 12/16/2019 14:28:53
`@Stefania Pedrazzi` I am trying to validate a Webots 7.4.3 EDU key, and it is not possible

##### Stefania Pedrazzi [cyberbotics] 12/16/2019 14:25:56
Hi `@csnametala`, we updated the server and we are still working on restoring some of the pages. But we also decided to drop some of them, like the forum. Which page are you trying to load?

##### csnametala 12/16/2019 14:19:41
Hi! Some pages related to Webots are giving error 404.php. Does anyone know the reason? please

##### David Mansolino [cyberbotics] 12/15/2019 12:41:27
By fixing them ðŸ˜‰

##### chamandana 12/15/2019 12:34:28
how can I hide errors, printed into the webots console?

##### David Mansolino [cyberbotics] 12/15/2019 12:19:58
You're welcome.

##### chamandana 12/15/2019 12:18:57
oh okay. thanks

##### David Mansolino [cyberbotics] 12/15/2019 11:51:14
HI `@chamandana` , you should change its lookupTable field: [https://cyberbotics.com/doc/reference/distancesensor#lookup-table](https://cyberbotics.com/doc/reference/distancesensor#lookup-table)

##### chamandana 12/15/2019 06:58:19
How can I increase dostance sensor length? I mean its always returning 1000. only reduces to lower values when an object reaches like 5 cm

##### David Mansolino [cyberbotics] 12/13/2019 14:46:27
You're welcome ðŸ˜‰

##### nap 12/13/2019 14:46:16
But thanks for the link


Who reads the manual?  lol

##### David Mansolino [cyberbotics] 12/13/2019 14:45:08
You are completely right, the makefile.include assumes that you are using the Webots project standard file hierarchy: [https://www.cyberbotics.com/doc/guide/the-standard-file-hierarchy-of-a-project](https://www.cyberbotics.com/doc/guide/the-standard-file-hierarchy-of-a-project)

##### nap 12/13/2019 14:42:22
`@David Mansolino` : I figured it out.

`Makefile.include` relies on a hierarchy of folders for various things;

1. The name of the controller is assigned from the name of the containing folder, 

2, If there is a folder named 'controllers' in the branch (presumably one level above), then the code is compiled to an executable, otherwise a shared library, and

3. Maybe other things which I haven't worked out yet.

##### David Mansolino [cyberbotics] 12/13/2019 14:16:48
`@nap`, yes if you do not specify any path, make is executing the Makefile in the current folder


Yes, it should be included in this one: [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)

##### chamandana 12/13/2019 14:15:28
ðŸ™‚


this was merged 2 days ago. So, a build done 20 hours ago is fine right?

##### nap 12/13/2019 14:12:55
Once it's been merged in, any build after that I would think.

##### chamandana 12/13/2019 14:09:34
hey, in which nightly build can I find this merged? [https://github.com/cyberbotics/webots/pull/1181](https://github.com/cyberbotics/webots/pull/1181)

##### nap 12/13/2019 14:01:36
`@David Mansolino` : I'm experiencing a strange problem here.  In some folders, `make` ends up generating a dylib (shared library) instead of an executable. Does `make` have a default location where it checks for Makefiles?  I thought it was just the local directory or if specified, at a given path.

##### David Mansolino [cyberbotics] 12/13/2019 12:32:27
It makes perfectly sens indeed, thank you for the feedback.

##### nap 12/13/2019 12:32:03
I've updated my Makefile now.


`@David Mansolino` : I solved the CLI problem...  I needed to prepend the the `make` command with `CXX=clang++` (as I'm on MacOS here).

##### Gautier A. 12/13/2019 10:11:54
ðŸ˜„

##### David Mansolino [cyberbotics] 12/13/2019 10:11:49
You're welcome

##### Gautier A. 12/13/2019 10:11:20
Ok, thank you a lot !

##### David Mansolino [cyberbotics] 12/13/2019 10:03:03
Very good news, it now makes much more sense.



>  I have to put a torque inverse to the first one on the solid node of the base



Yes, that's probabyl the best solution.



> I understand now why it had this kind of behavior for the first video, I assume it was because after controlling the motor directly in torque, the "PID" switch off so the motor no longer try to stay in position "0" ?



If you want to keep the motor, to disable it you can probably call the `wb_motor_set_available_torque` with a zero torque ([https://www.cyberbotics.com/doc/reference/motor#motor-functions](https://www.cyberbotics.com/doc/reference/motor#motor-functions))

##### Gautier A. 12/13/2019 09:59:46
(I understand now why it had this kind of behavior for the first video, I assume it was because after controlling the motor directly in torque, the "PID" switch off so the motor no longer try to stay in position "0" ?)


I assume that, than, to completly simulate the "expected behavior" (by that, I mean, the reaction of torque in the opposite sense on the base), I have to put a torque inverse to the first one on the solid node of the base ?


You were right


Without motor, it has this kind of behavior


[https://youtu.be/8SqgdZr4MTQ](https://youtu.be/8SqgdZr4MTQ)

##### David Mansolino [cyberbotics] 12/13/2019 09:53:40
Ok, then this is probably the cause of the issue, the motor is applying some torque to make sure the joint remains at the 0 position. Can you try the same without the motor ?

##### Gautier A. 12/13/2019 09:52:59
Do you want me to send my world and controller ?


Yes

##### David Mansolino [cyberbotics] 12/13/2019 09:52:35
Just to make sure, you have a motor in the joint lonking the two solid ?

##### Gautier A. 12/13/2019 09:52:31
Yeah, I agree


Here is the scene tree, Maybe I did an error in it ?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/654983945150136337/unknown.png)
%end

##### David Mansolino [cyberbotics] 12/13/2019 09:51:53
Ok, this is kind of reassuring at least the behavior is the same in both cases.

##### Gautier A. 12/13/2019 09:50:10
The two solid are considered "one" even though there is an hinge joint between them


[https://www.youtube.com/watch?v=CiH2hsKYLzc&feature=youtu.be](https://www.youtube.com/watch?v=CiH2hsKYLzc&feature=youtu.be)


Yes, of course

##### David Mansolino [cyberbotics] 12/13/2019 09:37:22
Can you reproduce similar behavior simply by adding torque/force manually?

[https://cyberbotics.com/doc/guide/the-3d-window#applying-a-force-to-a-solid-object-with-physics](https://cyberbotics.com/doc/guide/the-3d-window#applying-a-force-to-a-solid-object-with-physics)

##### Gautier A. 12/13/2019 09:28:15
Here is the behavior when a torque is applied on endsolid through a supervisor at the beginning of simulation (so without any linear velocity at the beginning): [https://youtu.be/nn7nhfxPxrQ](https://youtu.be/nn7nhfxPxrQ)


Did I do something wrong ? Do I need to apply a torque of the same intensity but in the other sense to simulate the "normal behavior" of mecanics ?


I have made a video to show you: [https://www.youtube.com/watch?v=fF0xkMFGZTQ&feature=youtu.be](https://www.youtube.com/watch?v=fF0xkMFGZTQ&feature=youtu.be)



Basically, I test a motor on a hinge joint in zero gravity and observe how the two solid react.

 - When a torque is applied to the joint through a motor (first mode, "motor mode"), the two solid react correctly according to their own mass and inertial matrix

 - When a torque is applied through a supervisor on the endsolid, we have two kind of different behavior depending on the initial condition:

           - If there was no initial linear velocity, the two solid rotate in the same sense, even though there is a joint between them (this behavior is not shown in the video above, I'm gonna link you another video right after)

           - If there was an initial linear velocity, only the endpoint solid spin


I'm experimenting with the new functions of the supervisor and I don't really understand how they behave


Thank you ! `@David Mansolino`

##### David Mansolino [cyberbotics] 12/13/2019 09:19:51
Of course

##### Gautier A. 12/13/2019 09:19:42
Hey, Might I ask you something ?

##### David Mansolino [cyberbotics] 12/13/2019 07:46:05
What is your compilation issue? Did you define correctly WEBOTS\_HOME before trying to compile ?


Very good news !

##### nap 12/13/2019 07:35:18
The only issue I have at the moment is that whilst I can build my project inside the Webots Editor, I'm not able to do so from the CLI.


I got my controller calibrated to suit the new units of measure.  Works great!

##### David Mansolino [cyberbotics] 12/13/2019 07:33:14
Indeed let's wait and see if he comes back or not.

##### nap 12/13/2019 07:32:52
`@David Mansolino` : His message was around 9 hours ago.  So I'm not sure what happened.

##### David Mansolino [cyberbotics] 12/13/2019 07:29:07
Hi `@ega` what do you mean by is stopped? is it only the robo or the simulation too?

##### ega 12/12/2019 20:15:33
why is my robot stopped after calling robot->step(32) ?

##### nap 12/12/2019 15:21:48
I disabled "Ambient Occlusion" in the OpenGL settings, and it's much better now!!


Is there a way of getting the simulation to run more smoothly?  I reduced TIME\_STEP from 64 to 32.

##### David Mansolino [cyberbotics] 12/12/2019 14:30:39
Ok, let us know if you can't find any working calibration, I am sure we can find some other solution if needed

##### nap 12/12/2019 14:29:41
Well, I really appreciate you looking into this.  I need to calibrate some of my coefficients to suit the new e-puck, so I may be able to get it working with what I have.

##### David Mansolino [cyberbotics] 12/12/2019 14:28:08
Yes, the lightning might influence the rendering for sure, and also the background !

##### nap 12/12/2019 14:28:03
To me, there is still a layer of gray.  The red isn't deep enough.


Could it have something to do with the lights?  I have two DirectionalLight nodes.  There were also there in the Webots7 project,  I haven't changed any of their settings, but perhaps this version of Webots uses a different lighting model?

##### David Mansolino [cyberbotics] 12/12/2019 14:26:55
I checked with roughness 1 and metalness 0

It looks like what you want to achieve no ?
%figure
![khepera3_gripper_1.png](https://cdn.discordapp.com/attachments/565154703139405824/654690656152977428/khepera3_gripper_1.png)
%end

##### nap 12/12/2019 14:22:51
kk.  Cheers.

##### David Mansolino [cyberbotics] 12/12/2019 14:22:33
let me try

##### nap 12/12/2019 14:21:49
Floor Texture
%figure
![Floor_10px_small_Inter_center_boarder_infra-red31_1024.png](https://cdn.discordapp.com/attachments/565154703139405824/654689370242285581/Floor_10px_small_Inter_center_boarder_infra-red31_1024.png)
%end


The colours are specifically chosen to be at maximum extremes from each other to make the GroundSensors work best.

##### David Mansolino [cyberbotics] 12/12/2019 14:21:09
But can you share the texture 'Floor\_10px\_small\_Inter\_center\_boarder\_infra-red31\_1024.png' just to see how it looks like ?

##### nap 12/12/2019 14:20:19
Its like here is some 'grey' color in the image.


Or someone poured some acetone onto it.


To me, it looks like there is a layer of old plexiglass over the floor that has clouded due to UV exposure.


(Note that the 2nd image is from a Webots7 simulation video.)

##### David Mansolino [cyberbotics] 12/12/2019 14:18:11
Ok is the problem the fact that the black 'squarre' are not exactly black ?

##### nap 12/12/2019 14:17:22
This is what I would like it to look like:
%figure
![Screen_Shot_2019-12-13_at_12.16.55_am.png](https://cdn.discordapp.com/attachments/565154703139405824/654688249142444032/Screen_Shot_2019-12-13_at_12.16.55_am.png)
%end


This is what it looks like atm.
%figure
![Screen_Shot_2019-12-13_at_12.15.27_am.png](https://cdn.discordapp.com/attachments/565154703139405824/654687939913187338/Screen_Shot_2019-12-13_at_12.15.27_am.png)
%end

##### David Mansolino [cyberbotics] 12/12/2019 14:14:36
You probably want this:

```
floorAppearance PBRAppearance {
    baseColorMap ImageTexture {
      url [
        "textures/Floor_10px_small_Inter_center_boarder_infra-red31_1024.png"
      ]
      filtering 0
    }
    roughness 1
    metalness 0
  }
```

##### nap 12/12/2019 14:14:11
just add it after metalness?


This is what I have atm:



  floorAppearance PBRAppearance {

    baseColorMap ImageTexture {

      url [

        "textures/Floor\_10px\_small\_Inter\_center\_boarder\_infra-red31\_1024.png"

      ]

    }

    roughness 1

    metalness 0

  }

##### David Mansolino [cyberbotics] 12/12/2019 14:13:32
then the node in basColorMap you should see a 'filtering' field

##### nap 12/12/2019 14:13:16
yes I did

##### David Mansolino [cyberbotics] 12/12/2019 14:12:50
you did add a texure using the basColorMap field rights ?

##### nap 12/12/2019 14:12:20
Where does 'baseColorMap.filtering 0' go?  In the same PBR stanza?

##### David Mansolino [cyberbotics] 12/12/2019 14:11:54
Let me know if that helps


Ok,, in that case you probably want:

  - metalness 0

  - roughness 1

  - baseColorMap.filtering 0



Make also sur to set in the preference OpenGL.Texture Quality to high

##### nap 12/12/2019 14:11:25
lol, so hard to express what I want, now that I'm trying to find the right words.


(And for the floor to look sharp.)


(With sharp edges between each.)


No aliasing, no merging.  I would like maximum contrast between the floor, lines, and intersection marker.


no, not a mirror.  My texture has a (almost) black floor (it's actually a shade of really dark red), with bright white lines that intersect in a grid.  At each intersection I have a cyan square which lets the robot know when it's in the right position in the intersection so it can make aligned turns.

##### Hayden Woodger 12/12/2019 14:07:24
Sounds like he wants the floor to be HD

##### David Mansolino [cyberbotics] 12/12/2019 14:05:36
I am not sure to understand exactly what you want to achieve, do you want the floor to belike a mirror ?

##### nap 12/12/2019 14:04:29
Anyone know what settings would help?


I have a question about PBRAppearance settings.  I would like to get a really sharp rendering of my floor texture (png).  Roughness 1 and metalness 1  (or both on zero) just don't cut it.  Either the line is dim and diffused, or it's just out of focus.

##### David Mansolino [cyberbotics] 12/12/2019 14:02:10
`@nap` you're welcome, glad to hear that it helped ðŸ™‚

##### nap 12/12/2019 14:01:49
(Tutorial)


`@David Mansolino` :  Thanks for the link to the E-Puck demo.  It helped me a lot!


`@Fabien Rohrer` : Hi!  I just got my controller working. ðŸ™‚  But I need to tweak some control coefficients as well as the floor rendering to make it sharper.  At the moment, the e-puck can't detect the lines while turning around, and may also be unable to detect intersections.  So, going quite well.

##### chamandana 12/12/2019 13:13:41
ok

##### Fabien Rohrer [Moderator] 12/12/2019 13:11:24
Please look at this page in 20 hours: [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)

##### chamandana 12/12/2019 13:10:57
I mean timezones and all

##### Fabien Rohrer [Moderator] 12/12/2019 13:10:33
We started the release procedure, and the nightly builds may be affected.


Sorry, you will have to wait until tomorrow ðŸ˜‰

##### chamandana 12/12/2019 13:02:43
hey `@Fabien Rohrer`, When will the nightly build release that fixes this? ðŸ™‚ [https://github.com/cyberbotics/webots/pull/1181](https://github.com/cyberbotics/webots/pull/1181) .

##### David Mansolino [cyberbotics] 12/12/2019 11:10:35
You're welcome

##### Gautier A. 12/12/2019 11:10:27
Ok, thank you a lot for your responses. They are gonna be very usefull. ðŸ˜„

##### David Mansolino [cyberbotics] 12/12/2019 11:09:32
> Also, final question, is the execution scheme gonna change between webots 2019 and 2020 ?



No



> Therefore, if understand correctly, the execution of the controller at time T is based on the data he retrieved from the timestamp T-1 during its execiton at T ?



Yes

##### Gautier A. 12/12/2019 11:08:51
(Also, final question, is the execution scheme gonna change between webots 2019 and 2020 ?)


Therefore, if understand correctly, the execution of the controller at time T is based on the data he retrieved from the timestamp T-1 during its execution at T ?

##### David Mansolino [cyberbotics] 12/12/2019 11:05:54
Yes.

##### Gautier A. 12/12/2019 11:05:42
(In the case the controllers and simulation step are the same, of course)


Ok, so the controller are executed before the physics (from ODE ?)

##### David Mansolino [cyberbotics] 12/12/2019 11:03:26
Ok it works in this order (to summarize), at each step:

  - the controller request is read (i.e. the force is applied).

  - the physic step is executed.

  - the new state of the sensors is sent back to the controllers.



Of course this is in the case where the controller and simulation steps are the same.

##### Gautier A. 12/12/2019 11:00:47
Hi `@David Mansolino` , thank you

##### David Mansolino [cyberbotics] 12/12/2019 10:58:00
Hi `@Gautier A.` yes they are synchronized, let me check for the exact order.

##### Gautier A. 12/12/2019 10:55:25
(I'm mainly interested on the wb\_supervisor\_node\_add\_force function that are gonna be available in Webots 2020, and I want to understand how it interacts with ODE and, for exemple, if they (ODE and the controller) are "executed and synchronized" at the same timestamp)


And does this execution scheme is gonna change between webots 2019b and 2020a ?


How does an execution of a robots's controller/supervisor is inserted in the "global execution scheme" of a simulation ?


Hello, I have a question on the execution scheme

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 09:45:00
you're welcome

##### JasonChen 12/12/2019 09:44:43
`@Stefania Pedrazzi` Thanks.

##### Nocturnal Warfare 12/12/2019 09:26:08
alright i think that is all for tonight, good night and thank you again, having this discord was a great idea btw

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 09:25:59
`@JasonChen` the friction is defined in the WorldInfo.contactProperties field:

[https://www.cyberbotics.com/doc/reference/contactproperties](https://www.cyberbotics.com/doc/reference/contactproperties)


`@Nocturnal Warfare` you're welcome

no, for the moment we don't plan to improve the editor, even if we know that it is limited

##### JasonChen 12/12/2019 09:21:33
Hello, if I want to add more friction to my floor, how can I do that?

Right now, the robot slips all the time.

##### Nocturnal Warfare 12/12/2019 09:20:42
Thank you by the way, you help has been invaluable


i think thats for another day lol, are there any plans to add version control or code autofill to the built in editor cuz those are the two main reasons i wanted to use VS Code

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 09:16:03
Yes, using the Supervisor API: [https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_simulation\_set\_mode](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_simulation_set_mode)

##### Nocturnal Warfare 12/12/2019 09:15:20
is there a way send simulation commands from the code? like pause, reset, etc?

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 09:14:47
no idea why it doesn't work form the console.

##### Nocturnal Warfare 12/12/2019 09:14:34
that other one was the .env file


```{
  // Use IntelliSense to learn about possible attributes.
  // Hover to view descriptions of existing attributes.
  // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Python: Current File",
      "type": "python",
      "request": "launch",
      "program": "${file}",
      "console": "integratedTerminal",
      "envFile": "${workspaceFolder}/.env"
    }
  ]
}

``` is the json

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 09:13:58
the json looks correct

##### Nocturnal Warfare 12/12/2019 09:13:56
WTF, now it works.... why doesnt the console work tho?


```PYTHONPATH=C:\Program Files\Webots\lib\controller\python37
PATH=%PATH%;C:\Program Files\Webots\lib\controller;C:\Program Files\Webots\lib\controller\python37;C:\Program Files\Webots\msys64\mingw64\bin
``` is my .env that is loaded using the launch.json


........


not from console, but from VS Code

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 09:12:10
yes, can you also try to set the WEBOTS\_HOME variable: ``set WEBOTS\_HOME=C:\Program Files\Webots``?

##### Nocturnal Warfare 12/12/2019 09:12:06
wtf it started working


thats all correct right? cuz thats currently what they are


`PYTHONPATH: C:\Program Files\Webots\lib\controller\python37`

`PATH: C:\Users\Username\AppData\Local\Programs\Python\Python37\; C:\Program Files\Webots\lib\controller; C:\Program Files\Webots\lib\controller\python37;C:\Program Files\Webots\msys64\mingw64\bin`


didnt help


ok

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 09:06:50
yes, you are right and you probably also have tp add C:\Program Files\Webots\msys64\mingw64\bin to the PATH as well.

##### Nocturnal Warfare 12/12/2019 09:04:58
my python installation couldnt be the issue correct since it runs fine in the Webots application right?


when I was looking into integrating with PyCharm it said something about adding the mingw64\bin folder as an environment variable or something, is that something not necessary here?

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 09:03:05
yes, but I'm now checking on a different machine

##### Nocturnal Warfare 12/12/2019 09:01:24
is it loading on your side fine?


```C:\Users\Username>echo %PATH%
C:\Users\Username\AppData\Local\Programs\Python\Python37\; C:\Program Files\Webots\lib\controller; C:\Program Files\Webots\lib\controller\python37

C:\Users\Username>set PYTHONPATH=C:\Program Files\Webots\lib\controller\python37

C:\Users\Username>python
Python 3.7.5 (tags/v3.7.5:5c02a39a0b, Oct 15 2019, 00:11:34) [MSC v.1916 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> import controller
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "C:\Program Files\Webots\lib\controller\python37\controller.py", line 15, in <module>
    import _controller
ImportError: DLL load failed: The specified module could not be found.
```


grrr... still failed


ok so i have the \lib\controller, \python37, \lib\controller\python37 in my path now

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:55:56
yes, you need to add it to the PATH too

##### Nocturnal Warfare 12/12/2019 08:55:07
crap, now it doesnt recognize python cuz that path is gone lol


got it thanks

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:54:16
if you type ``set PATH=`` you will completely clean it

if you type ``set PATH=C:\Program Files\Webots\lib\controller;C:\Program Files\Webots\lib\controller\python37;`` you will set it only to the Webots lib/controller folders

to append you have type something like this ``set PATH=<new path>;%PATH%``

##### Nocturnal Warfare 12/12/2019 08:52:29
how do you set the path variable versus just appending it?


yeah adding the .pyd didnt do anything

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:48:53
I doubt this is the issue, but you can try. I would also try to clean the PATH variable in the terminal and make it link only to the two Webots folders and to the python 37 folder

##### Nocturnal Warfare 12/12/2019 08:47:35
like import \_controller.pyd


i wonder if we switch the import in the controller.py to specify the .pyd extension

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:47:00
but it doesn't find \_controller. on my system I got this error when PATH was not set

##### Nocturnal Warfare 12/12/2019 08:46:06
i can type controller.py from the console, and it opens that file, so im guessing it is finding that path fine

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:44:48
it could be that PATH contains other resources that are conflicting with the latest Webots version


the error you get is probably due to the PATH and not to PYTHONPATH

##### Nocturnal Warfare 12/12/2019 08:42:59
or is that what that python code checks?


how do we make sure the pythonpath is working?


import still failing


both echo and python see both lib\controller and lib\controller\python37

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:41:05
or from python 
```import os
print(os.getenv('PATH'))
```

##### Nocturnal Warfare 12/12/2019 08:40:54
yeah both of those new paths are in there

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:39:50
yes, with `echo %PATH%`

##### Nocturnal Warfare 12/12/2019 08:39:20
is there a way to verify that the path is actually getting set?


nope

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:38:12
sorry I just edited the previous message


and if you set the path to:

```
set PATH=C:\Program Files\Webots\lib\controller;C:\Program Files\Webots\lib\controller\python37;%PATH%
```

##### Nocturnal Warfare 12/12/2019 08:36:08
```C:\Users\Username>set PYTHONPATH=C:\Program Files\Webots\lib\controller\python37

C:\Users\Username>set PATH=%PATH%;C:\Program Files\Webots\lib\controller;C:\Program Files\Webots\lib\controller\python37

C:\Users\Username>python
Python 3.7.5 (tags/v3.7.5:5c02a39a0b, Oct 15 2019, 00:11:34) [MSC v.1916 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> import controller
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "C:\Program Files\Webots\lib\controller\python37\controller.py", line 15, in <module>
    import _controller
ImportError: DLL load failed: The specified module could not be found.
```

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:34:19
no this sets only the PATH, for the PYTHONPATH type:

```
set PYTHONPATH=C:\Program Files\Webots\lib\controller\python37
```

##### Nocturnal Warfare 12/12/2019 08:33:20
`set PATH=%PATH%;C:\Program Files\Webots\lib\controller;C:\Program Files\Webots\lib\controller\python37` this does both?

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:32:58
running the two commands I wrote you

##### Nocturnal Warfare 12/12/2019 08:32:19
how do you set both python path and path?


im trying now

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:32:03
does it work for you as well?


yes, I set both the PATH and PYTHONPATH and then started python and the import was fixed

##### Nocturnal Warfare 12/12/2019 08:31:20
and it worked?


so you ran that in CMD, then python, then import controller?

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:29:16
I could make it work on my system from CMD by also updating the PATH before running python: 

`set PATH=%PATH%;C:\Program Files\Webots\lib\controller;C:\Program Files\Webots\lib\controller\python37`

##### Nocturnal Warfare 12/12/2019 08:16:50
thank you so much, you have been very helpful

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:16:04
ok, I will now test on my computer if it works and let you know

##### Nocturnal Warfare 12/12/2019 08:13:40
same issue it seems


```PS F:\OneDrive\GitHub\Cjkeenan\NGCP_UGV_2019-2020\my_first_simulation> SET PYTHONPATH=C:\Program Files\Webots\lib\controller\python37
PS F:\OneDrive\GitHub\Cjkeenan\NGCP_UGV_2019-2020\my_first_simulation> python
Python 3.7.5 (tags/v3.7.5:5c02a39a0b, Oct 15 2019, 00:11:34) [MSC v.1916 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> import controller
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "C:\Program Files\Webots\lib\controller\python37\controller.py", line 15, in <module>
    import _controller
ImportError: DLL load failed: The specified module could not be found.
```

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:12:25
are using cmd terminal? this should work `SET PYTHONPATH=C:\Program Files\Webots\lib\controller\python37; C:\Program Files\Webots\msys64\mingw64\bin; `

##### Nocturnal Warfare 12/12/2019 08:10:51
no how do i do that?

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:10:24
did you define the PYTHONPATH before starting the python shell?

##### Nocturnal Warfare 12/12/2019 08:09:46
same error


```PS F:\OneDrive\GitHub\Cjkeenan\NGCP_UGV_2019-2020\my_first_simulation> python
Python 3.7.5 (tags/v3.7.5:5c02a39a0b, Oct 15 2019, 00:11:34) [MSC v.1916 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> import controller
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "C:\Program Files\Webots\lib\controller\python37\controller.py", line 15, in <module>
    import _controller
ImportError: DLL load failed: The specified module could not be found.
```

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:08:19
does the import work correctly if you run python from a terminal?

##### Nocturnal Warfare 12/12/2019 08:05:00
oh ok

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:04:52
no, it contains bytes and not text

##### Nocturnal Warfare 12/12/2019 08:03:54
also is that \_controller.pyd supposed to be a text file? because neither VS Code nor notepad++ can read it

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:03:42
theoretically this makes sense, but I'm not sure

##### Nocturnal Warfare 12/12/2019 08:02:33
am i right in thinking that if VS Code can see controller.py, and import it properly, it should be able to see \_controller and import that as well?

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 08:02:12
If I'm not wrong the the .pyd takes preference over the .py

##### Nocturnal Warfare 12/12/2019 08:00:04
is that the file that is referenced by the import \_controller?


yes it has that

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 07:58:59
> weird it still cannot find that \_controller, the lib folder only has controller.py, vehicle.py and \_controller.pyd, vehicle.pyd fyi. I assume the \_controller its looking for is a .py not a .pyd correct

the <WEBOTS>/lib/controller/python37/ directory should also contain the \_controller.pyd file

##### Nocturnal Warfare 12/12/2019 07:58:53
and am i right in thinking that if VS Code can see controller.py, and import it properly, it should be able to see \_controller and import that as well?


ok sweet

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 07:57:32
another mistake from my side. I checked and you have all the required libraries

##### Nocturnal Warfare 12/12/2019 07:56:52
CppController.lib is also missing


oh ok

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 07:55:50
no it's CppController.dll (I confused with the linux library name)

##### Nocturnal Warfare 12/12/2019 07:55:07
libCppController.dll seems to be missing actually

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 07:54:44
ok, good. that's seems correct

##### Nocturnal Warfare 12/12/2019 07:54:12
it appears to be all there



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/654591752367374352/unknown.png)
%end

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 07:53:04
In the `<WEBOTS>/lib/controller` directory, could you check that you have libController.dll or Controller.dll, Controller.lib, libController.a, libCppController.dll, CppController.lib, libCppController.a

##### Nocturnal Warfare 12/12/2019 07:50:41
I think it notified me that some files were not deleted but i ignored it. sorry ðŸ™‚

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 07:50:14
I'm trying to understand why the uninstaller didn't work correctly, and sometimes the directories are not deleted if the files have beed modified

##### Nocturnal Warfare 12/12/2019 07:49:40
weird it still cannot find that \_controller, the lib folder only has controller.py, vehicle.py and \_controller.pyd, vehicle.pyd fyi. I assume the \_controller its looking for is a .py not a .pyd correct?


i mean what do you mean by touch? like modify? because i have been adding that folder to the VS code workspace and idk exactly what that does

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 07:47:17
ok, thank you

##### Nocturnal Warfare 12/12/2019 07:47:11
no

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 07:46:50
just for info did you touch any file in the `<webots>\lib` folder?

##### Nocturnal Warfare 12/12/2019 07:46:36
yeah it look like it was a leftover from the previous install, new install only has the controller folder,


i will try reinstalling again and make sure to delete the folder before install of 2020a

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 07:42:59
could you please try to manually uninstall Webots before installing R2020a?

##### Nocturnal Warfare 12/12/2019 07:42:17
oh ok

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 07:42:11
the Webots\lib\python* folder should not exist

##### Nocturnal Warfare 12/12/2019 07:42:10
or just in the lib\controller\python37?


should all 6 be in both locations?

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 07:41:41
Ok, thank you. I will check but this seems an error of the installer

##### Nocturnal Warfare 12/12/2019 07:41:02
`C:\Program Files\Webots\lib\python37` The first has both controller.py, vehicle.py and \_controller.pyd, vehicle.pyd while the latter only has the \_controller.py and vehicle.py


ok i figured as much thank you anyway

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 07:35:14
The controller need the Webots libraries to run so you should link to them on all the machines. You can set other environmental variables on your system to make it more generic (for example using a variable fot the Webots installation directory) but other than this I don't see any other things that could not be hard coded

##### Nocturnal Warfare 12/12/2019 07:31:28
BTW its still not finding the \_controller file, failing with the same error


like to get my controller to run externally i have to create PYTHONPATH variables that tell the program to look in a certain directory shown below:

`PYTHONPATH = C:\Program Files\Webots\lib\controller\python37; C:\Program Files\Webots\msys64\mingw64\bin; C:\Program Files\Webots\lib\python37;`

But I was wondering if there is a more generic way to do that if I want to run this code on multiple computers where that path isnt necessarily valid, so I was wondering if there is any way to get the Webots Directory dynamically versus having it hard coded

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 07:27:45
`@nap` Hi


`@Nocturnal Warfare` what do you mean exactly?

##### nap 12/12/2019 07:22:13
`@Stefania Pedrazzi` hello.

##### Nocturnal Warfare 12/12/2019 07:21:54
is there a way to dynamically get the webots install directory, for the purposes of environment variables and transferring between computers?

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 07:20:16
Yes, but the Windows installer should do it automatically.

##### Nocturnal Warfare 12/12/2019 07:19:48
do i have to uninstall 2019b first?


sweet thank you ill give that a try

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 07:19:23
We are about to release it (probably next week)


[https://github.com/cyberbotics/webots/releases/tag/nightly\_11\_12\_2019](https://github.com/cyberbotics/webots/releases/tag/nightly_11_12_2019)


yes, but there are some libraries missing in the Windows package. You should try to use the nightly build of R2020a

##### Nocturnal Warfare 12/12/2019 07:19:04
when will that fixed be pushed to the live release?


I am simply trying to do external controller creation in VS Code that allows me to start simulation from the editor

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 07:17:18
ok, this is probably due to a bug that we fixed recently: [https://github.com/cyberbotics/webots/pull/1131](https://github.com/cyberbotics/webots/pull/1131)

##### Nocturnal Warfare 12/12/2019 07:16:40
yes

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 07:16:34
yes, sorry, R2019b . And on which platform? Windows?

##### Nocturnal Warfare 12/12/2019 07:16:13
2019b? yes i just did a fresh install which fixed my previous issue of that \_controller.pyd and \_vehicle.pyd not even existing which cause the controller to not run at all

##### Stefania Pedrazzi [cyberbotics] 12/12/2019 07:15:24
`@Nocturnal Warfare` are you using Webots R2010b revision 1?

##### Nocturnal Warfare 12/12/2019 07:14:30
anyone have any ideas why it cant find \_controller but has no issues finding controller since both are in the same folder?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/654578665182724096/unknown.png)
%end


this is so annoying, it saying it cant find \_controller.py now, even though it literally in the same directory of controller.py, which is what is calling for the import of \_controller

##### nap 12/12/2019 06:58:49
brb


Yes, that aspect is much easier to manage in Linux/Macos.

##### Nocturnal Warfare 12/12/2019 06:57:22
yeah im currently on windows, trying to mess with the environment variables in order to make VS code see the necessary modules

##### nap 12/12/2019 06:56:36
I haven't used Windows for any coding in a while.


In linux I use CodeBlocks for the controllers and was able to build directly from the C::B IDE.  On MacOS, which I'm on right now, unfortunately there is no working C::B available, so I normally use Xcode (which I hate).


Since there have been some substantial API changes, I decided that I would get my controller working first, then worry about CLI building.


I'm migrating my project from Webots7 to the current OS one.


I'm currently using the built in editor because the the build fails from the command line.

##### Nocturnal Warfare 12/12/2019 06:52:39
nice

##### nap 12/12/2019 06:52:30
Success here too.  Needed "camera" instead of "Camera".  lol

##### Nocturnal Warfare 12/12/2019 06:52:13
have you had any luck setting up an external controller through something other than the built in editor like Visual Studio Code?


hey it works, like if i just do 
```leftMotor = Motor('left wheel motor')
rightMotor = Motor('right wheel motor')` instead of `#leftMotor = robot.getMotor('left wheel motor')
\#rightMotor = robot.getMotor('right wheel motor')
``` it works fine


no i can manipulate the functions associated with them, just the code does not autofill when i put a '.' for instance, where when i do the same with the robot, it does

##### nap 12/12/2019 06:38:20
and for the encoders, if you're using them, use "left wheel sensor", "right wheel sensor"


try "left wheel motor"  and "right wheel motor"


Yes it does have a cam defined in its proto:  DEF EPUCK\_CAMERA Camera

##### Nocturnal Warfare 12/12/2019 06:36:23
so im messing around with the motors now, when you make a robot object, and then try to get robot.getMotor('left motor') or whatever the name of the motor is on the robot, it doesnt seem to return as a motor object, at least visual studio code and pycharm are recognizing it as a motor. on the other hand, both of those editors recognize robot properly and have code filling for its respective functions, do you have any idea why that is? should i make a motor object on its own in the code?

##### nap 12/12/2019 06:33:28
Thanks.  I had a look, but it's not an E-Puck (whose PROTO is very different).

The Robot in that example has a Camera Node, but the E-Puck doesn't (but I'm going to check the default proto to see if it is there).

##### Nocturnal Warfare 12/12/2019 06:25:17
Help --> Webots Guided Tour --> Devices Tour --> camera.wbt


have u checked out the guided tour for the camera?

##### nap 12/12/2019 06:23:53
Can someone recommend a C++ example that uses an Epuck with its camera please?

##### Nocturnal Warfare 12/12/2019 06:21:39
it looks like i was missing \_controller.pyd and \_vehicle.pyd files

##### nap 12/12/2019 06:21:32
nice

##### Nocturnal Warfare 12/12/2019 06:21:22
lol it seems to have fixed it

##### nap 12/12/2019 06:21:01
have fun ðŸ˜‰

##### Nocturnal Warfare 12/12/2019 06:20:43
im going to reinstall webots and see if that fixes anything

##### nap 12/12/2019 06:13:59
Usually you should export the path to webots.

[https://cyberbotics.com/doc/guide/compiling-controllers-in-a-terminal](https://cyberbotics.com/doc/guide/compiling-controllers-in-a-terminal)

##### Nocturnal Warfare 12/12/2019 06:11:09
no, what environment variables do i have to set?

##### nap 12/12/2019 06:10:29
Yes, doing C bindings.  I don't program much in Python, but from the 'null bytes' message, maybe the C controller isn't being found?  Have you set the necessary environment variables?

##### Nocturnal Warfare 12/12/2019 06:08:51
im guessing that the \_controller is the C controller module


line 3 is just the import in the controller:

`from controller import Robot, Motor, Camera`

line 15 is from the Python API files, so line 15 of the controller.py imports \_controller:

```# Import the low-level C/C++ module
if __package__ or "." in __name__:
    from . import _controller
else:
    import \_controller
```

##### nap 12/12/2019 06:05:35
are you sure there should be an underscore in front of \_controller?


What are lines 3 and 15?

##### Nocturnal Warfare 12/12/2019 06:02:15
I am trying to go through the tutorials and I'm running into an issue with running my custom controller for the epuck, this is the error the console pops out:

```INFO: e-puck_go_forward: Starting controller: python.exe -u "e-puck_go_forward.py" 
[e-puck_go_forward] Traceback (most recent call last):
[e-puck_go_forward]   File "e-puck_go_forward.py", line 3, in <module>
[e-puck_go_forward]     from controller import Robot, Motor, Camera
[e-puck_go_forward]   File "C:\Program Files\Webots\lib\python37\controller.py", line 15, in <module>
[e-puck_go_forward]     import _controller
[e-puck_go_forward] ValueError: source code string cannot contain null bytes
WARNING: 'e-puck\_go\_forward' controller exited with status: 1.
```

Any ideas as to what is causing "ValueError: source code string cannot contain null bytes"

##### nap 12/12/2019 05:57:40
Please, and thanks.


The documentation about the E-Puck gives extensive details about how the camera works and what methods are available for use.  However, there is no code that shows how to actually use it.

Can anyone suggest a link to the right place in the documentation?


If I try to enable the cam using "myCam->enable(2 * TIME\_STEP);

my controller crashes.


I get an error "Warning: "Camera" device not found."


I'm having a little difficulty getting the E-Puck camera to work when using a C++ based controller.

I have included the library and defined a pointer as "Camera* myCam"

Later, when I initialise it using:

myCam = this->getCamera("Camera");

(Where 'this' is a subclass of Robot)

##### Mope 12/11/2019 21:57:01
[https://tenor.com/view/sad-blackish-anthony-anderson-tears-upset-gif-4988274](https://tenor.com/view/sad-blackish-anthony-anderson-tears-upset-gif-4988274)

##### Tahir [Moderator] 12/11/2019 20:26:23
[https://www.cyberbotics.com/doc/reference/worldinfo](https://www.cyberbotics.com/doc/reference/worldinfo)


[https://cyberbotics.com/doc/guide/controller-programming#the-step-and-wb\_robot\_step-functions](https://cyberbotics.com/doc/guide/controller-programming#the-step-and-wb_robot_step-functions)


Webots uses two different time steps:



The simulation step (specified in the Scene Tree: WorldInfo.basicTimeStep). It actually is the time which calculates the simulation step. i.e. physics if used. means it adavqances the simulation. On the other hand the control step (specified as an argument of the wb\_robot\_step function for each robot) is the time which controls the control loop it take cares of sensors and actuators

##### Mope 12/11/2019 20:15:50
Please can anyone help me with steps?


`@Tahir`


I would like to know how to use the step function correctly

##### Tahir [Moderator] 12/11/2019 19:46:36
`@Mope` Hello

Didn't got your query which type of assistance do you want?

##### Mope 12/11/2019 19:42:30
me with assistance*


(c language)


Hi, is anyone available to provide me with some basic functions?

##### webot123 12/11/2019 15:56:19
thats great thanks for your help

##### Fabien Rohrer [Moderator] 12/11/2019 15:53:39
typically: "const double *gps\_value = wb\_gps\_get\_values(my\_well\_declared\_gps);" just above your line.

##### webot123 12/11/2019 15:50:24
ok, thanks... what line of code do you recommend to declare that?

##### Fabien Rohrer [Moderator] 12/11/2019 15:49:45
this means that `gps_value` is not declared. It's a C programming issue.

##### webot123 12/11/2019 15:46:55
i am getting this warning when i build the code  GPS2.c:385:9: error: 'gps\_value' undeclared (first use in this function); did you mean 'ps0\_value'?

  385 |     if (gps\_value[0] < 1 && gps\_value[2] < 1){

##### Fabien Rohrer [Moderator] 12/11/2019 15:45:59
`@webot123` indeed, it seems far to work ðŸ˜‰ your if condition is triggered when the absolute x-axis of the position is below minus one meter. I don't know what you would like to do with this..

##### webot123 12/11/2019 15:39:13
but it doesnt seem to wokr


hi guys, i am trying to get my robot to respond to its GPS position in a world using an if command. what is the right code to us, i have tried          :

   wb\_gps\_get\_values(gps);

    if (gps\_value[0] < 1 && gps\_value[0] < -1){

##### Fabien Rohrer [Moderator] 12/11/2019 15:37:17
.. and pick what you would like from there.


- [https://cyberbotics.com/doc/guide/sample-webots-applications](https://cyberbotics.com/doc/guide/sample-webots-applications)


- [https://cyberbotics.com/doc/guide/robots](https://cyberbotics.com/doc/guide/robots)


You should certainly browse these pages:


We generally provide at least one example per robot and per device, it depends on your goals.

##### Mope 12/11/2019 15:33:41
`@Fabien Rohrer` Do you know where I can find some examples? I am struggling to fit this into my robot.

##### Fabien Rohrer [Moderator] 12/11/2019 15:20:21
You're welcome.

##### Mope 12/11/2019 15:20:06
Awesome, appreciate the help! I'm gonna try and get it working now!

##### Fabien Rohrer [Moderator] 12/11/2019 15:19:03
All of this is in "simulated time", it's the virtual time of the simulation (which can be slower or quicker than the real true time).


But very basically, when you call the wb\_robot\_step(period), the controller is blocked for the "period" time. The commands are sent to Webots. Then one or several physics steps can be executed in the meantime, for a "period" duration. And finally the sensor feedback is sent to the controller just before continuing its execution.

##### Mope 12/11/2019 15:17:03
Thank you, I am reading through it now.

##### Fabien Rohrer [Moderator] 12/11/2019 15:15:26
This page, and in particular this section explains this in details: [https://cyberbotics.com/doc/guide/controller-programming#the-step-and-wb\_robot\_step-functions](https://cyberbotics.com/doc/guide/controller-programming#the-step-and-wb_robot_step-functions)


Let me check, we have documentation for this...


Ok, great.

##### Mope 12/11/2019 15:14:08
I've done the tutorials. I do not find anything that relates to using steps. For example, I would like it to do a specific task but if something happens, do something else. Any help would be appreciated!

##### Fabien Rohrer [Moderator] 12/11/2019 15:13:49
`@aysegulucar` It looks like you cannot connect to the robot... Difficult to tell more.


`@Mope` Hi, I recommend you to start to do our tutorial; this will answer a lot of your questions, and come back here when it's done or if you're stuck ðŸ˜‰ [https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)

##### Mope 12/11/2019 15:09:54
Hi everyone, I am currently working on a robot. I would like to use steps to command the robot. How do I implement this into my code? I am using C. Thank you

##### Fabien Rohrer [Moderator] 12/11/2019 15:03:57
Please download the next release (this month) or the next `develop` nightly build (tomorrow) to test my patch: a feedback would be welcome.


`@chamandana` I found and fix the memory leak issue that I can reproduce from your simulation: [https://github.com/cyberbotics/webots/pull/1181](https://github.com/cyberbotics/webots/pull/1181)

##### aysegulucar 12/11/2019 14:59:58
why


Hi, when my controller transferring  to real robotis-op2 , I received the error "Unable to establish connection with the robot.

Connection error: server identity not verified". However it works at visual taking, that it is connected.

##### Fabien Rohrer [Moderator] 12/11/2019 14:38:50
I don't know how your controllers were working before. But a main() was always required.


I cannot explain this, it's not related with Webots.

##### nap 12/11/2019 14:37:26
Cheers.  All our controllers have used a run() method, but I just followed what some others had done.

##### Fabien Rohrer [Moderator] 12/11/2019 14:35:56
Mmmm. The controller is indeed a standalone executable linked with a shared library (libController) dialoging with Webots. So the main() method is used directly. But it has been always the case, and Webots never had a `run()` method.

##### nap 12/11/2019 14:04:13
`@Fabien Rohrer` : The old Webots 'run()' method is gone now, and the main() method is used directly instead of a sub-class.  So the controller is a standalone executable that links to webots.

Is this a correct interpretation?

##### Fabien Rohrer [Moderator] 12/11/2019 13:33:22
the 3d window should be selected to deal with the keyboard events. In this case the keyboard events are sent to every controllers. If only one robot is selected, then the keyboard events are only sent to the selected robot.


you're welcome ðŸ˜‰

##### juanrh 12/11/2019 13:31:29
thanks a lot Fabien!


yeah, it was that


no, let me try that

##### Fabien Rohrer [Moderator] 12/11/2019 13:29:05
Hi, do you select the robot in the 3D window before trying to use the keyboard?

##### juanrh 12/11/2019 13:28:13
I'm on Fedora 30 installed through snap. Any idea what is wrong here?


Hi, I'm trying to launch the python example [https://github.com/cyberbotics/webots/tree/revision/projects/languages/python](https://github.com/cyberbotics/webots/tree/revision/projects/languages/python) but the keyboard is ignored. I added `print("{} - Detected key [{}]".format(datetime.now(), k))` to see which key is detected, and it prints `-1` all the time, even when no key is pressed

##### nap 12/11/2019 12:01:57
looks perfect, and familiar too (from Webots6 & 7)

##### David Mansolino [cyberbotics] 12/11/2019 12:01:11
You're welcome

##### nap 12/11/2019 12:01:06
`@David Mansolino` oh, nice.  Thanks!

##### David Mansolino [cyberbotics] 12/11/2019 12:00:45
In that cass, I strongly recommend to check this tutorial: [https://cyberbotics.com/doc/guide/tutorial-4-more-about-controllers](https://cyberbotics.com/doc/guide/tutorial-4-more-about-controllers)

This tutorial shows how to control the e-puck robot in any language.

##### nap 12/11/2019 11:58:55
`@David Mansolino` : unfortunately they are all in C, but I'll take that approach as I recognised the naming convention.  I just need to work out the class hierarchy.

##### David Mansolino [cyberbotics] 12/11/2019 11:56:17
`@nap`, you should probably start from one of the controller provided within Webots and then change it step by step to integrate your controller inside.

##### nap 12/11/2019 11:49:23
My code builds, but nothing happens in the simulator, and once I enabled the LED and LightSensors on the robot, the controller crashes. ðŸ˜¦


`@Fabien Rohrer` : I'm having a little difficulty understanding how to transition from DifferentialWheels to the other classes;  two HingeJoint, RotationalMotor and PositionSensor nodes, but whilst still using the GCTronic e-puck.

##### chamandana 12/11/2019 11:37:38
`@Fabien Rohrer` okay ðŸ™‚

##### Fabien Rohrer [Moderator] 12/11/2019 11:22:48
`@nap` This seems to be correct: what disturbs you?


I will take a closer look at this.


`@chamandana`  I can indeed reproduce a huge memory request at the begining of your simulation, in Webots. ~100Mo per second. But it stabilized after a while at 3.0Go (which is big).

##### nap 12/11/2019 11:18:54
and that's what's generated the above XML that is in my .wbt file.


`@Fabien Rohrer` : Ok, that's what I've done.

##### Fabien Rohrer [Moderator] 12/11/2019 11:17:58
`@nap` This seems correct, just select the E-puck.proto from the "Add new node" dialog (as you suggest).

##### nap 12/11/2019 11:17:05
Sorry, I want to be able to see an e-puck robot in my simulation, without needing to create my own skins, etc.


And what do I select from within Webots when I use the "Add New -> PROTO nodes (Webots Projects)"?

##### chamandana 12/11/2019 11:15:44
`@Fabien Rohrer` In the above example (original version) i've sent there is no code running. It's just the world. Can you examine it and tell me what might be wrong please. thanks

##### Fabien Rohrer [Moderator] 12/11/2019 11:15:03
`@nap` Sorry, but I don't understnad. Could you clarify your question?

##### nap 12/11/2019 11:14:24
`@Fabien Rohrer` : What about the graphic representation?

##### Fabien Rohrer [Moderator] 12/11/2019 11:14:01
Is it worst in your simulation?


but it stabilized after a while...


`@chamandana` I just run some test on projects/samples/devices/worlds/emitter\_receiver.wbt. When running the example in real time, there is indeed a small memory leak of about 100k every 4 seconds. Could you confirm you have similar results?

##### chamandana 12/11/2019 11:09:22
`@Fabien Rohrer` I've run my project without any code (controllers) and the RAM usage still increases. Can you take a look at it please
> **Attachment**: [final.zip](https://cdn.discordapp.com/attachments/565154703139405824/654278552476319784/final.zip)


ðŸ˜¦


`@Fabien Rohrer` so, I've downloaded Webots 2020a, but the RAM usage is still going up

##### Fabien Rohrer [Moderator] 12/11/2019 11:02:46
This is the good way to include the e-puck.

##### nap 12/11/2019 10:55:49
And that instead I should define the PROTO structure using the above example? (Which looks to me to have 3 (or 4 if you robots if you count the supervisor).


My world .wbt file includes a reference to an e-puck proto as follows:



E-puck {

  translation -0.165 0 0.83

  controller "epuckwhiteboard"

  groundSensorsSlot [

    E-puckGroundSensors {

    }

  ]

}



Are you saying I should not use the e-puck in this way?

##### Fabien Rohrer [Moderator] 12/11/2019 10:44:43
[https://github.com/cyberbotics/webots/blob/revision/projects/languages/cpp/worlds/example.wbt](https://github.com/cyberbotics/webots/blob/revision/projects/languages/cpp/worlds/example.wbt)


You should rather take a look at other differential wheels robots, typically this example:


This is a complex robot window, moreover it's deprecated. This is not a good example for you ðŸ˜¦

##### nap 12/11/2019 10:42:16
But, I might be lucky...  I found some 'botstudio' thing for the e-puck.  It's in C++.  Could you shed some light on what this does?  Its located at:

/Applications/Webots.app/projects/robots/gctronic/e-puck/plugins/robot\_windows/botstudio/e-puck


Ic.  I did notice a number of items relating to cross-compiling.

##### Fabien Rohrer [Moderator] 12/11/2019 10:39:12
Not in my knowledge, the reason is that the e-puck is very related to C (originally at least), because to be able to cross-compile code on it.

##### nap 12/11/2019 10:37:58
Would you know of any sample C++ code for an e-puck?  All the examples in Webots seem to be either in C or use bsg files.

##### Fabien Rohrer [Moderator] 12/11/2019 10:33:46
That sounds good, good luck with this ðŸ‘ðŸ»

##### nap 12/11/2019 10:32:57
`@Fabien Rohrer` : Ok, I've found the DifferentialWheels material in the documentation.  Thanks.  I'll fix up my controller, and then I'll come back to the CLI building problem.

##### Fabien Rohrer [Moderator] 12/11/2019 10:20:03
The e-puck proto model contains already this modification, but you need to modify your controller accordingly.


You need to use the Robot node instead, and 2 motorized HingeJoints


DifferentialWheel node has been dropped.


Normally we have a very good backward compatibility, but for sure, time to time, we need to break things.

##### nap 12/11/2019 10:17:55
`@Fabien Rohrer` : There are a few things that have changed.

##### Fabien Rohrer [Moderator] 12/11/2019 10:17:52
>>> Deprecated the DifferentialWheels node. Please use the Robot node instead with two HingeJoint, RotationalMotor and PositionSensor nodes.


Here is the change log: [https://cyberbotics.com/doc/reference/changelog-r2018](https://cyberbotics.com/doc/reference/changelog-r2018)

##### nap 12/11/2019 10:16:13
`@Fabien Rohrer` ic, thought something like that might be going on.  Are you across any documents that explain the changes?

##### Fabien Rohrer [Moderator] 12/11/2019 10:16:05
Since R2018a


We deprecated DifferentialWheels node, it does not work as before.

##### nap 12/11/2019 10:15:18
`@Fabien Rohrer` : So I ran the controller, but unfortunately I'm now getting another error during the simulation run:



[epuck-meander] Error: ignoring illegal call to wb\_differential\_wheels\_set\_speed() in a 'Robot' controller.

[epuck-meander] Error: this function can only be used in a 'DifferentialWheels' controller.

[epuck-meander] Error: ignoring illegal call to wb\_differential\_wheels\_set\_speed() in a 'Robot' controller.

[epuck-meander] Error: this function can only be used in a 'DifferentialWheels' controller.

##### Fabien Rohrer [Moderator] 12/11/2019 10:14:49
Oh I undestand what's going on.

##### nap 12/11/2019 10:12:58
`@Fabien Rohrer` : Ok, I added: #include "<webots/DistanceSensor.hpp>", and it's built.  So I'm wondering if there is some sort of migration guide as I have other more complicated projects.


`@Fabien Rohrer` : As a reference, the code is in my repository on github @ [https://github.com/Napoleon-BlownApart/IdempotentPlanningProtocol/tree/master/webots/controllers/epuckMeanderLinesByGSM](https://github.com/Napoleon-BlownApart/IdempotentPlanningProtocol/tree/master/webots/controllers/epuckMeanderLinesByGSM)


`@Fabien Rohrer` : Yes, both includes are in the cpp file.


Yes, both of those includes are in the cpp file.


`@Fabien Rohrer` : Now it's working with the original code, using xcrun to retrieve the path.  That is really strange!!

##### Fabien Rohrer [Moderator] 12/11/2019 09:57:25
MACOSX\_SDK\_PATH should be defined correctly, otherwise it is for sure not working later...


Are you sure that "#include <webots/DifferentialWheels.hpp>" is included in "epuckMeanderLinesByGSM\_Behaviour.cpp"? This is a typical build error occuring when the class definition is not found.

##### nap 12/11/2019 09:56:07
`@Fabien Rohrer` :  lol.  With them removed, I've moved on to another error in the Makefile, but this is not something like the above.


(My Q)

In W7 (using C++), I was able to include:

  #include <webots/Robot.hpp>

  #include <webots/DifferentialWheels.hpp>

in my controller and then be able to use the various sensors.

Now I'm getting an error:

  *epuckMeanderLinesByGSM\_Behaviour.cpp:121:14: error: member access into incomplete type 'webots::DistanceSensor'*

So it seems that I need to change which headers I include.

I'm wondering if this information can be found anywhere?  Something that summarises how things have changed?

##### Fabien Rohrer [Moderator] 12/11/2019 09:54:23
you're welcome to post an issue, or even better, to create a pull request ðŸ˜‰ => however I think this is correct.

##### nap 12/11/2019 09:52:06
There is a error in 76.  The "$(" in front of the *wildcard* command, and its trailing parenthesis, need to be removed.

I can post it as an issue on github if you like.

##### Fabien Rohrer [Moderator] 12/11/2019 09:49:26
Ok, please ask your questions ðŸ˜‰


yes, the `xcrun` is executed by bash, it returns a path, and it's existence is checked by the wildcard Makefile function. This should work, you're the first user who is annoyed by this line.

##### nap 12/11/2019 09:47:37
But I have another question at the moment, because it seems I can build inside Webots itself.  So, whilst I really need to be able to build from the terminal later, I am trying to get my old E-Puck Controller going first.


Oh, but the way the line is coded, it's being interpreted as a bash command.

##### Fabien Rohrer [Moderator] 12/11/2019 09:45:54
`@nap` The wildcard is simply a way to check that the file exists in the Makefile syntax.

##### nap 12/11/2019 09:42:48
`@Fabien Rohrer` : BTW, I like the way the 'pinned' messages have been utilised.  Good feedback.


`@Fabien Rohrer` : lol, it's still giving the same error after I replaced the assignment with  a static path.

There is something wrong in line 76::   ifeq ($(wildcard $(MACOSX\_SDK\_PATH)),)

The  MACOSX\_SDK\_PATH variable has the correct path (including the extension).



I've had a quick check to see what 'wildcard' does, but haven't found anything yet.  So I have no idea what its purpose is,

##### chamandana 12/11/2019 09:17:08
ðŸ‘

##### Fabien Rohrer [Moderator] 12/11/2019 09:16:49
I think you should switch to R2020 ðŸ˜‰

##### chamandana 12/11/2019 09:15:58
gif is fast forwarded


but why does kinect.exe, kbotr.exe, and kbotb.exe not take that much RAM
%figure
![as.gif](https://cdn.discordapp.com/attachments/565154703139405824/654249935163752449/as.gif)
%end


okay will do.

##### Fabien Rohrer [Moderator] 12/11/2019 09:07:26
This may cause the memory leak too. But I would recommend you to switch to Webots R2020a as soon as we release, because we improved the memory usage of Webots (the "develop" nightly builds are already solving this).

##### chamandana 12/11/2019 09:04:00
oh, Thanks you for looking into it !!! ðŸ˜˜ðŸ˜˜

##### Fabien Rohrer [Moderator] 12/11/2019 09:03:48
[https://github.com/cyberbotics/webots/pull/1177](https://github.com/cyberbotics/webots/pull/1177)


This is a cryptic message from our API, I will solve this in the next release:


> while (wb\_receiver\_get\_queue\_length(receiver) > 0) {

>     const char *buffer = wb\_receiver\_get\_data(receiver);

>     // Do something with the buffer.

>   }


So you should modify your controller like this:


It is required to call wb\_receiver\_get\_queue\_length() before wb\_receiver\_get\_data(), but the warning in case this is not fulfilled is cryptic: invalid device tag.

##### chamandana 12/11/2019 09:00:14
what is it? ðŸ˜‹

##### Fabien Rohrer [Moderator] 12/11/2019 08:58:45
Good news first, I found the issue with your receiver ðŸ™‚


`@chamandana` Hi

##### chamandana 12/11/2019 08:54:13
ðŸ˜¦


Hey `@Fabien Rohrer`. couldn't figure out a way to reduce the memory usage. It increases 30mbps
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/654244473576095744/unknown.png)
%end

##### Fabien Rohrer [Moderator] 12/11/2019 08:03:18
ðŸ˜„


I'll be there.


no problems, see you later.

##### nap 12/11/2019 08:02:50
`@Fabien Rohrer` : I'm sorry but I have to step away for about an hour.  Will be back though.

##### Fabien Rohrer [Moderator] 12/11/2019 08:00:58
(replace lines 75 to 78)


> MACOSX\_SDK\_PATH = /Applications/Xcode10-2.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk


You should rather replace them like this:

##### nap 12/11/2019 07:59:58
I did do the export /Applications/Webots.app


`@Fabien Rohrer` :  I've already looked there and commented out the next 3 lines which give me the error.

##### Fabien Rohrer [Moderator] 12/11/2019 07:59:30
So it means that Webots runs in an environment where xcrun cannot be executed smoothly.


It's the exact  same `xcrun`  command I asked you to run.


The failure comes from this line: [https://github.com/cyberbotics/webots/blob/revision/resources/Makefile.os.include#L75](https://github.com/cyberbotics/webots/blob/revision/resources/Makefile.os.include#L75)

##### nap 12/11/2019 07:55:42
I have R2019b revision 1

##### Fabien Rohrer [Moderator] 12/11/2019 07:54:38
What version of Webots do you use?


Yes, I'm sure of this is setup correctly.

##### nap 12/11/2019 07:52:47
`@Fabien Rohrer` :

xcrun => /Applications/Xcode10-2.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk



I use Xcode all the time here, so it is setup and working.

##### Fabien Rohrer [Moderator] 12/11/2019 07:39:33
> xcode-select --install


You can also trigger manually the command line tool update by typing the following line in the terminal:


About the command line tools, sometimes after an XCode update, it is required to just launch XCode to update them. Could you try this?


Could you try to run it in a terminal?


> xcrun --sdk macosx --show-sdk-path


Webots is looking for the SDK with this command:


`@nap` About your issues with the macOS SDK...

##### Stefania Pedrazzi [cyberbotics] 12/11/2019 07:26:45
Here is the complete documentation: [https://github.com/cyberbotics/webots/blob/master/docs/README.md#run-the-doc-locally](https://github.com/cyberbotics/webots/blob/master/docs/README.md#run-the-doc-locally)


`@nap` you just have to change the URL

* http://localhost:8000/?book=reference&page=index for the Reference Manual

* http://localhost:8000/?book=guide&page=index for the User Guide

##### nap 12/11/2019 07:14:01
`@Stefania Pedrazzi` : Hi Stefania, thanks for the local documentation tip yesterday.  However, the command you showed me only generated the Reference Manual.  Is there a command to generate the User Guide?


hmmm, I'm now getting an odd error: 



make

\# compiling epuckMeanderLinesByGSM.cpp

c++: error: unrecognized command line option '-stdlib=libc++'                              <====

make: *** [build/release/epuckMeanderLinesByGSM.o] Error 1


Since I have two versions of Xcode installed, my Xcodes are called 10-1.app (v10.1) and 10-2.app (v10.2)

looks like I need to fiddle Makefile.os.include in my situation.


Running "xcode-select -p" gives "/Applications/Xcode10-2.app/Contents/Developer"


Hi, I have a small problem trying to compile my controller in a terminal using MacOS (Mojave).  I've exported the WEBOTS\_HOME variable, and when I run 'make', I get the following:

'/Applications/Webots/resources/Makefile.os.include:86: *** The Mac OS X SDK is not found. Please check that XCode and its command line tools are correctly installed..  Stop.'



Now, I definitely have Xcode installed and it's command line tools as I use them for other projects I'm doing at Uni.

Anyone know how to resolve this?

##### chamandana 12/10/2019 20:33:39
that's nice of you. thanks!

##### Fabien Rohrer [Moderator] 12/10/2019 20:33:05
I could test your controller, but only tomorrow. Come back here if youâ€™re still stuck!

##### chamandana 12/10/2019 20:32:44
yeah yeah.

##### Fabien Rohrer [Moderator] 12/10/2019 20:32:27
There is no garbage collection in C, you have to explicitly free the memory. ðŸ˜‰

##### chamandana 12/10/2019 20:30:45
thanks for replying anyway. ðŸ™‚


ooh, I just found out that the RAM usage is same as before (with and without using file I/O for Inter-process Communication). So, I could still use the file method. ðŸ™‚ but I should optimize it I think. I'm still learning C, don't know much about garbage collection.


yeah. It's above the step loop so It gets initialized first thing

##### Fabien Rohrer [Moderator] 12/10/2019 20:26:13
Are you sure that the receiver device is get before it is used? (Sorry I read this on my phone ðŸ˜…)

##### chamandana 12/10/2019 20:22:09
this is the code that makes my RAM fry :(, can you also point out which things may do so.


please take a look if you have time. ðŸ™‚


kinect is the emitter


kbotR is the receiver



> **Attachment**: [kinect\_controller.c](https://cdn.discordapp.com/attachments/565154703139405824/654054303610175500/kinect_controller.c)



> **Attachment**: [kbotR\_controller.c](https://cdn.discordapp.com/attachments/565154703139405824/654054258324406274/kbotR_controller.c)

##### Fabien Rohrer [Moderator] 12/10/2019 20:17:33
Please send your entire controller ðŸ˜… you can drag/drop it here.

##### chamandana 12/10/2019 20:17:05
yeah, I haven't used receiver for anything else

##### Fabien Rohrer [Moderator] 12/10/2019 20:16:40
Are you sure you donâ€™t override somehow the receiver variable?

##### chamandana 12/10/2019 20:16:09
this is the emitter code
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/654053765447417868/unknown.png)
%end



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/654053701161320448/unknown.png)
%end


wait a sec

##### Fabien Rohrer [Moderator] 12/10/2019 20:14:33
The error appears on the wb\_receiver\_get\_data() function. Could you show this part of your code?

##### chamandana 12/10/2019 20:14:22
Can you remind me of any of those stupid things that could go wrong


yeah It should be

##### Fabien Rohrer [Moderator] 12/10/2019 20:13:27
(This is certainly a stupid mistake, This mechanism cannot be buggy in Webots, every controller uses this!)

##### chamandana 12/10/2019 20:12:55
I'm working on the same controller



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/654052869737152542/unknown.png)
%end

##### Fabien Rohrer [Moderator] 12/10/2019 20:12:17
Are you sure the invalid device tag comes from this call? Are you sure that the right controller is running?

##### chamandana 12/10/2019 20:10:38
yet it matches ðŸ˜¥

##### Fabien Rohrer [Moderator] 12/10/2019 20:10:37
This should work.

##### chamandana 12/10/2019 20:10:08

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/654052251371044894/unknown.png)
%end



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/654052237215137794/unknown.png)
%end

##### Fabien Rohrer [Moderator] 12/10/2019 20:09:30
About the invalid device tag, this generally occurs when the device name does not match between the model and the controller.


About the arm, you should inspire yourself from the youbot demo controller.

##### chamandana 12/10/2019 20:05:55
ðŸ˜¦


as I've asked before when using the receiver it always says invalid device tag


hey, how does the moving of kuka youbot's gripper work? It moves even after I set the arm\_ik(x,y,z)


Ok i'm gonna try to implement emmitter receiver again. thanks

##### Fabien Rohrer [Moderator] 12/10/2019 18:36:13
Difficult to tell without looking at your code.. why not using the Emitter and Receiver nodes to communicate between your controllers?

##### chamandana 12/10/2019 17:35:32
shouldn't it only be HDD usage?


`@Fabien Rohrer` hey, I'm using I/O (a file) to simulate data transfer between two controllers. Might that be the reason of excessive RAM usage

##### David Mansolino [cyberbotics] 12/10/2019 16:45:58
You're welcome

##### Uncle Ducky 12/10/2019 16:45:09
Ok thanks David

##### lgrobots 12/10/2019 16:31:26
perfect, thank you for your help

##### Fabien Rohrer [Moderator] 12/10/2019 16:31:11
[https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)


yes, we recently migrate to this page:

##### lgrobots 12/10/2019 16:28:53
Hi I need to download webots on a new computer and it seems like your download page is giving a 404 error

##### David Mansolino [cyberbotics] 12/10/2019 16:25:30
Hi `@Uncle Ducky` Webots doesn't provide such example, however you might either use Radar ([https://cyberbotics.com/doc/reference/radar?tab-language=c](https://cyberbotics.com/doc/reference/radar?tab-language=c)) or smart camera ([https://cyberbotics.com/doc/reference/camera?tab-language=c#wb\_camera\_recognition\_get\_objects](https://cyberbotics.com/doc/reference/camera?tab-language=c#wb_camera_recognition_get_objects)) to detect position of objects relative to the robot and them move toward it.

##### Fabien Rohrer [Moderator] 12/10/2019 16:24:55
`@chamandana` It's more a programming issue than Webots issue. No Webots is not providing such tool, but your programming language does. You should debug it.

##### Uncle Ducky 12/10/2019 16:21:32
Does anyone know a sample world where a robot will move towards a specified object once it has been recognised?

##### chamandana 12/10/2019 15:35:30
I know it should be my fault, but is there in Webots or the API that can be used to collect garbage


I wondered why webots crashing after few seconds of simulation execution. It was actually reaching 100% memory usage


Can anyone give me any tips to reduce memory usage.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/653982805100986388/unknown.png)
%end

##### Fabien Rohrer [Moderator] 12/10/2019 14:25:44
You're welcome ðŸ˜‰

##### Uncle Ducky 12/10/2019 14:17:25
Ok thank you!

##### Fabien Rohrer [Moderator] 12/10/2019 14:16:50
minus z-axis is the direction of the camera, the y-axis should point to the top.


Just select the Camera node in the scene tree, a rotational gizmo should appear in the 3D view. You could rotate the camera using this gizmo.

##### Uncle Ducky 12/10/2019 14:15:40
hi

##### Fabien Rohrer [Moderator] 12/10/2019 14:15:24
`@Uncle Ducky` Hi.

##### Uncle Ducky 12/10/2019 14:14:48
hey guys, I have a differential robot but the camera is facing the rear. How do I make it face the front? Thanks, peace

##### Hayden Woodger 12/10/2019 12:45:46
`@Fabien Rohrer` Thanks, i've just seen your reply. Much appreciated.

##### Gautier A. 12/10/2019 12:16:44
`@Fabien Rohrer`  Thank you a lot ! It works now ! It was indeed a problem because the object was instanciated through the supervisor at the "orign point", which might have posed problems with ODE

##### Fabien Rohrer [Moderator] 12/10/2019 10:50:46
`@nap` thank you for the advise. The Webots documentation is a "hand-made" system, based on GitHub and Markdown. Inspiring a search system on the Doxygen one is definitively a good idea.

##### nap 12/10/2019 10:47:11
`@Fabien Rohrer` : For a search function, you may wish to look at how Doxygen does it when it builds a html based site.

##### Stefania Pedrazzi [cyberbotics] 12/10/2019 10:29:38
`@nap` if you run the simple http server from a Webots installation folder (installed from any package) it should work out of the box. From the Git repo you first need to run `python local_exporter.py` in the `<WEBOTS>/docs` folder

##### nap 12/10/2019 10:26:26
`@Stefania Pedrazzi` :  I've cloned the repo, run the simple http server and browsed the url you gave.  However, I'm not getting anything useful.  It appears to me that I need to build the documentation using something like Doxygen, first?


`@Fabien Rohrer` : Yes, I'm using a RectangleArena (and its default proto) with FloorAppearance and WallAppearance stanzas that have the PBR code.

##### Fabien Rohrer [Moderator] 12/10/2019 10:24:45
`@Gautier A.` About the supervisor instantiation, why not directly set the translation/rotation when calling the import function? It seems simpler and more robust. (Do you understand what I'm speaking about?)


`@Gautier A.` Ok, the axis seems indeed to be correct. So the next step is to dig into the Connector fields.


`@nap` thank you for the feedback, I also advise you to use our PROTO to manage floors and walls, typically the RectangleArena PROTO: [https://www.cyberbotics.com/doc/guide/object-floors#rectanglearena](https://www.cyberbotics.com/doc/guide/object-floors#rectanglearena) It is simple to set, and more robust on long term.

##### nap 12/10/2019 10:19:33
`@Fabien Rohrer` : Thanks for the help on converting.  My texture issue is resolved to my satisfaction.  (There are more settings in the PBR than I want to mess with right now.)  I also did the same for the floor and walls. (Though I need to work out the exact mapping of the walls because my Uni Logo isn't showing in the right place.)

##### Stefania Pedrazzi [cyberbotics] 12/10/2019 10:19:16
here are some specific instructions for the snap package in case: [https://www.cyberbotics.com/doc/guide/installation-procedure?version=develop&tab-os=windows#installing-the-snap-package](https://www.cyberbotics.com/doc/guide/installation-procedure?version=develop&tab-os=windows#installing-the-snap-package)

##### Dorteel 12/10/2019 10:19:13
Thank you very much `@Fabien Rohrer` for your help and patience, we'll try that!

##### Fabien Rohrer [Moderator] 12/10/2019 10:16:52
`@Dorteel` Ok, I think I see the issue. When is installing from the Ubuntu store (aka snap), it runs with restricted privileges, this may cause issues to detect external Python binaries. You could either uninstall Webots and reinstall it from the tar.bz2 package (cf. [https://github.com/cyberbotics/webots/releases](https://github.com/cyberbotics/webots/releases)) or use external controllers mechanism which should prevent this limitation (cf. [https://www.cyberbotics.com/doc/guide/running-extern-robot-controllers](https://www.cyberbotics.com/doc/guide/running-extern-robot-controllers))

##### Gautier A. 12/10/2019 10:12:33
Also, its not really visible but it's a supervisor that instanciate the tiles and, after instanciating them, move them to the correct coordiante and orientation. The "connectors" works when it's placed and locked manually before the simulation begins, but the "problem" is when we use the supervisor to instanciate the proto of the object with the connector.


`@Fabien Rohrer`  I think the axis are "correct". I delted the shape of the connector and just have the "connector" in the Tree object to show only its coordinate system
%figure
![test_supervisor_tile_container_2.png](https://cdn.discordapp.com/attachments/565154703139405824/653901392230088714/test_supervisor_tile_container_2.png)
%end

##### Dorteel 12/10/2019 10:07:25
R2019b revision 1


installed through the Ubuntu software store


Distributor ID:    Ubuntu

Description:    Ubuntu 16.04.6 LTS

Release:    16.04

Codename:    xenial

##### Fabien Rohrer [Moderator] 12/10/2019 10:05:01
How did you installed Webots? From snap? Which version? What is your OS?


it's the case. Webots uses first the shebang, and then the "Webots Preferences / General / Python command" preference to locate the Python binary.

##### Dorteel 12/10/2019 10:02:12
but I thought if I define this python for WeBots on the shebang line, then that's what WeBots will use

##### Fabien Rohrer [Moderator] 12/10/2019 10:01:59
Webots fails to run this python binary (WARNING: command not found).

##### Dorteel 12/10/2019 10:00:03
It says Python 3.5.2

##### Fabien Rohrer [Moderator] 12/10/2019 09:58:13
>>> 

/home/robotlab/r762/bin/ROB762/bin/python3 --version


Could you try the following command?


and Webots fails to run it because of a version mismatch.


>>> /home/robotlab/r762/bin/ROB762/bin/python3


It seems your environement tries to run another Python:


>>> Repost of your issue
%figure
![dorteel.png](https://cdn.discordapp.com/attachments/565154703139405824/653897717524725760/dorteel.png)
%end

##### Dorteel 12/10/2019 09:54:07
Thanks for the quick answer. I get "lrwxrwxrwx 1 root root 9 Mar 19  2019 /usr/bin/python3 -> python3.5*"

##### Fabien Rohrer [Moderator] 12/10/2019 09:51:50
>>> ls -lF $(which python3)


>>> ls -lF $(which python)


Could you give me the path to your Python binary?

##### Dorteel 12/10/2019 09:36:42
Thank you `@Fabien Rohrer` , unfortunately I don't know much about modifying the PATH, it's a desktop from the university that we got the error on, it works perfectly on my own computer. From what I could read online, I tried exporting the virtual environment's path to PYTHONPATH, but that didn't solve it.

##### Stefania Pedrazzi [cyberbotics] 12/10/2019 09:32:27
for the reference manual the URL is `http://localhost:8000/?book=reference&page=index`


you should simply start a python HTTP server:

1. go to the `<WEBOTS>/docs` folder

2. start the python HTTP server: `python -m SimpleHTTPServer`

3. then from your browser open `localhost:8000` and you should get the documentation


yes, it works from the Webots package too, I just checked


I'm not sure that this works with the released Webots package too


`@nap` if you clone the Webots github repository you should be able to run the documention on your browser offline

##### Fabien Rohrer [Moderator] 12/10/2019 09:25:31
I understand this, this is an interesting missing feature, I will keep it in mind.

##### nap 12/10/2019 09:24:43
True, but then I have the latency accessing the web.

##### Fabien Rohrer [Moderator] 12/10/2019 09:24:10
To be honest, googling our doc is very powerful, we are well referenced: "webots lidar", "webots using python", etc.


Unfortunately no.

##### nap 12/10/2019 09:21:30
`@Fabien Rohrer` : Ok, I'll do that.

Another question:  Is there a search function in the Off-line User Manual?

##### Fabien Rohrer [Moderator] 12/10/2019 09:20:27
About the TexturedBackground node, I recommend you to add one, it would increase A LOT the rendering quality of your simulation.


Ok, it seems that the only problematic point is the Appearance node then, if you follow the instructions above, the migration would work smoothly.

##### nap 12/10/2019 09:18:52
So, no TexturedBackground.  But let me go through the rest and see if it works.


I'm only using a .wbt for this, and in its XML, I have the following the solid I'm going to fix first:

Solid {

  translation 0 0.025 0.82

  children [

    DEF Static\_Obstacle Shape {

      appearance Appearance {

        texture ImageTexture {

          url [

            "textures/do\_not\_enter.png"

          ]

        }

      }

      geometry Box {

        size 0.05 0.05 0.05

      }

    }

  ]

  name "fixed01"

  boundingObject USE Static\_Obstacle

}


`@Fabien Rohrer` : Thanks!!  I'll do that now and see how I go.

##### Fabien Rohrer [Moderator] 12/10/2019 09:13:25
Let us know if you encounter issues during your migration ðŸ™‚


>>> PBRAppearance {

  roughness 1

  metalness 0

  baseColorMap ImageTexture {

    url "path/to/your/texture.jpg"

  }

}


For the textures in particular, you should use this PBRAppearance template:


3. An iteration on the light fields is also often required.


2. Replace every Appearance node by the PBRAppearance node, and update their fields: [https://cyberbotics.com/doc/reference/pbrappearance](https://cyberbotics.com/doc/reference/pbrappearance)


1. Remove the Background node and replace it by a TexturedBackground instance.


You should change the following in your .wbt and .protos files:


`@nap` Between Webots 7 and R2019b, we changed our rendering engine and introduced PBR, HDR backgrounds etc.


`@nap` Good choice ðŸ˜‰


`@Gautier A.` I'm contacting you with a private message, we have things to discuss ðŸ˜‰


`@Gautier A.` Could it be that the Connector are badly oriented? Normally, it's z-axis forwards, y-axis upwards.

##### nap 12/10/2019 09:03:15
Hi everyone

I have a project from Webots 7 that I'm migrating into Webots 2019b r1.

I have a number of 'Solid' objects which have a texture applied to them, but the rendered texture appears 'washed out' compared to the original texture.  Any tips on how to fix this please?

##### Fabien Rohrer [Moderator] 12/10/2019 09:02:47
`@Gautier A.` Hi Gautier

##### Gautier A. 12/10/2019 09:02:12
And here is a video when the connector doesn't try to "lock": [https://youtu.be/iCPuJ1ZjQm0](https://youtu.be/iCPuJ1ZjQm0)


[https://www.youtube.com/watch?v=ZP6e8Upyqhk&feature=youtu.be](https://www.youtube.com/watch?v=ZP6e8Upyqhk&feature=youtu.be)


Here is a video of the instanciation with the lock :


I have a little problem with webots, I have a little problem with Webots. When I instanciate a new proto thanks to the supervisor, and that this proto is "locked" by default to another connector, I run into "unexpected behaviors". It kind of "explode" ?


Hey everyone !

##### Fabien Rohrer [Moderator] 12/10/2019 07:57:17
`@Hayden Woodger` I confirm that the plugin is supposed to work with Blender 2.79. In Blender 2.80, the plugin API has changed, our source code should be updated. [https://github.com/cyberbotics/blender-webots-exporter/blob/master/\_\_init\_\_.py#L19](https://github.com/cyberbotics/blender-webots-exporter/blob/master/__init__.py#L19)

##### David Mansolino [cyberbotics] 12/10/2019 07:31:47
Hi `@Hayden Woodger` which version of blender are you using ?

##### Hayden Woodger 12/10/2019 00:33:48
Hi David, i've been trying all day to get the "webots\_exporter" plugin to work. Hopefully you can I help! Here's where i'm at...
%figure
![hmm.png](https://cdn.discordapp.com/attachments/565154703139405824/653756217218433054/hmm.png)
%end

##### David Mansolino [cyberbotics] 12/09/2019 16:24:00
You're welcome

##### lgrobots 12/09/2019 16:23:55
I will try that, thank you


oh i didnt realize that

##### David Mansolino [cyberbotics] 12/09/2019 16:23:25
Worse case you can remove it from the 'lib' folder (this will not prevent Webots from working as it is not used directly by Webots)

##### lgrobots 12/09/2019 16:22:52
Is there a way to override opencv2.4 used by webots?


yes I believe that is what I am doing but it is linking libopencv\_core.so.2.4 instead of libopencv\_core.so.3.2

##### David Mansolino [cyberbotics] 12/09/2019 16:20:19
Can't you link directly with libopencv\_highgui.so.3.2 ?

##### lgrobots 12/09/2019 16:19:46
this is my error:

/usr/bin/ld: warning: libopencv\_core.so.3.2, needed by /usr/lib/gcc/x86\_64-linux-gnu/7/../../../x86\_64-linux-gnu/libopencv\_highgui.so, 

may conflict with libopencv\_core.so.2.4

undefined reference to symbol '\_ZN2cv6String10deallocateEv'

##### David Mansolino [cyberbotics] 12/09/2019 16:19:46
That's indeed possible, we are currently improved the library hierarchy to avoid polluting the controller path with any external libraries (such as opencv).

##### lgrobots 12/09/2019 16:18:35
I have done that and it seems to be conflicting with opencv2.4 which is included in webots

##### David Mansolino [cyberbotics] 12/09/2019 16:17:36
You can add any external library by modifing your makefile, please see the doc for more information: [https://cyberbotics.com/doc/guide/using-webots-makefiles#adding-an-external-library-ccp](https://cyberbotics.com/doc/guide/using-webots-makefiles#adding-an-external-library-ccp)

##### lgrobots 12/09/2019 16:16:29
hello

##### David Mansolino [cyberbotics] 12/09/2019 16:16:24
Hi `@lgrobots`

##### lgrobots 12/09/2019 16:16:05
how can I link opencv3 when compiling with webots

##### chamandana 12/09/2019 15:00:12
okay, thank you for your time ðŸ˜„ I'll try that

##### Olivier Michel [cyberbotics] 12/09/2019 14:59:34
Otherwise, I would recommend you to try to run `webots/projects/samples/devices/worlds/distance_sensor.wbt` and edit the associated robot controller which works retrieving distance sensor values. Then, compare it with yours.

##### chamandana 12/09/2019 14:58:59
yeah. ðŸ˜„ it didn't help

##### Olivier Michel [cyberbotics] 12/09/2019 14:58:30
Can you try ? I would be surprised however if that helps.

##### chamandana 12/09/2019 14:57:55
what if I try remove #include range\_finder.h

##### Olivier Michel [cyberbotics] 12/09/2019 14:57:39
And that's probably the cause of your problem, not being able to retrieve distance sensor values.


You shouldn't.


So, I don't understand why you get these warnings...

##### chamandana 12/09/2019 14:56:39
yeah

##### Olivier Michel [cyberbotics] 12/09/2019 14:56:01
So, there may be something wrong in your code. Did you include properly `<webots/distance_sensor.h>`?

##### chamandana 12/09/2019 14:56:01
I get another error warning: implicit declaration of function 'wb\_distance\_sensor\_enable'; did you mean 'wb\_range\_finder\_enable'? [-Wimplicit-function-declaration]

##### Olivier Michel [cyberbotics] 12/09/2019 14:55:33
The warning you get looks wrong as `wb_distance_sensor_get_value` for sure returns a double value. See [https://cyberbotics.com/doc/reference/distancesensor#distancesensor-functions](https://cyberbotics.com/doc/reference/distancesensor#distancesensor-functions)

##### chamandana 12/09/2019 14:53:56
but I can't get it via code


`@Olivier Michel` here it shows fine
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/653610269213458443/unknown.png)
%end


it says they expected an int

##### Olivier Michel [cyberbotics] 12/09/2019 14:53:01
That may be normal. Is there any obstacle in front of the sensor?

##### chamandana 12/09/2019 14:52:58

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/653610044855943169/unknown.png)
%end


it returns 0.000 once %f is used

##### Stefania Pedrazzi [cyberbotics] 12/09/2019 14:52:24
`wb_distance_sensor_get_value` returns a double not an int => you should use `%f` in your printf

##### Olivier Michel [cyberbotics] 12/09/2019 14:52:18
OK, then it's not a problem with the name, but rather with the behavior of the sensor.

##### chamandana 12/09/2019 14:50:35

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/653609445859000341/unknown.png)
%end



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/653609409372749834/unknown.png)
%end


I'm not getting an error but it only gives out 1 as an ouput


i'll try

##### Olivier Michel [cyberbotics] 12/09/2019 14:45:24
Did you try to rename it to something different, like "ds" instead of "distance sensor"?

##### chamandana 12/09/2019 14:38:43
I can't get this device using wb\_robot\_get\_device("distance sensor"); Please help
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/653606461795991562/unknown.png)
%end

##### David Mansolino [cyberbotics] 12/09/2019 13:41:01
Hi, yes you can use the supervisor API to diplay shapes in the 3D scene

##### chamandana 12/09/2019 13:20:12
Hey, is there a way to debug measurements like I need to spawn a circle /line gizmo at a given position to see if the robot reached the actual location.

##### Stefania Pedrazzi [cyberbotics] 12/09/2019 12:23:53
you're welcome

##### Hayden Woodger 12/09/2019 12:23:41
thanks man


Awesome! Ill get cracking haha

##### Stefania Pedrazzi [cyberbotics] 12/09/2019 12:22:56
Yes, you just have to make sure that the model is exported in meters.

##### Hayden Woodger 12/09/2019 12:19:49
Thank you! I will use blender in future with this add-on. 

After you've exported to VRML from blender, will the model in Webots be accurate in dimensions?

##### Stefania Pedrazzi [cyberbotics] 12/09/2019 12:17:32
Hi `@Hayden Woodger`, yes to import your model or project (if not already developed with Webots) in Webots you have to export to VRML. The reason is that Webots format is an extension of VRML. But if you are using Blender, we provide a tool to export your Blender project directly to Webots format: [https://github.com/cyberbotics/blender-webots-exporter](https://github.com/cyberbotics/blender-webots-exporter)

##### Hayden Woodger 12/09/2019 11:49:03
Hi there, i can't seem to import any file types other than VRML97. I've read it's a very old format. Is this the best we can do?

##### JasonChen 12/09/2019 10:32:12
Ok, thanks.

##### Fabien Rohrer [Moderator] 12/09/2019 10:31:54
`@JasonChen` Just to notify you that the bug has been fixed by `@Stefania Pedrazzi` in the develop version of Webots, and will be a part of the next release (before the end of this year), and of the next "develop" nightly build (tomorrow): [https://github.com/cyberbotics/webots/pull/1157](https://github.com/cyberbotics/webots/pull/1157)


You could refer to this document to have general guidelines to setup your IDE: [https://www.cyberbotics.com/doc/guide/using-your-ide](https://www.cyberbotics.com/doc/guide/using-your-ide)


`@Nocturnal Warfare` Webots is compatible with any IDE, itâ€™s a matter to set it up correctly.

##### Nocturnal Warfare 12/09/2019 06:46:35
Has anyone been able to program controllers and run from visual studio code? I know that visual studio ide works for c and pycharm for python, but I was wondering if I could use vs code with python and webots

##### Fabien Rohrer [Moderator] 12/09/2019 05:58:12
`@Dorteel` you should dig into this question: why your python path (/home/...) is not found in the Webots environment? Did you modified PATH or so?

##### JasonChen 12/09/2019 05:57:40
I think Webots is really great. Wish you can make it better. ðŸ‘


hahaha, ok, no big deal. ðŸ¤£

##### Fabien Rohrer [Moderator] 12/09/2019 05:55:33
Thank you for your contribution, and sorry do not have understand this earlier: these 2 API functions are cryptic, even for me ðŸ˜…


`@JasonChen` here is the issue to track: [https://github.com/cyberbotics/webots/issues/1156](https://github.com/cyberbotics/webots/issues/1156)

##### JasonChen 12/09/2019 05:49:00
Thanks. Best wishes.

##### Fabien Rohrer [Moderator] 12/09/2019 05:48:37
Yes, this is definitely wrong I will open an issue ticket so that you could monitor the issue resolution, and will do my best to fix this on this morning.

##### JasonChen 12/09/2019 05:44:28
ok, thanks.

##### Fabien Rohrer [Moderator] 12/09/2019 05:44:13
Let me check.


Oh, I get the point, now. Sorry it seems indeed there is a mistake

##### JasonChen 12/09/2019 05:42:53
which is weird for the function "wb\_supervisor\_node\_get\_number\_of\_contact\_points(my\_solid)"


yes

##### Fabien Rohrer [Moderator] 12/09/2019 05:42:28
noderef and index?

##### JasonChen 12/09/2019 05:40:52
can you please have a check


`@Fabien Rohrer`


you see, you have only one parameter here.


I mean the wb\_supervisor\_node\_get\_number\_of\_contact\_points(my\_solid) has another parameter in matlab


no, no, no

##### Fabien Rohrer [Moderator] 12/09/2019 05:39:06
So the second parameter of wb\_supervisor\_node\_get\_contact\_point() is the polygon index. This function should be called several times until it returns NaN to get the polygon coordinates.


>>> for (int p=0; p < wb\_supervisor\_node\_get\_number\_of\_contact\_points(my\_solid); p++) { // foreach polygon

    const double *polygon\_points = wb\_supervisor\_node\_get\_contact\_point(my\_solid, p); // get the polygon coordinates

  printf(Â«Â polygon %d\nÂ Â»,  p);

  int c = 0;

  while (true) {

     if (isnan(polygon\_points[3 * c])

      break; // no more points for this polygon 

    printf(Â« point %f %f %f\nÂ Â»,

      polygon\_points[3 * c],

      polygon\_points[3 * c + 1],

      polygon\_points[3 * c + 2]

    );

    c++;

  }

}


So this function should be used as follows (in C but in Matlab, itâ€™s the same logics):


When an objet collides, it can have several contact polygons.


wb\_supervisor\_node\_get\_contact\_point() is supposed to be called several times.


Ok I see. This is a bit weird to use...


`@JasonChen` let me check... normally the matlab API is a direct match of the C API...


The PROTO mechanism is quite simple, it only hide some node hierarchy in a file, with custom fields. It could be extended with a scripting language (lua as a template language). This is extremely powerful, but it requires to be expert in the Webots hierarchy nodes.


`@Otto` the Proto doc is the best we have: [https://www.cyberbotics.com/doc/reference/proto](https://www.cyberbotics.com/doc/reference/proto)

##### JasonChen 12/09/2019 05:13:58
[https://media.discordapp.net/attachments/565154703139405824/652843112535687169/unknown.png](https://media.discordapp.net/attachments/565154703139405824/652843112535687169/unknown.png)


`@Fabien Rohrer` Hi, here is another question. I am now trying to use the wb\_supervisor\_node\_get\_number\_of\_contact\_points function. But it seems that the function in the Matlab has two input parameters? the noderef and index. While in the document, it says it only has one. And the demo code in C also shows it only needs one input parameters. So, what's the second parameter for?

##### Fabien Rohrer [Moderator] 12/09/2019 05:12:56
If youâ€™re still stuck, please send us your problematic  world file.


You should give a try, and understand how this works.


`@moustachemartin` the reference example is [https://cyberbotics.com/doc/guide/samples-devices#linear\_motor-wbt](https://cyberbotics.com/doc/guide/samples-devices#linear_motor-wbt)


`@chamandana` I just answer you on the Â«Â generalÂ Â» chat.

##### chamandana 12/08/2019 14:41:42
Hello, I attached a receiver to the bodyslot in a Kuka youbot and when I try to read data using wb\_receiver\_get\_data it says invalid tag.

##### moustachemartin 12/08/2019 14:37:29
Hi everyone. I need a little help. I need to add a linear actuator but it doesnâ€™t seem to be working. Iâ€™m not sure whether Iâ€™m not using the right commands in the controller or I havenâ€™t set it up properly in the scene tree.

##### JasonChen 12/08/2019 14:35:35
I would like to learn such thing from you. If you like to teach me something about that. ðŸ˜›


Has anyone here done bipedal robot simulation before?

##### Otto 12/08/2019 14:30:26
Hi


I know, but it didnt help me much. I think I just continue trying to understand it with the User guide

##### JasonChen 12/08/2019 11:42:27
There is a chapter talking about PROTO


I think you can use the User Guide


proto

##### Otto 12/08/2019 11:41:57
I'm happy to have Webots ðŸ™‚


Does someone know where to get a tutorial about protos and nodes from?

##### JasonChen 12/08/2019 11:40:54
how are you


hello

##### Otto 12/08/2019 11:40:26
hello

##### bsr.nur.bahadir 12/08/2019 10:44:13
It happened to me yesterday I checked the Path it didn't work again but after a while I restarted the app it works now.

##### Dorteel 12/08/2019 09:30:00
Hi! I'm trying to use my python virtual environment from webots, but it doesn't seem to work when I try to define it with the shebang line (from Linux), but get an error message, do you have any suggestions?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/653166381948207104/unknown.png)
%end

##### UhName 12/08/2019 06:33:44
Hi all, just downloaded the app, using it for testing a movement program.

##### JasonChen 12/07/2019 12:05:27
`@Fabien Rohrer` Hi, here is another question. I am now trying to use the wb\_supervisor\_node\_get\_number\_of\_contact\_points function. But it seems that the function in the Matlab has two input parameters? the noderef and index. While in the document, it says it only has one. And the demo code in C also shows it only needs one input parameters. So, what's the second parameter for?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/652843112535687169/unknown.png)
%end


`@Fabien Rohrer` Thanks, that would be great helpful.

##### Fabien Rohrer [Moderator] 12/07/2019 11:03:13
And the contact points:

- [https://cyberbotics.com/doc/reference/supervisor?tab-language=matlab#wb\_supervisor\_node\_get\_contact\_point](https://cyberbotics.com/doc/reference/supervisor?tab-language=matlab#wb_supervisor_node_get_contact_point)


About the support polygon, the supervisor api can retrieve some of these values:

- [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_get\_static\_balance](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_get_static_balance)


About your issue with matlab, could you show us your controller instead? It seems there is an issue with the arguments. Could you check what is Â«Â infÂ Â»?

##### JasonChen 12/07/2019 10:31:21
Hi, I notice there is a view named "support polygon", and I am recently doing simulation on bipedal robot. I wonder through your Webots API, can I get the support polygon information (data)?


Hi, I am getting the error message of using the function "wb\_motor\_set\_postion" int Matlab, and don't know how to fix it. Can you help me? Thanks.

The Webots version is 2019b-rev1, and Matlab version is 2019b.



Sorry. My fault. The wrong typo.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/652796511524093995/unknown.png)
%end

##### David Mansolino [cyberbotics] 12/06/2019 21:54:01
>   `@askslk`, I am really sorry but it is very difficult to understand what is happening without looking at your simulation.

##### askslk 12/06/2019 21:49:41
Hi, I have a problem is that I code a program use if fuction and camera to touch the ball.Once I touch the ball,touch sensor receive data, my next if function will call the car back to central point.But in real, my robot touch the ball but didnt goto next function, camera part still work and still go to touch the ball.

##### David Mansolino [cyberbotics] 12/06/2019 16:25:19
You're welcome

##### Yang Chen 12/06/2019 16:25:12
`@David Mansolino` Thank you very much!

##### David Mansolino [cyberbotics] 12/06/2019 16:19:09
`@YC`L there is no out of the box tool to export to excel, but from you controller you can writte any data you want in a cvs file for example as you would do with any other program. A quick search on the web pointed me on this for Python for example: [https://realpython.com/python-csv/](https://realpython.com/python-csv/)

##### Yang Chen 12/06/2019 16:16:58
Hello, is there someone know how to export data got from webot to excel?


`@David Mansolino` Hello, Can I export data got from webot to excel?

##### David Mansolino [cyberbotics] 12/06/2019 15:31:53
You're welcome

##### White 12/06/2019 15:29:19
Thanks DavidðŸ™‚


I installed the version for nao, the 8

##### David Mansolino [cyberbotics] 12/06/2019 15:28:27
But we strongly recommend to use the latest version (R2019b)


`@White` as documented here if you use an old version of Webots you need indeed an email and password, but you can but any email and set the password to 'webots': [https://www.cyberbotics.com/doc/guide/general-faq#can-i-still-use-a-webots-version-before-the-r2019a-release](https://www.cyberbotics.com/doc/guide/general-faq#can-i-still-use-a-webots-version-before-the-r2019a-release)

##### White 12/06/2019 15:23:52
`@David Mansolino` Because for the first login I need email and password. I don't see a skip button or something similar \_:D

##### Olivier Michel [cyberbotics] 12/06/2019 14:54:08
Hi, we moved the web site on a new server and didn't yet fixed that. We will try to fix it asap.

##### threeal 12/06/2019 14:42:20
why i cannot fetch to [https://www.cyberbotics.com/debian/binary-amd64/InRelease](https://www.cyberbotics.com/debian/binary-amd64/InRelease) ?

##### David Mansolino [cyberbotics] 12/06/2019 14:14:48
You're welcome

##### Yang Chen 12/06/2019 14:14:32
Thanks, that helped

##### David Mansolino [cyberbotics] 12/06/2019 14:11:21
Unfortunately the forum is currently offline, we are running some migration.


Hi `@Yang Chen` you can use the Display device to plot data, see for example this example how plots the position of a joint: [https://cyberbotics.com/doc/guide/samples-howto#ziegler\_nichols-wbt](https://cyberbotics.com/doc/guide/samples-howto#ziegler_nichols-wbt)

##### Yang Chen 12/06/2019 14:09:20

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/652511899824422952/unknown.png)
%end


And can you open these links?


Hello! I am wondering is there someone tell me how to  plot  a figure of processing data by using webots?  Thank you!

##### David Mansolino [cyberbotics] 12/06/2019 13:23:42
You're welcome :-)

##### Hayden Woodger 12/06/2019 13:22:47
Thanks, that helped ðŸ™‚

##### David Mansolino [cyberbotics] 12/06/2019 13:20:54
Hi `@Hayden Woodger` you can move any object using the Python Supervisor API: [https://www.cyberbotics.com/doc/reference/supervisor](https://www.cyberbotics.com/doc/reference/supervisor)

Here is an example where a light is moved: ps://www.cyberbotics.com/doc/guide/samples-devices#supervisor-wbt

##### Hayden Woodger 12/06/2019 12:50:55
Hi there, how can I manipulate an object handle in python please?

##### David Mansolino [cyberbotics] 12/06/2019 11:14:18
Non semi-transparent (transparenci != 0.0) object might be affected too.

##### lf\_lidar\_support 12/06/2019 11:02:11
Objects are only transparent if they have transparentcie = 1? right?

##### David Mansolino [cyberbotics] 12/06/2019 11:00:56
Lidar do not detctes transparent objects so this might be the problem, if the body of the Elisa is transparent the lidar might missed it.

##### lf\_lidar\_support 12/06/2019 11:00:05
Im running into some issues with a lidar. 

Im having multiple robots (Elisa3), with attatched lidars on top, but they are having trouble seeing other Elisa3 robots (except of the wheels? How do I make the lidar detect the diffuser?

##### David Mansolino [cyberbotics] 12/06/2019 10:57:31
Your'e welcome

##### lf\_lidar\_support 12/06/2019 10:57:25
Okay, thank you

##### David Mansolino [cyberbotics] 12/06/2019 10:57:09
Hi, yes we are currently running some migration of the server, please use stackoverflow or this discord server instead.

##### lf\_lidar\_support 12/06/2019 10:56:10
Hello, is the forum down?

##### Tahir [Moderator] 12/06/2019 08:28:36
I am doing the same thing but except I am taking robot name as an argument to set its velocity to zero

##### David Mansolino [cyberbotics] 12/06/2019 08:27:06
For example here: [https://github.com/cyberbotics/webots/blob/revision/projects/default/controllers/ros/RosMotor.cpp#L108](https://github.com/cyberbotics/webots/blob/revision/projects/default/controllers/ros/RosMotor.cpp#L108)

##### Tahir [Moderator] 12/06/2019 08:26:53
OK I'll check that

##### David Mansolino [cyberbotics] 12/06/2019 08:26:22
Ok then I don't see any obvious reason for this to fail. Maybe adding some print in the ros controller to check if the service messages are received and processed is a good way to go for debugging

##### Tahir [Moderator] 12/06/2019 08:25:32
Yes

##### David Mansolino [cyberbotics] 12/06/2019 08:25:20
And then are you calling the step service of both robot ?

##### Tahir [Moderator] 12/06/2019 08:23:42
So I can see both are services are being called


Yes I am logging the info with the robot names as well

##### David Mansolino [cyberbotics] 12/06/2019 08:22:46
`@Tahir` sorrry no idea where this could come from. Are you sure you are sending these zero to both robots ?


`@seppl2018` Webots is using the port '8873' to communicate with SUMO, it is possible that on your computer this port is not available and therefore Webots can't communicate. You shoudl try to change the port with the correspondign field of the SumoInterface node.


`@chamandana` there is indeed no argument as the `wb_robot_get_custom_data` function will return the content of the customData field of the robot calling the function, this function is not linked with any device but with the robot directly.


`@askslk`, I am really sorry but it is very difficult to understand what is happenning without looking at your simulation.


`@White` we are currenlty updating our website and not all the features are yet available. However, you shouldn't need and accoutn to use Webots anymore, why do you want to create an account?

##### seppl2018 12/06/2019 06:33:02
The highway driving example does not work properly for me:



[sumo\_supervisor] Connect to SUMO... This operation may take a few seconds.

[sumo\_supervisor] Unable to connect to SUMO, please make sure any previous instance of SUMO is closed.

[sumo\_supervisor]  You can try changing SUMO port using the "--port" argument.

[sumo\_supervisor] Could not connect to TraCI server at localhost:1550 [Errno 61] Connection refused

[sumo\_supervisor]  Retrying in 1 seconds

[sumo\_supervisor] Could not connect to TraCI server at localhost:1550 [Errno 61] Connection refused

[sumo\_supervisor]  Retrying in 2 seconds

##### chamandana 12/06/2019 03:32:51
another robot*


I want to change customData of another objet


hello, can anyone tell me how to use wb\_robot\_get\_custom\_data  function? there seems to be no argument to pass to it (I thought I could pass the WbDeviceTag)

##### askslk 12/05/2019 23:22:25
Hi, I have a problem is that I code a program use if fuction and camera to touch the ball.Once I touch the ball,touch sensor receive data, my next if function will call the car back to central point.But in real, my robot touch the ball but didnt goto next function, camera part still work and still go to touch the ball.

##### Tahir [Moderator] 12/05/2019 20:59:23
Hi

I am using webots ros controller on a custom robots in a multi robot industrial scenario. When two robots face each other, the controller stops sending the velocity commands, but the robots move with the last sent velocity command. So I have written a ros service which sends zero to the robot when velocity controller stops. I have got a strange behaviour that this service works for one robot and it stops but the other one moves with the last cmd.

Anyone have an idea what's could be the problem or a point where I am doing the mistake

##### White 12/05/2019 20:29:18
Hi, I'd like to register a new Webots account but when i click on the link on browser i see the error 404 page. How can i solve the problem?

##### chamandana 12/05/2019 08:48:24
okay. I'll check it out.

##### Stefania Pedrazzi [cyberbotics] 12/05/2019 08:47:45
Note that standard libraries can usually be used directly simply including them in the code. Not sure about socket.h


You should not copy them, but link them from the Makefile:  [https://www.cyberbotics.com/doc/guide/using-webots-makefiles](https://www.cyberbotics.com/doc/guide/using-webots-makefiles)

##### chamandana 12/05/2019 08:46:07
where should I copy them :/


in webots


I found many examples, but couldn't find a way to include socket.h or other library

##### Stefania Pedrazzi [cyberbotics] 12/05/2019 08:45:25
this is not specific to Webots, you should ask in a programming forum. But I can point you to an example where Emitter/Reveicer communication method is used.

##### chamandana 12/05/2019 08:44:05
can I get an example for shared memory or sockets please


oh okay ðŸ™‚

##### Stefania Pedrazzi [cyberbotics] 12/05/2019 08:27:47
Otherwise any method for interprocess communication works also between Webots controllers (i.e. write/read to/from file, shared memory, sockets, etc.)


Yes, a common way is to use the Emitter/Receiver nodes.

##### chamandana 12/05/2019 08:24:54
Is there a way to share data (values in an array) between two controllers (Robot controller and camera controller)?

##### David Mansolino [cyberbotics] 12/05/2019 07:51:37
`@chamandana` you're welcome

##### chamandana 12/05/2019 07:50:54
`@David Mansolino` thanks ðŸ™‚

##### David Mansolino [cyberbotics] 12/05/2019 07:47:36
`@UchihaX2` You're welcome


`@chamandana`, yes you can of course use a range finder or camera, but a simpler solution is simply to use a Supervisor controller to track the robots: [https://cyberbotics.com/doc/reference/supervisor](https://cyberbotics.com/doc/reference/supervisor)


You'rw welcome

##### UchihaX2 12/05/2019 07:44:23
`@David Mansolino`  thank you.

##### David Mansolino [cyberbotics] 12/05/2019 07:22:48
Hi `@UchihaX2`, yes Webots is probably the tool you need, as you can see on this list many pi-pedal robots are already available out of the box in Webots: [https://cyberbotics.com/doc/guide/robots](https://cyberbotics.com/doc/guide/robots)

##### Stefania Pedrazzi [cyberbotics] 12/05/2019 07:17:02
Hi `@abaskh46`: you have to build your wall as you previously did for the Ball, but this time using a Box geometry instead of a Sphere geometry. The structure of the Wall you are supposed to create is the same as the one of the ball [https://www.cyberbotics.com/doc/guide/tutorial-2-modification-of-the-environment#def-use-mechanism-applied-on-the-shape-node-of-a-solid](https://www.cyberbotics.com/doc/guide/tutorial-2-modification-of-the-environment#def-use-mechanism-applied-on-the-shape-node-of-a-solid)

##### chamandana 12/05/2019 07:16:44
hello, can anyone suggest me a way to receive the location of the two youbots in this world. I have a depth and color sensor attached on the ceiling with fov large enough to view all the area. Can I use range\_finder to identify objects? Can you tell me how. ðŸ™‚
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/652045680646422528/unknown.png)
%end

##### UchihaX2 12/05/2019 07:11:07
hi. i'm intending to build a bi-pedal robot. any advice to whether webots is suitable for simulating this project

##### abaskh46 12/05/2019 07:04:36
how can i create wall . i stuck in tutorial 2 ,ADD WALL section,

##### JoHn 12/04/2019 17:37:09
Thank you `@Fabien Rohrer`. You have a good night.

##### Fabien Rohrer [Moderator] 12/04/2019 17:28:41
I have to go, please open a ticket or come back here tomorow. Good evening

##### JoHn 12/04/2019 17:28:10
Sure, I will try it now.

##### Fabien Rohrer [Moderator] 12/04/2019 17:27:57
Not very intuitive.


The center of vehicles is at the center of the 2 rear wheels.


To do so, just put the first truck at the world position 0 (or better, its radar), create a "Transform > Sphere", and move it at the location given by the azimuth+distance.


In this case, you will be sure of what the radar detects...


Quite archaic, but efficient.


What I would do is to create a sphere, and put it at the location indicated by the radar.


Isn't it the center of the other truck?

##### JoHn 12/04/2019 17:24:34
Sure, thank you very much for your answers `@Fabien Rohrer`


Now both trucks are very closed. The radar detects one object and the distance is 3.56 meters.



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/651835953328947236/unknown.png)
%end

##### Fabien Rohrer [Moderator] 12/04/2019 17:22:46
We have to open this in Webots to determine what's going on..


[https://github.com/cyberbotics/webots/issues/new/choose](https://github.com/cyberbotics/webots/issues/new/choose)


Could you try to simplify your world/controller at best and send it to us? Maybe through a GitHub issue ticket?

##### JoHn 12/04/2019 17:21:40
But the radar shows that the distance is 10 meters and only one object is detected.

##### Fabien Rohrer [Moderator] 12/04/2019 17:21:22
the lidar seems well oriented, the azimuth seems to indicate indeed something front. I cannot explain this 4 meters offset from the screenshot.

##### JoHn 12/04/2019 17:21:00
Now the white truck is about 8 meters ahead of the grey truck.



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/651835181229146113/unknown.png)
%end

##### Fabien Rohrer [Moderator] 12/04/2019 17:16:04
this seems very correct.

##### JoHn 12/04/2019 17:15:12

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/651833900817186816/unknown.png)
%end


Hi `@Fabien Rohrer`, thank you for your response. The locationf of the radar can be seen in the screenshot below

##### Fabien Rohrer [Moderator] 12/04/2019 17:10:29
`@JoHn` don't you think that another object is detected? what is the location of your radar in the truck? (cf. Radar.translation)

##### JoHn 12/04/2019 16:58:52
But when I check the radar data on the left. It shows that the distance is 3.4 meters. I am not sure why. Could you give me some help. Thanks a lot.

##### ClBaze 12/04/2019 16:57:32
Ok I understand, thank you Fabien

##### JoHn 12/04/2019 16:57:07

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/651829348998840360/unknown.png)
%end


Hi guys, I'd like to ask a question when I add a radar to a truck in Webots. As can be seen from the screenshot, the truck on the right has a radar installed in the front , and another truck is very closed to the radar.

##### Fabien Rohrer [Moderator] 12/04/2019 16:51:54
0.0x means the simulation is stopped.


Yes, basictimestep is a constant. The same rate for all the simulation.


Every 0.3 true seconds, the simulation speed is compared with the true time. This second value of the speedometer show the ratio with the true time. If you have 1.0x, you're close to the real time. If you have 2.0x you run twice faster than real time.

##### ClBaze 12/04/2019 16:50:00
the basictimestep is fixed right ?


what does the 0.00x means



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/651826861994803200/unknown.png)
%end


Ok then I don't understand this widget

##### Fabien Rohrer [Moderator] 12/04/2019 16:39:08
This section gives more info about this: [https://cyberbotics.com/doc/guide/controller-programming#the-step-and-wb\_robot\_step-functions](https://cyberbotics.com/doc/guide/controller-programming#the-step-and-wb_robot_step-functions)


Hi, the simulation refresh rate is given by WorldInfo.basicTimeStep which increases the simulation time and the physics engine by a constant rate. This time is virtual and is not linked with the true time, therefore a simulation can run faster or slower than true time. Robot controller are generally synchronized on this rate (or an integer multiple of it)

##### ClBaze 12/04/2019 16:34:45
Hi guys, what is the time handling strategy of Webots ?

##### David Mansolino [cyberbotics] 12/04/2019 15:19:13
You're welcome

##### kwy 12/04/2019 15:14:44
Thank you for your kind help!

##### David Mansolino [cyberbotics] 12/04/2019 15:08:19
You can use the Display device in Webots directly. But you can of course use QT or a robot-window: [https://www.cyberbotics.com/doc/guide/controller-plugin#robot-window](https://www.cyberbotics.com/doc/guide/controller-plugin#robot-window)

##### kwy 12/04/2019 14:58:54
`@David Mansolino`  thanks anyway


or should I build a GUI with QT for that ?


is there a GUI i can directly use on Webots?


except rviz

##### David Mansolino [cyberbotics] 12/04/2019 14:46:41
`@kwy`, yes you can for example use a Display device to plot the map.

##### kwy 12/04/2019 14:45:51
Hallo, I want to implement a landmark-based SLAM, is there a GUI that can display map?

##### KamiRonin 12/04/2019 12:01:55

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/651755060614791169/unknown.png)
%end


Greetings to all!

My small problem with textures jpeg on Windows and did not manage to be solved. Neither variables PATH, nor installation of different libraries jpeg decoding, has not passed. After investigation has seen that the read error arises in Qt class QImageReader but why he does not see library libjpeg-8.dll delivered in package Webots - I have not understood. Perhaps someone has an access to a code of this class going to release Webots? To clarify what path it searches for library of decoding and why does not find.

##### chamandana 12/04/2019 11:54:01
oh okay. I'll take a look at them

##### David Mansolino [cyberbotics] 12/04/2019 11:53:23
Be also carfull with the 'maxRange' and 'occlusion' fields of the 'Recognition' node.


You have to make sure that all the objects you want to detect have a recognition color, a model and a boundign object set.

##### chamandana 12/04/2019 11:51:57
Is there a way? ðŸ™‚


the camera only detects 2 boxes out of all 30 currently visible in the camera. Some are pretty small. How can I make wb\_camera\_recognition\_get\_objects detect everything in the view? without changing the position or fov of the camera.

##### David Mansolino [cyberbotics] 12/04/2019 11:30:33
You're welcome. Have fun with Webots ðŸ˜‰

##### chamandana 12/04/2019 11:30:16
thank you, i'm really new to this ðŸ™‚

##### David Mansolino [cyberbotics] 12/04/2019 11:29:25
And here is an example: [https://github.com/cyberbotics/webots/blob/revision/projects/samples/devices/controllers/camera\_recognition/camera\_recognition.c#L59](https://github.com/cyberbotics/webots/blob/revision/projects/samples/devices/controllers/camera_recognition/camera_recognition.c#L59)


You can get the number of object with the 'wb\_camera\_recognition\_get\_number\_of\_objects' function as documented here: [https://github.com/cyberbotics/webots/blob/revision/docs/reference/camera.md#wb\_camera\_has\_recognition](https://github.com/cyberbotics/webots/blob/revision/docs/reference/camera.md#wb_camera_has_recognition)

##### chamandana 12/04/2019 11:27:51
another question, How can I use this code,

const WbCameraRecognitionObject *objects = wb\_camera\_recognition\_get\_objects(camera);



to get all the objects visible to the camera? I want to loop between those objects and see their positions, is there a sample code? ðŸ™‚

##### David Mansolino [cyberbotics] 12/04/2019 11:19:19
You're welcome

##### chamandana 12/04/2019 11:19:14
thanks

##### David Mansolino [cyberbotics] 12/04/2019 11:17:37
Hi `@chamandana` we are sorry we are indeed running some long updates on the website, you can find a backup of the simulation here: [https://github.com/cyberbotics/webots/blob/revision/docs/reference/recognition.md](https://github.com/cyberbotics/webots/blob/revision/docs/reference/recognition.md)

##### chamandana 12/04/2019 11:16:03
hello, can you find me a documentation about  function wb\_camera\_recognition\_get\_objects(). or at least tell me about it. The website is down.

##### David Mansolino [cyberbotics] 12/04/2019 07:31:41
`@jacqueline` husarion robot is not supported out of the box in Webots, but it should be quite straightforward to create a model of this robot. Or to create our URDF importer ([https://github.com/cyberbotics/urdf2webots](https://github.com/cyberbotics/urdf2webots)) to convert the URDF model to Webots: [https://github.com/husarion/rosbot\_description/tree/master/src/rosbot\_description](https://github.com/husarion/rosbot_description/tree/master/src/rosbot_description)

##### Yang Chen 12/04/2019 04:11:11
`@Olivier Michel` Thank you for your kind help!

##### jacqueline 12/04/2019 00:44:11
hi since web is still down, can you tell me if husarion robot [https://husarion.com/](https://husarion.com/) is supported in webot like pioneer mobile base?

##### Olivier Michel [cyberbotics] 12/03/2019 16:31:33
You can download Webots from here: [https://github.com/cyberbotics/webots/releases/tag/R2019b-rev1](https://github.com/cyberbotics/webots/releases/tag/R2019b-rev1)

##### Fabien Rohrer [Moderator] 12/03/2019 16:30:24
Do you have other issues?


Some services are currently broken, such as the web resource files.


You may have access to the documentation inside Webots (Help / Offline documentation)


The website is currently down because of issues during a migration on our main server. We are currently working hard to solve this as soon as possible.

##### Wolfgang Fahl 12/03/2019 16:28:03
There is an issue with cyberbotics domain website and e-mail. What can we do about it?

##### Fabien Rohrer [Moderator] 12/03/2019 13:09:18
Does it has sense in your simulation?


Probably my hypothesis about rendering improvements is wrong then.


the bottleneck of your simulation comes from physics and/or your controllers and/or general Webots updates (node update, rendering sort, etc.)


This may mean several things...


It seems the bottleneck is on the CPU then.

##### Meisam 12/03/2019 13:03:57
`@Fabien Rohrer` Thank you. I have reduced ambient occlusion and texture quality to low. Also, I have disabled shadow and anti-aliasing options. However, they do not make tangible speedup. I noticed that when I am interacting with the 3D environment of Webots or running simulation the CPU usage reaches 100% while GPU usage is about 20%.

##### Steve222 12/03/2019 12:23:22
Thank you, Ill have a look through that and hopefully get it to work

##### Fabien Rohrer [Moderator] 12/03/2019 12:22:40
Complete code: [https://github.com/cyberbotics/webots/blob/revision/projects/samples/devices/worlds/linear\_motor.wbt](https://github.com/cyberbotics/webots/blob/revision/projects/samples/devices/worlds/linear_motor.wbt)


>>>     SliderJoint {

      jointParameters JointParameters {

        position 0.05

        axis 1 0 0

      }

      device [

        LinearMotor {

        }

      ]

      endPoint Solid {

        # ...

      }

    }


A linear motor should be defined this way:


You could maybe compare your setup with this example: WEBOTS\_HOME/projects/samples/devices/worlds/linear\_motor.wbt

##### Steve222 12/03/2019 12:20:33
*other motors


No errors in the console, I have used Wb\_get\_device  the same way i have for other moments which are all working. Are there any settings i need to have in the tree that could prevent this from working?

##### Fabien Rohrer [Moderator] 12/03/2019 12:17:30
This seems to be correct. Do you have any error message in the Webots console?

##### Steve222 12/03/2019 11:58:56
and this isnt working. any ideas of what could be wrong?


Hello, I am trying to use a linear slider joint with a linear motor and I am trying to drive it to a position  with  the following:wb\_motor\_set\_position(sliderR, 0.2);

##### Fabien Rohrer [Moderator] 12/03/2019 10:33:14
`@ega` Please take a look at this example: [https://cyberbotics.com/doc/guide/samples-howto#vision-wbt](https://cyberbotics.com/doc/guide/samples-howto#vision-wbt) OpenCV is currently released in Webots, you can use it out-of-the-box


`@Meisam` Between these 2 releases, we increased the GPU load, mainly because of our migration to PBR, the use of big floating point textures for backgrounds, and postprocessing effects (bloom, global ambient occlusion, etc.). The Webots preferences contain an "OpenGL" tab where you could reduce parameters. You should try to reduce the texture quality, and the ambient occlusion quality. The next release of Webots will use less GPU memory, you could already try the latest nightly builds (develop) to give a try.

##### ega 12/03/2019 10:27:52
How to use opencv in webots?

##### Fabien Rohrer [Moderator] 12/03/2019 10:27:29
`@Meisam` Hi,

##### Meisam 12/03/2019 09:51:05
Hello, I have just upgraded to Webots R2019b revision1. Unfortunately, it is too slow. I used the previous version Webot8 without any significant problem in performance. I checked the documentation about graphic drivers:

[https://www.cyberbotics.com/doc/guide/verifying-your-graphics-driver-installation](https://www.cyberbotics.com/doc/guide/verifying-your-graphics-driver-installation)

Is there any suggestion to fix the problem?

The specifications of my System are:

OS: Ubuntu 18.04,

Cpu:  IntelÂ® Coreâ„¢2 Duo Processor T9550,

Ram: @GB,

Graphics card: NVIDIA GeForce 9600M GT

Thanks

##### JasonChen 12/03/2019 07:40:07
`@Stefania Pedrazzi` Yes. Got that. I searched the discussion history, and find that answer. Thank you. ðŸ˜€

##### Stefania Pedrazzi [cyberbotics] 12/03/2019 07:24:58
`@JasonChen` printf should work fine and write the text in the Webots console. Did you add a new line "\n" character at the end of your printf message to flush the buffer and print the text in console?

##### JasonChen 12/03/2019 05:04:45
Hello, I need help for "how to log information?" Right now, I have a variable need to bog to the console to watch the value, but the printf() seems doesn't point to the Webots console. So, where can I see the log. Thank you.

##### Fabien Rohrer [Moderator] 12/02/2019 13:37:05
We have currently issues with our server running cyberbotics.com. We are trying to fix this as soon as possible. Meanwhile, you could run the Webots offline documentation (identical to the one on cyberbotics.com), just click on the "Help / Offline documentation" menu item...

##### kwy 12/02/2019 13:28:39
still can't access the webots documentation ?


ðŸ‘Œ  thanks

##### David Mansolino [cyberbotics] 12/02/2019 11:18:26
And we are currently working on the creation of a model of the robotino from Festo which is an omni robot too: [https://www.festo-didactic.com/int-en/services/robotino/?fbid=aW50LmVuLjU1Ny4xNy4zNC4xMTY4](https://www.festo-didactic.com/int-en/services/robotino/?fbid=aW50LmVuLjU1Ny4xNy4zNC4xMTY4)


The youbot is an omni one: [https://github.com/cyberbotics/webots/blob/develop/docs/guide/youbot.md](https://github.com/cyberbotics/webots/blob/develop/docs/guide/youbot.md)


But you can of course build your own one


Here is the list of robots: [https://github.com/cyberbotics/webots/blob/develop/docs/guide/robots.md](https://github.com/cyberbotics/webots/blob/develop/docs/guide/robots.md)


You're welcome.

##### kwy 12/02/2019 11:16:19
thanks ! where can i find some cool robot model, like a omni robot

##### David Mansolino [cyberbotics] 12/02/2019 11:13:57
Yes this kind of setup is feasible, see for example some already available environments: [https://github.com/cyberbotics/webots/blob/develop/docs/guide/samples-environments.md](https://github.com/cyberbotics/webots/blob/develop/docs/guide/samples-environments.md)

##### kwy 12/02/2019 11:12:36

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/651017875359924234/unknown.png)
%end

##### David Mansolino [cyberbotics] 12/02/2019 11:12:10
Yes, Webots is exactly the tool you need ðŸ™‚

##### kwy 12/02/2019 11:11:44
Halloï¼ŒI just builded a simulation environment for mobil robot with python. Now I want to build a 3D simulation environment. Is it possible to implement this on Webots?

##### David Mansolino [cyberbotics] 12/02/2019 09:50:49
You're welcome

##### Dorteel 12/02/2019 09:03:17
Thanks `@David Mansolino` !

##### David Mansolino [cyberbotics] 12/02/2019 08:59:49
`@Dorteel` we are currenlty running an update, please try again later.

##### Dorteel 12/02/2019 08:48:47
I actually get the same if I'm just trying to access the website
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/650981682127699979/unknown.png)
%end


([https://www.cyberbotics.com/doc/reference/supervisor](https://www.cyberbotics.com/doc/reference/supervisor) )


Hi guys! For some reason I can't access the supervisor documentation, were there any changes I'm not aware of?

##### Olivier Michel [cyberbotics] 12/02/2019 07:46:49
`@YC`L#9474: you should run your simulation in real time mode (using the PLAY button). If the speedometer displays a value significantly lower than 1, that means your simulation is unable to run in real time (at the same speed as the real system). So, only in this case, you should adapt your simulation until it runs in real time. Reducing the `WorldInfo.basicTimeStep` is certainly going to speed-up your simulation, but there are other possibilities such as simplifying the simulation models or the robot controllers.

##### David Mansolino [cyberbotics] 12/02/2019 07:40:44
Hi  `@chenpixx`, you can use the supervisor API to import/move any node in the scene:

  - [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_field\_import\_mf\_node](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_field_import_mf_node)

  - [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_field\_set\_sf\_vec3f](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_field_set_sf_vec3f)

This way you can for example simply import a sphere shape and move it to the right foot sole position.

##### Stefania Pedrazzi [cyberbotics] 12/02/2019 07:33:52
`@askslk` there are multiple techniques and algorithm to move a robot to a target point depending on the constraints and devices mounted on the robot (i.e. for example if the robot knows its current position, etc.). You should add more details about your scenario.


> hi, why after add a camera to my robot, the camera cant shot, just a plot of black

`@askslk` did you enable the camera in your robot controller?

##### lunarpulse 12/01/2019 23:36:16
`@David Mansolino` Thanks very much! I could not find this information online. fortunately, you provided in detail. Now I get all in sim time. Thanks again.

##### Yang Chen 12/01/2019 23:28:21
Thank you!


And when I set a robot arm to move a constant degree(eg. from 10deg to 30deg) by a given simulation time period, what is the kind of motion of the simulation every basic time step? Eg. sometime the simulation can not move the constant degree by a given time. By changing the given time, the simulation could done well. So I am wondering what's the motion style of the simulation, like how many degree the robot move every single basic time step or the robot just move to the goalï¼ŸAnd how can I find the exact time need to finish moving a constant degree? All are based on the same robot model with same max torque for the rotation motors, same mass of the robot.


Hi everyone. Recently, I want to compare the speed of a robot in simulation with the same robot in real life. In order to let the robot move forward, in simulation, when I use differnt basic time step  with all other parameters stay the same, the time to finish this same motion is differnt, and the speed by calculating the position of the robot over simulation time  is different too. And I see the user manual about basic time  step set-up. Does that mean I need tune the basic time step according to the real robot's speed, with the same parameters and controller betweem the simulation and real robot?

##### chenpixx 12/01/2019 20:52:45
Hi,  I want to plot a point on the right foot sole of robotis-op2. How can I do it?

##### askslk 11/30/2019 10:48:43
hi, why after add a  camera to my robot, the camera cant shot, just a plot of black


hi everyone,how differential robot go to the target point use controller ï¼Ÿ

##### David Mansolino [cyberbotics] 11/29/2019 14:21:07
You're welcome

##### UncleDucky 11/29/2019 14:05:35
Thanks


Thans

##### David Mansolino [cyberbotics] 11/29/2019 13:56:35
You can find some path plannign example in Webots here: [https://en.wikibooks.org/wiki/Cyberbotics%27\_Robot\_Curriculum/Advanced\_Programming\_Exercises#Path\_planning\_](https://en.wikibooks.org/wiki/Cyberbotics%27_Robot_Curriculum/Advanced_Programming_Exercises#Path_planning_)[Advanced]

##### UncleDucky 11/29/2019 13:55:11
Hey guys, I'm using C to control a differential robot in Webots. I want to be able to control the path of the robot using GPS. How would I begin to do this?

##### David Mansolino [cyberbotics] 11/29/2019 13:49:28
2. you can run Webots as a web server and user can only program the controller, such as what we did here: [https://robotbenchmark.net/](https://robotbenchmark.net/)


1. You can set the controller to be 'extern' then the user can write his controller and launch it independently of Webots: [https://www.cyberbotics.com/doc/guide/running-extern-robot-controllers](https://www.cyberbotics.com/doc/guide/running-extern-robot-controllers)


Yes, there are several way to do this:

##### Shadow 11/29/2019 13:41:42
`@David Mansolino` Thanks for the response, perhaps I can clarify what I'm looking for. I'm currently developing a world with supervisors to detect specific robot actions to gain points. Is there a way that the simulation can be run so that people can develop their own controllers for the robots, but not have the ability to view/edit the world (the node tree etc.) so the simulation is effectively running only the 3d viewing portion rendering the world.

##### David Mansolino [cyberbotics] 11/29/2019 13:35:58
Hi  `@Shadow`, yes if you download the webots package: [https://www.cyberbotics.com/download](https://www.cyberbotics.com/download)

You can run all the samples provided withing Webots without coding enything.

If you want to control the motion of your robot/object in Webots from another software, you can create a controller that will act as a bridge between Webots and your other software.

Is that what you would like to do?

##### Shadow 11/29/2019 13:30:22
Hi everyone, is there a possible way to create or use existing software to run a webots simulation without the developer environment webots initially provides, effectively to just run the 3d view? Thanks.

##### David Mansolino [cyberbotics] 11/29/2019 08:04:12
Hi `@askslk`, I am not sure to understand your question, but if you want to perform SLAM with a differential wheel robot in Webots you might be interested by [https://en.wikibooks.org/wiki/Cyberbotics%27\_Robot\_Curriculum/Advanced\_Programming\_Exercises#SLAM\_](https://en.wikibooks.org/wiki/Cyberbotics%27_Robot_Curriculum/Advanced_Programming_Exercises#SLAM_)[Advanced]


Then both your nodes and bag should use simulation time (or at least record it too).


Then you have to set the 'use\_sim\_time' ROS parameter ([http://wiki.ros.org/Parameter%20Server](http://wiki.ros.org/Parameter%20Server)) to true.


First, you have to make sure that you did put in the controllerArgs field of your robot the following arguments: '--clock' and '--use-sim-time' (see v for more information)


Hi lunarpulse

##### lunarpulse 11/29/2019 08:00:05
Hi everyone, I have simulation environment running on webots and ROS. I have difficulty in recording simulation environment with simulated time (2 minutes). My machine is slow and many ROS nodes slows down the system and simulation to 0.05x and ROSbag records wall time (1 hour) instead of the simulation time 2 minute. Could you help me to record a ros bag in simulated time instead of wall time?

##### askslk 11/28/2019 21:00:04
hi everyone,how differential robot mapping the world on webotsï¼Ÿ

##### Fabien Rohrer [Moderator] 11/28/2019 18:02:38
Thank you for the feedback. You should document about variable scoping in C ðŸ˜‰

##### Matt60 11/28/2019 17:46:56
That worked, thank you so much! I didn't know that's what you had to do


Not at the moment, I will try that

##### Fabien Rohrer [Moderator] 11/28/2019 17:45:15
just before the printf() call?


> double bearing = get\_bearing\_in\_degrees();


do you do:


the scope of the "bearing" variable is only in the get\_bearing\_in\_degrees() function. It seems your variable is badly declared.

##### Matt60 11/28/2019 17:41:35

%figure
![Error.PNG](https://cdn.discordapp.com/attachments/565154703139405824/649666214859112448/Error.PNG)
%end


Hello, I'm having trouble with the example get\_bearing\_in\_degrees code from the compass page. After this code I want to print the value of bearing into the console, however this only returns an error "bearing" undeclared. I've been having no luck with this for a few hours now, being a noob with code does not help. Is there something fundamental that I'm missing? Thank you for your help in advance.
%figure
![Code.PNG](https://cdn.discordapp.com/attachments/565154703139405824/649666207699566632/Code.PNG)
%end

##### Fabien Rohrer [Moderator] 11/28/2019 16:52:28
> sudo apt install ffmpeg libfdk-aac1 ubuntu-restricted-extras


Did you installed `ffmpeg` as described here? [https://cyberbotics.com/doc/guide/installation-procedure#installation-on-linux](https://cyberbotics.com/doc/guide/installation-procedure#installation-on-linux)


Do you have any warning in the Webots console?

##### Dorteel 11/28/2019 16:43:49
But I'll ask my groupmate who also works on the same project, we'll see if he has issues with recording.


Same issue unfortunately, tried multiple times :/ I managed to create one video though, but can't play it and it and the robot was frozen during that recording as well, but when I clicked (anywhere), the robot jumped to the location where it should be.

##### Fabien Rohrer [Moderator] 11/28/2019 16:23:08
Please come back if this does not work ðŸ˜‰

##### Dorteel 11/28/2019 16:22:54
Thank you, I'll try to do that!

##### Fabien Rohrer [Moderator] 11/28/2019 16:21:25
Please wait on the result before doing something else..


Once the target file is chosen, the movie creation takes a while (see the log in the console)


Some information should be displayed in the Webots console.


A regular workflow is about to select "File / Make Movie...", click OK, run the simulation, select "File / Stop Movie", and finally choose the target file.


This warning occurs normally when no simulation steps occured between the beggining and the end of the movie recording.

##### Dorteel 11/28/2019 16:18:40
The frame also freezes, can't see anything moving while the recording is ongoing


Hi everyone, for some reason I'm having troubles recording a video while running the controller, do you have any suggestions?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/649645162611343360/unknown.png)
%end

##### David Mansolino [cyberbotics] 11/28/2019 15:56:52
`@UncleDucky` assuming you are using a differential wheel, simply setting the left speed lower than the right one (or vice-versa) should do the job ðŸ˜‰

##### UncleDucky 11/28/2019 15:18:48
Hey guys - Having some problems making my little robot do a circle. Im just a noob lol.

##### David Mansolino [cyberbotics] 11/28/2019 14:54:08
This is a general control algorithm problem not related to Webots

##### askslk 11/28/2019 14:07:53
I've seen this a few times, but I still don't know how to set the robot return to center point after getting the coordinates.

##### David Mansolino [cyberbotics] 11/28/2019 13:03:06
`@askslk`, please find here the GPS documentation: [https://cyberbotics.com/doc/reference/gps](https://cyberbotics.com/doc/reference/gps)

And a simple example here:  [https://cyberbotics.com/doc/guide/samples-devices#gps-wbt](https://cyberbotics.com/doc/guide/samples-devices#gps-wbt)

##### askslk 11/28/2019 13:01:16
I am trying supervisor(emmitter and receiver)now


`@David Mansolino` which function I can do about it?

##### David Mansolino [cyberbotics] 11/28/2019 07:31:29
Hi `@askslk`, yes the GPS is the most simpler way to do this.

##### askslk 11/27/2019 22:54:59
Hi everyone.What can I use to code robot back to central point?GPS?

##### Gautier A. 11/27/2019 16:09:47
Thank you ðŸ˜„


That's working !


Ok !

##### Fabien Rohrer [Moderator] 11/27/2019 16:08:18
Naming it Solid.proto is a bad idea ðŸ˜‰


You should call the file "MyProtoName.proto", and put it in "yourWebotsProject/protos/MyProtoName.proto"

##### Gautier A. 11/27/2019 16:07:09
I'm trying to import a simple proto, like this
> **Attachment**: [Solid.proto](https://cdn.discordapp.com/attachments/565154703139405824/649280061177987111/Solid.proto)


I'm sorry to bother you again, but it doesn't seems to work ðŸ˜…

##### David Mansolino [cyberbotics] 11/27/2019 15:26:22
You're welcome

##### Gautier A. 11/27/2019 15:26:09
Thank you !


Ohhh, I see

##### David Mansolino [cyberbotics] 11/27/2019 15:25:00
You can use the 'wb\_supervisor\_field\_import\_mf\_node\_from\_string' function and import a string like this one:

"MyProtoName { translation 0 0.5 0 ...}"

##### Gautier A. 11/27/2019 15:24:24
(the .wbo file is just the proto exported)


I don't really know why


I tried again, but I can import a ".wbo" file but not a ".proto"

##### David Mansolino [cyberbotics] 11/27/2019 15:24:06
You're welcome

##### Gautier A. 11/27/2019 15:23:56
Thank you

##### David Mansolino [cyberbotics] 11/27/2019 15:20:57
You can import it using these functions: [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_field\_import\_mf\_node](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_field_import_mf_node)


Yes

##### Gautier A. 11/27/2019 15:20:06
Is it possible to import a proto node instead of a world using a supervisor ?


Hi again, I'm sorry to annoy you, I have another question ðŸ˜…


Thank you !


understood !

##### David Mansolino [cyberbotics] 11/27/2019 09:55:46
Yes it does if you have direct chidrens (not linked with a joint)

##### Gautier A. 11/27/2019 09:55:23
inherits*


It inherit the bouding object from its children, doesn't it ?

##### David Mansolino [cyberbotics] 11/27/2019 09:55:09
You're welcome

##### Gautier A. 11/27/2019 09:54:59
But, by the way, Is it really necessary for the root node (robot) to have a bouding object ?


Thank you so much !


Ok, that was a problem of physic node lacking ðŸ˜„

##### David Mansolino [cyberbotics] 11/27/2019 09:50:44
2. make sure all your Solids nodes (maybe except the root one) have both bounding object and physics set


You should try to:

  1. remove useless transform (it is pointless to put a transform as parent of a solid)


Then in the children of your joint you have some useless transform and the endpoint Solid of the first joint doesn't have bounding objects and physics


It seems the hierarchy of your nodes is somehow wrong. You have a root node that has Physics without bounding objcet (this doesn't make sense) and then another Solid in the children at the same level than the joint that have bounding object (same size than root Solid) but no Physics


You're welcome

##### Gautier A. 11/27/2019 09:32:11
Ok, thank you a lot ! ðŸ™‚


(for the video, sorry I recorded a little too much, skip to 0:50 for unepexcted behavior)

##### David Mansolino [cyberbotics] 11/27/2019 09:31:28
Ok thank you, I will check your world and let you know

##### Gautier A. 11/27/2019 09:30:58
Here is the associated world, too
> **Attachment**: [bug\_physics.wbt](https://cdn.discordapp.com/attachments/565154703139405824/649180356439703562/bug_physics.wbt)


[https://www.youtube.com/watch?v=pHSAeZXq5wM&feature=youtu.be](https://www.youtube.com/watch?v=pHSAeZXq5wM&feature=youtu.be)


you*


Here's a video to show tou


But it's still the end point of the slider joint (when I move the slider joint, the "robotic arm" floating stop to float and moves accordingly to the joint)


The unexpected behavior is that there seems to be "no constraint" on the Z axis : when a force is applied to the robotic arm, it just "kind off" seperate itself from the rest of the solid


and I put a robot (sample robot, abb I think) on the "end connector"


I have a world in Webots that consists in a rail (a solid that can move in one axis compared to another solid in reference) and a connector is fixed to the end of the rail

##### David Mansolino [cyberbotics] 11/27/2019 09:27:16
Yes of course, what is this behavior?

##### Gautier A. 11/27/2019 09:27:01
I would be very gratefull if you helped me understand the "unexpected behavior"


So, I have a little problem I can't really make sense off

##### David Mansolino [cyberbotics] 11/27/2019 09:26:04
Hi

##### Gautier A. 11/27/2019 09:25:31
Hello !

##### JoanGerard 11/26/2019 12:29:37
ok, thank you and good luck solving the issue!

##### Fabien Rohrer [Moderator] 11/26/2019 12:28:24
Meanwhile, I can only advise you to use the heavy wb\_supervisor\_simulation\_reload() function instead.


We are aware of this severe issue, and we will do our best to solve it quickly: [https://github.com/cyberbotics/webots/issues/1118](https://github.com/cyberbotics/webots/issues/1118) You're welcome to share your expertise on this issue report. You should follow this issue to be informed on the fix progress.

##### JoanGerard 11/26/2019 12:25:02

> **Attachment**: [ex-low.mov](https://cdn.discordapp.com/attachments/565154703139405824/648861775395160074/ex-low.mov)


does anybody know what could be happening here?


it works for the first few translations but it seems that there is a cumulative error somewhere that gets worst in time ...



%figure
![Screen_Shot_2019-11-26_at_1.07.21_PM.png](https://cdn.discordapp.com/attachments/565154703139405824/648857400941477888/Screen_Shot_2019-11-26_at_1.07.21_PM.png)
%end


but after 3 minutes of simulation the robot seems to disarm and the wheels start to walk away the robot body... really weird


hello, I am trying to run a simulation with the custom robot of example distance\_sensor.wbt. After X steps I should reset the initial position of my robot to be 0,0,0. I'm using a Supervisor class just like it is shown in the soccer.wbt example but with python. This is my code: 



robot\_sup = robot.getFromDef("e-puck")

    robot\_trans = robot\_sup.getField("translation")

    robot\_trans.setSFVec3f([0, 0, 0])

##### Dorteel 11/25/2019 21:38:55
Thank you `@Fabien Rohrer` !

##### SimonDK 11/25/2019 21:08:03
`@Stefania Pedrazzi` Thanks, that's exactly it. I also needed the controller arg --synchronize to make it work properly with ROS ðŸ¥³

##### David Mansolino [cyberbotics] 11/25/2019 13:39:06
You're welcome.

##### nighthearing 11/25/2019 13:38:30
`@David Mansolino` Thanks for your response a few days ago! If I have more questions, I'll follow up!

##### Fabien Rohrer [Moderator] 11/25/2019 12:59:00
`@Dorteel` I can only tell that your python environment miss to load an internal resource: libmpi.so.20. The first thing to try is to locate this resource on your computer, and try to add in it LD\_LIBRARY\_PATH.

##### Dorteel 11/25/2019 12:07:39
Hi `@Fabien Rohrer` , the problem is, that it's only in WeBots that it doesn't work, it works in any other IDE (including PyCharm), that's why I referred to you guys. I use the Shebang line to define the environment if that's any help. But I'll try to find another solution, just thought you guys might know something about it.

##### Fabien Rohrer [Moderator] 11/25/2019 11:24:02
`@Dorteel` Sorry, I don't know about this error. It's likely to be an issue when importing a third party library. Could I kindly redirect you to the support of pycharm/python ?

##### Gautier A. 11/25/2019 11:23:06
Thank you a lot ! ðŸ™‚


Ok, I'm gonna try that !

##### Fabien Rohrer [Moderator] 11/25/2019 11:22:24
[https://cyberbotics.com/doc/guide/tinkerbots](https://cyberbotics.com/doc/guide/tinkerbots)


If you go in the way I suggest about to use a Supervisor to assembly the tiles, slots could be use to facilitate their assembly (cf. the tinkerbots examples)


`@Gautier A.` I would say that a slot is more a matter on how two protos are connected together.


`@Gautier A.` `@Stefania Pedrazzi` I confirm that a Group does not solve the issue, because currently a Robot cannot be inserted in it (but a Solid can).

##### Dorteel 11/25/2019 11:19:37
Do you have any suggestions?


Hi again guys, I run into a problem when trying to import some libraries from stable\_baselines, using the same environment I have no issues in PyCharm, so I'm not sure what the problem is
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/648482732967723009/unknown.png)
%end

##### Gautier A. 11/25/2019 11:14:36
Field*


Also, wouldn't a "slot" works ?


Thanks you a lot


Both are very good idea ! I'm gonna test them out !

##### Stefania Pedrazzi [cyberbotics] 11/25/2019 11:12:45
probably not,  just the Solid nodes

##### Fabien Rohrer [Moderator] 11/25/2019 11:12:21
I'm testing this right now.


You're right, but I'm not sure we support this. Is it possible to add Robot inside a Group?

##### Stefania Pedrazzi [cyberbotics] 11/25/2019 11:11:01
What about using a Group as a top node? You will be able to add multiple independent Solid children nodes from the procedural PROTO

##### Fabien Rohrer [Moderator] 11/25/2019 11:10:45
A better approach would be rather to create a PROTO per tile, and to assembly them using another mechanism, typically a Supervisor can import PROTO in a scene.


(our PROTO system should deal with multiple top nodes to be able to manage this case)


Because of this, and the fact that we do other assumptions on the top nodes, it seems unfortunately to be not possible to achieve this this way.


You unfortunately reached a limitation of our PROTO system which can handle only one root node.

##### Gautier A. 11/25/2019 11:03:10
That would be pretty nice  !


It's the fact that it's treated as a "big object", instead of little small objects, in prescence of force that I would like to correct
> **Attachment**: [HowTo2-2019-11-25\_12.00.34.mp4](https://cdn.discordapp.com/attachments/565154703139405824/648478732285116426/HowTo2-2019-11-25_12.00.34.mp4)

##### Fabien Rohrer [Moderator] 11/25/2019 11:02:01
(I definitvely have to add a new background of space for such 0 gravity areas ðŸ™‚ )

##### Gautier A. 11/25/2019 10:58:35
Could I modelize the "docking" of these differents object on Webots (and the necessary force to seperate themselves from the central dock) ? If not, how could I do in order that, even if these objects are generated by a lua proto, they're considered separated and with differents physics ?


I would like my "robot" to not be considered as a "big object" by my physics engine but "multiple object" docked in a central one


So, I have this proto node that generate some other other solid in its "children" thanks to some Lua. The  behavior of the proto in itself is what we excepted, the only thing is that we want to separate the "physics" of the different solid (exemple : At the end of the video, I apply a force on some of the mirror, and I would like that these mirrors "undocks" and just go the other way of the rest of the structure)
> **Attachment**: [HowTo-2019-11-25\_11.49.28.mp4](https://cdn.discordapp.com/attachments/565154703139405824/648477047772938260/HowTo-2019-11-25_11.49.28.mp4)


Thank you !

##### Fabien Rohrer [Moderator] 11/25/2019 10:53:13
ðŸ˜„ Please ask!

##### Gautier A. 11/25/2019 10:51:27
I have another question on a different topic, if I might ? ðŸ˜…


Thank you a lot ! ðŸ™‚


Ok, I totally understand your point of view

##### Fabien Rohrer [Moderator] 11/25/2019 10:27:54
we currently do not provide better solution. But it would be possible to change our rendering engine to optionnaly sort polygons (but we should see a big interest in this topic, which is currently not the case).


This is good enough to render simple cases (rectangular glasses, etc.) but not to render well complex meshes.


Our solution is about to sort transparent objects according to their center, but not to sort polygons, because it has a big cost in term of performance.


transparent objects is a global issue in computer graphics, without perfect solutions.

##### Gautier A. 11/25/2019 10:22:01
If I need to have a transparent texture on an object though, how would I have to do to not encounter this kind of problem ?


It worked, thank you a lot !

##### Fabien Rohrer [Moderator] 11/25/2019 10:15:14
(do this for all your textures)

##### Gautier A. 11/25/2019 10:15:11
Ok, I'm gonna try that ! Thank you !

##### Fabien Rohrer [Moderator] 11/25/2019 10:14:24
voila


To do so, simply open your image in Gimp, and select the "Layer / Transparency / Remove alpha chanel", and override your previous texture.


You can simply solving this by removing the alpha layer from your textures. This is a condition to switch the objects into the transparent render queue.


This is because your object is rendered as a transparent object.

##### Gautier A. 11/25/2019 10:12:05
these "bugs" of display only appear when I use textures. Without any textures, webots render the model prefectly fine


I used the blender addon for blender 2.79 to export it and transform it in proto


[https://www.youtube.com/watch?v=\_azoSKFOYu0&feature=youtu.be](https://www.youtube.com/watch?v=_azoSKFOYu0&feature=youtu.be)


`@Fabien Rohrer` Hi, thank you for your response. Sorry I was uploading the video on youtube because I wasn't able to put it on the discord

##### Fabien Rohrer [Moderator] 11/25/2019 10:08:53
`@Gautier A.` Hi. Could you add precisions? Do you use the blenderToWebots addon?

##### Gautier A. 11/25/2019 10:08:03
Hello, I have a problems with a proto I exported from Blender

##### Dorteel 11/25/2019 08:37:33
Thank you very much `@Stefania Pedrazzi` I'll try that!

##### Stefania Pedrazzi [cyberbotics] 11/25/2019 08:37:05
Calling `(super, Robot).step()` vs `(super, CustomEnv).step()` you should be able to control which function is called.

##### Dorteel 11/25/2019 08:34:19
Yes, the controller needs to inherit methods with the same name from both parents, and I'm not sure how it works when these methods are used by other packages.

##### Stefania Pedrazzi [cyberbotics] 11/25/2019 08:34:16
This is a common programming issue that could be solved by specifying the class in the call: [https://stackoverflow.com/questions/3810410/python-multiple-inheritance-from-different-paths-with-same-method-name](https://stackoverflow.com/questions/3810410/python-multiple-inheritance-from-different-paths-with-same-method-name)


Hi `@Dorteel`, if I understand correctly your issue is simply than both base classes have the same method name , is it correct?

##### Dorteel 11/25/2019 08:28:25
Hi! I'm trying to make parts of my WeBots simulation as a Gym environment for RL (python) ([https://stable-baselines.readthedocs.io/en/master/guide/custom\_env.html](https://stable-baselines.readthedocs.io/en/master/guide/custom_env.html) ). However, having troubles with implementing it with the supervisor class. I was trying double inheritance, but didn't succeeed so far, as both Robot and Gym requires a step() function. Might be that there is just an easy programming workaround I don't know about? Any suggestions?

##### Stefania Pedrazzi [cyberbotics] 11/25/2019 07:29:05
`@Prasad` I'm sorry that you have some issues using Webots and we are continuously trying to help you solving them. I'm also sure that there are workarounds for the coordinates issue and any other issue you will find. Please tell me if I'm wrong, but I have the feeling that you are trying to port one by one your Gazebo code in Webots and you are expecting that Webots works exactly the same way as Gazebo. But this is not the case, they are two different software that have been programmed independently following different standards. I think that to get the best from Webots (also in terms of performance) it would be better to try to understand how Webots works and adapt the code.


`@Prasad` in Webots it is possible to change the direction of the up vector and the direction of the north using the `WorldInfo.gravity` and `WorldInfo.northDirection` this should be sufficient to customize the global coordinates of the world. Please check the documentation `[https://cyberbotics.com/doc/reference/worldinfo](https://cyberbotics.com/doc/reference/worldinfo)` and try to play with these parameters. If it still you cannot achieve what you want, then you could open an issue and we will evaluate it.


`@Moumen` to start with Webots I suggest you to read the Tutorials ([https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)). Here it is also explained how to program a robot. If after checking them it is still not clear how to run some code, please don't hesitate to ask again.


`@SimonDK` to execute just one step you can set the mode to REAL\_TIME, run the  `wb_robot_step(time)` function where `time` corresponds to the worlds basic time step (to execute one step) and then set the mode to PAUSE.


As documented in the `Compass` node documentation page ([https://cyberbotics.com/doc/reference/compass?tab-language=python](https://cyberbotics.com/doc/reference/compass?tab-language=python)) the Webots north direction is the one set in the `WorldInfo.northDirection` field this is fully customizable and you are free to change it and adjust it to your needs. It "some north in infinity" and has nothing to do with the floor or any object in the scene. The Compass node works just fine in retrieving the orientation of a robot and that's what does: it returns the orientation of the device with respect to the `WorldInfo.northDirection`.


`@Prasad` yes it is possible to retrieve the Floor size. You have to use the Supervisor API ([https://cyberbotics.com/doc/reference/supervisor?tab-language=python#wb\_supervisor\_node\_get\_def](https://cyberbotics.com/doc/reference/supervisor?tab-language=python#wb_supervisor_node_get_def)) to get the node and the  `Node.getField` (wb\_supervisor\_node\_get\_field) and `Field.getSFVec2` to retrieve the value of the "size" field. For an example you could for example look at the way the slave robots translation fields is read in the `projects/languages/python/worlds/example.wbt` sample simulation.

##### Prasad 11/25/2019 03:20:41
Also, sorry to say this. Camera does not work properly. Rover gets stuck repeatedly. Coordinates are flipped. I do not think I can build a production ready SITL with Webots. I am quite frankly disappointed with flipped coordinates. I am thinking about archiving my repository citing the same reason by tomorrow. I would appreciate any insight/input.


Also, I am facing one terrible problem which is significantly consuming my development time (which I believe is unnecessary). The Y coordinates in Webots is flipped. There should be one option for the user to select the direction of Y coordinates (with reference to the floor). Should I raise an enhancement issue regarding the same?

##### SimonDK 11/24/2019 22:35:17
In the Supervisor controller, there are options for reset, pause, set real time, run, and fast. Isn't there an option to execute one simulation step like there is from the menu inside Webots?

##### Moumen 11/24/2019 16:25:33
It probably doesn't work that way


I wanna just put some code and see if a robot moves


I'm kind of new to this stuff


How does webots work exactly

##### ZOLTAN OPS 11/24/2019 13:07:11
im new to webots


`@Fabien Rohrer`  how would I open a world with compass.c?

##### Prasad 11/24/2019 09:26:31
I have one more question. What does compass do? I believe it gives the orientation of the robot. But, where is the magnetic north? Is it the north of the webots floor or some north in infinity? Am I better off using gyro or should I use compass to get the orientation of the Pioneer rover?


I am using Python. Floor("floor") does not work. I was thinking about programmatically extracting the attributes of the floor in the controller


I am figuring out a workaround for the bug [https://github.com/cyberbotics/webots/issues/1081](https://github.com/cyberbotics/webots/issues/1081)

Question: Can I get the floor size in the controller?

##### SimonDK 11/23/2019 15:12:59
Hi `@David Mansolino` , thanks for that. Have been trying it out, but every time I use any of those service calls from ROS, Webots crashes/freezes ðŸ¤”Any idea why? I am just running the Pioneer ROS example with Webots running on a remote machine. Everything works fine, can do mapping and control the robot.



Edit: figured it may be related to an issue on github, where the environment may freeze on Mac.

##### David Mansolino [cyberbotics] 11/23/2019 12:23:31
Hi `@SimonDK`, yes, you first have to make sure that the 'supervisor' field of your robot is set to 'TRUE' then you can use the supervisor services: 

[https://cyberbotics.com/doc/reference/supervisor?tab-language=ros#wb\_supervisor\_simulation\_set\_mode](https://cyberbotics.com/doc/reference/supervisor?tab-language=ros#wb_supervisor_simulation_set_mode)

[https://cyberbotics.com/doc/reference/supervisor?tab-language=ros#wb\_supervisor\_world\_load](https://cyberbotics.com/doc/reference/supervisor?tab-language=ros#wb_supervisor_world_load)

##### SimonDK 11/22/2019 23:59:03
I have a simulation connected with ROS and have access to the services. Is there a way to reset and pause the simulation from ROS?

##### Fabien Rohrer [Moderator] 11/22/2019 19:03:56
The robot is a blue 2 wheeled robot equipped with a motorized yellow arrow. The controller makes in order that the yellow arrow point always the north, using the compass feedback.


Yes, there are other stuff. If you open this world in Webots, it will be self explanatory ðŸ˜‰


You can put the Compass directly into the Robot.children.

##### ZOLTAN OPS 11/22/2019 18:23:37
For the compass, is there an object i need to make a child of the robot to put a compass on the robot?

Also the first one you posted, is that all code for one compass or is there other stuff in there with it like motors. `@Fabien Rohrer`

##### Fabien Rohrer [Moderator] 11/22/2019 15:57:29
[https://github.com/cyberbotics/webots/blob/master/projects/samples/devices/controllers/compass/compass.c](https://github.com/cyberbotics/webots/blob/master/projects/samples/devices/controllers/compass/compass.c)


`@ZOLTAN OPS` you certainly look for this example: [https://github.com/cyberbotics/webots/blob/master/projects/samples/devices/worlds/compass.wbt](https://github.com/cyberbotics/webots/blob/master/projects/samples/devices/worlds/compass.wbt)


This is very convenient to create robots with optional parts, or to reuse subparts.


`@lunarpulse` are you aware that you can write PROTO files programnatically? [https://www.cyberbotics.com/doc/reference/procedural-proto-nodes](https://www.cyberbotics.com/doc/reference/procedural-proto-nodes)

##### ZOLTAN OPS 11/22/2019 15:50:42
Is there anyone that could give me a brief explanation of how i would write a basic compass that works on a robot? Using C

##### Fabien Rohrer [Moderator] 11/22/2019 15:50:14
`@Dorteel` wouldnâ€™t be simpler to merge your supervisor with your controller? After all, a supervisor is simply a special controller

##### Dorteel 11/22/2019 14:46:24
Hi! Is there a way to make a robot controller wait for for a supervisor to give 'permission' to take a step in the environment? I'm trying to set up a reinforcement learning environment, so would like the supervisor to make the calculations, and the robot to "stand by" in the meanwhile

##### lunarpulse 11/22/2019 00:22:20
Is there a safe and convenient way to swap parts of the robot or solid pragmatically? I have 20+ parts to scan with LiDARs and these parts needs to be swapped conditionally, by time elapsed.

##### David Mansolino [cyberbotics] 11/21/2019 22:45:27
If you want to get directly Joystick inputs from your script without using Webots you might use OIS ([https://github.com/wgois/OIS](https://github.com/wgois/OIS)) directly in your script.


I am not sure to understand what you mean by bypassing Webots? If you want to use the Webots API you need Webots to run as it is Webots that is getting the joystick inputs and then transmit them to the controller.


HI `@nighthearing`, yes of course this is feasible. Please find an example that use the Joystick API to control a car using a G29 (or other steering wheel model) here (the example is in C++, but the Python API is exactly the same): [https://github.com/cyberbotics/webots/tree/revision/projects/vehicles/controllers/racing\_wheel](https://github.com/cyberbotics/webots/tree/revision/projects/vehicles/controllers/racing_wheel)

##### nighthearing 11/21/2019 20:27:17
Hello. I'm about 1 hour into discovering webots. I've been looking for an approach to controlling the Logitech G29 steering wheel. Based on the documentation and input from `@Fabien Rohrer` back in September, it sounds like this is totally possible. I was hoping that I could just write a Python script to do this but my ignorance is getting the best of me. Should I be able to directly import the Joystick API (i.e., `from controller import Joystick API`) and connect to the steering wheel? 

```
from controller import Joystick
stick = Joystick()
stick.enable()
```

Edit: Also, can I bypass using the backend Webots server to use this API?

##### David Mansolino [cyberbotics] 11/21/2019 14:41:53
Ok, good news. You're welcome for the help

##### Dorteel 11/21/2019 14:26:49
But I checked it again and it works now, I have absolutely no idea why. Thanks for the help though!


yes, Ubuntu 18.04.3

##### David Mansolino [cyberbotics] 11/21/2019 14:22:38
That's indeed strange, are you both runnin on the same OS ?

##### Dorteel 11/21/2019 14:17:53
Thanks for taking the time to check it `@David Mansolino` . I have WeBots up-to-date, and none of the objects are None. However I gave the whole world and controller to my friend, and he could also run it perfectly, so have no idea what's wrong

##### David Mansolino [cyberbotics] 11/21/2019 13:58:39
Ah ok, sorry I misunderstood your question. Webots uses it's own rendering engine called wren: [https://github.com/cyberbotics/webots/tree/revision/include/wren](https://github.com/cyberbotics/webots/tree/revision/include/wren)

And it also uses Qt to load images.

##### KamiRonin 11/21/2019 13:56:59
`@David Mansolino` Well, thanks! I have thought that processing of rendering of textures, is function not from API Webots, and internal.

##### David Mansolino [cyberbotics] 11/21/2019 13:53:52
`@KamiRonin` you can find more info about the Webots API here: [https://cyberbotics.com/doc/guide/programming-fundamentals](https://cyberbotics.com/doc/guide/programming-fundamentals)


`@Dorteel`, I had to slightly change your controller to make it run with my test world, but I have no crash. Can you please:

  1. Make sure that you are using the latest version of Webots.

  2. check that when you do both `obj = self.getFromDef('GOAL')` and `dest = obj.getField('translation')` None of the result are equal to `None`.

##### KamiRonin 11/21/2019 13:34:15
Well, thanks big for the help! I will try different libraries for operation with jpeg, one question, Webots engine important concrete name or what or API functions of such library?

##### David Mansolino [cyberbotics] 11/21/2019 13:31:18
I am not familiar with GnuWin, but it is probably worth trying it.

##### KamiRonin 11/21/2019 13:23:00
`@David Mansolino` I am sorry, for my English! No, for me any package, framework or the software environment has not installed libjpeg.dll in Windows. Review and processing of these files is carried on through something else. Now there is a question - which library from what framework to take and instal for me that Webots worked through it. GnuWin will approach?

##### David Mansolino [cyberbotics] 11/21/2019 13:19:47
`@Dorteel`, thank you I will try it and let you know


I am sorry but I do not fully understand your last message, Webtos does provide everyhing that you need to run it. However, it might happen that other software badly designed already intalled on your computer can 'corrupt' your Windows by adding some libraries (in your case libjpeg) that are not compatible with the ones used by Webots.

##### Dorteel 11/21/2019 13:18:00
Thanks for looking at it `@David Mansolino`
> **Attachment**: [masterv2.py](https://cdn.discordapp.com/attachments/565154703139405824/647063165279928321/masterv2.py)

##### KamiRonin 11/21/2019 13:16:48
`@David Mansolino` hm, no, any library has not found. That is it not complete with Webots? ok what to instal? It is enough to throw in Win a folder and all?

##### David Mansolino [cyberbotics] 11/21/2019 13:11:20
Ok, can you check on your computer if you have any 'libjpeg.dll' (or similar) in your 'Windows' folder (e.g. `C:\Windows\System32\libjpeg.dll`)?

##### KamiRonin 11/21/2019 13:06:59
Here so
%figure
![SPOILER_unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/647060391289028609/SPOILER_unknown.png)
%end


`@David Mansolino` Tried all customisations and High, and Average, and Low.

png textures of any size are displayed normally and fast, jpg he considers as an unsupported format, neither progressive, nor standard, any size, bitreit and so on

##### David Mansolino [cyberbotics] 11/21/2019 13:00:38
Can you check in the preferences what is the value for the 'Texures Quality'?

[https://cyberbotics.com/doc/guide/preferences#opengl](https://cyberbotics.com/doc/guide/preferences#opengl)

##### KamiRonin 11/21/2019 12:57:43
`@David Mansolino` No, changes are not present. The same warnings also are not displayed textures.


`@David Mansolino` yes, one moment. I try...

##### David Mansolino [cyberbotics] 11/21/2019 12:51:32
`@KamiRonin`, can you try temporarily just to remove completely all the content of your 'PATH' environment variable and then start Webots


`@Dorteel` , the fact that you did import the Solid before should not cause any issue. Would you agree to share your controller so that we can check what is happenning?

##### KamiRonin 11/21/2019 12:20:53
`@David Mansolino` I in all variables of environment PATH do not have paths to libraries libjpeg where to look - that it is necessary to register for Webots? Path addition to bin or lib has not helped folders Webots, he all as does not distinguish texture.

##### Dorteel 11/21/2019 12:18:09
The Solid I used is imported through importMFNode when running the controller, and it is not saved in the world file, could that be the issue?


There is the same implementation in the python example.wbt with the Robot teleportation, so have no idea what went wrong.


Hi again! I have an issue when trying to set the translation field of a Solid with setSFVec3f, WeBots shuts down. Here is a snippet of the Python code, last line causes the crash:
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/647045582225014784/unknown.png)
%end

##### Stefania Pedrazzi [cyberbotics] 11/21/2019 10:46:30
`@JoanGerard` I tested the streaming server from a docker image and  I could successfully run it using the default Webots image "cyberbotics/webots:R2019b-rev1" (and just adding the "--no-sandbox" options to the Webots command). Maybe this could be an alternative for you as well.

##### Dorteel 11/21/2019 10:27:24
Thank you `@Stefania Pedrazzi` !

##### Stefania Pedrazzi [cyberbotics] 11/21/2019 10:26:41
Hi `@Dorteel` yes there are the import Supervisor API functions:

- [https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_field\_import\_mf\_node\_from\_string](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_field_import_mf_node_from_string)

##### Dorteel 11/21/2019 10:25:08
Hi guys! Is there a way to add nodes with code as a supervisor? I can't seem to find it in the documentation, only wb\_supervisor\_node\_remove.

##### David Mansolino [cyberbotics] 11/21/2019 07:38:57
`@KamiRonin` I think I already saw this issue once, it was du to another libjpeg somewhere in the PATH. Please try cleanning your PATH environment variable before starting Webots.

##### KamiRonin 11/21/2019 07:29:15
`@Stefania Pedrazzi` I reinstalled Webots twice. Once it was installed in folder Users/MyName, at times (having deleted and having cleaned system), I have forced it to be installed in Program files.

After the second installation, there was a first start and textures from jpg files were visible, but right after an output and an input anew in the program - they any more were not shown.

What paths need to be registered in PATH for Webots?

##### Stefania Pedrazzi [cyberbotics] 11/21/2019 07:21:24
`@KamiRonin` no you don't have to convert the textures. JPG textures should work out of the box when installing Webots. If it doesn't then there could be some issues with the Webots installation or with your system PATH. I would first suggest you to download again Webots and reinstall it. If it still doesn't work we should inspect your environment settings.

##### KamiRonin 11/20/2019 17:31:24
Greetings to all.

Has installed Webots r2019b rev1 on Windows 10 and followed lessons from the documentation.

But in a window 3D I see that textures are not displayed, and to consoles writes "/Webots/projects/default/worlds/textures/gray\_brick\_wall.jpg ' is not a power of two: rescaling it from-1x-1 to 0x0." And "projects/default/worlds/textures/gray\_brick\_wall.jpg ': Unsupported image format.".

But after all it is textures from the delivery and with them it is obvious everything is all right.

After some search has found out that jpg/jpeg a file of textures the program rejects ANY. Accepts normally only png!



To me that to convert all textures installed with the program in png?

##### ClBaze 11/20/2019 14:05:16
Exact, I can see it. Thank you very much!

##### Fabien Rohrer [Moderator] 11/20/2019 14:03:59
This option is stored as a string under the "General/extraProjectsPath" key.


Then the Webots preferences are stored into INI config files (one per Webots version) into your ~/.config/Cyberbotics directory. Please modify these files with care ðŸ˜‰

##### ClBaze 11/20/2019 14:01:20
ubuntu 16.04

##### Fabien Rohrer [Moderator] 11/20/2019 14:01:09
This depends on the OS. On which OS are you working?

##### ClBaze 11/20/2019 13:59:36
It's working ðŸ™‚ . I suppose Webots saves its preferences to a file. Where can I find it ? I don't find it in its installation folder.

##### Fabien Rohrer [Moderator] 11/20/2019 13:25:06
You could add there a path to a generic project directory containing your generic PROTOs. They should be defined in a "protos" directory (as usual in fact).


Ok, we have indeed a mechanism to set supplementary paths in order to search for general protos: it's about to add a directory in the "Webots Preferences / General / Extra Project Path".


I'm checking, at some point we had a mechanism to add a resource folder.


Hi clement.

##### ClBaze 11/20/2019 13:14:29
Hi guys! I've made several protos (1 folder per proto) in the main "protos" folder of my webots project. When I try to make another proto using these last ones, Webots console outputs: "error: Skipped unknown node "artag" or Proto". If I move all the protos in the same folder, I can reference them. What is the best way to make a proto that can be used by several protos ?

##### Stefania Pedrazzi [cyberbotics] 11/20/2019 08:49:08
`@Sohil` which transform do you want to publish? Currently it is not possible to retrieve directly the transform matrix from a parent node to a descendant node using the Webots API, but you can compute it in your controller program based on the camera and robot global position and orientation ([https://www.cyberbotics.com/doc/reference/supervisor?tab-language=ros#wb\_supervisor\_node\_get\_orientation](https://www.cyberbotics.com/doc/reference/supervisor?tab-language=ros#wb_supervisor_node_get_orientation))


`@JoHn` it is not possible to change the coordinate system of the Lidar device itself. The tilt will always be along the X axis of the Lidar device node and rotation along the Y axis (see the documentation [https://www.cyberbotics.com/doc/reference/lidar#field-summary](https://www.cyberbotics.com/doc/reference/lidar#field-summary)). About the graphical shape, you can add a Tranform inbetween to change it and if you need to change the coordinates of the Lidar device values you have to do it manually in the controller program.

##### Sohil 11/20/2019 04:25:36
Hi guys! I am working with Webots and ROS. I wanted to know if there is any neat way to publish transforms for suppose between cameras and robot?

##### JoHn 11/19/2019 18:43:13
Is there any chance to modify the default coordinate system of the lidar? Thanks a lot!


But apparently, the current lidar will not work because the laser beams are shooting to the ground and the sky.



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/646419343931867156/unknown.png)
%end


But what I really want is, the lidar has the coordinate system shown below:



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/646419010883420170/unknown.png)
%end


Hi guys, I'd like to ask a question about the lidar coordinate system. I added a lidar to the vehicle and the default coordinate system is shown in figure below:

##### ClBaze 11/19/2019 13:36:42
great ! thanks

##### Fabien Rohrer [Moderator] 11/19/2019 13:28:10
(2 eulerAndAxis rotations are multiplied)


Here is a typical usage: [https://github.com/cyberbotics/webots/blob/revision/projects/devices/sick/protos/SickLdMrs.proto#L46](https://github.com/cyberbotics/webots/blob/revision/projects/devices/sick/protos/SickLdMrs.proto#L46)


wbrotation.lua deals with some typical rotations issues you may have with Webots.


In the procedural PROTO, you have access to these modules: [https://github.com/cyberbotics/webots/tree/revision/resources/lua/modules/webots](https://github.com/cyberbotics/webots/tree/revision/resources/lua/modules/webots)


Yes, there is, but a small/limited one ðŸ˜‰

##### ClBaze 11/19/2019 12:59:32
If not, is there any recommendations on how and where to include such library so that it is accessible from lua in proto files ?


Does Webots include any lua module to calculate frame transformations and manipulate quaternions ?

##### Olivier Michel [cyberbotics] 11/19/2019 12:39:48
`@Nocturnal Warfare`: yes, it seems there is still a problem with this image... I am going to check it as soon as possible.

##### ClBaze 11/19/2019 11:09:28
it works thanks !


Ok I see

##### Fabien Rohrer [Moderator] 11/19/2019 11:08:57
Otherwise the name is not protected correctly, and is interpreted by the wbt parser.


>>> %{= "\\"toptag" .. tostring(i) .. "\\"" }%


The point is to add a \" character at the beginning and at the end of your string, like this:


Yes, I see.

##### ClBaze 11/19/2019 11:06:27
but I get an error: Expected string literal, found 'top\_tag\_0'.


Robot {

    children [

      %{ for i = 0, 6 do }%

        ARTag {

          translation 0.25 -0.649755 0.0942168

          rotation -5.338508348004178e-08 -0.7071067811865466 0.7071067811865466 3.14159

          size         0.1 0.1 0.001

          name         %{="top\_tag\_" .. tostring(i)}%

        }

      %{ end }%


Hi guys, I'm making a procedural proto which have to add several solid to the children field of the robot. I'd like to give a unique name to these solid using lua.

##### HE110 11/19/2019 10:54:47
My English is poor,I copy all code and cant run anyone

##### Fabien Rohrer [Moderator] 11/19/2019 10:53:08
Did you tried our tutorial first? [https://cyberbotics.com/doc/guide/tutorials?tab-language=python](https://cyberbotics.com/doc/guide/tutorials?tab-language=python)

##### HE110 11/19/2019 10:52:00
Thank u in general


...................


I just want to practice programming

##### Fabien Rohrer [Moderator] 11/19/2019 10:48:45
yes, I'm quite sure my code is running smoothly

##### HE110 11/19/2019 10:47:41
I can't


can your code run right in your computer?

##### Fabien Rohrer [Moderator] 11/19/2019 10:47:15
left and right variables are Motor instances.


No, I use motor.setPosition()

##### HE110 11/19/2019 10:46:02
But in your code u use robot.setposition

##### Fabien Rohrer [Moderator] 11/19/2019 10:45:30
What do you expect? to teleport the robot?


you have to control the motors.


robot.setPosition() does not exists.

##### HE110 11/19/2019 10:44:27
I still cant use robot.setposition

##### Fabien Rohrer [Moderator] 11/19/2019 10:44:26
[https://cyberbotics.com/doc/reference/robot?tab-language=python#getmotor](https://cyberbotics.com/doc/reference/robot?tab-language=python#getmotor)


you should use the Robot.getMotor() function instead


but this is not how the API should be use:


because you use Motor('')

##### HE110 11/19/2019 10:43:20
I need import motor

##### Fabien Rohrer [Moderator] 11/19/2019 10:43:04
great

##### HE110 11/19/2019 10:42:55
It's running right this time


`@Fabien Rohrer`


from controller import Robot

from controller import Motor

robot = Robot()

timestep = int(robot.getBasicTimeStep())

TIME\_FOR\_A\_CIRCLE = 10.0   # 10 seconds to do a perfect circle? => to adjust



left = Motor("left wheel motor")

right = Motor("right wheel motor")

left.setPosition(float('inf'))  # Set motor in speed mode

right.setPosition(float('inf'))  # Set motor in speed mode



while robot.step(timestep) != -1:

    

    time = robot.getTime()

    if time < TIME\_FOR\_A\_CIRCLE:

        

        right.setVelocity(6)

        left.setVelocity(3)

    elif time < 2.0 * TIME\_FOR\_A\_CIRCLE:

        

        right.setVelocity(3)

        left.setVelocity(6)

    else:

        

        

        print('quit')

        break


I use python regularly

##### Fabien Rohrer [Moderator] 11/19/2019 10:27:06
you're welcome, I hope you'll find the issue. Sorry for the bad first impression. What you experiment is not regular.

##### HE110 11/19/2019 10:25:43
Thank u again


Ok

##### Fabien Rohrer [Moderator] 11/19/2019 10:24:18
ok, this is fine. but check that it's really the 64 bits version, and that the correct python is launched by Webots (cf. Webots preferences / Python command)

##### HE110 11/19/2019 10:23:13
Im using 3.7

##### Fabien Rohrer [Moderator] 11/19/2019 10:23:00
or 3.7

##### HE110 11/19/2019 10:22:51
2.7?

##### Fabien Rohrer [Moderator] 11/19/2019 10:22:21
2.7 64bits, from the official website

##### HE110 11/19/2019 10:22:21
Thank u


ok

##### Fabien Rohrer [Moderator] 11/19/2019 10:21:56
please, reinstall Python too ðŸ™‚

##### HE110 11/19/2019 10:21:38
Im going to reinstall webots and try aaaaaaaagain

##### Fabien Rohrer [Moderator] 11/19/2019 10:20:52
[https://cyberbotics.com/doc/guide/using-python#windows-installation](https://cyberbotics.com/doc/guide/using-python#windows-installation)


How did you install python?


I suspect an issue with Python.

##### HE110 11/19/2019 10:19:35
Nice ,I want to kill this computer now

##### Fabien Rohrer [Moderator] 11/19/2019 10:19:18
wow, that's really weird

##### HE110 11/19/2019 10:18:52

%figure
![JPEG_20191119_181830.jpg](https://cdn.discordapp.com/attachments/565154703139405824/646293305885196288/JPEG_20191119_181830.jpg)
%end

##### Fabien Rohrer [Moderator] 11/19/2019 10:15:47
for sure, setPosition is a member of the Motor class.


Could you try this project?



> **Attachment**: [8.zip](https://cdn.discordapp.com/attachments/565154703139405824/646292415531057153/8.zip)

##### HE110 11/19/2019 10:12:58
Only find in Class Motor


I cant find it in Class Robot


My controller.py ,dont have setPosition in Class Robot

##### Fabien Rohrer [Moderator] 11/19/2019 10:10:08
Let me send you a working project.

##### HE110 11/19/2019 10:09:34
Miss what?


It is really toooooo hard for me.....

##### Fabien Rohrer [Moderator] 11/19/2019 10:09:07
I think we missed a basic thing ðŸ˜‰


(otherwise nothing could work)


R2019b.rev1. But this mechanism cannot fail in any version.

##### HE110 11/19/2019 10:07:53

%figure
![JPEG_20191119_180735.jpg](https://cdn.discordapp.com/attachments/565154703139405824/646290541536870400/JPEG_20191119_180735.jpg)
%end


what is your edition?


.....

##### Fabien Rohrer [Moderator] 11/19/2019 10:06:29
(I tested, and it's working)


Did you changed something? (in the controller, or in the e-puck PROTO)


the name of the e-puck left motor is for sure "left wheel motor"


So `left = robot.getMotor("left wheel motor")` failed


It means that "left" is None.


This is very weird.

##### HE110 11/19/2019 10:04:28
.....


[PYTHON\_controller] Traceback (most recent call last):

[PYTHON\_controller]   File "PYTHON\_controller.py", line 9, in <module>

[PYTHON\_controller]     left.setPosition(float('inf'))  # Set motor in speed mode

[PYTHON\_controller] AttributeError: 'NoneType' object has no attribute 'setPosition'

##### Fabien Rohrer [Moderator] 11/19/2019 10:03:19
what's the behavior now?

##### HE110 11/19/2019 10:03:09
Im sure it's correct.

##### Fabien Rohrer [Moderator] 11/19/2019 10:00:45
Select the controller field, and press on the "edit" button. Make sure PYTHON\_controller is correct.

##### HE110 11/19/2019 09:59:36

%figure
![JPEG_20191119_175917.jpg](https://cdn.discordapp.com/attachments/565154703139405824/646288457550921740/JPEG_20191119_175917.jpg)
%end


I creating new world and try again

##### Fabien Rohrer [Moderator] 11/19/2019 09:56:56
(I just test my controller, and it's workign)


your error means that the motors cannot be found. Are you using the e-puck?

##### HE110 11/19/2019 09:54:48
[PYTHON\_controller] Traceback (most recent call last):

[PYTHON\_controller]   File "PYTHON\_controller.py", line 9, in <module>

[PYTHON\_controller]     left.setPosition(float('inf'))  # Set motor in speed mode

[PYTHON\_controller] AttributeError: 'NoneType' object has no attribute 'setPosition'


ðŸ¤”

##### Fabien Rohrer [Moderator] 11/19/2019 09:53:41
I didn't test, but this controller should do a "8". You should only adjust TIME\_FOR\_A\_CIRCLE


>>> from controller import Robot



robot = Robot()

timestep = int(robot.getBasicTimeStep())

TIME\_FOR\_A\_CIRCLE = 10.0   # 10 seconds to do a perfect circle? => to adjust



left = robot.getMotor("left wheel motor")

right = robot.getMotor("right wheel motor")

left.setPosition(float('inf'))  # Set motor in speed mode

right.setPosition(float('inf'))  # Set motor in speed mode



while robot.step(timestep) != -1:

    time = robot.getTime()

    if time < TIME\_FOR\_A\_CIRCLE:

      right.setVelocity(6)

      left.setVelocity(3)

    elif time < 2.0 * TIME\_FOR\_A\_CIRCLE:

      right.setVelocity(3)

      left.setVelocity(6)

    else:

      print('quit')

      break

##### HE110 11/19/2019 09:49:39
It is  toooooooo hard


Thanks...

##### Fabien Rohrer [Moderator] 11/19/2019 09:48:06
Let me show you...


to do a 8, you have to do a circle, then switch the velocties.


your loop is a blocking infinite loop.


It's still because you don't step the simulator: cf my comment above.

##### HE110 11/19/2019 09:45:54
It is always still


from controller import Motor

from controller import Robot

rbt=Robot()



MAX\_SPEED = 6.28

TIME\_STEP = 32

left = Motor("left wheel motor")

right = Motor("right wheel motor")



right.setVelocity(6)

left.setVelocity(3)

while 1:

    right.setVelocity(6)

    left.setVelocity(3)


TIME\_STEP is always 32


Two circles likes "8"


How can i control it to move two circles?


Im going to try it,thank u

##### Fabien Rohrer [Moderator] 11/19/2019 09:20:56
secondly, your controller quits, because "t" reaches 10, and enter in the "quit"  section (the loop is broken)


with time\_step = int(robot.getBasicTimeStep())


first of all, you need to replace time.sleep() by robot.step(time\_step)

##### HE110 11/19/2019 09:19:04
E puck cant move

##### Fabien Rohrer [Moderator] 11/19/2019 09:18:40
ok

##### HE110 11/19/2019 09:18:12
from controller import Motor

from controller import Robot

import time

rbt=Robot()



MAX\_SPEED = 6.28

left = Motor("left wheel motor")

right = Motor("right wheel motor")

t=0

right.setVelocity(6)

left.setVelocity(3)

while 1:

    time.sleep(1)

    t+=1

    if t<=5:

        right.setVelocity(6)

        left.setVelocity(3)

        # print(right)

        # print(left)

    elif 5<t<=10:       

        left.setVelocity(6)

        right.setVelocity(3)

        # print(right)

        # print(left)

    elif t>10:

        print("quit")

        break


Hold on

##### Fabien Rohrer [Moderator] 11/19/2019 09:17:39
Maybe copying your controller here?


Could you provide a better description?


It seems your controller reaches successfully the end ðŸ˜‰


Hi

##### HE110 11/19/2019 09:16:18
I programmed by python, but it told me:controller exited successful

##### Stefania Pedrazzi [cyberbotics] 11/19/2019 07:20:27
`@JoanGerard` it is a bad practice to run Webots as root. So please make sure that it works when you start Webots manually without root privileges. Then it seems that you installed Webots from the snap package. We never tested the streaming server with the snap version of Webots and it is very likely that it is doesn't work. I would suggest you to install Webots using the debian or tarball package [https://www.cyberbotics.com/download](https://www.cyberbotics.com/download)

##### JoanGerard 11/19/2019 01:43:46
So when I execute webots manually from the simulator server and I use the stream\_viewer example everything works good. 



The server.sh file needs to be executed with sudo command otherwise the simulator\_server.py crashes. The problem arises when the instance of Webots is lunched due to the connexion of a new client cause it is been executed as root. Do you have any idea on how I can solve this?
%figure
![Screen_Shot_2019-11-19_at_2.28.06_AM.png](https://cdn.discordapp.com/attachments/565154703139405824/646163679787614223/Screen_Shot_2019-11-19_at_2.28.06_AM.png)
%end

##### David Mansolino [cyberbotics] 11/18/2019 22:16:50
`@threeal` yes we do expect a better integration and performance, however since the interface is still in development we can't give precise measurements for now.

##### Nocturnal Warfare 11/18/2019 21:53:58
`@Olivier Michel` oh I got that working now thanks, but the staticmap.png doesn't work for me, it just says Google maps platform rejected your request

##### threeal 11/18/2019 21:21:42
does the performance better in ros 2 or is it the same?

##### David Mansolino [cyberbotics] 11/18/2019 20:36:03
`@threeal`, yes, we have already an interface with ROS2: [http://wiki.ros.org/webots\_ros2](http://wiki.ros.org/webots_ros2)

We are still improving it, you can follow the development and get the latest version here: [https://github.com/cyberbotics/webots\_ros2.git](https://github.com/cyberbotics/webots_ros2.git)

##### Olivier Michel [cyberbotics] 11/18/2019 20:28:35
`@Nocturnal Warfare`: I tried it now and it works for me, but it takes time. Just below the map, you should see a counter increasing until it displays "Ready" and the Webots fill will appear in the text area below.

##### threeal 11/18/2019 20:05:30
does webots support ros 2?

##### Nocturnal Warfare 11/18/2019 19:11:58
`@Olivier Michel` i just tried using the terrain generator and still nothing seems to be happening. Am I just using it wrong? You just scale the map to what you want to generate then hit generate right?

##### Stefania Pedrazzi [cyberbotics] 11/18/2019 16:04:50
> ERROR: Error when creating the TCP streaming server: Cannot set the server in listen mode: The address is protected

there is clearly an issue whith the port. It seems that the address you are trying to listen on is available only to privileged applications (i.e. application ran as root).

You should check your network configurations and change them

##### JoanGerard 11/18/2019 16:02:22
while trying to execute: webots --stdout --stderr --batch --no-sandbox --mode=pause --minimize --stream="port=84;monitorActivity;controllerEdit" ~/cyberbotics/streaming\_projects/samples/worlds/binocular.wbt


thanks for your answer so I got these errors below:



ERROR: Error when creating the TCP streaming server: Cannot set the server in listen mode: The address is protected

AL lib: (WW) alc\_initconfig: Failed to initialize backend "pulse"

ALSA lib conf.c:3916:(snd\_config\_update\_r) Cannot access file /usr/share/alsa/alsa.conf

ALSA lib pcm.c:2495:(snd\_pcm\_open\_noupdate) Unknown PCM default

AL lib: (EE) ALCplaybackAlsa\_open: Could not open playback device 'default': No such file or directory

ERROR: Cannot initialize the sound engine: Cannot initialize OpenAL default device 'OpenAL Soft'

ALSA lib conf.c:3916:(snd\_config\_update\_r) Cannot access file /usr/share/alsa/alsa.conf

ALSA lib pcm.c:2495:(snd\_pcm\_open\_noupdate) Unknown PCM default

AL lib: (EE) ALCplaybackAlsa\_open: Could not open playback device 'default': No such file or directory

ERROR: Cannot initialize the sound engine: Cannot initialize OpenAL default device 'OpenAL Soft'

##### Stefania Pedrazzi [cyberbotics] 11/18/2019 12:25:26
Please try it and let us know what you get.


You can retrieve the exact command used by the simulation server script to start Webots in the logs (usually `<WEBOTS_INSTALLATION>/resources/web/server/log/simulation/output.log`) and just remove the world path


For the connection issue, a first thing to test is to start webots manually on the simulation server and try to connect to it directly using the `streaming_viewer` page ([https://github.com/cyberbotics/webots/tree/revision/resources/web/streaming\_viewer](https://github.com/cyberbotics/webots/tree/revision/resources/web/streaming_viewer))


Hi `@JoanGerard`, the issue with the GPU detection is not related to the problem connecting to the simulation server. You can check which GPU is detected by webots by running `webots --sysinfo` in a terminal on the simulation server. Are your NVIDIA drivers up-to-date?

##### JoanGerard 11/18/2019 11:13:24
can you give me a hand with this?


I receive this message together with a "WebSocket network error: The operation couldnâ€™t be completed. Connection refused" console message even though I have opened the ports from 81 to 3000 tcp on my simulator server to allow websockets communication
%figure
![Screen_Shot_2019-11-18_at_12.08.13_PM.png](https://cdn.discordapp.com/attachments/565154703139405824/645943827311362119/Screen_Shot_2019-11-18_at_12.08.13_PM.png)
%end


The monitor does not show webots running in any time I do not know why...
%figure
![Screen_Shot_2019-11-18_at_12.07.28_PM.png](https://cdn.discordapp.com/attachments/565154703139405824/645943284505509918/Screen_Shot_2019-11-18_at_12.07.28_PM.png)
%end


Hello, I'm still trying to run Webots Simulator without success... 

I receive this information on simulator server even though I'm running a GPU instance with NVIDIA Tesla P100.
%figure
![Screen_Shot_2019-11-18_at_12.01.57_PM.png](https://cdn.discordapp.com/attachments/565154703139405824/645942508873842688/Screen_Shot_2019-11-18_at_12.01.57_PM.png)
%end

##### Olivier Michel [cyberbotics] 11/18/2019 10:06:15
Hi, I just fixed the terrain generator. It should work now.

##### Stefania Pedrazzi [cyberbotics] 11/18/2019 07:13:21
`@Nocturnal Warfare` no, the terrain generator seems to be broken. We will check the issue..

##### Nocturnal Warfare 11/18/2019 04:38:06
[https://cyberbotics.com/terrain\_generator](https://cyberbotics.com/terrain_generator) does this work for anyone? I click generate and nothing happens

##### David Mansolino [cyberbotics] 11/17/2019 14:46:06
Yes of course it should be feasible.


You're welcome

##### JoanGerard 11/17/2019 14:45:10
so in theory I could use that docker image to create the simulator server right?


thanks! I will try to use that instead!

##### David Mansolino [cyberbotics] 11/17/2019 14:39:16
In that case you can take inspiration from our Docker procedure to run Webots without GUI: [https://github.com/cyberbotics/webots/wiki/Docker](https://github.com/cyberbotics/webots/wiki/Docker)


Ok, so that might be the problem if you don't have any GUI interfac

##### JoanGerard 11/17/2019 14:38:26
so I did not tried to install/open other GUI applications


I am kind of new with cloud computing so I only see the command line

##### David Mansolino [cyberbotics] 11/17/2019 14:36:57
Are you able to run other GUI application on your machine?


> but I should not receive any error message when I execute "webots --version" command right?



No indeed, it should just display the version


Ok so you tried the debian and snap, they should be fine.

##### JoanGerard 11/17/2019 14:36:15
but I should not receive any error message when I execute "webots --version" command right?


and same


It gives the same error message, then I tried this:  [https://snapcraft.io/install/webots/ubuntu](https://snapcraft.io/install/webots/ubuntu)


I installed from here: [https://cyberbotics.com/doc/guide/installation-procedure#using-advanced-packaging-tool-apt](https://cyberbotics.com/doc/guide/installation-procedure#using-advanced-packaging-tool-apt)

##### David Mansolino [cyberbotics] 11/17/2019 14:33:45
Have you installed Webots from the debian, tarball and snap package?

##### JoanGerard 11/17/2019 14:32:01
I am using this version from GCloud:

Ubuntu 18.04 LTS

amd64 bionic image built on 2019-11-13

##### David Mansolino [cyberbotics] 11/17/2019 14:30:38
`@JoanGerard` are you using the server version of Ubuntu 18.04 ?

##### JoanGerard 11/17/2019 13:19:16
`@David Mansolino` ðŸ‘†


I'm using Ubuntu 18.04


I tried executing "webots --version" on my simulation server and it throws the same error message


you mean trying to lunch a project manually on my simulation server?

##### David Mansolino [cyberbotics] 11/17/2019 09:03:42
`@JoanGerard` are able to launch Webots on your machine (directly, without using the simulation server) ?

##### JoanGerard 11/17/2019 02:48:27
When my simulation server tries to execute the following code:



/usr/local/webots/webots --batch --mode=pause --minimize --stream="port=81;monitorActivity;controllerEdit" /tmp/webots/instances/140514729

106960/worlds/four\_wheels.wbt



It throws the following error message: 



Info: Could not load the Qt platform plugin "xcb" in "" even though it was found.

Fatal: This application failed to start because no Qt platform plugin could be initialized. Reinstalling the application may fix this problem.

Available platform plugins are: xcb.

/usr/local/webots/webots: line 51:  4815 Aborted                 (core dumped) "$webotsHome/bin/webots-bin" "$@"


`@David Mansolino` I do have access to [https://www.cyberbotics.com/webots\_current\_version.txt](https://www.cyberbotics.com/webots_current_version.txt)  but Webots continues giving me that error when I try to update it. Yes, I'm interested in testing that functional prototype.

##### Dorteel 11/16/2019 17:02:18
It works again, thanks!


I tried restarting the simulation, reloading the world, and restarting WeBots too, none of them works anymore. Restarting WeBots worked once half an hour ago, but it doesn't work either anymore.

##### Tahir [Moderator] 11/16/2019 13:41:36
Can you just restart everything and check

##### Dorteel 11/16/2019 13:35:33
Didn't change anything in the controllers, so have no idea what should I try. The example was in Python

##### Tahir [Moderator] 11/16/2019 13:34:24
Hello

##### Dorteel 11/16/2019 13:33:08
Hi!

I have problems getting the sample world example.wbt to work for some reason. When I load it the keyboard commands won't work. The first time I tried had no issues with it, but now it won't work. any suggestions?

##### David Mansolino [cyberbotics] 11/15/2019 20:25:36
`@JoanGerard`, About AWS, we are currently actively collaborating with Amazon to integrate Webots in AWS RoboMaker we already have some functional prototype working with ROS2, would you be interested in testing this?


`@JoanGerard` maybe you are behind a firewall that blocks cyberbotics.com, can you access [https://www.cyberbotics.com/webots\_current\_version.txt](https://www.cyberbotics.com/webots_current_version.txt) ?

##### JoanGerard 11/15/2019 19:49:15
Do you know why I can't update Webots?
%figure
![Screen_Shot_2019-11-15_at_8.47.23_PM.png](https://cdn.discordapp.com/attachments/565154703139405824/644987297095483408/Screen_Shot_2019-11-15_at_8.47.23_PM.png)
%end


is there any tutorial on how to create a Web Simulation using AWS?

##### JoHn 11/15/2019 16:01:44
Hi `@Fabien Rohrer`, thank you very much for your response. Yes, I will open the bug report as you instructed.

##### JoanGerard 11/15/2019 16:01:08
I am working on a robot positioning prediction using ML techniques and Probabilistic methods so I developed a plugin that shows me the real, odometry, and predicted position of a simple robot in a simple environment and I would like to put it online... I would like to know if there is someone else who is working in the same or similar subject... please contact me if so.
%figure
![Screen_Shot_2019-11-15_at_4.56.49_PM.png](https://cdn.discordapp.com/attachments/565154703139405824/644929889677606912/Screen_Shot_2019-11-15_at_4.56.49_PM.png)
%end

##### Fabien Rohrer [Moderator] 11/15/2019 15:58:01
`@JoanGerard` yes, our web server example can stream the HTML robot windows: [https://cyberbotics.com/doc/guide/web-simulation](https://cyberbotics.com/doc/guide/web-simulation)

##### JoHn 11/15/2019 15:55:26

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/644928458547265547/unknown.png)
%end


Now I set 'basicTimeStep' in WorldInfo to 12, TIME\_STEP of all ServiceClient in the ROS node to 20, and the loop rate to 10.

##### Fabien Rohrer [Moderator] 11/15/2019 15:54:59
`@JoHn` regarding your log, it seems that the Webots ROS controller crashes. And not Webots. It would be awesome if you could open a bug report [https://github.com/cyberbotics/webots/issues](https://github.com/cyberbotics/webots/issues) and even more awesome if you could have a stack and a simple way to reproduce it ðŸ˜…

##### JoanGerard 11/15/2019 15:53:27
`@Fabien Rohrer`  I mean a controller plugin like this one: [https://cyberbotics.com/doc/guide/controller-plugin](https://cyberbotics.com/doc/guide/controller-plugin)

##### JoHn 11/15/2019 15:51:47
I feel that when I reduce the 'basicTimeStep' in WorldInfo, it could help. But I am not entirely sure about it.

##### Fabien Rohrer [Moderator] 11/15/2019 15:51:02
`@JoanGerard` Webots allows to stream the content of a simulation to web pages. As explained here: [https://cyberbotics.com/doc/guide/web-streaming](https://cyberbotics.com/doc/guide/web-streaming) What do you mean by plugin?

##### JoHn 11/15/2019 15:50:12
With the same setup and software, Webots launches fine sometimes, but it also crashes like this sometimes.



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/644926763268571168/unknown.png)
%end


Hi guys, an issue happens to me frequently when I launch Webots, please see the screenshot below:

##### JoanGerard 11/15/2019 15:43:23
Hello, do you know if it is possible to see a plugin in the web simulation?

##### Fabien Rohrer [Moderator] 11/15/2019 07:49:28
I recently added documentation about IDEs:  [https://cyberbotics.com/doc/guide/using-your-ide?version=revision](https://cyberbotics.com/doc/guide/using-your-ide?version=revision)

##### RossBatten 11/15/2019 03:05:21
I ended up getting it to work by swiching to vscode environment.  Still unsure of the cause


That wouldn't make sense since the folder the \_controller.pyd file resides in is Webots/lib/python37


Could be it's compiled in 2.7


I have been reading that this error comes up when the dll is compiled in a different python version to the one you're using

##### Hayden Woodger 11/15/2019 00:50:00
i had to go back to python 2.7


I had the same issue, didn't find a solution so

##### RossBatten 11/15/2019 00:49:38
?


Does this mean the file was found but the module contained was unable to be read?  Or does it mean the dll couldn't be found


ImportError: DLL load failed: The specified module could not be found.


Both files are in the source root directory: C:\Program Files\Webots\lib\python37


Any help I can get would be much appreciated


For reference, I'm using anaconda python 3.7.5 in windows


From what I can see, the \_controller.pyd file is in the same directory as the controller.py file so how is it able to find one but not the other?


I'm having trouble getting pycharm to work with webots, getting an error that it can't find \_controller that gets imported in the controller.py script

##### Hayden Woodger 11/13/2019 14:54:35
i know right


You're a legend, i was looking into fusion 360 xD

##### Fabien Rohrer [Moderator] 11/13/2019 14:53:40
I think it's the best solution, but it requires Blender skills


We usually use Blender in-between. And this Blender plugin: [https://github.com/cyberbotics/blender-webots-exporter](https://github.com/cyberbotics/blender-webots-exporter)

##### Hayden Woodger 11/13/2019 14:52:29
Fair enough, what program are you using to generate VRMLs?

##### Fabien Rohrer [Moderator] 11/13/2019 14:51:46
Yes, Webots relies on VRML97, it's a good way to import something in Webots.

##### Hayden Woodger 11/13/2019 14:50:00
I'm sure there's a very good reason why


Why not something more recent like stl, model, etc..


Seems like you can only import VRML97??


What he/she said  /\

##### ã€ŽDEMÃŽã€Ghozt (Redsign) 11/13/2019 14:48:31
I am used to designing in Catia V5. How could I import my design to webot

##### Stefania Pedrazzi [cyberbotics] 11/13/2019 07:18:08
`@Anoop` did you check if your GPU is correctly detected by Webots? could you post the content of the Help > OpenGL information message box (or the output of `webots --sysinfo`)?

##### Anoop 11/12/2019 18:26:47
HI, I'm using Windows 10 64-bit & have Nvidia gtx 1080 TI with the updated drivers. But I installed the current version of Webots, i.e., R2019b-rev1 it outouts an FATAL error; saying that "Webots use OpelGL 3.3 but only OpenGL 1.1 can be initialized. Check for latest drivers". Can anybody help with this? Thanks in Advance!

##### aysegulucar 11/12/2019 16:58:21
[http://emanual.robotis.com/docs/en/platform/op2/getting\_started/](http://emanual.robotis.com/docs/en/platform/op2/getting_started/)


Thanks


Hi, 



We try to walk op3 at webots. We are changing the codes of op2.



Is it important EEPROM Area for using op3 at simulation. they are different from op2. We did not changed them.

##### Fabien Rohrer [Moderator] 11/12/2019 08:18:39
Thank you for the bug report.


Yes, certainly. But this does not explain the crash. I would be on a bad memory management somewhere. But we should be able reproduce it in order to fix it.

##### machinekoder 11/12/2019 08:15:50
Okay I will. My guess is that has something to do with the amount of published "layer" laser scan topics, since reducing the layers fixes the issue

##### Fabien Rohrer [Moderator] 11/12/2019 08:14:27
It would be much simpler to track this issue which seems to be a bug in our ROS controller..


With info about your system (Webots version, OS version, etc.)?


[https://github.com/cyberbotics/webots/issues](https://github.com/cyberbotics/webots/issues)


Could I ask you to fill a bug report here:


To have a stack on linux, probably that the ROS controller should be build in debug mode... It begins to be too difficult to solve here.


Your GPU should work well with Webots.

##### machinekoder 11/12/2019 08:11:05
exact specs:

```
glxinfo -B
name of display: :0
display: :0  screen: 0
direct rendering: Yes
Memory info (GL_NVX_gpu_memory_info):
    Dedicated video memory: 4096 MB
    Total available memory: 4096 MB
    Currently available dedicated video memory: 2878 MB
OpenGL vendor string: NVIDIA Corporation
OpenGL renderer string: Quadro P2000/PCIe/SSE2
OpenGL core profile version string: 4.6.0 NVIDIA 410.104
OpenGL core profile shading language version string: 4.60 NVIDIA
OpenGL core profile context flags: (none)
OpenGL core profile profile mask: core profile

OpenGL version string: 4.6.0 NVIDIA 410.104
OpenGL shading language version string: 4.60 NVIDIA
OpenGL context flags: (none)
OpenGL profile mask: (none)

OpenGL ES profile version string: OpenGL ES 3.2 NVIDIA 410.104
OpenGL ES profile shading language version string: OpenGL ES GLSL ES 3.20
```


How can I generate one? the console output only give me a short error message.

##### Fabien Rohrer [Moderator] 11/12/2019 08:09:45
Do you have a stack to share when the ROS controller crashes?

##### machinekoder 11/12/2019 08:08:26
Yes, most recent nvidia proprietary drivers.

##### Fabien Rohrer [Moderator] 11/12/2019 08:07:45
`@machinekoder` Ok, and did you check your GPU drivers?

##### machinekoder 11/12/2019 08:07:05
`@Fabien Rohrer` GPU is NVidia Quadro P2000

##### Hayden Woodger 11/12/2019 08:06:54
I shall ;P

##### Fabien Rohrer [Moderator] 11/12/2019 08:06:41
`@Hayden Woodger` Please share your results ðŸ˜‰

##### Hayden Woodger 11/12/2019 08:06:16
I haven't tested un-synchronizing the controller on that yet though. I will sometime today and upload the results ðŸ™‚

##### machinekoder 11/12/2019 08:05:52
`@Fabien Rohrer` I assumed the same, but the RangeFinder doesn't give me PointCloud. So the Lidar device seems to be the better fit.

##### Fabien Rohrer [Moderator] 11/12/2019 08:05:40
On the other hand, I have not a lot experiment in other libraries than ikpy


Yes, IK is for sure a slow task.

##### Hayden Woodger 11/12/2019 08:04:31
I have applied the inverse kinematics to each arm and leg of Atlas. When I try and run the simulation, whilst telling the arms and legs to go to new x,y,z position, it dramatically slows down the simulation.

##### Fabien Rohrer [Moderator] 11/12/2019 08:01:59
Good point


> f you don't synconize the controller it'll go fast.


Yes, it was slowing down the ABB simulation, I had to reduce the controller rate to be able to run in real time. It's not very annoying in such demo, but I dreamed to use it to control the legs of a spider robot, and in this case, I think it's too slow ðŸ˜¦

##### Hayden Woodger 11/12/2019 07:58:45
If you don't synconize the controller it'll go fast.


Do you think so?

##### Fabien Rohrer [Moderator] 11/12/2019 07:57:47
(but a bit slow ðŸ˜¦ )


Yes, this Python module is amazing

##### Hayden Woodger 11/12/2019 07:57:14
I'm amazed how well ikpy works, you can pretty much apply it every robot (thank you again


Yeah yeah i've seen it, it's very impressive xD

##### Fabien Rohrer [Moderator] 11/12/2019 07:55:56
[https://www.youtube.com/watch?v=Jq0-DkEwwj4](https://www.youtube.com/watch?v=Jq0-DkEwwj4)


[https://www.cyberbotics.com/doc/guide/irb4600-40](https://www.cyberbotics.com/doc/guide/irb4600-40)

##### Hayden Woodger 11/12/2019 07:55:18
I know i've used the code a lot ;P

##### Fabien Rohrer [Moderator] 11/12/2019 07:55:06
However, we provide another example using ikpy:


At this time, ikpy was not released ðŸ™‚


Not in this example. This is a "home-made" IK algorithm: [https://github.com/cyberbotics/webots/blob/master/projects/robots/kuka/youbot/libraries/youbot\_control/src/arm.c#L184](https://github.com/cyberbotics/webots/blob/master/projects/robots/kuka/youbot/libraries/youbot_control/src/arm.c#L184)

##### Hayden Woodger 11/12/2019 07:52:37
That's awesome ðŸ™‚  I see what you mean now, thank you! I'm curious, did you use ikpy for the kinematics on the arm?

##### Fabien Rohrer [Moderator] 11/12/2019 07:47:32
This method is still in use (sorry, it was not what I meant.)


like here (old movie): [https://www.youtube.com/watch?v=9Fjyu\_wzIgc](https://www.youtube.com/watch?v=9Fjyu_wzIgc)

##### Hayden Woodger 11/12/2019 07:45:54
Used to? So what method would you use now?

##### Fabien Rohrer [Moderator] 11/12/2019 07:45:24
Yes, we use to use this way to simulate kinect cameras for example.

##### Hayden Woodger 11/12/2019 07:44:52
Thank you for your response Fabien. In your opinion, is this the fastest method in terms of response time?

##### Fabien Rohrer [Moderator] 11/12/2019 07:41:31
It's a camera which can retrieve the depth information for each pixel, using time of flight: [https://en.wikipedia.org/wiki/Time-of-flight\_camera](https://en.wikipedia.org/wiki/Time-of-flight_camera)


> Could somebody please tell what a 3D/Tof is? xD


=> what is your GPU? are you above the minimal requirements? [https://cyberbotics.com/doc/guide/system-requirements](https://cyberbotics.com/doc/guide/system-requirements) Are your drivers up-to-date?


Unless you reach a limitation with your GPU.


That said, there is no reason that the ROS controller crashes when increasing the number of layers.

##### Hayden Woodger 11/12/2019 07:38:53
Could somebody please tell what a 3D/Tof is? xD

##### Fabien Rohrer [Moderator] 11/12/2019 07:38:38
.. and more efficient


[https://www.cyberbotics.com/doc/reference/rangefinder](https://www.cyberbotics.com/doc/reference/rangefinder)


[https://cyberbotics.com/doc/guide/samples-devices#range\_finder-wbt](https://cyberbotics.com/doc/guide/samples-devices#range_finder-wbt)


Correct me if I'm wrong, but I think that using a Webots RangeFinder would be closer than a Webots Lidar node to simulate a 3D/ToF camera:


`@machinekoder` Hi,

##### machinekoder 11/12/2019 07:01:38
I've shared the sim here: [https://wolke.roessler.systems/s/q3Map9kMnPxwYA6](https://wolke.roessler.systems/s/q3Map9kMnPxwYA6)


I would like to simulate a 3D/ToF camera. For this purpose I've set up a sim with with a Lidar device. The ToF cam has a resolution of 224x171 and FOV of 62x45deg, I've entered that in Webots. So far so good.



When I now try to use the sim with a `ros` controller, the controller just crashes. I supect that this is due to the high layer resolutions, since it doesn't crash when I reduce the layers. 



Any ideas how to resolve this?

##### threeal 11/11/2019 17:04:24
thank you `@Stefania Pedrazzi`

##### Stefania Pedrazzi [cyberbotics] 11/11/2019 16:19:24
Here are some old instructions to setup manually the webots\_ros package (before it was published in ros): [https://cyberbotics.com/doc/guide/tutorial-7-using-ros?version=cyberbotics:R2019a#webots\_ros-package-installation](https://cyberbotics.com/doc/guide/tutorial-7-using-ros?version=cyberbotics:R2019a#webots_ros-package-installation)


To include them into the ros workspace you just have to copy the msg and srv folders into the catkin workspace.


if you copy the include folder in your controller folder, then they should be built automatically (even if probably you won't need all of them)

##### threeal 11/11/2019 16:14:12
what about the msg and srv? will it able to builds them? and where will it located? and how can i include it to my main ros workspace?

##### Stefania Pedrazzi [cyberbotics] 11/11/2019 15:54:38
yes, you can reuse it. You should also copy the `include` folder.

##### threeal 11/11/2019 15:49:48
can i use the makefile here ([https://github.com/cyberbotics/webots/tree/revision/projects/default/controllers/ros](https://github.com/cyberbotics/webots/tree/revision/projects/default/controllers/ros)) to build my own controller that support ros in c++?

##### Stefania Pedrazzi [cyberbotics] 11/11/2019 15:33:53
`@threeal`: ok, now I better understand what you mean. For C++ there is the complete standard `ros` controller implementation ([https://github.com/cyberbotics/webots/tree/revision/projects/default/controllers/ros](https://github.com/cyberbotics/webots/tree/revision/projects/default/controllers/ros))

The C++ files corresponding to the `ros_controller.py` file are defined here [https://github.com/cyberbotics/webots/tree/revision/projects/languages/ros/webots\_ros](https://github.com/cyberbotics/webots/tree/revision/projects/languages/ros/webots_ros). It also contains a sample of the CMakeLists.txt file that you could adapt to write your simple ros example in cpp. 

Other instructions for the standard ROS controller in cpp that you could need are described here [https://cyberbotics.com/doc/guide/using-ros#standard-ros-controller](https://cyberbotics.com/doc/guide/using-ros#standard-ros-controller)

##### Prasad 11/11/2019 15:23:49
Sure!


But, in my tests, rover was teleoperated alone

##### Fabien Rohrer [Moderator] 11/11/2019 15:23:41
`@Prasad` let's switch to a direct discussion ðŸ™‚

##### Prasad 11/11/2019 15:23:31
Definitely yes.

##### threeal 11/11/2019 15:23:15
`@Stefania Pedrazzi` here [https://github.com/cyberbotics/webots/tree/revision/projects/languages/ros/controllers/ros\_python](https://github.com/cyberbotics/webots/tree/revision/projects/languages/ros/controllers/ros_python)

##### Fabien Rohrer [Moderator] 11/11/2019 15:23:01
So, the first thing to determine is that: can you move the robot smoothly when the image processing is not used?


yes, I meant image processing.

##### Prasad 11/11/2019 15:21:08
Camera values as in? Image processing? Yes. I am using image processing to control motor speeds.

Camera values as in parameters like width and height? No. Those are fixed

##### Fabien Rohrer [Moderator] 11/11/2019 15:20:24
Are the camera values used to control somehow the motor speeds?

##### Prasad 11/11/2019 15:19:24
Sometimes, the rover gets stuck also. Either the rover gets stuck or the camera flickers and goes gray in certain red regions


To some extent yes!

##### Fabien Rohrer [Moderator] 11/11/2019 15:18:42
If I understand well: when the basictimestep is modified, it affects the robot speed, right?

##### Prasad 11/11/2019 15:18:09
> Do you still have issues with this?



Yes


Yes

##### Fabien Rohrer [Moderator] 11/11/2019 15:17:57
Do you still have issues with this?


The second topic is about the pioneer control, right?


Ok.

##### Prasad 11/11/2019 15:17:25
> So you're right telling that world parameters should not affect so much the simulation.



You are right! I meant that.



> Could we "close" this topic?



Sure!

##### Fabien Rohrer [Moderator] 11/11/2019 15:15:00
Is it satisfying? Could we "close" this topic?


So you're right telling that world parameters should not affect so much the simulation.


I added damping to render the controller more easy to write. It may indeed lose some physics accuracy doing so. For sure, in reality, their is some damping, but certainly not so big.


Ok, let's focus on this first.

##### Prasad 11/11/2019 15:06:34
And you are also right regarding several issues. I would help you with whatever info I can provide! Let me see if I can break that issue


Yes `@Fabien Rohrer`  I agree with you! However, as it is just PID controller, I believe, it will converge to the position without the need of world parameters like dampening etc. (I am deliberately avoiding too many parameters) + if I set `targetX` and `targetY` to -1.0 and -1.0, the quadcopter flies rock solid

##### Fabien Rohrer [Moderator] 11/11/2019 15:00:20
respectfully ðŸ˜‰


(I expect its normal to not have a perfect match, because the constants are hardcoded. The controller is not robust enough to support this. So setting the constants exactly as in mavic\_2\_pro.wbt should solve your issue.)


1. Is my answer about timestep and mavic satisfying?


Could we discuss of them one by one?


I'm sorry, but this issue is difficult to follow because it reports several issues at the same time.

##### Prasad 11/11/2019 14:54:15
That is great

##### Fabien Rohrer [Moderator] 11/11/2019 14:53:10
Hi, I just read your messages.

##### Prasad 11/11/2019 14:50:07
`@Fabien Rohrer` Regarding [https://github.com/cyberbotics/webots/issues/1081](https://github.com/cyberbotics/webots/issues/1081) , shall we get on a call and close this one out? I am not able to replicate this consistently. However, I will be more than happy to just get it running properly with stability.

##### JFXian 11/11/2019 08:34:20
`@Stefania Pedrazzi`, thank you, i'll try

##### Stefania Pedrazzi [cyberbotics] 11/11/2019 08:22:54
Can you post the link to the sample tutorial for ros that you are referring to?

##### threeal 11/11/2019 08:20:53
thank you, i will try to use the supervisor features in the webots


`@Stefania Pedrazzi` the webots only provides a sample tutorial for creating ros controller in python, and not in c++, and i dont know how to link the webots library and ros library in catkin make

##### Stefania Pedrazzi [cyberbotics] 11/11/2019 08:18:34
You can enable the Supervisor functionality in a robot controller by setting the `Robot.supervisor` field to TRUE

##### threeal 11/11/2019 08:17:20
`@Stefania Pedrazzi` so how is the relation between supervisor and the robot? and does it still written in robot controller?

##### Stefania Pedrazzi [cyberbotics] 11/11/2019 07:39:07
`@chamandana` please pay attention that the youBot omni wheels only work if the WorldInfo.contactProperties of the world are set correctly. You should open the default `youbot.wbt` world and copy them in your world.


`@threeal`: What do you mean exactly by "support for ros controller in c++"? You can already implement a ros controller as webots controller in c++ as we did when implementing the default ROS interface procided by Webots.


`@threeal`: to get the control PID values you can use the Supevisor API function to read the node field value. There is no Motor API function to retrieve it directly.


`@JFXian`: about closed kinematics loops, you can model them inserting a SolidReference node ([https://www.cyberbotics.com/doc/reference/solidreference](https://www.cyberbotics.com/doc/reference/solidreference)) in the joint endPoint field. This node is a reference to an existing Solid and allows you to reuse the same Solid node twice in the model.

For an example you can look at the `projects/samples/demows/worlds/stewart_platform.wbt` example ([https://www.cyberbotics.com/doc/guide/samples-demos#stewart\_platform-wbt](https://www.cyberbotics.com/doc/guide/samples-demos#stewart_platform-wbt))

##### JFXian 11/11/2019 00:30:37
On the official website, [https://www.cyberbotics.com/doc/guide/getting-started-with-webots](https://www.cyberbotics.com/doc/guide/getting-started-with-webots)

##### thrilok emmadsietty 11/10/2019 23:46:47
i am new to this software where can i get the tutorials?

##### Prasad 11/10/2019 17:27:16
`@pedagil` You need to wait for a while. I did that recording yesterday. It did take some while (like 5 minutes) to process some 15 seconds video

##### pedagil 11/10/2019 15:52:01
does anybody have any advice?


hey guys, im trying to record a video in webots, and process is stuck at INFO: Creating video..

##### Tahir [Moderator] 11/10/2019 11:21:25
Sorry if I am wrong


So I think you can try to code with that and see what does it says and than fix that


Well, I am not good in roscpp but just going through the ros folder provided by Webots also includes roscpp as well.

##### threeal 11/10/2019 10:58:10
i mean the custom ros controller, not the ros controller that been provided by webots

##### Tahir [Moderator] 11/10/2019 10:41:21
ROS controller is written in C++. Its upon you how you handle your program on ROS side. From Webots everything is available in the form of Services, now its upon you how you handle it wither in Python or C++.

##### threeal 11/10/2019 09:23:16
i have been able to create ros controller in webots using python. when will there be  a support for ros controller using c++? as i think it would be faster using that.

##### Hayden Woodger 11/09/2019 22:35:49
You can get the velocity and position though.


Sorry you are right, my mistake.

##### threeal 11/09/2019 22:28:41
but there is no function to get control pid value, just set

##### Hayden Woodger 11/09/2019 22:00:05
Scroll down to motor functions and change the code to python.


[https://cyberbotics.com/doc/reference/motor?tab-language=python](https://cyberbotics.com/doc/reference/motor?tab-language=python)

##### threeal 11/09/2019 21:58:39
is there any way to get the value of controlPID in the motor using python?

##### chamandana 11/09/2019 16:55:06
hello everyone, Please note that I'm a noob to Webots. I got a problem with KUKA youBot. Here's my code. [https://pastebin.com/j3h9Z4Y3](https://pastebin.com/j3h9Z4Y3). I've only called base\_turn\_left() but the bot seems to be going forward, and also turning to the right as shown in the video :/ Can anyone help me figure out what's wrong?
> **Attachment**: [C\_\_Users\_Chamuth\_Documents\_P\_Bots\_Round2\_Round2\_worlds\_Round2.wbt\_Round2\_-\_Webots\_R2019b\_2019-11-09\_.mp4](https://cdn.discordapp.com/attachments/565154703139405824/642769143602348055/C__Users_Chamuth_Documents_P_Bots_Round2_Round2_worlds_Round2.wbt_Round2_-_Webots_R2019b_2019-11-09_.mp4)

##### JFXian 11/09/2019 08:13:15
ðŸ˜‹

##### Hayden Woodger 11/09/2019 08:04:15
Ah you've got me there. I would use 1 arm instead. Less computation and less work in general.

##### JFXian 11/09/2019 08:01:57
But if I start with this link to build this model, the end point of the last joint is the link itselfðŸ˜‚
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/642634975820120073/unknown.png)
%end

##### Hayden Woodger 11/09/2019 07:50:32
yes

##### JFXian 11/09/2019 07:50:02

%figure
![plotclock.png](https://cdn.discordapp.com/attachments/565154703139405824/642631973356961813/plotclock.png)
%end


Hey guys, I want to to build a planar four-bar mechanism simulation in webots, does webots support closed kinematic loops?

##### Hayden Woodger 11/09/2019 03:21:16
Anytime

##### KyleM 11/09/2019 03:21:02
Sure thing and thanks for responding automaton

##### Hayden Woodger 11/09/2019 03:20:36
Thanks for explaning how you did it


But nice one ðŸ™‚


Sometimes i think the world needs to be reloaded possibly

##### KyleM 11/09/2019 03:19:53
But it finally turned off so I'm happy ðŸ™‚


I tried this before but it had no effect. Strange...


View > Optional Rendering > Show All Bounding Objects

##### Hayden Woodger 11/09/2019 03:18:43
That's what i wanted to hear ðŸ™‚

##### KyleM 11/09/2019 03:18:31
I think I just fixed it


And...


It's hard to tell but the terrain's mesh lines are red which indicate collision I think

##### Hayden Woodger 11/09/2019 03:16:52
Sorry your talking about the mesh on the wheels. They are turning red on collision. You'll need to disable this, but i'm not sure exactly where that setting is.

##### KyleM 11/09/2019 03:15:43
and I don't really want to see wireframe of the terrain either


The terrain is "highlighted" red



> **Attachment**: [Screencast\_2019-11-08\_201306.m4v](https://cdn.discordapp.com/attachments/565154703139405824/642562758671597601/Screencast_2019-11-08_201306.m4v)

##### Hayden Woodger 11/09/2019 03:12:58
thank you ðŸ™‚

##### KyleM 11/09/2019 03:12:51
Sure

##### Hayden Woodger 11/09/2019 03:11:41
Could you upload a video of  it happening please.

##### KyleM 11/09/2019 03:11:13
How do I turn this off?


At times of collision


Webots is flickering the mesh red


I have a vehicle driving over a mesh I imported


Hi ðŸ™‚

##### Hayden Woodger 11/09/2019 03:09:36
hey

##### KyleM 11/09/2019 03:09:29
Hey folks

##### Hayden Woodger 11/09/2019 01:31:11
Hi there

##### Yamda 11/09/2019 01:30:46
hello

##### David Mansolino [cyberbotics] 11/08/2019 17:56:59
You're welcome

##### Kairoux 11/08/2019 17:31:24
ty!

##### David Mansolino [cyberbotics] 11/08/2019 17:18:41
`@Kairoux` yes of course, you can add it in the 'turretSlot' field.

##### Kairoux 11/08/2019 17:16:52
hey everyone is there a way to attach a receiver to a robot like the epuck?

##### Prasad 11/08/2019 16:00:33
In connection with [https://github.com/cyberbotics/webots/issues/1081](https://github.com/cyberbotics/webots/issues/1081) , could anyone let me know any tips as to how I can fix it for now?


The rover is getting stuck and I am not able to get the simulation of both quadcopter and rover working. I guess I will raise a bug report for now

##### Olivier Michel [cyberbotics] 11/08/2019 13:47:41
It's normal to observe a small difference in the simulation result when you change the basic time step. If that difference is big when changing only moderately the time step, then it is certainly worth a bug report.

##### Prasad 11/08/2019 13:45:42
Should I raise a bug report on that?


For basicTimeStep 8, rover physics is behaving differently
> **Attachment**: [Untitled.mp4](https://cdn.discordapp.com/attachments/565154703139405824/642359055498608640/Untitled.mp4)


Ok. I guess the world has 32. That is why I was getting that error. Awesome. Thanks!

##### Olivier Michel [cyberbotics] 11/08/2019 11:30:41
Eg., if you WorldInfo.basicTimeStep is 8 ms, your controllers may have a control time step of 8, 16, 24, 32, etc.

##### Prasad 11/08/2019 11:30:35
Oh ok! I will check that out

##### Olivier Michel [cyberbotics] 11/08/2019 11:30:11
Beware however that the control step should be multiple of the WorldInfo.basicTimeStep.

##### Prasad 11/08/2019 11:29:55
Oh ok. Let me try that!

##### Olivier Michel [cyberbotics] 11/08/2019 11:29:44
No, you can use different control step for different robots, this is not a problem.

##### Prasad 11/08/2019 11:28:55
Question here is should I set the same time step for both quadcopter and rover? What about communication sync?


If I set the TIME\_STEP too large like 64, rover works properly. But, quadcopter flips due to PID update rate. If I set TIME\_STEP to 4 or 8, quadcopter works. But, rover fails to follow the line


Thank you `@Olivier Michel` I was able to integrate communication. I was doing GPS based object tracking. However, I am facing one issue with ODE Physics engine. I keep getting the following warning.



WARNING: The current physics step could not be computed correctly. Your world may be too complex. If this problem persists, try simplifying your bounding object(s), reducing the number of joints, or reducing WorldInfo.basicTimeStep.



Repo link: [https://github.com/PrasadNR/Webots-Quadcopter-Python-SITL](https://github.com/PrasadNR/Webots-Quadcopter-Python-SITL)


Oh. That should give me a head start. Thank you!

##### Olivier Michel [cyberbotics] 11/08/2019 09:53:37
This is a good example of using emitters and receivers in Python.


Please have a look at Webots/projects/languages/python/controllers/slave and Webots/projects/languages/python/controllers/driver

##### Prasad 11/08/2019 09:53:11
*nextPacket()


Tried receiver.nextData() also


I tried int and float too. None of them worked


Yes. That was the first thing I tried. Sorry. I forgot to mention

##### Olivier Michel [cyberbotics] 11/08/2019 09:52:12
Did you try to use strings instead?

##### Prasad 11/08/2019 09:51:50
It doesn't matter if I use bytes() in Python or struct with message unpack. I am getting errors all along. Could anyone let me know?


Hey guys, I am almost done with my repo and thinking about contributing with official Python example. I was not able to get Emitter and Receiver working with Python. Could anybody help?



I am doing



emitter = Emitter("emitter")

while (robot.step(timestep) != -1):

    emitter.send('x'.encode())



and at the receiver



receiver = Receiver("receiver")

receiver.enable(TIME\_STEP)

while (robot.step(timestep) != -1):

    print(receiver.getData())

##### David Mansolino [cyberbotics] 11/08/2019 09:03:40
Hi `@KyleM`, welcome!

##### KyleM 11/08/2019 03:31:02
Hey folks! I'm new here

##### Fabien Rohrer [Moderator] 11/07/2019 12:48:34
Could you check it's equivalent to this? [https://github.com/cyberbotics/webots/blob/master/projects/robots/kuka/youbot/worlds/youbot.wbt#L2](https://github.com/cyberbotics/webots/blob/master/projects/robots/kuka/youbot/worlds/youbot.wbt#L2)


`@chamandana`  I suspect the WorldInfo.contactProperties field to be badly defined.

##### chamandana 11/07/2019 12:03:14
I'm using the Kuka YouBot. I haven't called base\_backwards() but the robot is going backward. What do you think is happening here?
> **Attachment**: [C\_\_Users\_Chamuth\_Documents\_P\_Bots\_Round2\_Round2\_worlds\_Round2.wbt\_Round2\_-\_Webots\_R2019b\_2019-11-07\_.mp4](https://cdn.discordapp.com/attachments/565154703139405824/641970917882462208/C__Users_Chamuth_Documents_P_Bots_Round2_Round2_worlds_Round2.wbt_Round2_-_Webots_R2019b_2019-11-07_.mp4)

##### Fabien Rohrer [Moderator] 11/07/2019 10:41:41
Here is the doc: [https://github.com/cyberbotics/webots/blob/revision/CONTRIBUTING.md](https://github.com/cyberbotics/webots/blob/revision/CONTRIBUTING.md)

##### Prasad 11/07/2019 10:41:40
Sure! Let me give that a shot

##### Fabien Rohrer [Moderator] 11/07/2019 10:41:23
We will review it.


Basically, you need to create a pull request from your Webots fork on github targeting our main branch.


Yes, it would be awesome.

##### Prasad 11/07/2019 10:40:18
Yes. And one final thing. If I get this Python controller working, is there any way to include it officially in Webots?

##### Fabien Rohrer [Moderator] 11/07/2019 10:39:45
Gladly, feedback are always welcome ðŸ˜„

##### Prasad 11/07/2019 10:39:21
Yes. I guess so. Thanks `@Fabien Rohrer` ! ðŸ™‚ If that works or any of the code solutions work, I will definitely reply back

##### Fabien Rohrer [Moderator] 11/07/2019 10:38:40
It may explain some mismatch


=> You should copy the WorldInfo node from there.


[https://github.com/cyberbotics/webots/blob/master/projects/robots/dji/mavic/worlds/mavic\_2\_pro.wbt#L1](https://github.com/cyberbotics/webots/blob/master/projects/robots/dji/mavic/worlds/mavic_2_pro.wbt#L1)

##### Prasad 11/07/2019 10:37:58
Oh! I hadn't known that

##### Fabien Rohrer [Moderator] 11/07/2019 10:37:44
The mavic sample world has also some physics settings:

##### Prasad 11/07/2019 10:37:40
*guessed


Correct. That is what I guess and [https://github.com/PrasadNR/Webots-Quadcopter-Python-SITL/commit/737eaa870e448c24365b4b6dbb6fa52b0494f576](https://github.com/PrasadNR/Webots-Quadcopter-Python-SITL/commit/737eaa870e448c24365b4b6dbb6fa52b0494f576) was the commit

##### Fabien Rohrer [Moderator] 11/07/2019 10:37:21
By the way..


In theory, the C controller can be translated to Python, there is a one-to-one match. So I guess you missed some point.

##### Prasad 11/07/2019 10:34:14
Thanks `@Fabien Rohrer` ðŸ™‚ I translated mavic2pro.c .However, the quadcopter was flipping and I couldn't work with it. That is when I studied and introduced control systems.

##### Fabien Rohrer [Moderator] 11/07/2019 09:05:34
I would recommend to translate EXACTLY mavic2pro.c into Python, and THEN (when it's working smoothly) bring modifications.


again ðŸ™‚


`@Prasad` Hi

##### Prasad 11/07/2019 08:57:08
pitchPID = PID(float(params["pitch\_Kp"]), float(params["pitch\_Ki"]), float(params["pitch\_Kd"]), setpoint=float(params["yPositionFactor"]) * targetY)



With this, position hold locks at wrong coordinates


In connection with [https://github.com/cyberbotics/webots/issues/1071](https://github.com/cyberbotics/webots/issues/1071)



When I do

targetY = float(params["yPositionFactor"]) * targetY

pitchPID = PID(float(params["pitch\_Kp"]), float(params["pitch\_Ki"]), float(params["pitch\_Kd"]), setpoint=targetY)



The code works.

If I do

pitchPID = PID(float(params["pitch\_Kp"]), float(params["pitch\_Ki"]), float(params["pitch\_Kd"]), setpoint=float(params["yPositionFactor"]) * targetY)



Can anybody let me know any root cause of this? I would greatly appreciate any help

##### David Mansolino [cyberbotics] 11/07/2019 07:56:49
`@juan luciano` you should probably try to update to the latest one (v1.6.1): [https://sourceforge.net/p/darwinop/code/HEAD/tree/trunk/darwin/](https://sourceforge.net/p/darwinop/code/HEAD/tree/trunk/darwin/)

##### Derek 11/07/2019 07:00:53
7

##### juan luciano 11/06/2019 20:18:03
DARwIn-OP v1.4.0


`@Hayden Woodger` not yet

##### David Mansolino [cyberbotics] 11/06/2019 15:55:14
`@juan luciano`, do you know which version of the darwin-op framework is installed on your robot? You can see this in the 'ReleaseNote.txt ' file.@

##### Hayden Woodger 11/06/2019 15:51:47
Juan, did you get this sorted out?

##### juan luciano 11/06/2019 14:22:55
I am using the first version of the robot, and if I already press the uninstall button

##### David Mansolino [cyberbotics] 11/06/2019 07:43:59
`@juanluciano` which version of the robot are you using? Have you tried to press the uninstall button (just to the right to the one you pressed) and the re-start remote-control again?


`@mkjhnb` did you set the tilt angle to 0?

##### juanluciano 11/05/2019 22:57:06
At this moment I have no way to connect it but I will try

##### Hayden Woodger 11/05/2019 22:52:39
Can you plug the robot into your computer?

##### juanluciano 11/05/2019 22:52:02
I do not know how to do it

##### Hayden Woodger 11/05/2019 22:50:42
*usb cable


Can you upload your code with a wire?

##### juanluciano 11/05/2019 22:48:43

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/641408586001547296/unknown.png)
%end


the only thing I do is double click on the robot and press the transfer icon

##### Hayden Woodger 11/05/2019 22:43:59
Is a there some configuration on the robot you need to do in order to connect wirelessly?

##### juanluciano 11/05/2019 22:39:21
no, it's the first time I try

##### Hayden Woodger 11/05/2019 22:38:31
Okay,.Have you connected to it successfully before?

##### juanluciano 11/05/2019 22:37:54
It fails when I try to connect to the robot remotely, everything is fine in the simulation

##### Hayden Woodger 11/05/2019 22:36:21
Or just in the simulation?


This might sound dumb. Are you trying to remotely connect to a darwin robot in real life?


Was about to test it


Yeah the code looks fine to me.

##### juanluciano 11/05/2019 22:34:45
but I don't think the code is the cause of the failure  because I get the same errors with the exemplary controllers.



> **Attachment**: [traker.py](https://cdn.discordapp.com/attachments/565154703139405824/641404011173380107/traker.py)


yes of course


I think so, since the errors appear with both the programs and the ones I have made

##### Hayden Woodger 11/05/2019 22:28:32
Could you send me the code you're using on your robot? I'll take a look and see if i can help.


I think it's saying your first error that the sleep() command can't be found. Have you imported  the correct libraries?

##### juanluciano 11/05/2019 22:24:28
I've only tried the 2019 version

##### Hayden Woodger 11/05/2019 22:23:13
*versions


Unistall and re-install with all the latest version?

##### juanluciano 11/05/2019 22:20:20
yes

##### Hayden Woodger 11/05/2019 22:18:36
Have you tried turning it on and off again?

##### juanluciano 11/05/2019 22:06:15

%figure
![Inkederror5_darwin_LI.jpg](https://cdn.discordapp.com/attachments/565154703139405824/641397897405005864/Inkederror5_darwin_LI.jpg)
%end



%figure
![error4_darwin.PNG](https://cdn.discordapp.com/attachments/565154703139405824/641397822582816768/error4_darwin.PNG)
%end



%figure
![error3_darwin.PNG](https://cdn.discordapp.com/attachments/565154703139405824/641397178681524280/error3_darwin.PNG)
%end



%figure
![error2_Darwin.PNG](https://cdn.discordapp.com/attachments/565154703139405824/641397152152551425/error2_Darwin.PNG)
%end



%figure
![error_darwin.PNG](https://cdn.discordapp.com/attachments/565154703139405824/641397089124745226/error_darwin.PNG)
%end


i need help. 



When I try to do cross compilation or remote control with any controller in the last version of webots, whether with some example of the Darwin robot or some controller that I have programmed, I have many errors. I get the following code when I try to remotely control the robot.


hello

##### mkjhnb 11/05/2019 12:27:32
whyï¼Ÿ


oh my god, it seems that the laser shining through the floor
%figure
![2019-11-058.00.12.png](https://cdn.discordapp.com/attachments/565154703139405824/641246773322711090/2019-11-058.00.12.png)
%end

##### David Mansolino [cyberbotics] 11/05/2019 11:17:19
You're welcome

##### mkjhnb 11/05/2019 11:17:14
thanks,let me try

##### David Mansolino [cyberbotics] 11/05/2019 11:16:06
- set the Lidar `tiltAngle` to 0 (this is know to cause issues, see: [https://github.com/cyberbotics/webots/issues/37](https://github.com/cyberbotics/webots/issues/37) )

  - set the Lidar `spherical` to TRUE

  - decrease the WorldInfo.timeStep to 8


From your world file, I would recommend to:

##### mkjhnb 11/05/2019 11:12:28
[https://gist.github.com/mkjhnb/079bd3731ce2aac3e4d20566800d95e7](https://gist.github.com/mkjhnb/079bd3731ce2aac3e4d20566800d95e7)

##### David Mansolino [cyberbotics] 11/05/2019 11:12:08
`@mkjhnb` for rotating lidar it is recomended to either set a slow rotation frequency either have a small simulation time step.

##### mkjhnb 11/05/2019 11:06:31
I wanted to use the ready model VelodyneHDL-32, but it seemed have some problems.
%figure
![2019-11-057.02.04.png](https://cdn.discordapp.com/attachments/565154703139405824/641231870444437505/2019-11-057.02.04.png)
%end


ok,

##### Stefania Pedrazzi [cyberbotics] 11/05/2019 10:45:45
can you share your world file?  (for example on a gist: [https://gist.github.com/](https://gist.github.com/))

##### mkjhnb 11/05/2019 10:39:31
sorry, I mean that the value of the maxRange is so big, but the laser can't seem to touch the black wall, it seem very short. Why?

##### Stefania Pedrazzi [cyberbotics] 11/05/2019 10:31:38
`@mkjhnb` the displayed range (cyan lines) corresponds to the value of the `Lidar.maxRange` field. Is this not the case for you?

So if you want to reduce the range you should change the `Lidar.maxRange` value

##### mkjhnb 11/05/2019 10:21:10
the range of this lidar is very big, why the result like this
%figure
![2019-11-056.19.49.png](https://cdn.discordapp.com/attachments/565154703139405824/641220456262664202/2019-11-056.19.49.png)
%end

##### David Mansolino [cyberbotics] 11/05/2019 08:25:54
You're welcome

##### HE110 11/05/2019 08:25:48
Thank u,i go to try it

##### David Mansolino [cyberbotics] 11/05/2019 08:25:00
In that case you can use simply the 'sleep' function for example: [https://linux.die.net/man/3/sleep](https://linux.die.net/man/3/sleep)

##### HE110 11/05/2019 08:24:32
C

##### David Mansolino [cyberbotics] 11/05/2019 08:24:27
ok, which programming language are you using?

##### HE110 11/05/2019 08:24:06
Wait

##### David Mansolino [cyberbotics] 11/05/2019 08:23:35
`@HE110` do you want the simulation to continue or to wait for 1s too?

##### HE110 11/05/2019 08:22:52
How can i sleep 1s in controller by C?

##### Stefania Pedrazzi [cyberbotics] 11/05/2019 07:27:15
`@RossBatten` could you add all your project files to the gitst? at least the world file and any another controllers/plugins that you are using?

##### RossBatten 11/05/2019 06:11:14
I was only able to get it working in a C code controller.  At least I can move ahead with it


`@Olivier Michel`  I don't understand what's going on then.  I've tried running the same controller now on two different PCs, one windows 10, one linux, visual studio and webots internal editor/cmake builder and the same crash occurs every time.  If I omit the label line it works fine but if I include it or any other supervisor controller command it crashes the whole of webots on play.

##### David Mansolino [cyberbotics] 11/04/2019 11:43:08
You're welcome

##### HE110 11/04/2019 11:41:01
ok,thank u

##### David Mansolino [cyberbotics] 11/04/2019 11:40:14
You should probably follow this tutorial about controlling the e-puck robot: [https://www.cyberbotics.com/doc/guide/tutorial-4-more-about-controllers](https://www.cyberbotics.com/doc/guide/tutorial-4-more-about-controllers)

It is available in Python too.

##### HE110 11/04/2019 11:40:00
thanks,let me try

##### David Mansolino [cyberbotics] 11/04/2019 11:39:23
The way you get the motor is wrong, you have to get them like this:

```
epuckMotor = robot.getMotor()
```

##### HE110 11/04/2019 11:38:56
Can u give me a example?


Hi

##### David Mansolino [cyberbotics] 11/04/2019 11:37:47
Hi `@HE110`

##### HE110 11/04/2019 11:37:02
hello?Anyone can help me?


import controller

robot=controller.Robot()

epuckMotor=controller.Motor('e-puck')

epuckname=robot.createMotor('e-puck')

Force=epuckMotor.setForce(50)


How can I use Motor in controller programming with python?

##### Olivier Michel [cyberbotics] 11/04/2019 10:10:28
I did the same from Visual Studio 2019 and it worked as well.


`@RossBatten`: I could test your code from the Webots IDE on Windows 10 and it works as expected. I had to comment out the `lds[i] -> enable(timeStep);` line because the sensors were not found in my test world and this line was crashing the controller, but once that was commented out, everything was working as expected and I could see the "Hello" string displayed in the 3D view.

##### RossBatten 11/04/2019 08:03:19
OK no problem.  I probably won't be able to get back to this until tomorrow.

##### Olivier Michel [cyberbotics] 11/04/2019 08:02:41
Thanks, I will inspect your code and try to reproduce the problem. I have a meeting now, so, I will get back to you after that.

##### RossBatten 11/04/2019 08:00:12
I just copied and pasted the code into a webots editor controller and the same thing happened.  Spinning circle crash


[https://gist.github.com/RossBatten/43a069c06a28f7faad9992754653330f](https://gist.github.com/RossBatten/43a069c06a28f7faad9992754653330f)


I didn't, no

##### Olivier Michel [cyberbotics] 11/04/2019 07:56:25
BTW, did you try to compile your code from the Webots built-in editor?


Yes, just copy/paste it on a gitst and that will be fine.

##### RossBatten 11/04/2019 07:55:37
Like it's 30 lines max


I do but I haven't got my source code versioned anywhere yet because I only just started it

##### Olivier Michel [cyberbotics] 11/04/2019 07:54:50
(if you have a github account)


For example on a gist: [https://gist.github.com/](https://gist.github.com/)

##### RossBatten 11/04/2019 07:54:05
Sure, what's the best way to do that here?

##### Olivier Michel [cyberbotics] 11/04/2019 07:53:53
Can you share the source code of your controller?

##### RossBatten 11/04/2019 07:53:21
`@Olivier Michel`


If it's set to false I get an actual error message.  In this case it's simply freezing and I have to restart webots


Yes it does

##### Olivier Michel [cyberbotics] 11/04/2019 07:52:36
`@RossBatten`: Can you check that your `Robot` node has the `supervisor` field set to `TRUE`?

##### RossBatten 11/04/2019 07:51:03
Oh sorry not for me

##### Olivier Michel [cyberbotics] 11/04/2019 07:50:54
It seemed to work for some users: [https://forum.snapcraft.io/t/snapped-app-not-loading-fonts-on-fedora-and-arch/12484/23](https://forum.snapcraft.io/t/snapped-app-not-loading-fonts-on-fedora-and-arch/12484/23)

##### RossBatten 11/04/2019 07:50:48
I'm using windows currently so no ubuntu console

##### Olivier Michel [cyberbotics] 11/04/2019 07:50:28
`@smg` can you try to remove the cache of fontconfig:

```
sudo rm /var/cache/fontconfig/*
rm ~/.cache/fontconfig/*
```

##### RossBatten 11/04/2019 07:46:14
I have the robot set to have supervisor status


I'm building the controller in visual studio with no errors


Hi, I'm struggling with getting any kind of supervisor controller functionality working in my world.  If I remove the normal supervisor features and treat the controller as a simple robot only declaring it as a supervisor it works fine but the moment I try to use something as simple as setLabel(...) the simulation freezes and I get a spinning wheel and have to restart.  Any idea what's going on?

##### Stefania Pedrazzi [cyberbotics] 11/04/2019 07:19:54
`@Xiangxiao` in case of the `floating_geometry.wbt` I think that the water animation speed was empirically on and not using a precise formula.

If you want that when you change the fluid properties also the animation speed changes I would suggest you to use a Robot with supervisor capabilities (`Robot.supervisor` field set to TRUE) so that in the controller you can read the `Fluid` properties and use them to compute the animation speed.


Alternatively instead of modifying the Nao PROTO node, you can also convert it to base nodes (right-click on the Nao node in the scene tree and choose "Convert to Base Node(s)") and then change the Robot.window field.


1. right-click on the Nao node in the scene tree and choose the "View PROTO source" item in the context menu;

2. add the line `window "generic_window"` at line 67 just after the `Robot {`

3. save the Nao.proto file in the "protos" folder in your project folder (see the description of the structure of the Webots project folder [https://www.cyberbotics.com/doc/guide/the-standard-file-hierarchy-of-a-project](https://www.cyberbotics.com/doc/guide/the-standard-file-hierarchy-of-a-project))


`@Alexx` has I wrote in the previous message, the "window" field is not exposed in the Nao PROTO (see PROTO description [https://www.cyberbotics.com/doc/reference/proto](https://www.cyberbotics.com/doc/reference/proto)). So you have to:

##### Alexx 11/03/2019 12:59:09

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/640535440247619594/unknown.png)
%end


`@Stefania Pedrazzi`


where can i find the Robot.window field to change the "generic" to "generic\_window"? when i double click on robot it appears a window with name "Generic robot window". In this window there are all the tabs expect motion editor

##### Stefania Pedrazzi [cyberbotics] 11/03/2019 12:43:38
`@smg` I coudl successfully install and run Webots on archlinux with Gnome desktop environemnt. Which (if any) desktop environment are you using?


Note that the "window" field is not exposed for the Nao PROTO, i.e. you have to modify the Nao.proto file.


In Webots R2019b is still possible to use the old Qt robot window (deprecated) which contains the MotionEditor by changing the Robot.window field from the default value "generic" to "generic\_window"


hi `@HiguchiNakamura` and `@Alexx` , the motion editor is currently not available with the new HTML window.

##### Alexx 11/03/2019 12:24:50
i have the same issue..there is any solution???

##### HiguchiNakamura 11/02/2019 15:27:17

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/640210331020427264/unknown.png)
%end


Hi, How do I open the Motion Editor? When I double-click on the NAO, the window appears, but no Motion Editor entry.

##### smg 11/01/2019 18:25:37
I tried installing webots through snap on archlinux: [https://snapcraft.io/install/webots/arch](https://snapcraft.io/install/webots/arch)

which was successful but the resulting webots binary fails with a seg fault. 

would be great if someone can take a look: [https://gist.github.com/shivamMg/d8f871719264b03e52c40ac95c217c08](https://gist.github.com/shivamMg/d8f871719264b03e52c40ac95c217c08)

##### Xiangxiao 11/01/2019 17:55:52
Thanks in advance


Hello, I am doing simulation of fish-like robot swimming in fluid water. I am doing the fluid water based on the sample of Webots (floating\_geometries.wbt). In the sample, the water flow contains two components, including the DEF FLOWING\_WATER fluid (defining the physics of water flow) and DEF WATER\_FLOWING\_ANIMATION robot (defining the visual behavior/animation of water flow). In FLOWING\_WATER fluid, I can define the velocity of water flow. In the controller of WATER\_FLOWING\_ANIMATION robot, I can define the speed of the animation that simulate the water flow. I would like to know that how can I induce [the parameter of velocity of physical water flow in FLOWING\_WATER fluid] into [the controller of WATER\_FLOWING\_ANIMATION robot]? I want to do this since I would like to correlate the physical velocity of water flow to the playing-speed of animation.

##### David Mansolino [cyberbotics] 11/01/2019 17:15:59
You're welcome

##### JoanGerard 11/01/2019 17:15:19
You're right. Thank you!

##### David Mansolino [cyberbotics] 11/01/2019 16:38:54
By the way, you should probably have a look at the 'custom\_robot\_window.wbt' world which is a very simple example of custom robot window.


I juste tried and it seems to work fine.


If I am not wrong they are supposed to be displayed in the Webots Console

##### JoanGerard 11/01/2019 16:33:57
an other question, is there any way of watching to the console.log printed messages when using a robot window?

##### David Mansolino [cyberbotics] 11/01/2019 16:30:43
Yes exactly this is just if you want to 'inherit' from the default robot window, but you can of course create your own custom robot-window without using this function.

##### JoanGerard 11/01/2019 16:25:49
This function configures the robot window only right? I think that I may need it in the future but for the moment it's ok

##### David Mansolino [cyberbotics] 11/01/2019 16:20:46
Unforunately it seems the 'wbu\_default\_robot\_window\_*' functions are not  available in other languages than C, but it should be possible to add them, would you be interested in doing this ?


Let me check

##### JoanGerard 11/01/2019 16:17:19
do you know what is the equivalent of wbu\_default\_robot\_window\_configure function for python?

##### Olivier Michel [cyberbotics] 11/01/2019 15:57:59
Thanks, same for you!

##### JoHn 11/01/2019 15:56:11
You guys have a nice weekend!


Hi `@Olivier Michel`, thank you very much for your help. It does track the vehicle movement. Great.

##### Olivier Michel [cyberbotics] 11/01/2019 15:51:58
You can also select your robot and go to the View menu of Webots to select either "Follow Object" or "Follow Object and Rotate". You will quickly understand the difference by trying both options.


Yes, select your robot and hit F5.


Hi `@JoHn`,

##### JoHn 11/01/2019 15:49:37
Hi `@David Mansolino`, I have fixed the GPS problem. We did something wrong in the transformation ðŸ˜‚. Thanks a lot for your help. I'd like to ask one more question, because I am doing the control of vehicles via ROS. When the vehicles move, is there a way that moves the screen automatically, so that the vehicles can always be shown in the screen, and it doesn't need us to move (zoom in or out) the screen manually.

##### David Mansolino [cyberbotics] 11/01/2019 08:47:47
You're welcome.

##### smg 11/01/2019 08:47:21
`@David Mansolino` Nice! thanks

##### David Mansolino [cyberbotics] 11/01/2019 08:45:56
Hi `@smg`, yes of course we have tried, a docker image of the latest release (with the development environment too) is available here: [https://hub.docker.com/r/cyberbotics/webots](https://hub.docker.com/r/cyberbotics/webots)

Here is also the procedure to install Webots in a Docker environment: [https://github.com/cyberbotics/webots/wiki/Docker](https://github.com/cyberbotics/webots/wiki/Docker)

##### smg 11/01/2019 08:44:08
Hello. I wanted to ask if anyone has ever tried to run webots in a docker container

##### David Mansolino [cyberbotics] 11/01/2019 07:34:43
`@Sohil` that's indeed strange, would you agree sending us your Rock40cm PROTO file so that we can test ?


`@buzzlightyear` as any regular program you can simply do a printf (i.e. `printf("Hello World\n");`)


`@JoanGerard`, are you sure your robot windows is at the correct location, i.e. `YOUR\_PROJECT/plugins/robot\_windows/YOUR\_ROBOT\_WINDOW\_NAME' and the folder contains a YOUR\_ROBOT\_WINDOW\_NAME.html file ?

##### Sohil 11/01/2019 01:30:22

> **Attachment**: [rock\_anamoly\_2\_1.mp4](https://cdn.discordapp.com/attachments/565154703139405824/639637327664250880/rock_anamoly_2_1.mp4)


`@David Mansolino` Here are the clips. Sorry it took some time.

The rock on the left is the standard Rock10cm as defined by  webots. The one on the right is the same with coordinate points scaled by 4x to make Rock40cm. In this environment I have created this happens. The left rock is perfect in dynamics by the right one is sinking, etc.
> **Attachment**: [rock\_anamoly\_2\_clip1.mp4](https://cdn.discordapp.com/attachments/565154703139405824/639637046868312084/rock_anamoly_2_clip1.mp4)

##### buzzlightyear 11/01/2019 00:28:54
(I am using C)


From a robot controller


how do you print to console


Quick question,

##### JoanGerard 10/31/2019 17:55:23
I'm using Python3.7


I am trying to create my first HTML window but I receive this error message while starting the simulation.
%figure
![Screen_Shot_2019-10-31_at_6.53.40_PM.png](https://cdn.discordapp.com/attachments/565154703139405824/639522709767847937/Screen_Shot_2019-10-31_at_6.53.40_PM.png)
%end


thanks!

##### David Mansolino [cyberbotics] 10/31/2019 16:12:52
`@JoanGerard` from Webots you should be able to re-open it the exact same way you open it the first time (either double-clicking on the robot or right click => Show Robot Window)


`@JoHn` you're welcome.

##### JoanGerard 10/31/2019 16:00:38
How can I re-open the HTML window from Webots once closed?

##### JoHn 10/31/2019 15:23:52
Hi `@David Mansolino`, the values shown in the robot window make sense. Thank you very much for your input. I am trying to locate the problem. Will update you later on.


Oh, sure, I am checking the robot window. Give a minute ðŸ˜

##### David Mansolino [cyberbotics] 10/31/2019 14:58:47
ok, and does the values displayed in the robot window make sense ?

##### JoHn 10/31/2019 14:58:17
Yes, the 'accuracy' is 0.



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/639478102304751649/unknown.png)
%end

##### David Mansolino [cyberbotics] 10/31/2019 14:56:24
> I am just guessing, would the two GPS be conflict with each other?



They should not. Maybe you can use the robot-window to see in real time the value of the GPS (just double click on your truck to open it).


The noise of the GPS can be defined with it's 'accuracy' field ([https://cyberbotics.com/doc/reference/gps](https://cyberbotics.com/doc/reference/gps)), can you please confirm this field is set to 0 ?

##### JoHn 10/31/2019 14:55:24
I am just guessing, would the two GPS be conflict with each other?


The GPS signals I got were varying within 10m. I guess the noise would not be that much, right?  And when I turned off one of the GPS, the simulation worked very good.

##### David Mansolino [cyberbotics] 10/31/2019 14:48:20
What do you mean by random, there is some noise on the position?

##### JoHn 10/31/2019 14:47:48
Hi guys, I am using ROS to control two trucks in Webots and each truck has a GPS. When I did the simulation and published these two GPS signals of the two trucks, the signals were kind of random. I could not figure out what is causing this problem. Would you advise? Thanks a lot.

##### David Mansolino [cyberbotics] 10/31/2019 14:30:48
Ok, no problem, thank you for the feedback

##### JoanGerard 10/31/2019 14:30:24
oh! wait, I think it should be my internet connection or something because I's working now, my apologies !

##### David Mansolino [cyberbotics] 10/31/2019 14:25:38
Can you see the animation on this page for example?

[https://robotbenchmark.net/benchmark/inverted\_pendulum/](https://robotbenchmark.net/benchmark/inverted_pendulum/)


Hi `@JoanGerard`

##### JoanGerard 10/31/2019 14:22:25
Hello, I am trying to make a web animation and I would like to see an example online. Webots documentation suggests this site-> [https://robotbenchmark.net/](https://robotbenchmark.net/) but it's not working for me. I cannot enter into any simulation at all. For instance, this site [https://robotbenchmark.net/](https://robotbenchmark.net/)benchmark/viewpoint\_control/simulation.php is a blank page. Do you know if there are any other sites similar to that one where I can find an example?

##### David Mansolino [cyberbotics] 10/31/2019 09:13:13
You're welcome

##### RenardBleu 10/31/2019 09:13:03
It's working ! Thank you a lot ! ðŸ˜„

##### David Mansolino [cyberbotics] 10/31/2019 09:11:34
This is done for example in the 'display' sample, see for example: [https://github.com/cyberbotics/webots/blob/revision/projects/samples/devices/controllers/display/display.c#L111](https://github.com/cyberbotics/webots/blob/revision/projects/samples/devices/controllers/display/display.c#L111)


Yes of course, you can draw a rectangle with the same size than the e-puck with 'wb\_display\_fill\_rectangle' ([https://www.cyberbotics.com/doc/reference/display#wb\_display\_fill\_rectangle](https://www.cyberbotics.com/doc/reference/display#wb_display_fill_rectangle))

##### RenardBleu 10/31/2019 09:09:41
Hi `@David Mansolino`


(I'm talking about the display node)


Is there some way to clear a "display" via a controller ?

##### David Mansolino [cyberbotics] 10/31/2019 09:09:12
Hi `@RenardBleu`

##### RenardBleu 10/31/2019 09:08:51
Hello

##### Fabien Rohrer [Moderator] 10/30/2019 13:27:55
you're welcome. Give us some news ðŸ™‚

##### Oxygenious 10/30/2019 13:27:16
Okay I will try to adjust some parameters to see if it works .

Thank you very much !

##### Fabien Rohrer [Moderator] 10/30/2019 13:25:40
I'm pretty sure a good tradeoff can be found, because this layout is used in real robots.


For example, if the spring/damping are too low the robot cannot climp the box, if they are too big, they cannot retract quickly enough (as shown here).


The point is about to find good physics properties to let this work smoothly.


This kind of issues is due the robot layout. I would bet that the same occurs on a real robot ðŸ˜„

##### Oxygenious 10/30/2019 13:19:39
okay that's fixed the problem of the hingeJoint but I had another problem with stability as shown in this screenshot .
%figure
![rover.png](https://cdn.discordapp.com/attachments/565154703139405824/639091045983977484/rover.png)
%end

##### Fabien Rohrer [Moderator] 10/30/2019 13:04:32

> **Attachment**: [rover.wbt](https://cdn.discordapp.com/attachments/565154703139405824/639087241494265899/rover.wbt)


I can solve this by setting IiEssieu1.jointParameters.spring/dampingConstant fields to 0.3
> **Attachment**: [rover\_1.mp4](https://cdn.discordapp.com/attachments/565154703139405824/639087149148405771/rover_1.mp4)

##### Oxygenious 10/30/2019 13:01:09
I changed the (bois <=> caoutchouc) to 10 and I still have the same problem in the video

##### Fabien Rohrer [Moderator] 10/30/2019 13:00:53
the hinge between the 2 front wheel and the body seems too fragile to support the impact ðŸ™‚


setting both coulombFriction to 10 gives this result
> **Attachment**: [rover.mp4](https://cdn.discordapp.com/attachments/565154703139405824/639085975494066195/rover.mp4)


=> you're right about the bois <=> caoutchouc, it's set to -1. this is not a good idea ðŸ™‚


or to increase the Motor.maxTorque (I didn't test this)


you could either increase the friction (I set the ContactProperties.coulmbFriction to 10 between caoutchouc and sol, and it is working)


the motors are not powerful enough to climb the stairs.

##### Oxygenious 10/30/2019 12:51:31
I suppose that there is a problem between "bois" and "caoutchouc", they are not always in contact like it would be in real life.


Ah okay, so i fixed the typo but the robot still cannot climb the stairs.

##### Fabien Rohrer [Moderator] 10/30/2019 12:47:41
Yes, it's the case. My comment is just about how to remove the annoying warnings appearing in the Webots console (I looked at them first).

##### Oxygenious 10/30/2019 12:46:52
when we fix the mass , shouldn't the density be ignored?

##### Fabien Rohrer [Moderator] 10/30/2019 12:45:05
By the way, you have also several not-related warnings about density. You can fix them by changing these fields: Physics.density=-1 for each Physics node where you defined the Physics.mass


Once fixing this, the friction acts as expected.


"caoutchou" => "caoutchouc" ðŸ˜


there is a typo in ContactProperties


It seems you defined well the contact properties between "sol" and "caoutchou"


Ok, I have your simulation running on my computer.


`@Oxygenious` Hi, let me give a look..

##### Oxygenious 10/30/2019 12:03:07
And this is the controller
> **Attachment**: [my\_controller.py](https://cdn.discordapp.com/attachments/565154703139405824/639071785932947469/my_controller.py)


Hi!

I was trying to make a stair climbing rover but i have a problem with friction as you can see in the world attached. I tried to change contact properties but it did not work.

Thanks in advance.
> **Attachment**: [rover.wbt](https://cdn.discordapp.com/attachments/565154703139405824/639071593183576064/rover.wbt)

##### Fabien Rohrer [Moderator] 10/30/2019 09:19:22
If perhaps, we are always looking for funds ðŸ˜œ

##### Gautier A. 10/30/2019 09:13:25
The aim of this project is the assembly of large structure in space


[https://www.h2020-pulsar.eu/](https://www.h2020-pulsar.eu/)


Actually, we are working on an Europeean Project, H2020 open project Pulsar


Ahaha, more or less. I'm experimenting with webots for the moment ðŸ™‚

##### Fabien Rohrer [Moderator] 10/30/2019 08:37:48
Are you interested on modeling a satellite in Webots? This is definitively something I would like to see ðŸ™‚


Ok I see, this sounds good then.

##### Gautier A. 10/30/2019 08:36:15
It's a reaction wheel used on satellite, it doesn't neccesitate a lot of torque.


It's more because of the caracteristic of the wheel itself. The torque is very low in the "datasheet" of the constructor

##### Fabien Rohrer [Moderator] 10/30/2019 08:24:23
Indeed, the PID control we provide does not propose an anti-windup. But in theory, this could be implemented in the controller. I'm wondering why you get this saturation? Did you play with the maxTorque field? Normally this field should allow you to increase the motor torque.

##### Gautier A. 10/30/2019 08:17:52
I've already tried some little experiments with rotationnal motors and position sensor (using hinge joint)  and it seemed to be working, but to be honest, what worries me a little is the  abscence of anti-windup in this configuration (because the torque "saturate" at 5mNm, the PID is gonna integrate the error caused by the saturation)


Yes, thank you a lot !

##### Fabien Rohrer [Moderator] 10/30/2019 08:15:53
Is it a satisfying answer?


but the algorithm should be written by yourself.


So I confirm Webots allows to set the input and retrieve the output of the algorithm you mention.


You could have the actual speed of the motor thanks to a PositionSensor (you should just derive the position along the time once to get the speed).


I expect that controlling a (or several) rotational motor(s) in torque control is a good starting point.


That said, we don't have examples of such setup.


I could first confirm that it's certainly possible to model a reaction wheel in Webots, indeed, the physics engine supports momentum reactions.

##### Gautier A. 10/30/2019 08:10:38
Hi Fabien !


I was thinking about doing some variation of the motor using the source of webots, but I'm not sure if that approach is wise

##### Fabien Rohrer [Moderator] 10/30/2019 08:10:20
Hi Gautier

##### Gautier A. 10/30/2019 08:08:09
Hello, I want to modelise the behavior of Reaction Wheel in Webots. It's basically this comportement. Do you have any suggestion on how to proceed  ?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/639012656359145472/unknown.png)
%end

##### David Mansolino [cyberbotics] 10/30/2019 07:19:57
`@Sohil`, can you please check (and even send us a screenshot) of the contact points between the rock and the ground. You can enable contact points visualization from the 'View / Optional Rendering / Show Contact Points' menu.


`@Gordon`, you're welcome, let us know if you have any recompilation issue.

##### Sohil 10/30/2019 01:58:00
I am using the rock10cm proto to make a custom environment. I wanted a bigger rock so I decided to scale all the coordinate values by an appropriate amount to get a bigger rock. For e.g. 40 cm , I scaled the `coord Coordinate points` by a value of 4. Now, I have a bigger rock, but it appears to sink into my environment. What am I not considering in this?
> **Attachment**: [rock\_anamoly.mp4](https://cdn.discordapp.com/attachments/565154703139405824/638919504319217704/rock_anamoly.mp4)

##### Gordon 10/30/2019 01:14:35
`@David Mansolino` Thanks so much for your help. I will try to recompile the ROS controller.

##### David Mansolino [cyberbotics] 10/29/2019 17:09:26
You're welcome, thank you!

##### JoHn 10/29/2019 17:09:16
Thank you very much `@David Mansolino`, you have a good night.

##### David Mansolino [cyberbotics] 10/29/2019 17:07:36
> Does it mean that each stick on the joystick has 2 axis?



Yes, that's often the case with such kind of joystick.



> And are the axis numbering from 0 to 5?



Yes.



> I should subscribe the topics of /joystick/axis0 and /joystick/axis1, is this correct



I can't say which axis is which one, you probably want to print the value of all the 6 axes and then move them one by one to identify which one is which one.

##### JoHn 10/29/2019 17:06:05
Hi `@David Mansolino`, my joystick has 6 axis. Does it mean that each stick on the joystick has 2 axis? And are the axis numbering from 0 to 5? For example, if I only use one stick (marked in the red circle) on the left side of the joystick to control both steering and speed (throttle and brake), I should subscribe the topics of /joystick/axis0 and /joystick/axis1, is this correct? Thank you in advance.


Hi `@David Mansolino`, thank you for your response, Yes, I am double-checking it. ðŸ˜

##### David Mansolino [cyberbotics] 10/29/2019 16:27:27
Yes exactly, can you print the number of axes detected by webots by calling the '/joystick/get\_number\_of\_axes' service just to check?

`rosservice call .../joystick/get_number_of_axes`

##### JoHn 10/29/2019 16:26:03
When I subscribe this topic, I delete <> and replace X with 0 or 1. Is this a correct way?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/638775216587145256/unknown.png)
%end


Hi `@Fabien Rohrer`, thank you very much for your response. Yes, I am use ROS and I subscribe /joystick/axis<X> topic.

##### Fabien Rohrer [Moderator] 10/29/2019 16:18:50
wb\_joystick\_get\_axis\_value should be able to return the "red pad" axis. The point is to find to which axis id it's mapped. (the argument of wb\_joystick\_get\_axis\_value() )


[https://cyberbotics.com/doc/reference/joystick#wb\_joystick\_get\_axis\_value](https://cyberbotics.com/doc/reference/joystick#wb_joystick_get_axis_value)


Hi. Normally, this should work. Do you use the Joystick API directly?

##### JoHn 10/29/2019 16:16:09

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/638773078385754132/unknown.png)
%end


Could you see the picture above?



> **Attachment**: [1111111](https://cdn.discordapp.com/attachments/565154703139405824/638771671871914025/1111111)


/home/northstar/Documents/1111111


Hi `@David Mansolino`, I'd like to use the xbox 360 joystick to control both steering and speed of a vehicle in Webots. I notice that Webots is able to response the bottons on the right side of the joystick, but I am not sure whether it can also response to the stick marked in the red circle. Would you please give me some advice? Thanks a lot.

##### David Mansolino [cyberbotics] 10/29/2019 10:50:24
Yes, that's all what you need to do on the Webots side.

##### threeal 10/29/2019 10:49:52
so i just need to attach ros controller to my robot? no need to create my own controller in webots?

##### David Mansolino [cyberbotics] 10/29/2019 10:48:45
You can find some example here: [http://wiki.ros.org/webots\_ros/Tutorials/Sample%20Simulations](http://wiki.ros.org/webots_ros/Tutorials/Sample%20Simulations)


The ros controller is just the interface between ros and Webots, you should create the behavior in the ros node.

##### threeal 10/29/2019 10:45:44
and how is the relation between both of them?


i am sorry, but when i want to create a robot program using ros, should i create the behavior in webots controller or in the ros node?

##### David Mansolino [cyberbotics] 10/29/2019 10:42:29
If you want to extend it, here is an example: [https://github.com/cyberbotics/webots/tree/revision/projects/vehicles/controllers/ros\_automobile](https://github.com/cyberbotics/webots/tree/revision/projects/vehicles/controllers/ros_automobile)


`@threeal` , you can find the Webots ROS controller here: [https://github.com/cyberbotics/webots/tree/revision/projects/default/controllers/ros](https://github.com/cyberbotics/webots/tree/revision/projects/default/controllers/ros)

##### threeal 10/29/2019 10:41:08
`@Tahir` where can i view the source code of the E-Puck ros node. i want to create my own node to control robot in webots simulator, but don't know where to start

##### Fabien Rohrer [Moderator] 10/29/2019 09:30:12

%figure
![Capture_decran_2019-10-29_a_10.30.02.png](https://cdn.discordapp.com/attachments/565154703139405824/638670917966495744/Capture_decran_2019-10-29_a_10.30.02.png)
%end

##### Oxygenious 10/29/2019 09:29:51
Okay, thank you !

##### Fabien Rohrer [Moderator] 10/29/2019 09:28:34
You can monitor the overall mass (the sum of all the solids) by selecting the robot, and check the mass tab under the scene tree.


The Robot node derives the Solid node.


No, the physics node of the robot should only take into account the mass of its associated bounding object.


hi

##### Oxygenious 10/29/2019 09:25:10
Hi everyone, 

I have a question about the physics node. For example, if we design a robot with multiple hinge joints and hence multiple endsolids with defined physics node(weights and center of mass), does the robot's physics node have to  include all the weights of all its parts?

Thanks in advance

##### David Mansolino [cyberbotics] 10/29/2019 08:55:56
You're welcome

##### Gautier A. 10/29/2019 08:55:43
Thank you !

##### David Mansolino [cyberbotics] 10/29/2019 08:55:25
Yes exactly.

##### Gautier A. 10/29/2019 08:54:14
But, what I mean is that the "upper parent" parents is going to have its own boundingbox/masses, which will be the sum of the information in its own physics node, and its children physics node ?

##### David Mansolino [cyberbotics] 10/29/2019 08:49:30
> does that mean that the upper (most high parent in the node hiearchy) retains all the information of mass and bounding box of all its children solid ?



No each solid should have it's own mass and boundign box informations, then they masses and bounding boxes are just merged together.

##### Gautier A. 10/29/2019 08:45:08
(Do you have any more reference on how the physics engine works and merge the bounding box / the masse of the differents solid ?)


Concerning the implicit solid merging indicated on that page ([https://cyberbotics.com/doc/reference/physics](https://cyberbotics.com/doc/reference/physics)), does that mean that the upper (most high parent in the node hiearchy) retains all the information of mass and bounding box of all its children solid ?

##### David Mansolino [cyberbotics] 10/29/2019 07:25:23
`@Gordon`, unfortunately, only `sensor_msgs::LaserScan` and `sensor_msgs::PointCloud` are supported yet. However, you should be able to change/extend this quite easily. The publication fo the `sensor_msgs::PointCloud` is done here: [https://github.com/cyberbotics/webots/blob/revision/projects/default/controllers/ros/RosLidar.cpp#L121](https://github.com/cyberbotics/webots/blob/revision/projects/default/controllers/ros/RosLidar.cpp#L121)

In this function you should be able to extend to `sensor_msgs::PointCloud2` and then you have to recompile the `ros` controller (let me know if you have any issue doing so).

##### Gordon 10/29/2019 07:12:51
Is there any method publishing sensor\_msgs::PointCloud2? instead of PointCloud?


`@David Mansolino` I have got errors which is with Rviz crashing the when it try to read Pointcloud topic which was created from Webot\_ros. It seems to be with "ros Assertion `(min.x <= max.x && min.y <= max.y && min.z <= max.z) && "The minimum corner of the box must be less than or equal to maximum corner"' failed."

I suspect this is due to some erroneous point cloud, I can see 11MB/s of point clouds are created at 32 Hz. but some or all may have some errorneous points which crashes Rviz.

Is there any method to validate or fix point cloud from webots side?

##### Tahir [Moderator] 10/28/2019 20:14:27
and connection of nodes you can check by rqt\_graph


you can check it with rosnode list, rosservice list etc.


You can check here in the world file protos are the same with different naming arguments so everything changes accordingly



> **Attachment**: [E-Puck\_ros.zip](https://cdn.discordapp.com/attachments/565154703139405824/638469847151542341/E-Puck_ros.zip)


By changing the robot name the all ros names are appended by robot name


`@threeal`  when you change the robot name and add corresponding arguments in the controller args field then every information changes from rosnodes, topics and list.

##### threeal 10/28/2019 19:57:38
and in the e-puck sample, i tried to change the robot name, it changes the topic name of the robot, but the rosnode that control the robot could still able to send a message to webots simulator even if it has different topic name. how could it happens?


and how do i know if i subsribe a message from one robot and not the other?

##### Tahir [Moderator] 10/28/2019 17:34:35
`@threeal` Yes, different robots are treated sepreately, They will have all the information in different ros services (namespaced by the robots name you specify)

##### threeal 10/28/2019 17:30:24
when a world has 2 robots, does it treats each robot as separate node when using ros controllers?

##### Gautier A. 10/28/2019 16:00:19
Ok, thank you !

##### David Mansolino [cyberbotics] 10/28/2019 15:59:16
Yes, if it's a direct children (no joint between them) the two solids will kind of 'merge' and form on solid only.

##### Gautier A. 10/28/2019 15:52:42
Hey, sorry to bother you again, but I have a question. A solid, that has another solid has a children, would "inherit" the boundingObject of its children (in addition to his own) ?

##### David Mansolino [cyberbotics] 10/28/2019 15:38:27
`@POTATO_CHIP`, unfortunately the cross-compilation is supported only for the e-puck version 1 for now.



%figure
![21.png](https://cdn.discordapp.com/attachments/565154703139405824/638401059353657354/21.png)
%end


`@Amr`, you  might be interested by the 'village\_center' world.
%figure
![22.png](https://cdn.discordapp.com/attachments/565154703139405824/638401055226331146/22.png)
%end

##### POTATO\_CHIP 10/28/2019 15:28:36
`@David Mansolino` e-puck2

##### Amr 10/28/2019 15:28:02
check this link as an example for what I am looking for and thanks in advance


[https://www.youtube.com/watch?v=IfkxpnD9VzM](https://www.youtube.com/watch?v=IfkxpnD9VzM)


Is there is a world of a city with detailed sidewalks to simulate a wheeled robot performing last mile delivery?

##### David Mansolino [cyberbotics] 10/28/2019 14:02:41
Perfect, you're welcome

##### Gautier A. 10/28/2019 14:02:25
working fine now* !


I corrected it, it seems to be workuing


Ok, thank you a lot !

##### David Mansolino [cyberbotics] 10/28/2019 13:46:27

%figure
![12.png](https://cdn.discordapp.com/attachments/565154703139405824/638373015230480391/12.png)
%end


If you select any Robot/Solid node in the scene-tree you can then go to the node editor in the 'mass' field ans select 'including descendants', it will then compute the total mass of the robot/solid with all of its descendants:

##### Gautier A. 10/28/2019 13:44:27
How can you check the total weight of a robot ? I was pretty sure I changed the mass on all the field of the Puma


For the problem of the three robots, well, it's because I want to see how it would behaves if two "concurrent robot" with each one having its own controller would behave. It's for a project of a simulator, where mesh would be simulated as robot to simulate very little deformation of their mesh (and IndexFaceSet) for exemple


Thank you !

##### David Mansolino [cyberbotics] 10/28/2019 13:35:06
Additionnally, the total mass of the pioneer is 42.3kg and of the puma 27.4, therefore the difference is not so big


the pioneer should be the rrot robot and the puma a direct children of the pioneer.


I don't understand qhy you have 3 robots in your hierarchy.


Let me check quiclky your simulation files

##### Gautier A. 10/28/2019 13:30:23
Or did a make a mistake somewhere else ?


Yes, I agree. But because I set a masse of the pionner 500x time superior than the masses of the Puma, the Puma should have a negligible impact, shouldn't it ?

##### David Mansolino [cyberbotics] 10/28/2019 13:29:02
What you are changing there, is the center mass of the base segment of the robot, but all the children segment still have their center of mass up.

##### Gautier A. 10/28/2019 13:28:54
Here is the complete archive if you want to take a look ðŸ˜… I'm sorry to annoy you
> **Attachment**: [robotOnRobot.zip](https://cdn.discordapp.com/attachments/565154703139405824/638368600675188756/robotOnRobot.zip)


Basically, i have to take the inertia matrix of the pionneer as something along -6m on the y axis for it to work properly


So, I modified as you said. But there's still a thing I can't understand. The robot to behaves likes the "puma arm" was very heavy, when I explicitely defined all the masses as 0.1kg (and the mass of the pioneer of something like 50kg). It's especially wired when it seems that the change of direction of the Puma seems to impact the inertia force of the "whole robot" (which is good and excepted !)
> **Attachment**: [show-2019-10-28\_14.22.21](https://cdn.discordapp.com/attachments/565154703139405824/638367874502885416/show-2019-10-28_14.22.21)

##### David Mansolino [cyberbotics] 10/28/2019 13:24:34
Perfect! thank you for the feedback ðŸ™‚

##### Gautier A. 10/28/2019 13:16:08
The behavior seems more coherent now


Thank you, you were right, a bonding box was missing

##### David Mansolino [cyberbotics] 10/28/2019 13:04:05
The behavior is indeed not the expected one!

Are you shure all your Solid/robot nodes in the hierarchy have both a bounding object and a physics defined?

##### Gautier A. 10/28/2019 12:58:56
What I would like to do, to put it in a nutshell, is see if I can use a robot for "moving", and another robot for "sensor" or manipulation, with each one having seperate controllers


I tried to run a puma robotic arm on a pioner, but even when the puma doesn't have any controller, a part of the robot "glitches" and there is some kind of offset between its links
> **Attachment**: [show-2019-10-28\_12.07.26](https://cdn.discordapp.com/attachments/565154703139405824/638360842689183754/show-2019-10-28_12.07.26)

##### David Mansolino [cyberbotics] 10/28/2019 12:57:32
Hi `@Gautier A.` what is the behavior that doesn't make sense for you?

##### Gautier A. 10/28/2019 12:56:50
I have a problem  : I'm trying to understand how a robot with multiple other robots inside its children node (with, for each one, a different control) behaves, but I can't really make sense of the simulation I just did


Hello

##### David Mansolino [cyberbotics] 10/28/2019 12:33:42
`@JustDN` unfortunately no, but you might use invere kinematic to do this.


`@POTATO_CHIP` which version of the e-puck are you using?

##### Fabien Rohrer [Moderator] 10/28/2019 07:49:03
`@threeal` youâ€™re welcome ðŸ˜‚

##### threeal 10/27/2019 15:07:08
thank you guys


well seem i got it with creating dynamic link between webots include folder to my default include folder "/usr/local/include"


but now i have a problem to link visual studio code with webots include files


already solved it with create a new WEBOTS\_HOME variable that contain my webots path and setup ld config to Webots library path


how to manually compile a controller in Webots using make command?

##### POTATO\_CHIP 10/26/2019 08:08:13

%figure
![grey.png](https://cdn.discordapp.com/attachments/565154703139405824/637563118955790368/grey.png)
%end



%figure
![pressreset.png](https://cdn.discordapp.com/attachments/565154703139405824/637562841913622538/pressreset.png)
%end


and the uploading stripe is grey.


btw,after press the reset botton,the statu light turn green.


Hi,When I upload the .HEX file to the e-puck,after press the reset botton ,but it always show uploading and nothing happen.`@David Mansolino`

##### JustDN 10/25/2019 16:59:59
Is there any Webots documentation on cartesian control for the NAO robot? Or is there any way to program the NAO robot to move parts using [x y z] coordinates?

##### David Mansolino [cyberbotics] 10/25/2019 12:55:41
Hi `@POTATO_CHIP` you can use cross-compilation for the e-puck robot: [https://cyberbotics.com/doc/guide/epuck#cross-compilation](https://cyberbotics.com/doc/guide/epuck#cross-compilation)

##### POTATO\_CHIP 10/25/2019 12:45:08
hi,How can webots generate the .Hex profile?Can someone help?Thanks.

##### David Mansolino [cyberbotics] 10/25/2019 07:25:57
`@Gordon` ok, good to know that the problem is more likely on the Rviz side and not on the Webots-ROS interface side.

##### Gordon 10/24/2019 23:25:48
`@David Mansolino`  Thanks for your reply, I have used Pioneer 3AT example, and I could see all topics in RVIZ and RQT topic monitor on Host computer, However, remote computer RVIZ did not pick up any tf related topics. Rqt topic monitor on remote shows tf related topics. Therefore, there are something with Rviz on Remote.

##### David Mansolino [cyberbotics] 10/24/2019 07:25:15
`@Gordon`, have you tried the 'Pioneer 3 AT' webots-ros sample that use tf just to check if it works fine with your setup: [http://wiki.ros.org/webots\_ros/Tutorials/Sample%20Simulations#Simulation\_Pionneer\_3\_AT](http://wiki.ros.org/webots_ros/Tutorials/Sample%20Simulations#Simulation_Pionneer_3_AT)  ?

##### Gordon 10/24/2019 07:21:04
I have some issues with RVIZ for not able to use tf data from webots\_ros on a remote machine. Is there anyone experiencing such problem? I can get most of the topics diaplayed to rviz, not tf. I can see tf comes by topic monitoring tools from rqt.


`@David Mansolino` Thanks for your help. 

`@Olivier Michel` I am modifying the MRS8 to MRS6124 now. I need more understanding of the parameters of LiDAR

##### David Mansolino [cyberbotics] 10/24/2019 07:07:35
Ok, very good news !

##### Samir Hosny Mohamed 10/24/2019 07:07:08
`@David Mansolino` I tried the safe mode and it worked ðŸ‘Œ thanks.

Then i tried to remove the environment variable and it worked also

##### Olivier Michel [cyberbotics] 10/24/2019 06:36:00
`@Gordon`: you may take inspiration from the existing Lidars already included in Webots: [https://github.com/cyberbotics/webots/tree/revision/projects/devices/sick/protos](https://github.com/cyberbotics/webots/tree/revision/projects/devices/sick/protos) and create your own proto file your the MRS6124/MRS6000 Lidars.

##### David Mansolino [cyberbotics] 10/24/2019 06:33:07
`@Samir Hosny Mohamed`, you're welcome. Let us know if this still doesn't work. And make also sure that your GPU drivers are up to date.

##### Samir Hosny Mohamed 10/24/2019 06:32:27
No, i'll try as soon as i can

Thanks in advance

##### David Mansolino [cyberbotics] 10/24/2019 06:32:20
`@Gordon`, if you want to use a Lidar model that is not already available in Webots, you should use the default Lidar node and then set the fields of this node to matches the specification of the sick MRS6****: [https://cyberbotics.com/doc/reference/lidar](https://cyberbotics.com/doc/reference/lidar)

Let us know if you have any specific issue doing so.

And do not hesitate to share your result on github if you want: [https://github.com/cyberbotics/webots](https://github.com/cyberbotics/webots)


`@Samir Hosny Mohamed` Have you tried to use the safe mode? [https://cyberbotics.com/doc/guide/starting-webots#safe-mode](https://cyberbotics.com/doc/guide/starting-webots#safe-mode)

##### Gordon 10/24/2019 04:07:40
How can I make another LiDAR module? I am trying to make a Lidar modele from SICK. MRS6124 or MRS6000


Hi Experts on this channel

##### Samir Hosny Mohamed 10/23/2019 22:54:34
Hello

i have an weird issue!

the program is closing while finalizing nodes!

how can i fix it ?

##### Marcey 10/23/2019 21:48:05
I have another question.  I am building a PROTO-Node right now. The PROTO is of the type Group. I have a field called numberofNodes and in the protoBody I want to use a if-function as followed:



Group{

  children[

     Node1{}

if fields.numberofNodes.value > 1 then

    Node2{}

end

if fields.numberofNodes.value > 2 then

    Node3{}

end



and so on. I hope you can understand, what I want to do. It doesn't work like this, but do you have an idea how to do it? Thanks ðŸ™‚



Edit: Solved it. Just add %{}% to if and end

##### David Mansolino [cyberbotics] 10/23/2019 07:47:27
You're welcome

##### fateme 10/23/2019 07:47:21
ok thank you David

##### David Mansolino [cyberbotics] 10/23/2019 07:46:36
> if i want use another way except file what way you suggest?



I am not an expert in Matlab, but you should check what is the simplest to implemetn in Matlab between pipes and TCPIP communication.


If you are in real\_time mode then Webots will try to match as much as possible the amount time\_step to the real time.

##### fateme 10/23/2019 07:45:11
the amount of time\_step in wb\_robot\_step(time\_step) is effective in run time?


if i want use another way except file what way you suggest?

##### David Mansolino [cyberbotics] 10/23/2019 07:42:56
In that case that's probably the way to go for better performances.

##### fateme 10/23/2019 07:41:14
no

##### David Mansolino [cyberbotics] 10/23/2019 07:40:51
Ok, in that case you may need other way to communicate between Webots and Matlab than files (which are indeed quite slow). Have you tried using TCPIP for example? Or pipes?

##### fateme 10/23/2019 07:39:47
because i use toolbox of matlab

##### David Mansolino [cyberbotics] 10/23/2019 07:39:06
Ok, then why aren't you using directly a Matlab controller?

##### fateme 10/23/2019 07:38:46
no one in webots and another in matlab app

##### David Mansolino [cyberbotics] 10/23/2019 07:38:24
Ok, both program are Webots cotnroller right?

##### fateme 10/23/2019 07:37:58
hi `@David Mansolino`  yes

##### David Mansolino [cyberbotics] 10/23/2019 07:37:09
Hi `@fateme`, have you tried to run each program separately to make sure that both controller sparately runs fine?

##### fateme 10/23/2019 07:36:18
?


i write two program in c in webots and in matlab but after i synchronize by write in files this 2 program my project run very slow  .  how can i increase the speed


hello

##### Fabien Rohrer [Moderator] 10/21/2019 09:34:01
`@dreamerz` Hi, could you follow these items? [https://www.cyberbotics.com/doc/guide/general-faq#webots-crashes-at-startup-what-can-i-do](https://www.cyberbotics.com/doc/guide/general-faq#webots-crashes-at-startup-what-can-i-do)

##### dreamerz 10/21/2019 09:32:51
hi, im trying this software out but it only shows a white screen, if i screenshot i can see but not on the live screen, any remedies

##### Olivier Michel [cyberbotics] 10/21/2019 07:00:52
`@dulla`: Yes, Webots is a useful tool to design your own robot in simulation, program it and see how it will interact with its environment.


`@Marcey`: The appearance of objects (color, reflections, etc.) has no impact on the Lidar measurements. The Lidar only uses depth of field to compute its return values (based on the OpenGL depth buffer, also called Z buffer), in addition to the optional noise value.

##### dulla 10/20/2019 23:48:03
?


like it shows which parts you need to assemble the robot


is this what the website is about?


Hello, i have just come across this website as i was looking for website that are about making a robot design

##### Marcey 10/19/2019 11:58:46
Short question: if I add a noise to a Lidar, does the appearance (colour, reflections, ...) of other objects have any influence?

##### David Mansolino [cyberbotics] 10/18/2019 15:35:37
You're welcome

##### jhielson 10/18/2019 15:35:25
Thanks, I just noticed it was not working well. I am gonna check the link.

##### David Mansolino [cyberbotics] 10/18/2019 15:34:55
But there are probably other solution to make your simulation faster, have you read this page: [https://cyberbotics.com/doc/guide/speed-performance](https://cyberbotics.com/doc/guide/speed-performance) ?


Note also that 256 is already a quite big value, usign higher values may make your simulation unstable/unprecise.


Hi `@jhielson`, unfortunately no, the WorldInfo.basicTimeStep shouldn't bee bigger than your controller tiem step.

##### jhielson 10/18/2019 15:31:48
Hi, I am trying to improve the speed of my simulation in order to reduce the training time of my model.  I saw that I can increase the WorldInfo.basicTimeStep value but can it be greater than my current wb\_robot\_step. For example, my wb\_robot\_step value is 256 and I would like to use 2048 as my basicTimeStep.

##### David Mansolino [cyberbotics] 10/17/2019 10:16:20
You're welcome

##### bing feng 10/17/2019 10:16:14
thank u

##### David Mansolino [cyberbotics] 10/17/2019 10:14:15
Hi `@bing feng`, you can use libraries that do this for you, we have for example some experience with ikpy (this simulation is released as open-source within Webots): [https://www.youtube.com/watch?v=Jq0-DkEwwj4](https://www.youtube.com/watch?v=Jq0-DkEwwj4)

##### bing feng 10/17/2019 10:12:45
guys does anyone know how to do inverse kinematics in general

##### David Mansolino [cyberbotics] 10/16/2019 05:51:14
`@JoHn`, I just checked and for the Truck model it is indeed limited to -0.4 to + 0.4, if needed you can change this here: [https://github.com/cyberbotics/webots/blob/revision/projects/vehicles/protos/generic/Truck.proto#L36](https://github.com/cyberbotics/webots/blob/revision/projects/vehicles/protos/generic/Truck.proto#L36)

##### JoHn 10/15/2019 17:19:05

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/633715484524675091/unknown.png)
%end


Thank you very much for your help `@David Mansolino`. I am using the truck model as shown below:

##### David Mansolino [cyberbotics] 10/15/2019 17:08:36
> Thank you very much.



Very good news.



> is it because there is a steering limit (from -0.4 to 0.4)?



Yes exactly, the steering angle is probably limited to -0.4 to +0.4 in the vehicle model you are using. Which model are you using?

##### JoHn 10/15/2019 16:50:49
is it because there is a steering limit (from -0.4 to 0.4)?


One quick question,
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/633708086036660225/unknown.png)
%end


Thank you very much.


Hi `@David Mansolino`, I reduces the TimeStep value from 32 to 16, it works now.

##### Mehran Raisi 10/15/2019 16:35:57
`@Stefania Pedrazzi` Best Regards.

##### JoHn 10/15/2019 15:29:06

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/633687807394840606/unknown.png)
%end


`@David Mansolino`, yes, I call the timeStepClient in a loop with 32.

##### David Mansolino [cyberbotics] 10/15/2019 15:25:02
Your setting seems correct. How do you call the timeStepClient? In a loop? with which value?

##### JoHn 10/15/2019 15:16:47
Is the setting for the truck wrong?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/633684526635155466/unknown.png)
%end


Hi `@David Mansolino`, I called timeStepClient for both vehicles at the end of the ROS node, and I launched the node, the simulation time still freezed as follows:

##### David Mansolino [cyberbotics] 10/15/2019 14:35:49
You're welcome

##### JoHn 10/15/2019 14:35:27
Thank you `@David Mansolino` very much. I am trying it. I think it will work.

##### David Mansolino [cyberbotics] 10/15/2019 14:34:18
with a positive integer value for the 'value' argument.


Yes exactly once per vehicle

##### JoHn 10/15/2019 14:30:18
I need to call timeStepClient for both vehicles, is that right?


Are you saying this 'timeStepClient.call(timeStepSrv) '?

##### David Mansolino [cyberbotics] 10/15/2019 14:28:09
[https://cyberbotics.com/doc/reference/robot?tab=ros#wb\_robot\_step](https://cyberbotics.com/doc/reference/robot?tab=ros#wb_robot_step)


Do you call the step service for each node?

##### JoHn 10/15/2019 14:26:17

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/633672000581402664/unknown.png)
%end


Hi `@David Mansolino`, I am controlling two trucks by using one ROS node. As you suggested yesterday, I put "--name=leader" and "--name=aaa" in the 'controllerArgs' of each truck. Then in the ROS node, I wrote the code as shown in the picture. But it did not work, the simulation time just freezed. Could you please give me some advice?

##### Choomah 10/15/2019 08:24:50
`@Stefania Pedrazzi` I push this container to a repo if you want


[https://gist.github.com/trackq/32082c69d7dc16ede2e8d5ba3cafef0e](https://gist.github.com/trackq/32082c69d7dc16ede2e8d5ba3cafef0e)

##### Stefania Pedrazzi [cyberbotics] 10/15/2019 08:09:22
`@Choomah`  you're welcome. I will look at your PR

##### Choomah 10/15/2019 07:47:51
Thanks for helping a brother out `@Stefania Pedrazzi`


In case you might be curious: [https://github.com/trackq/webots/tree/dev-kaweh](https://github.com/trackq/webots/tree/dev-kaweh)


Hereby the promised PR: [https://github.com/cyberbotics/webots/pull/1006](https://github.com/cyberbotics/webots/pull/1006)


I'll try later again


It's a shame we couldn't get it to work


Tried different port. same result

##### Stefania Pedrazzi [cyberbotics] 10/15/2019 07:19:36
one thing you could also try is to test a different port


Webots writes errors to the stderr/stdout and in the Webots console


the streaming server writes logs by default in the <webots>/resources/web/server/log folder. But here the problem seem to come from Webots itself

##### Choomah 10/15/2019 07:17:59
no logs in /var/log


does the streaming server write any logs ?

##### Stefania Pedrazzi [cyberbotics] 10/15/2019 07:14:29
yes

##### Choomah 10/15/2019 07:13:28
hmmm...


so you ran the same command and you can access the texture files?

##### Stefania Pedrazzi [cyberbotics] 10/15/2019 06:56:32
I just tested on revision and it works just fine on my machine


if it doesn't then you should inspect if Webots prints any error message (in the Webots console or in the terminal)


on localhost:2001 it is normal that doesn't find anything, but for example this URL should work http://localhost:2001/textures/conveyor\_belt\_rubber.jpg

##### Choomah 10/15/2019 06:49:36
brb


Gives empty response on localhost:2001


/root/webots/webots --batch --mode=pause --minimize --no-sandbox --stdout --stderr --stream=port=2001;monitorActivity;controllerEdit /root/webots/projects/samples/robotbenchmark/robot\_programming/worlds/robot\_programming.wbt


cache is cleared I will restart the computer just to be sure

##### Stefania Pedrazzi [cyberbotics] 10/15/2019 06:43:58
Did you clear the cache?

to debug this you should inspect what does the Webots instance. First step would be to simply start webots with the `--stream` option and try to connect to the texture (with default port at http://localhost:1234/textures/<texture path>)

##### Choomah 10/15/2019 06:42:15

%figure
![Screen_Shot_2019-10-15_at_08.41.55.png](https://cdn.discordapp.com/attachments/565154703139405824/633555220600848384/Screen_Shot_2019-10-15_at_08.41.55.png)
%end


ðŸ˜‹


I thought it might be better if you heard my sexy accent



> **Attachment**: [webots.mov](https://cdn.discordapp.com/attachments/565154703139405824/633553420891979786/webots.mov)


always the revision one with you hotfix patch applied

##### Stefania Pedrazzi [cyberbotics] 10/15/2019 06:32:48
The texture file should be automatically published by Webots

which version are you using? always the revision one?

##### Choomah 10/15/2019 06:32:13
`@Stefania Pedrazzi` 1. I get an Empty response if I visit the root. I get an 404 when I visit the texture file

##### Stefania Pedrazzi [cyberbotics] 10/15/2019 06:20:48
`@Mehran Raisi` about the PR2 Webots model: instead of using the data from the PROTO file you could

1. convert it to base nodes: right click on the PR2 item in the scene tree and "Convert to base node(s)"

2. if you select a Solid or device node, then you can get the absolute or relative position of the part in the "Position" tab of the field editor (just below the scene tree)


`@Choomah` 

1. did you try to connect directly to the textures URL? does it work?

2. what happens exactly when you click on the play button? and the step button?

I would suggest you to clear the browser cache, this helps sometimes

##### Mehran Raisi 10/14/2019 20:29:28
Hi everyone, I'm using pr2 robot in my project and I want to derive its Denavit Hartenberg parameters from webots. I know in robots proto, there exists its coordinates but its really hard to work with. If anyone has its parameters, I would appreciate to share these data. thanks.

##### Choomah 10/14/2019 17:44:40
I still encounter two problems: 1. can't load the textures. It times out. 2. simulation doesn't run


If anybody can point me in the right direction


`@Stefania Pedrazzi` Thanks for the help man!


One more hurdle
%figure
![Screen_Shot_2019-10-14_at_18.08.42.png](https://cdn.discordapp.com/attachments/565154703139405824/633335448969936916/Screen_Shot_2019-10-14_at_18.08.42.png)
%end

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 15:47:27
> that would the webots.js and than run make right ?

yes, the make  bundles the dependencies and minimize the JS file. Then you have to make sure to link to your own webots.min.js file

##### Choomah 10/14/2019 15:46:28
Simulation does NOT run yet


controls are available, Editor is availble

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 15:46:13
ok, nice

##### Choomah 10/14/2019 15:46:06
it is working now


It was

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 15:45:41
probably unsetting the broadcast value is not enough

##### Choomah 10/14/2019 15:45:41
that would the webots.js and than run make right ?

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 15:44:36
> is there a way for me to start the code editor immidiatly after the scene is loaded in a predefined div ?

no. you have to modify `webots.min.js` to do this

##### David Mansolino [cyberbotics] 10/14/2019 15:43:42
`@JoHn` you're welcome

##### Choomah 10/14/2019 15:43:40
is there a way for me to start the code editor immidiatly after the scene is loaded in a predefined div ?


nice!

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 15:40:19
You should set `view.broadcast = false;` or simply do not set it (for the webots.View instance).

##### Choomah 10/14/2019 15:39:49
ah ok

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 15:38:42
ok, so you are probably running the simulation in broadcast mode.

##### Choomah 10/14/2019 15:38:17
no

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 15:38:11
Is the simulation play button enabled?

##### Choomah 10/14/2019 15:38:03
Euhm....

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 15:36:53
`@Choomah` yes, the "Edit controller" option in the robot context menu of the web interface should be enabled if the "controller" field is visible in the Webots scene tree

##### JoHn 10/14/2019 15:34:22
Thank you `@David Mansolino`. I see. I kind of understand it now. I am giving it a shot.

##### Choomah 10/14/2019 15:32:39
`@Stefania Pedrazzi` are there certein worlds that contain the Code Editor? The option is now disabled.

##### David Mansolino [cyberbotics] 10/14/2019 15:32:18
yes, but you have to replace `<robot_unique_name>` by something else (a name that you choose and that is different for each vehicle)

##### JoHn 10/14/2019 15:31:30
Thank you `@David Mansolino`. Is this a correct way to add the argument?


Thank you `@David Mansolino`.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/633325882257440768/unknown.png)
%end

##### David Mansolino [cyberbotics] 10/14/2019 15:24:55
`@Willem3141`, you're welcome. If you want you can re-ask the question on Wednesday, one of me colleague which is way more aware of the debugging mechanism of the robot-window will be connected.

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 15:12:31
`@Choomah` Cool! thank you for the link! I will check to add this to the documentation

##### Willem3141 10/14/2019 15:11:32
`@David Mansolino` Thanks for the help so far. I think I'll give up on this for today, let's see if I can fix things another day ðŸ™‚


`--remote-debugging-port=...` behaves the same as setting `QTWEBENGINE_REMOTE_DEBUGGING`, that is: you get a list with inspectable pages (in my case: the robot window and a user guide viewer), but clicking on either of these just results in a blank window. Webots returns an empty HTTP response ðŸ˜•

##### Choomah 10/14/2019 15:10:05
ðŸ˜€ thanks



%figure
![Screen_Shot_2019-10-14_at_17.09.39.png](https://cdn.discordapp.com/attachments/565154703139405824/633320585640017940/Screen_Shot_2019-10-14_at_17.09.39.png)
%end


in case you are interested


`@Stefania Pedrazzi` [https://forums.docker.com/t/cant-make-audio-device-to-work-on-aws-solved/71852/3](https://forums.docker.com/t/cant-make-audio-device-to-work-on-aws-solved/71852/3)

##### David Mansolino [cyberbotics] 10/14/2019 15:08:21
You probably want to add the `--name=<robot_unique_name>.` argument to both controller with different unique\_names to have always the exact same services/topics names: [https://cyberbotics.com/doc/guide/using-ros#using-the-standard-ros-controller](https://cyberbotics.com/doc/guide/using-ros#using-the-standard-ros-controller)

##### JoHn 10/14/2019 15:05:52
Thank you `@David Mansolino` for your answer. I tried to control two vehicles in a single ROS node. However, sometimes only one vehicle moved or both vehicles did not move. I am not sure what mistake I made. I am guessing the problem may come from the 'controllername'. Would you give me some advice?

##### David Mansolino [cyberbotics] 10/14/2019 15:01:41
about `QTWEBENGINE_REMOTE_DEBUGGING` you should actually be able to start Webots with the `--remote-debugging-port=....` port. See this link for more information: [https://doc.qt.io/qt-5/qtwebengine-debugging.html](https://doc.qt.io/qt-5/qtwebengine-debugging.html)


`@Willem3141` oh yes you are completely right `QtWebKitWidgets` is valid on windows only


`@JoHn`, as you prefeer you can either control on vehicle by node either control several vehicles from the same node (in that case you have to call the corresponding services for each vehicles)

##### JoHn 10/14/2019 14:56:55
Hey guys, now I am able to control one vehicle via a ROS node. My question is, is it possible to control multiple vehicles via ROS at the same time? Should each vehicle have one ROS node to control it? Thank you very much for your help.

##### Willem3141 10/14/2019 14:56:29
Anyone has any experience with `QTWEBENGINE_REMOTE_DEBUGGING`?


`@David Mansolino` Unfortunately I can't get Webots to compile on Linux with the inspector code enabled, because `<QtWebKitWidgets/QWebInspector>` cannot be found (my understanding is that Webots uses `QtWebEngine` instead of `QtWebKit` on Linux). I then found out that you can set `QTWEBENGINE_REMOTE_DEBUGGING` to some port number, and open `http://localhost:<port>` in Chrome to do remote debugging. Unfortunately this doesn't work either: after choosing the page to inspect, it only results in a blank page ðŸ˜¦

##### Choomah 10/14/2019 14:32:31
I have a very simple machine


Docker has become useless, which I guess is due to the 10 webots servers running in the background


I think something good happened

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 14:24:46
I never got these ones... if you check in the `<webots>/resources/web/server/log/simulation/output.log` file you can get the exact instruction that is run by the simulation server. Did you try to run Webots directly and see if it works?

##### Choomah 10/14/2019 14:22:37
etc...


AL lib: (WW) alc\_initconfig: Failed to initialize backend "pulse"

ALSA lib confmisc.c:768:(parse\_card) cannot find card '0'

ALSA lib conf.c:4292:(\_snd\_config\_evaluate) function snd\_func\_card\_driver returned error: No such file or directory

ALSA lib confmisc.c:392:(snd\_func\_concat) error evaluating strings


now new errors incoming


I commented the DISPLAY line out


Ah that worked semi ^\_^


I am running it headless in a docker container

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 14:20:09
this is needed to run on a headless server machine, but for example on my system with dual screen this instruction doesn't work


you can try to comment line `os.environ["DISPLAY"] = ":0"` (about line 702) in simulation\_server.py

##### Choomah 10/14/2019 14:18:25
that seems to be fixed now

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 14:18:04
`@Choomah` the error about `The console states: WebSocket error: Unknown message received: "x3d;broadcast"` is probably because the Webots version and the `webots.min.js` version are not matching

##### Choomah 10/14/2019 14:17:54
Warning: QXcbConnection: Could not connect to display :0

Critical: Could not connect to any X display.


Process log


now the webots subprocess is defunct as soon as it starts


`@Stefania Pedrazzi` A little bit progress again here

##### John0911 10/14/2019 13:54:59
Because the hingejoint node need a lot of sources of computer, however, we want simulate with about 49 robots. So we need simplify the robot's model.


`@Olivier Michel`  The axis does not pass through the origin of the robot


If the Supervisor robot rotates around a defined axis parallel to the Y-axis and does not apply the differential drive method, how should the rotation parameters of the Supervisor node be set?


I want let a cylinder supervisor rotation with a axis parallel to y axis and do not use hingejoint node,  how can I set supervisor rotation parameters?

##### Olivier Michel [cyberbotics] 10/14/2019 13:33:59
... not sure to understand what you want to achieve...

##### John0911 10/14/2019 13:33:22
And this axis is parallel to y axis.


If a cylinder shape robot rotation with a defined axis but not y axis, how can I achieve this?

##### Olivier Michel [cyberbotics] 10/14/2019 13:10:21
This page can help you to define the rotation axis in VRML format: [https://cyberbotics.com/rotation\_tool](https://cyberbotics.com/rotation_tool)


Sure, you can define whatever rotation axis you need.

##### John0911 10/14/2019 13:05:31
`@Olivier Michel` I have known the supervisor can rotation with one axis. However, I want to know whether the supervisor  can rotation with a defined axis.


I want to know whether the signal strength will be affected if more than one emitter send message

##### Choomah 10/14/2019 12:28:14
The console states: WebSocket error: Unknown message received: "x3d;broadcast"


2019-10-14 12:26:14,014 [INFO   ]  [localhost:1999] Client disconnected

2019-10-14 12:26:14,619 [INFO   ]  101 GET / (172.20.0.1) 0.88ms

2019-10-14 12:26:14,621 [INFO   ]  [localhost:1999] New client


Not a clue what's going on here


O\_o
%figure
![Screen_Shot_2019-10-14_at_14.24.42.png](https://cdn.discordapp.com/attachments/565154703139405824/633279102496931841/Screen_Shot_2019-10-14_at_14.24.42.png)
%end

##### David Mansolino [cyberbotics] 10/14/2019 12:20:19
You're welcome

##### Willem3141 10/14/2019 12:20:13
Thanks! I will try that

##### David Mansolino [cyberbotics] 10/14/2019 12:19:12
`@Willem3141`, if you recompile Webots from sources, you should be able to activate the robot widnow web inspector by uncommenting these parts:

[https://github.com/cyberbotics/webots/blob/c4ce84200caa0725655d1538076099d2fc036a22/src/webots/gui/WbRobotWindow.cpp#L38](https://github.com/cyberbotics/webots/blob/c4ce84200caa0725655d1538076099d2fc036a22/src/webots/gui/WbRobotWindow.cpp#L38)

[https://github.com/cyberbotics/webots/blob/c4ce84200caa0725655d1538076099d2fc036a22/src/webots/gui/WbRobotWindow.cpp#L91](https://github.com/cyberbotics/webots/blob/c4ce84200caa0725655d1538076099d2fc036a22/src/webots/gui/WbRobotWindow.cpp#L91)

##### Choomah 10/14/2019 12:04:43
`@Stefania Pedrazzi` i found the bug. I will push a PR ontop of your PR

##### Willem3141 10/14/2019 11:40:57
I found the documentation at [https://www.cyberbotics.com/doc/guide/controller-plugin#robot-window](https://www.cyberbotics.com/doc/guide/controller-plugin#robot-window), is there some other documentation about this that I'm missing?


I was wondering, to make debugging easier, is there a way to open a HTML/JS debugger for the robot window?


I'm currently experimenting with modifying the e-puck robot window, to allow connecting to an e-puck 2 by Bluetooth, without having to switch to an e-puck 1

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 08:46:10
I will create a new PR to apply the fix to the revision branch


and then use the files from [https://www.cyberbotics.com/files/repository/www/wwi/R2019b/](https://www.cyberbotics.com/files/repository/www/wwi/R2019b/)

##### Choomah 10/14/2019 08:45:54
ok

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 08:45:38
I would suggest you to simply apply the patch of the simulation\_server.py file to the revision branch

##### Choomah 10/14/2019 08:43:50
hotfix-linux-launcher


but now I am using your branch


yeah revisions

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 08:43:20
The code for Webots 2020a (not released yet) is still a work in progress... Are you using Webots from the revision ro develop branch?

##### Choomah 10/14/2019 08:43:14
2019-10-14 08:42:56,855 [ERROR  ]  Uncaught exception GET / (172.20.0.1)

HTTPServerRequest(protocol='http', host='localhost:1999', method='GET', uri='/', version='HTTP/1.1', remote\_ip='172.20.0.1')

Traceback (most recent call last):

  File "/usr/local/lib/python3.5/dist-packages/tornado/websocket.py", line 649, in \_run\_callback

    result = callback(*args, **kwargs)

  File "/usr/local/lib/python3.5/dist-packages/tornado/websocket.py", line 427, in on\_message

    raise NotImplementedError

NotImplementedError


too early ^\_^


Whoops


apparently I am still missing some files. I am looking for them in the repo


We are getting there slowly. You are a hero Stefania



%figure
![Screen_Shot_2019-10-14_at_10.39.28.png](https://cdn.discordapp.com/attachments/565154703139405824/633222386082381834/Screen_Shot_2019-10-14_at_10.39.28.png)
%end


/monitor works on both ports


nice!

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 08:27:32
Ok! Let me know if it works

##### Choomah 10/14/2019 08:27:00
I am trying your patch on Python3

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 08:22:50
yes, this is correct

##### Choomah 10/14/2019 08:21:16
This the revision branch


pip install tornado websocket-client nvidia-ml-py psutil requests

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 08:20:09
that's strange.. I'm running this script with python2 without any issue..

##### Choomah 10/14/2019 08:17:15
I am going to try your PR


root@93d179b72523:/webots/resources/web/server# Traceback (most recent call last):

  File "./session\_server.py", line 26, in <module>

    import tornado.ioloop

  File "/usr/local/lib/python2.7/dist-packages/tornado/ioloop.py", line 67

    def fileno(self) -> int:

                     ^

SyntaxError: invalid syntax

Traceback (most recent call last):

  File "./simulation\_server.py", line 37, in <module>

    import tornado.ioloop

  File "/usr/local/lib/python2.7/dist-packages/tornado/ioloop.py", line 67

    def fileno(self) -> int:

                     ^

SyntaxError: invalid syntax


For python 2.7 there als o is an error

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 08:07:58
Here is the fixed `simulation_server.py` version working for python 3. The session script doesn't need any change:

[https://github.com/cyberbotics/webots/pull/884/files#diff-8230a21f4eeb4b071e8135e1b8ef2c50](https://github.com/cyberbotics/webots/pull/884/files#diff-8230a21f4eeb4b071e8135e1b8ef2c50)


(I'm looking for the link)


or you can apply the patch to the scripts if it takes too long to rebuild

##### Choomah 10/14/2019 08:05:34
I'll rebuild the container for Python2 then

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 08:05:26
yes, you are right.

##### Choomah 10/14/2019 08:04:27
Then there is some confusion in Documentation about this

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 08:04:16
I just have an open PR about this..

##### Choomah 10/14/2019 08:04:11
aha

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 08:04:04
Currently they only work with Python 2, but I'm about to fix it

##### Choomah 10/14/2019 08:03:56
python --version

Python 3.5.2

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 08:03:18
Are you running the scripts with python3?

##### Choomah 10/14/2019 08:02:36
2019-10-14 08:02:17,755 [ERROR  ]  Uncaught exception GET /monitor (172.20.0.1)

HTTPServerRequest(protocol='http', host='localhost:2000', method='GET', uri='/monitor', version='HTTP/1.1', remote\_ip='172.20.0.1')

Traceback (most recent call last):

  File "/usr/local/lib/python3.5/dist-packages/tornado/web.py", line 1697, in \_execute

    result = method(*self.path\_args, **self.path\_kwargs)

  File "./simulation\_server.py", line 437, in get

    self.write(cpu + cores + "</p>\n")

UnboundLocalError: local variable 'cpu' referenced before assignment


500 Error

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 08:01:40
You can check if the the session and simulation servers are working correctly by checking the monitor pages:

* localhost:1999/monitor

* localhost:2000/monitor

##### Choomah 10/14/2019 07:59:44
its in a Docker container


Looks like the right port to me


cat config/session/local.json 

{

  "port": 1999,

  "server": "localhost",

  "simulationServers": [

    "localhost:2000"

  ]

}



%figure
![Screen_Shot_2019-10-14_at_09.58.35.png](https://cdn.discordapp.com/attachments/565154703139405824/633212093478338560/Screen_Shot_2019-10-14_at_09.58.35.png)
%end


THanks Stefania


got it

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 07:54:59
[https://cyberbotics.com/doc/guide/web-simulation#how-to-embed-a-web-scene-in-your-website](https://cyberbotics.com/doc/guide/web-simulation#how-to-embed-a-web-scene-in-your-website)


You have to build a web page that instatiates the webots.View main objects defined in `webots.min.js` adn executes it .


The web interface is available in the webots.min.js package available on the cyberbotics website ([https://cyberbotics.com/files/repository/www/wwi/R2019b/webots.min.js](https://cyberbotics.com/files/repository/www/wwi/R2019b/webots.min.js))

##### Choomah 10/14/2019 07:50:32
is there another version or should you build your own ?


I am trying to build an MVP for an idea, which incorporates [https://robotbenchmark.net/](https://robotbenchmark.net/) style of using webots. Looking at [https://cyberbotics.com/doc/guide/web-simulation](https://cyberbotics.com/doc/guide/web-simulation) and following that, I end up not seeing a web interface.

##### Stefania Pedrazzi [cyberbotics] 10/14/2019 07:46:24
Hi  `@Choomah` !

##### Choomah 10/14/2019 07:44:45
Hi all!

##### Olivier Michel [cyberbotics] 10/14/2019 06:13:37
`@Lars`: it's great that you found the problem. We are going to investigate this resolution problem to see whether you uncovered a bug... I will be back about it.


`@SimonDK`: it's not possible to select multiple objects in the scene tree. Not sure what you mean by mirroring a component... It is indeed possible to set a negative Transform.scale parameter to somewhat mirror a shape. Is that what you meant?


`@JoHn`: what you want to do is possible. I see no problem doing that. Did you try to do it? Did you experienced any problem?


`@ClLebi`: yes, this is possible, you will have to program it from a physics plugin, detect the collision, then remove it, so that it won't be taken into account by the physics engine.

##### SimonDK 10/12/2019 18:14:11
Can I mirror a component?

##### Lars 10/12/2019 12:47:19
`@Olivier Michel` Since yesterday I worked on some changes for the position sensor that did not resolve my issue. Then it occurred to me that it was perhaps not the controller or my code that was at fault, but rather something with the device(s). Then I stripped everything away to see what might be the problem. And apparently it was because I had put a value in the resolution field, when I changed it to -1 (default value) I was able to read the position of all my sensors.

But this begs the question as to why I was unable to specify the resolution in the first place? According to the documentation in [https://cyberbotics.com/doc/reference/positionsensor](https://cyberbotics.com/doc/reference/positionsensor) you can set the resolution to anything in the interval of 0 and infinity(-1). So what's the problem here?

##### SimonDK 10/11/2019 20:14:02
Can I select multiple objects in the Scene Tree sidebar? I need to select several hundred items

##### JoHn 10/11/2019 19:49:06
Hey guys, I'd like to control multiple robots via ROS in one environment. Should each robot have one ROS node to control it? Thanks a lot.

##### ClLebi 10/11/2019 17:47:22
Hi Guys, I'm wondering if it's possible to have a Collision sensor without generating a collision. Like a box sensor that say : There is something in me without using radar or lidar or camera etc. Juste a Collision sensor without generating collision ?

##### jhielson 10/11/2019 14:04:46
You are right. It works on the default epuck project.


I didnt generate the project. I am gonna check the default one. Thanks Oliver Michel!!!

##### Olivier Michel [cyberbotics] 10/11/2019 14:01:30
Can you open the default e-puck world? In this one, you should be able to open the e-puck robot window and upload your HEX file.


That means the robot is not recognized as an e-puck robot... Did you change it?

##### jhielson 10/11/2019 13:59:33
In my computer, it opens a generic robot windows. There are some information about the readings of the sensors but I can not find this option. Am I doing something wrong?

##### Olivier Michel [cyberbotics] 10/11/2019 13:55:59
You can do this from the Robot Window choosing Upload HEX pop-up menu: [https://cyberbotics.com/doc/guide/epuck#robot-window](https://cyberbotics.com/doc/guide/epuck#robot-window)

##### jhielson 10/11/2019 13:52:24
I did the cross-compilation from Webots to generate the file but I do not know how to upload on E-puck robot. It is already paired via Bluetooth.


Hi, I would like to know if there is a way to upload a hex file into epuck using Webots.

##### Olivier Michel [cyberbotics] 10/11/2019 12:44:09
Your PROTO should contain an IndedexFaceSet node for which you should compute the coordinates and assign them with the `%{=` statement.


It's the point list inside the PROTO that should be generated.


You should not change input fields, but rather change the coordinates values inside the PROTO.

##### Gautier A. 10/11/2019 12:30:24
Where did I made a mistake ?


The problem is that it "display" the change of value in the console, in lua. But it doesn't change the field values in itself, in webots


%{

        print('test')

        local i

        for i = 1,40,1

        do

            print("\n")

            print(fields.points.value[i]["x"])

            fields.points.value[i]["x"] = fields.points.value[i]["x"] + 10

            print("   ")

            print(fields.points.value[i]["x"])

        end

    }%


I've proceed as you suggested, with lua code, and defined the followings lines :


Well, your idea kind of works. I'm still stuck at "something" and I don't really know why it doesn't works


`@Olivier Michel`  Thank you for your response !

##### Lars 10/11/2019 12:17:12
Yeah that was my plan B if my current controller couldn't be salvaged. I have a simulation working that can read position sensor in Python. But it is not for my own robot. 

Anyway thanks so much for the help. ðŸ˜€

##### Olivier Michel [cyberbotics] 10/11/2019 12:15:03
At some point you may find the problem.


Then modify it step-by-step to get as close as possible as your own model.


write a python controller for it and check whether it works.


webots/projects/samples/devices/worlds/position\_sensor.wbt


I would recommend you to start from the provided example:


No, it shouldn't change anything.

##### Lars 10/11/2019 12:13:29
Will anything change if I put the robot into a proto file and use it?

##### Olivier Michel [cyberbotics] 10/11/2019 12:12:47
Well, I am running out of ideas...


OK.

##### Lars 10/11/2019 12:11:44
Python.

##### Olivier Michel [cyberbotics] 10/11/2019 12:11:38
OK. Is you controller in C or C++?

##### Lars 10/11/2019 12:11:20
Same as the motors. `timeStep = int(4 * robot.getBasicTimeStep())`

##### Olivier Michel [cyberbotics] 10/11/2019 12:10:54
At which frequency did you enabled the sensors?


Not sure...


Ok, that means the problem is in the sensors, not in the controller.

##### Lars 10/11/2019 12:07:55
`@Olivier Michel` Yeah I see change in the motors, but sensors stay at 0.

##### Olivier Michel [cyberbotics] 10/11/2019 12:07:16
That contains some LUA code which recomputes the coordinates.


[https://www.cyberbotics.com/doc/reference/procedural-proto-nodes](https://www.cyberbotics.com/doc/reference/procedural-proto-nodes)


`@Gautier A.`: it should be a procedural proto.


`@Lars`: I mean the robot window. Double-click on the robot and the robot window should open, then you should see a tab with position sensors.

##### Gautier A. 10/11/2019 11:35:57
(here is my proto : [https://pastebin.com/WYnj7u2E](https://pastebin.com/WYnj7u2E) , I want to modify some of the "z" coordinate" of some points )

##### Lars 10/11/2019 11:35:51
`@Olivier Michel` Yes, when I run the program and command the first joint to move to 0.1 it changes as it should from 0 to 0.1, but sensor doesn't see the change.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/632179555171434526/unknown.png)
%end

##### Gautier A. 10/11/2019 11:34:55
`@Olivier Michel`  I think I see. So, for exemple, I can create a new value "coefficient" in my proto, and multiply the points in the field "coordinate" by that coefficient ?

##### Olivier Michel [cyberbotics] 10/11/2019 11:33:56
When you open the robot window, can you see the position sensor values in the graphical user interface?

##### Lars 10/11/2019 11:32:42
`@Olivier Michel` Yeah all motors are moving as they should, that's why I'm so confused.

##### Olivier Michel [cyberbotics] 10/11/2019 11:31:45
Is the motor actually moving?

##### Lars 10/11/2019 11:30:42
`@Olivier Michel` It just continues to print 0 endlessly. Might there be a problem in the construction of the device(s)?

One of the leg joints with a rotational motor and sensor looks like this:

```DEF LEG-1-COXA HingeJoint {
      jointParameters HingeJointParameters {
        axis 0 0 1
        anchor 0.0716 0.12096 0
      }
      device [
        PositionSensor {
          name "c1_pos"
          resolution 4096
        }
        RotationalMotor {
          name "c1_ser"
          maxVelocity 1
          maxTorque 100
        }
      ]
```

I tried changing parameters such as resolution, but it didn't change the outcome.

##### Olivier Michel [cyberbotics] 10/11/2019 11:30:37
Do you see what I mean?


The field of the new PROTO should be used to recompute the coordinates. It could be for example the amplitude and frequency parameters of the wave and the procedural PROTO will recompute the coordinates according to these input fields.


No, that's not what was done in the demo PROTO.

##### Gautier A. 10/11/2019 11:25:18
If so, what should be the type of the corresponding field ? "Coord" I guess ?


So basically, If i want to test that out, I have to make a new proto, with the "points" of the coordinate as a field ?


`@Olivier Michel`  Ok, thank  you !

##### Olivier Michel [cyberbotics] 10/11/2019 10:51:08
Would that work better?


```
while robot.step(timeStep) != 1:
    for i in range(len(psName)):
        value = ps[i].getValue()
        psValues.append(value)
    print(psValues)
```


That's normal, it prints the sensor values at step 0, so, it could be that all values are 0. You should put the print inside the loop and should not break the loop.

##### Lars 10/11/2019 10:19:16
Looks like this

```while robot.step(timeStep) != 1:
    for i in range(len(psName)):
        value = ps[i].getValue()
        psValues.append(value)
    break
print(psValues)
```

Prints all zeros in the list for all of my sensors.

##### Olivier Michel [cyberbotics] 10/11/2019 09:48:23
Are you sure you are calling the step function regularly before checking the sensor value?

##### Lars 10/11/2019 09:31:30
I can upload my own project if that would make it easier.


`@Olivier Michel` Yeah, the reason I am asking is because I took a simple example from [https://github.com/cyberbotics/webots/issues/711#issuecomment-510832161](https://github.com/cyberbotics/webots/issues/711#issuecomment-510832161) and implemented the getValue() function to read the motion. But I can't do it for my own robot/code where I go through similar steps.

##### Olivier Michel [cyberbotics] 10/11/2019 09:22:14
`@Lars`: you should be able to read this information from any robot, no need for a supervisor. Are you sure your device tags are non-null and the corresponding devices are properly enabled? Do you get any warning in the Webots console?


`@Gautier A.`: I believe the demo you are mentioning (waves) was achieved about the same way, but instead of changing the coordinates directly, the supervisor changes some field of a procedural PROTO node which in turn will recompute its internal coordinate values accordingly. This might be faster than changing the coordinates directly, not sure.

##### Lars 10/11/2019 09:20:22
`@Olivier Michel` I've done that. I also implemented `while robot.step(timeStep) != -1:` to prevent it from reading sensor values before there are anything in there.

Is there anything preventing me from doing this using robot() rather than supervisor()?

##### Olivier Michel [cyberbotics] 10/11/2019 09:17:54
[https://www.cyberbotics.com/doc/reference/positionsensor?tab=python#wb\_position\_sensor\_enable](https://www.cyberbotics.com/doc/reference/positionsensor?tab=python#wb_position_sensor_enable)


`@Lars`: you should enable the sensors so that you don't get the `nan` value any more.

##### Gautier A. 10/11/2019 07:38:15
(In another question, do you know how this demonstration/exemple has been done ? [https://youtu.be/OKxdaNqmQco](https://youtu.be/OKxdaNqmQco)  )


(Here is the C code [https://pastebin.com/wTBZk88e](https://pastebin.com/wTBZk88e) )


I want to simulate deformation on a mesh, I've used supervisor to change the points of an IndexFaceSet, but it's pretty slow.


Hello, Is there a way to change the geometry of an object using supervisor in a "fast way" ?

##### Lars 10/10/2019 13:57:39
`@David Mansolino` Since implementing the `getValue` function to obtain the motor position it just keeps reading `[nan]` at the start of the program or `[0]` after moving the motors into a new position. I didn't have these issues when I initially did the tutorials for distance sensor and neither when I replicated it again.

##### Stefania Pedrazzi [cyberbotics] 10/10/2019 08:40:25
nevertheless you should be able to set the position of the joint, the same as you will do from the scene tree, using the snippet you posted


so if the Motor node is not part of the Supervisor model, you cannot control it from your supervisor controller


`@machinekoder` it is only possible to control a device from its Robot controller and using the device API

##### machinekoder 10/10/2019 07:54:30
Can I set the position of a Motor node from a supervisor controller? I was thinking about something along the lines of 

```
motor = robot.getFromDef(name)
position = motor.getField('position')
def set_position(target):
  position.setSFFloat(target)
```

##### equinox 10/10/2019 05:44:38
Hi everyone, i'm new to webots and i'm trying to develop a quadcopter proto, simply with 1 body (solid with shape of a box), 4 propellers and 2 diagonals and i'm reading both from the propeller world file and mavic2pro proto.  however, although the 4 propellers seem to be working fine (with a controller as simple as setting velocity to the motors),  the quadcopter spins around itself whenever the velocities go high and never takes off the ground. What may be the possible issues with this? Thank you all so much.

##### capucsc 10/10/2019 05:00:29
the system variable is set with: `export WEBOTS_HOME=/Applications/Webots.app/`


Quick question: has anyone tried to build the ROS2 package on Mac? I'm having a difficult time with an odd path:



```
[Processing: webots_ros2_desktop]                   
--- stderr: webots_ros2_desktop                     
error: can't copy '../../../../../../../Applications/Webots.app/lib/libzip.dylib': doesn't exist or not a regular file
---
Failed   <<< webots_ros2_desktop    [ Exited with code 1 ]
```

##### David Mansolino [cyberbotics] 10/09/2019 13:46:36
You're welcome

##### Lars 10/09/2019 13:46:22
`@David Mansolino` Thanks, I'll give it a try

##### David Mansolino [cyberbotics] 10/09/2019 13:44:55
`@BlackPearl`, try Tools => Restore Layout


```Python
positionSensor = robot.getPositionSensor('name')
positionSensor.enable(32)
....
positionSensor.getValue()
```


`@Lars`, I strongly recommend to follow this tutorial to understand how the Python API works: [https://www.cyberbotics.com/doc/guide/tutorial-4-more-about-controllers?tab=python](https://www.cyberbotics.com/doc/guide/tutorial-4-more-about-controllers?tab=python)

basically you should:

  1. get the position -sensors device.

  2. enable it.

  3. get the value

##### BlackPearl 10/09/2019 13:42:15
The window doesnâ€™t show up to change the value

##### Lars 10/09/2019 13:41:48
Trying to read radians of a PositionSensor using Python and the readout into terminal from the function `robot.getPositionSensor` is something like 

`[<controller.PositionSensor; proxy of <Swig Object of type 'webots::PositionSensor *' at 0x0000029A5954D5A0> >` What's going wrong here?

##### David Mansolino [cyberbotics] 10/09/2019 13:41:43
What yo you mean by 'you can't change' ?

##### BlackPearl 10/09/2019 13:11:56
For example viewpoint


`@David Mansolino`  canâ€™t change the values anymore

##### David Mansolino [cyberbotics] 10/09/2019 12:23:10
You're welcome

##### Muhsin Kompas 10/09/2019 12:23:03
thanks `@David Mansolino`

##### David Mansolino [cyberbotics] 10/09/2019 12:17:29
For more information, please refeer here: [https://www.cyberbotics.com/doc/reference/viewpoint](https://www.cyberbotics.com/doc/reference/viewpoint)


Ok, then try setting it to 0.5 (or even 1-2 if it still doesn't work)

##### Muhsin Kompas 10/09/2019 12:15:21
0.05

##### David Mansolino [cyberbotics] 10/09/2019 12:15:06
You can read it here.
%figure
![Capture_du_2019-10-09_14-14-28.png](https://cdn.discordapp.com/attachments/565154703139405824/631464657021960202/Capture_du_2019-10-09_14-14-28.png)
%end

##### Muhsin Kompas 10/09/2019 12:12:55
i dont know it

##### David Mansolino [cyberbotics] 10/09/2019 12:12:20
And what about th eViewpoint near value ?

##### Muhsin Kompas 10/09/2019 12:12:00
road 0 0 0


floor 50 -0.05 25

##### David Mansolino [cyberbotics] 10/09/2019 12:10:46
You can see this in the scene-tree ([https://cyberbotics.com/doc/guide/the-scene-tree](https://cyberbotics.com/doc/guide/the-scene-tree))

##### Muhsin Kompas 10/09/2019 12:10:11
`@David Mansolino` how can i see

##### David Mansolino [cyberbotics] 10/09/2019 12:05:32
`@Muhsin Kompas` what is the value of the Viewpoint.near field ?

##### Muhsin Kompas 10/09/2019 11:31:11
`@Stefania Pedrazzi` floor translation y=-0.005, road translations y =0

##### Olivier Michel [cyberbotics] 10/09/2019 10:46:55
You should use a PositionSensor node.

##### Dumindu 10/09/2019 10:41:52
How can I read the position of a motor when I'v attached a motor as a actuator?

##### Olivier Michel [cyberbotics] 10/09/2019 07:40:11
Simply make a test in your control loop to check if the delay is over and call the function if this is the case.

##### Dumindu 10/09/2019 07:36:38
How to invoke a delaying statement there?


I'm using python

##### Olivier Michel [cyberbotics] 10/09/2019 07:35:36
You can simply check the time in the main loop and don't call this function until the waiting time you need is over.

##### Dumindu 10/09/2019 07:33:34
?


Is there is a way to delay a function. Like delaying a funcition by 1000ms


Hi,

##### David Mansolino [cyberbotics] 10/09/2019 06:35:06
`@jwanner`, yes this is feasible, for this you should do a PROTO.

If you are not familiar with PROTO, I strongly recommend to follow this tutorial: [https://www.cyberbotics.com/doc/guide/tutorial-7-your-first-proto](https://www.cyberbotics.com/doc/guide/tutorial-7-your-first-proto)

Then reading the chapter about PROTO: [https://www.cyberbotics.com/doc/reference/proto](https://www.cyberbotics.com/doc/reference/proto)

In particular the sub-chapter about procedural PROTO that allows you to use a scripting language inside your PROTO definition: [https://www.cyberbotics.com/doc/reference/procedural-proto-nodes](https://www.cyberbotics.com/doc/reference/procedural-proto-nodes)

##### Stefania Pedrazzi [cyberbotics] 10/09/2019 06:23:45
Another option is to remove the graphical appearance of the Floor and keep only the physical one.


If you look at the `projects/vehicles/wrolds/city.wbt` simulation distributed within Webots, the translation.y value of the road elements is set to 0.02.


`@Muhsin Kompas` the visual issue you get is called z-fighting ([https://en.wikipedia.org/wiki/Z-fighting](https://en.wikipedia.org/wiki/Z-fighting)).

This happens because the road and the floor are coplanar and can be solved by slightly modifying the translation.y value of one of the two objects.


Adding dummy Robot instances as suggested by `@Tahir` should be avoided and it is useless.


`@Sohil` the Supervisor class inherits from Robot class, so you can call the `getTime()` function from the Supervisor instance.

##### jwanner 10/08/2019 20:25:55
Hi again ! Thank you for your help the other day, I was able to achieve what I wanted. But now I have another question, is it possible to have an automatic generation of nodes in Webots ? I have a robot with several rigid segments linked together with hinge/rotational motor, and for example I would like to say, my total length is 10cm and I want 5 segments and it would build the 5 rigid segments of 2cm each linked with rotational motor. I have no idea if it is feasible or if we just have to do it by hand each time, I am curious.
%figure
![image0_1.jpeg](https://cdn.discordapp.com/attachments/565154703139405824/631225788867412038/image0_1.jpeg)
%end

##### Tahir [Moderator] 10/08/2019 20:22:58
`@Sohil` upto my knowledge,

Supervisor node is available only in Robot. So here in this case you can add a dummy Robot() from which you can enable the Supervisor and than can use this to get the simulation time.

##### Muhsin Kompas 10/08/2019 19:13:00

%figure
![Untitled.png](https://cdn.discordapp.com/attachments/565154703139405824/631207438225506304/Untitled.png)
%end


`@Stefania Pedrazzi` I have another problem. The image is distorted when I use Floor.

##### Sohil 10/08/2019 17:00:09
`@Stefania Pedrazzi` Can I get time using an instance of `Supervisor()`? I am currently using that to change the direction of light? Will I also have to add an instance of `Robot()` to get time?

##### David Mansolino [cyberbotics] 10/08/2019 12:59:39
Hi Mike, If you are speaking about the follow and rotate behavior of the viewpoint, the rotation will be the same as the object itself, the goal is to be able to as if you were the object

##### MIKE 10/08/2019 12:56:52
Hiï¼Does the supervisor\_rotation function allow a robot to rotate around a specified axis? Or is it only able to find its own center to rotate?

##### David Mansolino [cyberbotics] 10/08/2019 09:33:14
You're right it's rqt (which is even more strange), but anyway computing it directly in the ros node is probably the simplest workaround.

From the webots\_ros/Float64Stamped ([http://docs.ros.org/melodic/api/webots\_ros/html/msg/Float64Stamped.html](http://docs.ros.org/melodic/api/webots_ros/html/msg/Float64Stamped.html)) you can get the value (in the data field)  and the associate time (in the header.stamp field) you need then to keep the previous value and time and when you receive a new value you can compute the speed with: speed = (new\_value - old\_value) / (new\_time - old\_time)

##### Marcey 10/08/2019 09:09:46
the error is not from matlab, but from rqt ([http://wiki.ros.org/rqt](http://wiki.ros.org/rqt)). Yeah, it probably is quite simple, if you know how to do it ðŸ˜….

##### David Mansolino [cyberbotics] 10/08/2019 09:02:29
It seems the definition of the message (and therefore the md5sum) is different in Matlab ðŸ˜• why using matlab? It should be quite simple to compute the position difference and divide it by the time difference directly in your ROS controller.

##### Marcey 10/08/2019 08:52:04
I have a follow up question to my question from yesterday. You recommended to use the PositionSensor and derivate it to get the speed. My idea was to record a rosbag of the "/<device\_name>/value"-topic (that worked) and use Matlab to derivate. But I cannot open the bag-File in Matlab and when I want to plot the bag in rqt, I get this error:



For type [webots\_ros/Float64Stamped] stored md5sum [e6c99c37e6f9fe98e071d524cc164e65] has invalid message definition."



Do you have any ideas on how to solve this or for another approach?

##### David Mansolino [cyberbotics] 10/08/2019 06:29:31
`@hayRobots`, yes even if this is not recommended: [https://github.com/cyberbotics/naoqisim](https://github.com/cyberbotics/naoqisim)

##### Stefania Pedrazzi [cyberbotics] 10/08/2019 06:27:51
`@Muhsin Kompas` the objects falls because the road doesn't have any boundingObject (physics shape). To fix it you have to add a ground object, for example a Floor PROTO


`@Sohil` the Robot API function `wb_robot_get_time` returns the current simulation time in seconds: [https://cyberbotics.com/doc/reference/robot#wb\_robot\_get\_time](https://cyberbotics.com/doc/reference/robot#wb_robot_get_time)

##### Tahir [Moderator] 10/08/2019 06:00:09
In tutorials you can find example codes in Pyrhon, C, CPP, Java etc.


[https://www.cyberbotics.com/doc/guide/running-extern-robot-controllers](https://www.cyberbotics.com/doc/guide/running-extern-robot-controllers)


[https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)


`@Chirantha` Hello,

You can write your script both in webots amd external file. In case of Webots(which is preferable), you just need to specify the controller.

In case of an external file you need to specify 'extern' in controller field of the robot.

And about the library I would recommend you to go through webots tutorials. There you will find the necessary information and you'll get an idea how you can proceed in your project may be.

##### Chirantha 10/08/2019 05:16:27
Hi everyone! I'm actually new to webobts and I'm trying to figure out how to write my script. I prefer using python as I'm more familiar with it (version 3.7, 64-bit). But where can I find the basic Webots libraries to be added into Python needed for this? And also where should I write my code? In a python file or inside Webots itself?

##### Tahir [Moderator] 10/08/2019 04:06:45
`@Sohil`  you can get the simulation time in supervisor node.

##### Sohil 10/08/2019 03:25:43
Hi everyone! I am new the Webots and it looks really promising for my project!

I want to read the time of the simulation and apply a directional light according to it. I know how to set the directional light using the supervisor, but I am finding it hard to read the time or progression of simulation time. Any leads?

##### hayRobots 10/07/2019 23:47:47
Is there a way to use the naoqi library with webots ??


Hello

##### Muhsin Kompas 10/07/2019 20:45:20
why does this object constantly fall into space?



> **Attachment**: [video.mov](https://cdn.discordapp.com/attachments/565154703139405824/630868097083113472/video.mov)


K

##### David Mansolino [cyberbotics] 10/07/2019 15:54:00
You're welcome ðŸ™‚

##### Marcey 10/07/2019 15:49:56
`@David Mansolino`, thanks! Since I am not the most expirienced programmer, I hoped to avoid this ðŸ˜ƒ

##### David Mansolino [cyberbotics] 10/07/2019 15:17:26
For this you need to use the position-sensors: [https://www.cyberbotics.com/doc/reference/positionsensor?tab=ros#wb\_position\_sensor\_enable](https://www.cyberbotics.com/doc/reference/positionsensor?tab=ros#wb_position_sensor_enable)


The workaround is to use the position and to derivate it in order to get the speed


Hi `@Marcey`, you are completely right about the 'get\_velocity' service.

##### Marcey 10/07/2019 15:15:05
Hello guys, I am using Webots with ROS. I want to get the velocity of a wheel/RotationalMotor, to create a graph where I can compare the set velocity and the actual velocity and see how it changes with different accelerations.



My plan was to use the "/<device\_name>/get\_velocity"-service, but it turns out this just mirrors the inputs from "set\_velocity, right?



Is there an easy way to get the actual velocity(a service would be prefered)?

##### David Mansolino [cyberbotics] 10/07/2019 15:15:05
You should make sure that the total mass of both side of the joint are equal (and probably that the center of mass at an equivalent distance of the joint too).


Ok, that should indeed be feasible in Webots.

##### jwanner 10/07/2019 15:14:09
like the second line, not the first line



%figure
![Hinge.jpeg](https://cdn.discordapp.com/attachments/565154703139405824/630784882200543251/Hinge.jpeg)
%end


I have a solid part, a hinge and a second solid part. When I activate the motor of the hinge I would like that both parts are lifted with the same angle around the hinge

##### David Mansolino [cyberbotics] 10/07/2019 15:05:20
You mean the lighter par is lifted more than the weighter? Is this the problem?

##### jwanner 10/07/2019 15:02:52
I am working a modeling a new robot, it is a soft bodied robot with actuators in the body that act like hinges. In webots I want to model it with hinges and solid body part, but for now I only was able to use hinge as so : two body parts linked with a hinge(motor) and when the motor is activated it lifts the linked body part. But I would like that the two body parts to be lift with the same angle around the hinge, is it possible ? ( I am sorry if I am not clear)

##### David Mansolino [cyberbotics] 10/07/2019 15:00:12
Hi `@jwanner`

##### jwanner 10/07/2019 14:58:32
Hello,

##### Stefania Pedrazzi [cyberbotics] 10/07/2019 12:36:10
`@Dumindu` please note that CMD could find the correct Python version even if the PATH (or Path) environement variable is not correctly set because it uses the Python launcher. Webots doesn't, so you have to really check the Path variable and ensure that the Python installation directory is specified in the PATH.


In the `bumper.wbt` simulation if you click with the mouse on the black box in front of the robot you will trigger a collision (the same as the robot hits the wall)


you can achieve it using different methods:

1. modeling a button using the TouchSensor device ([https://www.cyberbotics.com/doc/reference/touchsensor#bumper-sensors](https://www.cyberbotics.com/doc/reference/touchsensor#bumper-sensors) see `projects/samples/devices/worlds/bumper.wbt` for a sample simulation)

2. using the Mouse API and handling the mouse events on the controller (see for example [https://www.cyberbotics.com/doc/guide/samples-howto#mouse\_events-wbt](https://www.cyberbotics.com/doc/guide/samples-howto#mouse_events-wbt))


`@machinekoder` yes it is possible to interact with the environment

##### machinekoder 10/07/2019 11:28:15
Or in general, can I somehow interact with objects in the environment during simulation by clicking on them? Let's say a physical button on a machine control?


Lets say I want to simulate a touchscreen inside my simulation environment. Would it be possible to get the mouse clicks on a Display device?

##### Stefania Pedrazzi [cyberbotics] 10/07/2019 09:38:35
did you install Webots for all the users or just for your account?

##### Dumindu 10/07/2019 09:29:50
command is python


webots R2019b

##### Stefania Pedrazzi [cyberbotics] 10/07/2019 09:27:57
we would need more info about your environment because usually setting up the PATH is enough to make it work correctly in Webots.

Which version of Webots are you using? which command is set in the Webots preferences?

##### Dumindu 10/07/2019 09:25:31
Yes I am

##### Stefania Pedrazzi [cyberbotics] 10/07/2019 09:25:21
just to be sure, are you using the 64-bit version of python?

##### Dumindu 10/07/2019 09:23:57
CMD shows it


yeah

##### Stefania Pedrazzi [cyberbotics] 10/07/2019 09:23:40
did you add the path to your Python installation directory in your environmental variable PATH?

##### Dumindu 10/07/2019 09:23:00
WARNING: "python.exe" was not found.

Webots requires Python version 3.7 or 2.7 (64 bit) from python.org in your current PATH.

To fix the problem, you should:

1. Check the Python command set in the Webots preferences.

2. Check the COMMAND set in the [python] section of the runtime.ini file of your controller program if any.

3. Fix your PATH environment variable to use the required Python 64 bit version (if available).

4. Install the required Python 64 bit version and ensure your PATH environment variable points to it.


I'm using python 3.7,4 but the programme still shows the same error

##### Stefania Pedrazzi [cyberbotics] 10/07/2019 07:42:30
`@javad` note that Webots 7 is an old version that is no longer supported  since many years. But the algorithm to create an occupancy grid map using a Webots 7 "range-finder" Camera or a Lidar should be the same as soon as you get the distance from the objects that you can extract from the image.


Here is the documention about how to setup Python on Windows. Please let me know if this doesn't work for your or you have problems with it

[https://www.cyberbotics.com/doc/guide/using-python#windows-installation](https://www.cyberbotics.com/doc/guide/using-python#windows-installation)


does the PATH environment variable in your system contain the Python directory?


did you try to follow the instructions printed in the error message?

##### Dumindu 10/07/2019 06:51:30
WARNING: "python.exe" was not found.

Webots requires Python version 3.7 or 2.7 (64 bit) from python.org in your current PATH.

To fix the problem, you should:

1. Check the Python command set in the Webots preferences.

2. Check the COMMAND set in the [python] section of the runtime.ini file of your controller program if any.

3. Fix your PATH environment variable to use the required Python 64 bit version (if available).

4. Install the required Python 64 bit version and ensure your PATH environment variable points to it.


How to resolve this exception:

##### Stefania Pedrazzi [cyberbotics] 10/07/2019 06:50:59
`@Dumindu` I confirm that there are no official slides about Webots. As already suggested, Webots User Guide and Reference Manual also contain examples. Otherwise it could also be useful to look directly at the code of the sample simulations: for example at `projects/languages/python/worlds/example.wbt`.

It is true that most of the docs contains C examples, but the python API matches almost one to one the C API.  

[https://www.cyberbotics.com/doc/reference/nodes-and-api-functions](https://www.cyberbotics.com/doc/reference/nodes-and-api-functions)

##### Dumindu 10/07/2019 06:50:59
ARNING: "python.exe" was not found.

Webots requires Python version 3.7 or 2.7 (64 bit) from python.org in your current PATH.

To fix the problem, you should:

1. Check the Python command set in the Webots preferences.

2. Check the COMMAND set in the [python] section of the runtime.ini file of your controller program if any.

3. Fix your PATH environment variable to use the required Python 64 bit version (if available).

4. Install the required Python 64 bit version and ensure your PATH environment variable points to it.

##### Stefania Pedrazzi [cyberbotics] 10/07/2019 06:36:52
`@machinekoder` it is correct that the Connector, as all the devices in Webots, can only be inserted as a descendant of a Robot node. This is because in general devices can only be controlled/activated by controller program that has to be associated with a Robot node.

##### machinekoder 10/06/2019 15:09:54
`@Dumindu` I don't know if there are any slides. But I found the documentation very helpful too. Most of the docs contain C examples though. [https://www.cyberbotics.com/doc/guide/controller-programming](https://www.cyberbotics.com/doc/guide/controller-programming)

##### Dumindu 10/06/2019 14:38:12
I found it hard to learn via tutorials. Is there any resource or slides that explain the basics?


Thanks `@machinekoder`

##### machinekoder 10/06/2019 14:27:41
`@Dumindu` yes, best go through the tutorials to learn the basics: [https://cyberbotics.com/doc/guide/tutorial-1-your-first-simulation-in-webots](https://cyberbotics.com/doc/guide/tutorial-1-your-first-simulation-in-webots)

##### Dumindu 10/06/2019 14:23:08
I'm using python controller to actuate a hinge joint using rotational motor. Do I have to define the motor name in order to use it in python script?


Hello everyone.

##### machinekoder 10/06/2019 09:54:26
hello everyone

Does anybody know why I can't add a PROTO file containing a Connector node to something other than a Robot node? Is this a bug?

##### javad 10/04/2019 16:19:05
any body could help me


my question is how can I do mapping by lidar in this webots version


hello every body

I want to make occupancy grid map by lidar in webots

my webots version is 7.1.0, so there is not lidar node in that. it use camera node for lidar using. wb\_camera\_get\_range\_image.

##### Himil 10/04/2019 16:16:41
Might want to skip the initial 10 seconds


That's awesome. Exactly what I was looking for. I was quickly able to simulate the trajectory I wanted. Example of it
> **Attachment**: [supervisor\_sunlight.mp4](https://cdn.discordapp.com/attachments/565154703139405824/629713411730833488/supervisor_sunlight.mp4)

##### David Mansolino [cyberbotics] 10/04/2019 15:24:54
You can find an example of this where the position of a PointLight is moved here: [https://cyberbotics.com/doc/guide/samples-devices#supervisor-wbt](https://cyberbotics.com/doc/guide/samples-devices#supervisor-wbt)


Hi `@Himil`, yes of course that is possible, you can change any parameter of the simulation at runtime using a Supervisor controller: [https://cyberbotics.com/doc/reference/supervisor](https://cyberbotics.com/doc/reference/supervisor)

##### Himil 10/04/2019 15:16:06
`@Olivier Michel` Thanks a lot for the help. Just yesterday I was looking into the blender exporter thing and looks like it might work for us. 

We also want to change the direction of the light as the time in the simulation changes (For example simulating the position of the sun throughout the day and thereby changing the shadow of the objects) Do you think that is something possible ?

##### David Mansolino [cyberbotics] 10/04/2019 09:24:04
You're welcome

##### Tahir [Moderator] 10/04/2019 09:11:55
by the way thanks fo r the reply


sure just let me try

##### David Mansolino [cyberbotics] 10/04/2019 09:10:12
Let me know if once this is done you still have issues


1. if you need synchronization, you should call the `/robot/time_step` service from your node with a non-null argument. It is also strongly adviced to add the `--synchronize` argument in the controllerArgs field of each robot (se more info here: [https://cyberbotics.com/doc/guide/using-ros?tab=ros#using-the-standard-ros-controller](https://cyberbotics.com/doc/guide/using-ros?tab=ros#using-the-standard-ros-controller)).

2. Each robot should call it's `/robot/time_step` service.


Hi `@Tahir`

##### Tahir [Moderator] 10/04/2019 08:48:10
Hey Guys

I am using webots to simulate multiple robots. I am using ROS and currently having synchronization problems.

Can someone tell me:

1. How to use wb\_robot\_step when using ROS, as we have no option to use it in the context of controller.

2. How to sync multiple homogeneous robots i.e. every robot should have its own wb\_robot\_step or just one which executes the next physics step would be enough.

Thanks in advance

##### Olivier Michel [cyberbotics] 10/04/2019 06:08:09
You can import whatever 3D map in Webots given you convert them to VRML97 format. Importing a Blender-generated elevation grid is a typical use case. The Blender to webots exporter may turn our to be useful for such operations: [https://github.com/cyberbotics/blender-webots-exporter](https://github.com/cyberbotics/blender-webots-exporter)


Hi Himil,

Webots indeed provides highly realistic 3D images for its camera sensors compared to other robot simulators, so that's probably the best choice for your application. Creating environments that generates close to photo-realistic images requires some expertise, but you can start from existing samples and play with the parameters (lights, backgrounds, materials, etc.). A good starting point may be the following environment: [https://www.cyberbotics.com/doc/guide/samples-environments#hall-wbt](https://www.cyberbotics.com/doc/guide/samples-environments#hall-wbt)

##### Himil 10/03/2019 20:31:20
Also what sort of maps are importable in Webots ? Can i make a elevationgrid in blender and import it here ?


Hey guys, 

We are group of CMU students and planning to use Webots for our capstone project. One of the requirement is a photorealistic images from Webots so that we can use them for SLAM and 3D reconstruction algorithm. While I found a lot of information about Appearance and stuff, I couldn't find much information or samples related to photo realistic images. Can someone guide me to a sample or some tutorial on it ?

##### David Mansolino [cyberbotics] 10/03/2019 14:39:20
You're welcome, thank you for the feedback!

##### JoHn 10/03/2019 14:37:41
Thank you `@David Mansolino` and `@Stefania Pedrazzi` for your kind answers, I appreciate that. Yes, I misunderstood it and used 'ros' instead of 'ros\_automobile' controller. The simulation has worked since last night and I will add more features to the simulation later on, including GPS, lidar and imported map. Thanks again.

##### David Mansolino [cyberbotics] 10/03/2019 12:19:21
Perfect, thank you for the feedback.

##### MaWa 10/03/2019 12:17:11
`@Fabien Rohrer`

`@David Mansolino` Absolutely right! Thanks. Haven't seen it ðŸ˜‚ ðŸ™Œ

Now it works just fine!

##### David Mansolino [cyberbotics] 10/03/2019 11:56:50
Hi `@MaWa`, from the output it seems you have another conflicting installation of traci in 'Program files(x86)\Eclipse\Sumo'. This other version is probably not compatible with the one used by Webots. Please make sure that this path is not included neither in your PYTHONPATH and PATH environment variables

##### MaWa 10/03/2019 11:24:20
`@Fabien Rohrer` 

The Python example ->WEBOTS\_HOME/projects/languages/python/worlds/example.wbt works just fine. I can control the 3 robots and there is no crash. So I think Python is working with Webots software.



My version of Python out of cmd.exe -> "python --version" -> Python 3.7.4 (64bit) So the Path is also set correct



If I set the option to --disable-traffic-lights

...See in the Picture ðŸ˜‘
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/629277552837525505/unknown.png)
%end

##### Tutu 10/03/2019 11:07:06
`@Olivier Michel` Thanks

##### Saha 10/03/2019 10:23:56
`@Stefania Pedrazzi`  Thanks Ill check that out.

##### Fabien Rohrer [Moderator] 10/03/2019 10:18:28
is it a possibility for you to disable the traffic lights? (By passing "--disable-traffic-lights" to the sumo\_supervisor.py controller, thanks to the SumoSupervisor.enableTrafficLights field). This would bypass the problematic code.


Do you use a special version of Python 3.7? You should install it as described here: [https://cyberbotics.com/doc/guide/using-python](https://cyberbotics.com/doc/guide/using-python)


Your issue is weird, we just tested sumo with python 2.7 and 3.7 and it seems to work well.


traci is released in Webots, so there is no versioning. My previous comment has not much sense.


Ok, more info...

##### MaWa 10/03/2019 09:45:58
It is the one witch gets installed with the "webots-R2019b\_setup" so it is "sumo-0.30-windows".

From the \_init\_.py file -> @version $Id: \_\_init\_\_.py 23953 2017-04-16 16:19:38Z behrisch $

##### Fabien Rohrer [Moderator] 10/03/2019 09:44:06
Could you tell us what is your traci version?

##### MaWa 10/03/2019 09:42:42
Hey, does somebody knows how to fix that? I have Python 3.7 64Bit installed. But I can't make a connection to SUMO?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/629251977422962708/unknown.png)
%end

##### David Mansolino [cyberbotics] 10/03/2019 06:57:11
`@JoHn`, about your second issue with vehicles and ROS, unfortunately there are no specific tutorial for vehicles with ROS, but as you said there is no real difference (juste a few more services and topics), so this tutorial is valid for vehicles too: [https://cyberbotics.com/doc/guide/tutorial-8-using-ros](https://cyberbotics.com/doc/guide/tutorial-8-using-ros)

The only main difference is that instead of the 'ros' controller you should use the 'ros\_automobile' one.

##### Stefania Pedrazzi [cyberbotics] 10/03/2019 06:52:44
Hi `@JoHn`, for the `time_step` question: also in vehicle simulation you have to use the same service `<modelName>/robot/time_step`. All the required instructions for the vehicle are then executed internally by the ros\_automobile controller.


`@Saha` Welcome! I would suggest you to start from our tutorials: [https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)

##### JoHn 10/03/2019 01:40:22
Thank you in advance for any advices.


Hi guys, is there any tutorials for controlling vehicles using ROS? Now I am able to control robots but not vehicles. I thought controlling robots and vehicles via ROS should be similar, but am not sure why vehicles do not move and steer.

##### Saha 10/02/2019 19:06:13
Hey Im new to webots.. Where should I start??

##### JoHn 10/02/2019 16:49:02
Hi guys, when we control robots in ROS, we need to do like this:  timeStepClient = n.serviceClient<webots\_ros::set\_int>(controllerName + "/robot/time\_step");  My question is: when we control vehicles (eg. BMW x5 or truck) in Ros, should we do the same like this:  timeStepClient = n.serviceClient<webots\_ros::set\_int>(controllerName +"/automobile/time\_step"); Thanks  a lot.

##### danBOTT 10/02/2019 16:41:11
Thanks. `@LaCava`

##### LaCava 10/02/2019 16:36:41
The other tutorials go over other scene editing necessities; this here is specifically for the robot part.


[https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot](https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot)


`@danBOTT` Take a look here

##### danBOTT 10/02/2019 16:34:40
Hi guys, I'm new to Weebots; can I build a robot completely from scratch without using any built in model? If yes, how can I do that? Thanks.

##### JoHn 10/02/2019 16:12:30
Thank you `@David Mansolino`. Yes, I have installed the webots\_ros package.

##### David Mansolino [cyberbotics] 10/02/2019 16:08:15
If you have installed the webots\_ros package you don't need: [http://wiki.ros.org/webots\_ros](http://wiki.ros.org/webots_ros)

##### JoHn 10/02/2019 16:07:06
My question is, do I need to have the services files in the catkin workspace?


Hi `@David Mansolino`, thank you for your quick response. This is what I am doing in the ROS node:    steeringClient = n.serviceClient<webots\_ros::set\_float>("vehicle/automobile/set\_steering\_angle");

    throttleClient = n.serviceClient<webots\_ros::set\_float>("vehicle/automobile/set\_throttle");

    steeringSrv.request.value = 0.5;

    throttleSrv.request.value = 0.5;

    steeringClient.call(steeringSrv);

    throttleClient.call(throttleSrv);

    ros::spinOnce();

##### David Mansolino [cyberbotics] 10/02/2019 15:59:59
Hi `@JoHn`, you can find all the required services here: [https://cyberbotics.com/doc/automobile/driver-library?tab=ros](https://cyberbotics.com/doc/automobile/driver-library?tab=ros)

In particular these services:

  - /automobile/set\_steering\_angle

  - /automobile/set\_cruising\_speed

If you have any specific question/issue do not hesitate to ask us

##### JoHn 10/02/2019 15:57:37
Hi guys, could you give me some advices here? I am new to Webots. I would like to run an autonomous driving simulation using ROS and Webots. Now I am able to launch Webots and a truck by following [https://github.com/cyberbotics/webots\_ros](https://github.com/cyberbotics/webots_ros), but I failed to move the truck using services. I am not sure what I am doing wrong. Thanks a lot!

##### David Mansolino [cyberbotics] 10/02/2019 15:22:41
Hi `@SimonDK`, unfortunately undo node deletion is not yet supported.

##### SimonDK 10/02/2019 15:22:15
Isn't it possible to undo (ctrl+z) if you delete something from the node tree?


Thanks `@Fabien Rohrer`. Great, I found it the menu "Preferences > Startup mode". Now it is set to Pause. /cheers

##### Fabien Rohrer [Moderator] 10/01/2019 12:32:50
You're welcome, good luck with your project.


(this is how the PR2 grabs the boxes in this released simulation: [https://www.cyberbotics.com/doc/guide/pr2](https://www.cyberbotics.com/doc/guide/pr2) cf. the youtube movie)

##### Owen 10/01/2019 12:31:32
Okay, I got it.  I will try. Thanks for your precious and useful advise.

##### Fabien Rohrer [Moderator] 10/01/2019 12:29:34
Another clue; I have done some experiments about gripping, and controlling the hand in torque control (rather than in position control) gives better results (you can adjust precisely the used strength)


I think that if you would like to have a better grip, you can act on the 3 parameters mentioned above: 1. box alignment, 2. stifness (due to joint torques or general physics paramaters such as ERP/CFM/basicTimeStep), 3. the contact friction between the finger and the box (ContactFriction). The good action depends on your requirements.

##### Owen 10/01/2019 12:24:26
I think that the black box and finger are misaligned. Is this the main problem to my simulation?

##### Fabien Rohrer [Moderator] 10/01/2019 12:17:30
.. and if the contact point has a big friction.


Are the black box and the fingers perfectly aligned? As in reality, 2 point collisions are possible in this case if the box is misaligned, and the stifness of the finger joints is really big.


Ok

##### Owen 10/01/2019 12:15:15
I'm sure that the two objects are box nodes.

##### Fabien Rohrer [Moderator] 10/01/2019 12:14:02
Are you sure these objects are defined by 2 Box nodes (cf. Solid.boundingObject) ?


I see. You can indeed expect to have a contact line there.

##### Owen 10/01/2019 12:11:59
The situation is just like this. It looks like there are more than one point contacting black object, but actually there are only one point.
%figure
![grasp_task_ALL_init_v1.png](https://cdn.discordapp.com/attachments/565154703139405824/628564770135736321/grasp_task_ALL_init_v1.png)
%end

##### Fabien Rohrer [Moderator] 10/01/2019 12:07:13
>>> ./webots path/to/you/world.wbt


Typically:


(see worldFile)


[https://cyberbotics.com/doc/guide/starting-webots#command-line-arguments](https://cyberbotics.com/doc/guide/starting-webots#command-line-arguments)


`@SimonDK` You can specify the world to open thanks to the webots launcher arguments:


`@Owen` Could you post a screenshot showing your issue here?

##### SimonDK 10/01/2019 11:30:50
When I start Webots it runs the last simulation immediately. Can I turn this off?

##### Owen 10/01/2019 11:21:04
Hi, there are few questions about contact points. When I open the "Show Contact points" function. I obseve that there are only few contact point on a plane(two plane are contact with each other). Is there any way to add more contact points on the plane when simulation running.

##### Fabien Rohrer [Moderator] 10/01/2019 06:21:24
`@chamandana` hi, Webots is released with an IK example using an ABB IRB 4600 arm and the ikpy Python module: [https://www.cyberbotics.com/doc/guide/irb4600-40#inverse\_kinematics-wbt](https://www.cyberbotics.com/doc/guide/irb4600-40#inverse_kinematics-wbt)

##### chamandana 10/01/2019 01:10:59
guys, sorry for interrupting, can you point me to some quick resources to learn Inverse Kinematics. I need to move an end plate vertically upwards, which is connected to the base with two arms.

##### SimonDK 09/30/2019 19:39:21
`@Fabien Rohrer` Hi. I found that page as well, my challenge is that I cannot figure out where to add it in vscode ðŸ¤”Any ideas?

##### Daniel Deng 09/30/2019 15:40:15
Ok, thanks for the advice! I will try them and see if anything new pops up.

##### Fabien Rohrer [Moderator] 09/30/2019 15:38:28
Another alternative is to use a script which runs Webots as a slave and create one Webots instance per individual training.


You could also think about to use another method than supervisor.simulationReset(). For example to reset only the robot position, its physics and its motors.


Unfortunately no; Your controller should deal with this. For example by storing its state before reseting it, and restore it.

##### Daniel Deng 09/30/2019 15:16:32
`@Fabien Rohrer` Thanks for the response! So is there a way to reset only the world from external controller?

##### Olivier Michel [cyberbotics] 09/30/2019 06:53:42
`@Tutu`, you can listen to a recent podcast about Webots here: [http://www.theconstructsim.com/webots-robot-simulator-ros-olivier-michel/](http://www.theconstructsim.com/webots-robot-simulator-ros-olivier-michel/). Otherwise a simple google search will probably help you find what you need.

##### Fabien Rohrer [Moderator] 09/30/2019 06:53:16
`@Daniel Deng` Hi, simulationReset() resets also the controllers, including the supervisor itself! So the termination of the process is the expected behavior.

##### Stefania Pedrazzi [cyberbotics] 09/30/2019 06:43:20
`@isayev ND-21` : yes there was a ERS 210 model back in Webots 5. But after Sony decided to drop it, it was no longer possible to fully support it in Webots and only the ERS-7 model was kept.

##### Fabien Rohrer [Moderator] 09/30/2019 06:37:42
`@SimonDK` Hi, you should basically include WEBOTS\_HOME/include and WEBOTS\_HOME/lib, and link with libController, as explained in this draft page of the documentation: [https://cyberbotics.com/doc/guide/using-your-ide?version=enhancement-ide-section](https://cyberbotics.com/doc/guide/using-your-ide?version=enhancement-ide-section)

##### David Mansolino [cyberbotics] 09/30/2019 06:35:49
`@aysegulucar`, are speaking of the real robot or the simulated one? If you speak about the real one, that's perfectly normal because the API of the real op3 is completely different from the one of the 1 and 2. about simulation, if you can't find the include, you probably have to adapt your makefile (however, since the shape fo the robot is not the same the gait manager may not work for the op3)

##### isayev ND-21 09/30/2019 01:52:41
at some point wasnt there an ERS-210 web bot model back in the day?

##### SimonDK 09/29/2019 21:10:49
I want to use vscode for my Python developments for webots. Can I add the webots libs to my path in vscode?


Evening. Webots is complaining about ikpy not being installed even though I have installed it with pip. I am on macos. Any suggestions why it complains about ikpy not being installed? What Python path does Webots use?

##### Tutu 09/29/2019 08:25:56
Can someone send me a link to learn more about webots except their offical tutorials given by them

##### Daniel Deng 09/28/2019 02:40:54
Hi! I'm trying to use supervisor.simulationReset() in Pycharm, but after resetting the simulation, Pycharm will show "Process finished with exit code 1" when executing the following supervisor.step(timeStep). What went wrong?

##### aysegulucar 09/27/2019 18:27:44
Thanks David,  Could you please answer  this question also. we cant reach to mgaitmanager nethod. all lines including mgaitmanager for op3 dont work. Why?  Just give an idea.

##### David Mansolino [cyberbotics] 09/27/2019 15:08:40
You're welcome

##### Vidicon 09/27/2019 15:07:52
`@David Mansolino` ok, Thanks.

##### David Mansolino [cyberbotics] 09/27/2019 14:29:48
`@aysegulucar` we dont have any 'xm430.h' file, but you should probably ask ROBOTIS, or look on internet. a qucik check on internet lead me to: [https://github.com/ROBOTIS-GIT/ROBOTIS-Framework](https://github.com/ROBOTIS-GIT/ROBOTIS-Framework)

You may find the required informations on this repository.


`@Vidicon`, you can ignore this argument (or set it to 1 by default).

##### aysegulucar 09/27/2019 14:06:55
we cant reach to mgaitmanager nethod. all lines including mgaitmanager dont work. Why?

##### Vidicon 09/27/2019 09:55:00
what is the "ask" argument in the ros service? Cant find it in the documentation.



`Type: webots\_ros/get\_float

Args: ask`

##### aysegulucar 09/27/2019 08:02:21
Thanks


Is there a xm430.h library?


Hi, we are preparing robotis-op3 gait manager. Is there a xm430.h library? We gone ahaed to write gait manager but it are not standing at the balance.

##### Cyberninja 09/27/2019 07:31:53
`@Raggy` `@David Mansolino`  Thank you

##### David Mansolino [cyberbotics] 09/27/2019 06:40:37
As long as they are in the path and you take them into account in your Makefile everything should works fine with external dependencies, it works the same way as for controllers ([https://cyberbotics.com/doc/guide/using-webots-makefiles#adding-an-external-library-ccp](https://cyberbotics.com/doc/guide/using-webots-makefiles#adding-an-external-library-ccp)).

##### Raggy 09/27/2019 06:39:09
(Although that calls CPython's code too, not sure how webots handles external dependencies)


Even if there isn't integration with webots, it is probably possible to use Cython to generate C files directly and paste those into webots  `@Cyberninja`

##### David Mansolino [cyberbotics] 09/27/2019 06:36:29
Yes, that can indeed be a solution in that case, thanks for the pointer

##### Raggy 09/27/2019 06:35:56
So you can generate those compiled files and directly link those


Cython compiles Python to C

##### David Mansolino [cyberbotics] 09/27/2019 06:34:56
If I am not wrong Cython is for calling C function from Python right ?

##### Raggy 09/27/2019 06:32:40
Cython integration?

##### David Mansolino [cyberbotics] 09/27/2019 06:32:10
Unfortunately, physics plugin is one of the rare exception where you can only program in C (because the resulting shared library is directly loaded within Webots).

##### Cyberninja 09/27/2019 06:24:29
i am not able to program physics plugin in python

##### Fabien Rohrer [Moderator] 09/26/2019 19:08:57
[https://cyberbotics.com/doc/guide/using-matlab](https://cyberbotics.com/doc/guide/using-matlab)


`@elnaz` is the matlab binary available from a terminal? Basically the matlab path should be added to the PATH environment variable. But this depends on the OS:


`@marina_diamanti` the Display.name field should match exactly with the argument you pass to the wb\_robot\_get\_device(displayFieldName) function.

##### elnaz 09/26/2019 17:48:08
what should i do?


failed to start: matlab -nosplash -nodesktop -r launcher


I get this error when i am running e-puck with matlab language


Hi

##### marina\_diamanti 09/26/2019 17:36:11
whats wrong?


[my\_controll] Error: wb\_display\_set\_color(): invalid device tag.

[my\_controll] Error: wb\_display\_draw\_line(): invalid device tag.


but i get these errors


and i wanna display in the display image some points


hello, ive put in an e-puck in turretslot a display node

##### David Mansolino [cyberbotics] 09/26/2019 15:33:30
You're welcome

##### SamSmurfitt 09/26/2019 15:33:23
ok thanks

##### David Mansolino [cyberbotics] 09/26/2019 15:30:56
For example if you want to see as if you were the robot you have to put the viewpoint 'inside the robot' at the same position as its 'eyes'


Yes, you have to put the initial position of the viewpoint where you want it to be (then it is going to keep its position/orientation relatively to the robot constant).

##### SamSmurfitt 09/26/2019 15:29:15
ive selected to robot and under view selected 'Follow Object' but it follows from a top down view. Do i need to adjust the viewpoint position and orientation also?

##### David Mansolino [cyberbotics] 09/26/2019 15:29:14
Just for info, we did log the issue with the latest version here: [https://github.com/cyberbotics/webots/issues/747](https://github.com/cyberbotics/webots/issues/747)

We will fix this as soon as we can.


> It was with the 2018b verison



Ok thank you for the information


No, you just need to select you're robot and then enable the Follow behavior.

##### SamSmurfitt 09/26/2019 15:24:32
It was with the 2018b verison


ah ok. So do I need to create an object where the virtual camera will be?

##### David Mansolino [cyberbotics] 09/26/2019 15:14:23
> ok thanks, ive got it working in one of the demo worlds.



good news, with the latest version or with R2018b ?



> One question, is it posible to link the viewpoint to a robot? I've built a driveable robot for my project and would like to be able to drive it from a first-person perspective. Is this possible?



Yes of course, from the view menu you have two option 'Follow Object' and 'Follow Object and Rotate': [https://cyberbotics.com/doc/guide/the-user-interface#view-menu](https://cyberbotics.com/doc/guide/the-user-interface#view-menu)

##### SamSmurfitt 09/26/2019 15:13:00
One question, is it posible to link the viewpoint to a robot? I've built a driveable robot for my project and would like to be able to drive it from a first-person perspective. Is this possible?


ok thanks, ive got it working in one of the demo worlds.

##### David Mansolino [cyberbotics] 09/26/2019 14:51:27
Can you maybe try with an older version of Webots ?

Webots R2018b is a good candidate as I am sure I tested VR with this one (just to make sure nothing was broken since then): [https://www.cyberbotics.com/archive/index.php](https://www.cyberbotics.com/archive/index.php)

##### SamSmurfitt 09/26/2019 14:48:45
Yeah I play steam VR games all the time with it

##### David Mansolino [cyberbotics] 09/26/2019 14:43:27
(our interface relies on steamVR)


Unfortunately we never tested Webots with this headset (we mainly tested it with HTC Vive and Occulus).

Is this headset working fine with steamVR ?

##### SamSmurfitt 09/26/2019 14:15:31
it's the Acer Windows mixed reality headset

##### David Mansolino [cyberbotics] 09/26/2019 14:04:04
which VR headset are you using ?

##### SamSmurfitt 09/26/2019 12:46:41
I've loaded up a sample world, (boomer) but whenever I enable the headset in webots I just get a fully light blue view

##### David Mansolino [cyberbotics] 09/26/2019 12:03:00
Hi  `@SamSmurfitt`, all of our worl files are compaible with virtual reality heasdsets ([https://cyberbotics.com/doc/guide/computer-peripherals#virtual-reality-headset](https://cyberbotics.com/doc/guide/computer-peripherals#virtual-reality-headset)). Is this what you are looking for ?

##### SamSmurfitt 09/26/2019 10:52:32
Hi, is there an example Virtual Reality world I can test out?

##### David Mansolino [cyberbotics] 09/25/2019 15:22:49
You're welcome

##### Radonism 09/25/2019 15:17:22
yeah probably. Thank you!

##### David Mansolino [cyberbotics] 09/25/2019 15:15:34
You should probably contact K-Team who is the company who created the robot: [https://www.k-team.com/](https://www.k-team.com/)

##### Radonism 09/25/2019 15:14:58
I just couldn't find any documentation about implementing ROS on it


and further I hope to make them communicate


Currently I want to access the on board camera and grab relative position to ARtags

##### David Mansolino [cyberbotics] 09/25/2019 15:10:43
From what I know it only have a limited support for ROS for know, you probably have to recompile ROS for the robot yourself.

##### Radonism 09/25/2019 15:10:03
Yeah I have checked that but I want to know whether it is compatible with ROS

##### David Mansolino [cyberbotics] 09/25/2019 15:08:34
Hi, yes a model is available in webots [https://www.cyberbotics.com/doc/guide/khepera4](https://www.cyberbotics.com/doc/guide/khepera4)

##### Radonism 09/25/2019 15:07:59
Does anybody have some insights about Khepeta IV robots?

##### Rahul0496 09/25/2019 09:54:46
its working now, thanks


thank you,i will try it out

##### Fabien Rohrer [Moderator] 09/25/2019 09:37:13
These lines: [https://github.com/cyberbotics/webots/blob/revision/projects/robots/kuka/youbot/worlds/youbot.wbt#L10-L34](https://github.com/cyberbotics/webots/blob/revision/projects/robots/kuka/youbot/worlds/youbot.wbt#L10-L34)


yes, you have to copy the contact properties from the youBot examples in your world.


Hi,

##### Rahul0496 09/25/2019 09:35:53
Hey,i have been trying to work on the kuka robot. But the bot only moves in the forward direction and it does not strafe, any idea why?

##### Olivier Michel [cyberbotics] 09/25/2019 09:27:30
Please, let us know if you believe we should add a comment regarding the ERP value in this FAQ.

##### Vidicon 09/25/2019 09:26:41
thank you, i will look in to that.

##### Fabien Rohrer [Moderator] 09/25/2019 09:25:59
softCFM is certainly the key ðŸ˜‰ [https://cyberbotics.com/doc/guide/modeling#my-robot-is-heavy-and-sinks-into-the-ground-constantly](https://cyberbotics.com/doc/guide/modeling#my-robot-is-heavy-and-sinks-into-the-ground-constantly)


Hi

##### Vidicon 09/25/2019 09:24:16
hello everyone, I have been looking in to simulating a 'heavy' 3 wheeled robot (800Kg) but my robot sinks into the floor and cant drive. following a form post I changed ERP to 0.8 (was 0.4) but this only helps a bit. i also changed the floor to a solid box. if i set the basicTimeStep to 1 it works but then the simulation runs really slow. (0.8x realtime on a laptop with a RTX2060, i7-8750H, ubuntu 18.04) Is there something im overlooking?

##### David Mansolino [cyberbotics] 09/25/2019 06:18:48
Hi `@Anoop`, please make sure your GPU drivers are up to date. Have you tried starting Webots in safe mode? [https://cyberbotics.com/doc/guide/starting-webots#safe-mode](https://cyberbotics.com/doc/guide/starting-webots#safe-mode)

##### Anoop 09/25/2019 01:14:59
Hi, I just installed Webots R2019b on my Lenovo yoga 720, buts its not supportive. While turning on webots, its getting shut off instantly. My laptop is having 3 GB of dedicated Nvidia Gpu and 4 Gb of shared GPU. Any helpp?

##### David Mansolino [cyberbotics] 09/24/2019 05:27:37
Hi `@yuan gao`, in that case leave both `material1` and `material2` fields of the ContactProperties ([https://www.cyberbotics.com/doc/reference/contactproperties](https://www.cyberbotics.com/doc/reference/contactproperties)) node to `default` and change the `coulombFrictioÇ¹` field.

##### yuan gao 09/23/2019 19:39:33
hi, I have a question, how I supposed to adjust the friction coefficient of the floor, I only same default in ContactMaterial

##### alinux 09/23/2019 12:38:38
Ok, thanks!

##### Stefania Pedrazzi [cyberbotics] 09/23/2019 12:37:48
don't hesitate to ask if you need some help with it

##### alinux 09/23/2019 12:36:41
I am using a Simulated Annealing controller for find a target and I want to implement a way to avoid the collisions. I will give a look on that Physics collide function and see if it works in my case.

##### Stefania Pedrazzi [cyberbotics] 09/23/2019 12:35:50
But if you want to detect collisions with any part of the robot, then you should add many TouchSensor devices (one per joint Solid)


Alternatively you can add a TouchSensor device to the model and use the TouchSensor API to check for collisions.


Then you can pass data from the physics plugin to your controller using the `dWebotsSend` ([https://cyberbotics.com/doc/reference/utility-functions#dwebotssend](https://cyberbotics.com/doc/reference/utility-functions#dwebotssend)) function


The most generic way to detect collisions is to use a Physics Plugin ([https://cyberbotics.com/doc/reference/physics-plugin](https://cyberbotics.com/doc/reference/physics-plugin)) and implement the `webots_physics_collide` function ([https://cyberbotics.com/doc/reference/callback-functions#int-webots\_physics\_collidedgeomid-dgeomid](https://cyberbotics.com/doc/reference/callback-functions#int-webots_physics_collidedgeomid-dgeomid))


> I just wanna get on the controller when there are collisions. There is a way to do that?

Yes! This is possible


which function are you using in your controller to get the collisions?

##### alinux 09/23/2019 12:25:58
I have already enabled the selfCollision flag


I just wanna get on the controller when there are collisions. There is a way to do that?

##### Stefania Pedrazzi [cyberbotics] 09/23/2019 12:15:16
the `selfCollision` flag doesn't give any information about the collided object. Which information do you need?


you can change the value from the Webots scene tree by selecting the irb Robot.selfCollision item


in that case you need to enable the `selfCollision` flag

##### alinux 09/23/2019 12:07:05
Apparently when it collides with that table, my controller is ignored


Yes, there's a table that is part from the robot

##### Stefania Pedrazzi [cyberbotics] 09/23/2019 12:05:01
this flag defines if collisions between parts of the robot are detected. But it doesn't have any impact on collisions with other objects that are not part of the robot itself.


`@alinux` Did you already check the description of the `selfCollision` flag on the robot documentation: [https://www.cyberbotics.com/doc/reference/robot](https://www.cyberbotics.com/doc/reference/robot)

##### alinux 09/23/2019 11:37:23
`@Stefania Pedrazzi` Can I get some information from selfCollision? I wanna add a penalty on the controller when the robot is colliding with something

##### Stefania Pedrazzi [cyberbotics] 09/23/2019 06:31:33
You should also check that the Robot.selfCollision flag is enabled ([https://www.cyberbotics.com/doc/reference/robot](https://www.cyberbotics.com/doc/reference/robot)) otherwise, if the table and the arm are part of the same robot, the collision between the two will be ignored.


If not you could also try to tune the contactProperties (see [https://www.cyberbotics.com/doc/reference/contactproperties](https://www.cyberbotics.com/doc/reference/contactproperties)).


Hi `@alinux`, usuallly reducing the world time step (defined in `WorldInfo.basicTimeStep`) helps fixing this issue.

##### alinux 09/23/2019 02:37:03
Hi! I'm using the irb world and the manipulator is able to go through a table for example. What can I do to prevent the arm from passing through the objects?

##### David Mansolino [cyberbotics] 09/20/2019 07:07:32
`@LukasBoy2000`, you might also find some answers in the FAQ: [https://cyberbotics.com/doc/guide/webots-faq](https://cyberbotics.com/doc/guide/webots-faq)


And if you have specific question do not hesitate to ask here directly


I suggest to start with the tutorial: [https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)


Welcome! I hope (and I am sure ðŸ˜‰) you will enjoy using Webots.


`@LukasBoy2000`,


You should try to use only the boost version from your system and not the one of Webots.

You can either remove them from the sources or edit the makefile to remove the '$(WEBOTS\_HOME\_PATH)/projects/default/controllers/ros/include' part


`@ClLebi` 

> May be because ros boost is different than the version used to create webots deb ...



Yes that's indeed a good explanation.

Recompiling Webots (or at least the ros controller is indeed a good start).

##### LukasBoy2000 09/20/2019 03:12:00
I Need Some Help...


Hi I Just Got A WebBot

##### ClLebi 09/19/2019 16:25:47
Just finished to build webots and still get this error :/


I'm trying to build webots from source to see if I still get this problem


It's what I did but I have a boost error : In file included from /usr/include/boost/thread/detail/move.hpp:12:0,

                 from /usr/include/boost/thread/lock\_types.hpp:11,

                 from /usr/include/boost/thread/pthread/mutex.hpp:16,

                 from /usr/include/boost/thread/mutex.hpp:16,

                 from /opt/ros/kinetic/include/tf/time\_cache.h:36,

                 from /opt/ros/kinetic/include/tf/tf.h:43,

                 from /opt/ros/kinetic/include/tf/transform\_broadcaster.h:36,

                 from test\_controller.cpp:16:

/usr/include/boost/core/enable\_if.hpp:28:10: error: redefinition of default argument for 'class T'

   struct enable\_if\_c {



May be because ros boost is different than the version used to create webots deb ...

##### David Mansolino [cyberbotics] 09/19/2019 16:02:20
You're right, one possible solution would be to add the includes and libraries  to your  ros installation in the makefile. It is the `INCLUDE` and `LIBRARIES` variable:

[https://github.com/cyberbotics/webots/blob/revision/projects/vehicles/controllers/ros\_automobile/Makefile#L53](https://github.com/cyberbotics/webots/blob/revision/projects/vehicles/controllers/ros_automobile/Makefile#L53)

##### ClLebi 09/19/2019 15:56:10
And webots-ros is not complete, for example we can't broadcast tf


Yes I've already seen this, the problem is that it links webots-ros, not real ros

##### David Mansolino [cyberbotics] 09/19/2019 15:45:25
Hi, you probably want to have a look at this example controller that is extending the default ros controller of Webots: [https://github.com/cyberbotics/webots/tree/revision/projects/vehicles/controllers/ros\_automobile](https://github.com/cyberbotics/webots/tree/revision/projects/vehicles/controllers/ros_automobile)

##### ClLebi 09/19/2019 15:04:28
What has to be done in the Makefile to link properly ros, tf, etc ?


I make it works by copy /opt/ros/kinetic/include/nav\_msgs into webots/projects/default/controllers/ros/include, but if I want to use TF, it's more complicated


Hi guys ! Has anyone succeed to link new ros msg in controller ? Like nav\_msgs that is not in webots/projects/default/controllers/ros/include

##### daapa 09/19/2019 07:52:04
`@Fabien Rohrer`  Oh, thank you!

I'll try it.

##### Fabien Rohrer [Moderator] 09/19/2019 07:48:26
(In Python ðŸ™‚ )


>>> streamVelocityField = supervisor.getFromDef('MY\_FLUID').getField('streamVelocity')

time = supervisor.getTime()

streamVelocityField.setSFVec3f([0.0, 0.0, math.sin(time)])


and then:


DEF MY\_FLUID Fluid {}


Typically, you could tag your fluid:


Ok. You're supposed to use a Supervisor controller. A supervisor can change fields in runtime.

##### daapa 09/19/2019 07:43:33
Yes, it is.

##### Fabien Rohrer [Moderator] 09/19/2019 07:26:10
`@daapa` Hi, are you talking about the Fluid.streamVelocity field? [https://www.cyberbotics.com/doc/reference/fluid](https://www.cyberbotics.com/doc/reference/fluid)

##### daapa 09/19/2019 07:16:32
Hi guys.

I wanna make a complex  stream velocity, such as x = sin(t) .

How do I do?

##### marina\_diamanti 09/18/2019 13:40:35
thanks its been really helpfull  ðŸ™‚

##### Fabien Rohrer [Moderator] 09/17/2019 12:17:36
In the e-puck robot, the Focus node is not defined, so the focal length has not much sense, if I'm not wrong.


The principal point is at the center of the near plane. In 3D, it's (0, 0, -0.05) (5 centimeters in the direction of the camera axis: -z). This value has not much sense in 2D (width/2, height/2 ðŸ™‚ ? ).

##### marina\_diamanti 09/17/2019 08:38:34
thanks for answering ðŸ™‚


if i have for exaple  e-puck robot how can i define the focal length then? cause there is no focus field in that case


so if the near field is 0.05 for example principal point is (0.05,0.05) ?

##### Fabien Rohrer [Moderator] 09/17/2019 06:45:42
(parallelepipoid frustum)
%figure
![frustum.jpg](https://cdn.discordapp.com/attachments/565154703139405824/623409227406376960/frustum.jpg)
%end


The focal length is defined optionally by the Focus.focalLength field (to define the depth of field shader).


So the principal point matches directly with the Camera.near field.


`@marina_diamanti` Hi. Webots cameras are implemented in OpenGL, and so have the same constraints. They use a basic parallelepipoid frustum. They can be extended with special effects, including a depth of field "shader".

##### marina\_diamanti 09/16/2019 21:37:41
ðŸ™‚


what value should i add for focal length and principal point?


and some functions (such as cv::findEssentialMat)  require as input focal length and principal point


hello, i am trying to do visual mapping using openCV and webots

##### Fabien Rohrer [Moderator] 09/16/2019 15:23:16
The code seems very correct, you should only copy the motion directory at the correct location on your computer to let it work.


Unfortunately, the sit and stand motions do not exist.

##### Amrita 09/16/2019 15:20:37
Sir, do we have sit and stand motion file?

i cannot get it in the directory?


Can you correct the above code sir?


ðŸ˜‚

##### Fabien Rohrer [Moderator] 09/16/2019 15:18:28
Please open your controller directory in your OS, and check that the "../../motions" directory exists. I bet it's not the case ðŸ˜‰

##### Amrita 09/16/2019 15:17:27
Seperately all motion files are working 



But three at a time is not working

##### Fabien Rohrer [Moderator] 09/16/2019 15:17:21
the warning refers to something different which should not cause issues.

##### Amrita 09/16/2019 15:16:39
Shoulder\_movement.c: In function 'main':

Shoulder\_movement.c:69:31: warning: passing argument 1 of 'wbu\_motion\_is\_over' from incompatible pointer type [-Wincompatible-pointer-types]

   69 |   while (! wbu\_motion\_is\_over(motions));

      |                               ^~~~~~~

      |                               |

      |                               struct WbMotionStructPrivate **



And this error was coming during building of program


The privious controller had the same path 

i just copied and pasted it

##### Fabien Rohrer [Moderator] 09/16/2019 15:15:29
the motions are searched relatively to the controller path.


Please check your path: '../../motions/turn\_left\_60.motion'


The error message is quite clear: the motion path is wrong, the motion cannot be created.


ok

##### Amrita 09/16/2019 15:14:25
[Shoulder\_movement] Error: wbu\_motion\_new(): could not open '../../motions/turn\_left\_60.motion' file.

[Shoulder\_movement] Error: wbu\_motion\_new(): could not open '../../motions/hand\_wave.motion' file.

[Shoulder\_movement] Error: wbu\_motion\_play() called with NULL 'motion' argument.

WARNING: Shoulder\_movement: The process crashed some time after starting successfully.

WARNING: 'Shoulder\_movement' controller crashed.


With following error

##### Fabien Rohrer [Moderator] 09/16/2019 15:14:23
What does crash? the controller?

##### Amrita 09/16/2019 15:14:00
i have used this code but

it is build 

but when i clicked the play button it chrashed

##### Fabien Rohrer [Moderator] 09/16/2019 08:34:22
We are working to reduce the GPU memory usage for Webots R2020a


this may be explained if your GPU is quite short in term of memory.


great.

##### pavlos27t 09/16/2019 08:28:24
thank you very much


it seems that was the problem


wow , i  reduced texture quality from high to medium and  it worked

##### Fabien Rohrer [Moderator] 09/16/2019 08:25:07
.. describing the exact procedure, your hardware, the software/OS versions...


It would be awesome if you could open a bug report there: [https://github.com/cyberbotics/webots/issues/new?template=bug\_report.md](https://github.com/cyberbotics/webots/issues/new?template=bug_report.md)

##### pavlos27t 09/16/2019 08:23:49
I didn't try that

##### Fabien Rohrer [Moderator] 09/16/2019 08:23:16
Could you try to reduce the OpenGL preferences? (Tools / Preferences / OpenGL)


Ok, it seems Webots crashes for an unknown reason..

##### pavlos27t 09/16/2019 08:21:42
i open this file     Webots\projects\samples\robotbenchmark\maze\_runner\worlds\maze\_runner.wbt     and everything works fine,  then i go to Wizards -> New Project Directory  and i create a new project with the default world settings and it terminates of its own after a  few seconds while trying loading the world.

##### Fabien Rohrer [Moderator] 09/16/2019 06:31:27
These motion files are released in Webots, in the WEBOTS\_HOME / projects/robots/softbank/nao/motions/*.motion path.


>>> WbMotionRef motions[3] = {

  wbu\_motion\_new("path/to/Forwards.motion"),

  wbu\_motion\_new("path/to/TurnLeft40.motion"),

  wbu\_motion\_new("path/to/HandWave.motion")

};



int counter = 0;

while (true) {

  counter = (counter + 1) % 3;

  wbu\_motion\_play(motions[counter]);

  do {

    wb\_robot\_step(TIME\_STEP);

  }

  while (! wbu\_motion\_is\_over(motion));

}


For example, to play three motion consecutively in loop (I didn't test this snippet):


You could write a C (or other) controller which plays the motion files one after the other. The Motion API allows to do this.

##### Amrita 09/15/2019 19:36:03
And how can i download files from above provided link.?


Or guide me if there is any other way.

Thank you in advance


`@Fabien Rohrer`  yes sir i went through earlier, edited these motion files and obtained various results,

what i am asking is how can i get the robot perform 3 or more tasks one after other.  means first go straight then take turn then go forward like this.



do we have any c program for it?

##### Fabien Rohrer [Moderator] 09/15/2019 11:28:48
`@pavlos27t` This is weird. For sure it's not the expected behavior ðŸ˜‰ We need more information to help you. What is the controller you are trying to build? A sample we release? In which language? C?


These motions are certainly not matching exactly 0.5 m and 45Â° but it's certainly a good starting point to achieve your goal.


[https://cyberbotics.com/doc/reference/motion](https://cyberbotics.com/doc/reference/motion)


[https://github.com/cyberbotics/webots/tree/revision/projects/robots/softbank/nao/motions](https://github.com/cyberbotics/webots/tree/revision/projects/robots/softbank/nao/motions)


@Armita yes it's possible. We developed at some point a bunch of predefined motion files (closed loop) for the Nao which can be played using the Webots motion API:

##### pavlos27t 09/14/2019 13:09:05
Hello everyone , i just downloaded Webots distribution for Windows and i'm having this problem:    When i open a world file(.wbt) from tutorials projects everything is ok , but when i create a new empty project the program terminates of its own after a few seconds. Could you help me to solve this problem?

##### Amrita 09/14/2019 06:21:41
Hello sir, 

I am new here, i am working on humanoid robot NAO,

and i am trying to move the robot like it perform task in choreographe (software to control real nao)



there we can easily give command to move upto 1 m then move left upto 0.5 m then take a turn of 45 degree and reach the target, 

Can we do the same here in C programming?

##### David Mansolino [cyberbotics] 09/13/2019 15:26:21
> Oh, I'm so sorry, it's such a stupid mistake !



No problem, we all do such kind of mistakes ðŸ˜‰

##### Gaarci 09/13/2019 15:01:25
Thank you for you're response. I'll be looking forward for next week then ðŸ™‚


Oh, I'm so sorry, it's such a stupid mistake !

##### David Mansolino [cyberbotics] 09/13/2019 14:53:07
About optimizing the simulation speed, unfortunately I don't see any simple solution for this, maybe my collegue `@Fabien Rohrer` (who originally did the video you are refeering to) has some idea, but he is out of the office today, I will ask him next week.


`@Gaarci` , I have made several test and I can explain the difference you get between the C and C++ versions, it is because of the time step, in the C version you define the time step using a #define to be 64. But in the C++ version you use the  world time step (getBasicTimeStep()) which is equal to 8. therefore your C++ controller makes 4 times more steps than the equivalent C version. I have tested to use 64 in both and the simulation speed is very similar.


You're welcome

##### Gaarci 09/13/2019 13:33:04
Ok, thank you a lot for the time you took to respond an help me !

##### David Mansolino [cyberbotics] 09/13/2019 13:32:17
Ok thank you, everything seems correct with your world and controllers.

I will try to run them (a bite later in the afternoon) and let you know if a see any possible optimization.

##### Gaarci 09/13/2019 13:31:09
and the C++ one [https://pastebin.com/52eVZHFY](https://pastebin.com/52eVZHFY)


[https://pastebin.com/wTBZk88e](https://pastebin.com/wTBZk88e)


Here is the "C" controller


Here is the "world"
> **Attachment**: [mesh-deformation.wbt](https://cdn.discordapp.com/attachments/565154703139405824/622060882142167040/mesh-deformation.wbt)


No, it's not the field of a proto, just a "basic shape" that I generated thanks to Blender (and converted to a world using the blender's plugin on the cyberbotics website)


Thank you a lot for the response !

##### David Mansolino [cyberbotics] 09/13/2019 13:11:44
Hi Gaarci. Changing the vertices at each step is computationnally expensive on the Webots side and it seems 'normal' that you have a slow simulation speed. But this might also depend on the field you are changing, is it a field of a PROTO? About the C++, it is very strange as the C++ API is just a wrapper for the C API, is it possible to share your simulation/controller so that we can check if there is a way to speed this up ?

##### Gaarci 09/13/2019 12:56:12
How did you get something so smooth ? Also, why do C++ supervisor seems to be so muche slower ?


and secondly, the exact same supervisor coded in C++ runs 10 time slower


I encounter two mains problem, 1. the simulation is "pretty slow" : Moving 93 points by iteration, the simulation can "only run" at 50% the speed


I use "wb\_supervisor\_field\_get\_mf\_vec3f" and "wb\_supervisor\_field\_set\_mf\_vec3f" to modify a shape that is defined  by an IndexFaceSet, with 93 points.


Hey everyone, I'm working with clement and I've been trying to implements the "supervisor approach"  to deform a mesh (like this video) [https://www.youtube.com/watch?v=OKxdaNqmQco](https://www.youtube.com/watch?v=OKxdaNqmQco)

##### David Mansolino [cyberbotics] 09/12/2019 06:21:06
Hi `@Edit` , yes you can use the Supervisor API ([https://cyberbotics.com/doc/reference/supervisor](https://cyberbotics.com/doc/reference/supervisor)) to change the structure of your robot during the simulation, however new devices (such motors) requires that you reboot the controller (also feasible with the Supervisor API). Another alternative would be to use connectors: [https://cyberbotics.com/doc/reference/connector](https://cyberbotics.com/doc/reference/connector)

##### Edit 09/12/2019 04:23:37
hi -- is it possible to remove a joint/motor during simulation?

##### SamSmurfitt 09/11/2019 11:58:47
nice, thank you again!

##### Fabien Rohrer [Moderator] 09/11/2019 11:57:05
great ðŸ˜„

##### SamSmurfitt 09/11/2019 11:56:43
when inside the wb\_robot\_step loop


it shows up as connected now


ah there we go

##### Fabien Rohrer [Moderator] 09/11/2019 11:56:05
.. and test your joystick here? [https://gamepadviewer.com](https://gamepadviewer.com)


could you add a wb\_robot\_step() between the enable and the is\_connected calls?

##### SamSmurfitt 09/11/2019 11:51:01
the joystick does show up in windows device manager as a usb input device


and it returns the not connected statement



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/621311533909278732/unknown.png)
%end


No it not, I've written a little test code

##### Fabien Rohrer [Moderator] 09/11/2019 11:49:43
(once enabled)


Is wb\_joystick\_is\_connected() returns true? [https://cyberbotics.com/doc/reference/joystick#wb\_joystick\_is\_connected](https://cyberbotics.com/doc/reference/joystick#wb_joystick_is_connected)


Webots uses libOIS to manage the joysticks. Normally most of the standard joysticks should be compatible with libOIS.

##### SamSmurfitt 09/11/2019 11:46:00
ah ok, so could  it be a case that my joystick isnt compatible?

##### Fabien Rohrer [Moderator] 09/11/2019 11:44:34
It interfaces Logitech G27 and G29 with the vehicle library used to drive cars.


[https://github.com/cyberbotics/webots/blob/revision/projects/vehicles/controllers/racing\_wheel/main.cpp](https://github.com/cyberbotics/webots/blob/revision/projects/vehicles/controllers/racing_wheel/main.cpp)


This one is certainly the reference:


`@SamSmurfitt` Hi, there are examples, let me check..

##### SamSmurfitt 09/11/2019 11:41:13
Hi, Are there any example worlds which use a joystick? Im trying to use a joystick but cant seem to get it to be detected by webots, and wondered if there is an example one I could test it on

##### Clement 09/11/2019 09:49:32
Nice, I'll try this. Thanks a lot for your answers !

##### Fabien Rohrer [Moderator] 09/11/2019 09:48:07
You physics plugin may transmit instructions to a Supervisor.


Yes, exactly.

##### Clement 09/11/2019 09:46:56
The physics plugin API provides the dWebotsSend function to send messages to robot controllers and the dWebotsReceive function to receive messages from robot controllers.


Ok I see. I think I've seen somewhere in the doc that the physics plugin can "speak" with a controller through an emiter/receiver. Is that right ?

##### Fabien Rohrer [Moderator] 09/11/2019 09:42:12
the physics plugin has only access to ODE, not the graphical parts.

##### Clement 09/11/2019 09:41:16
Wow cool! Is it possible to do this from the physics plugin ? The idea is to compute the deformation in the physics plugin through an external library and  modify the mesh accordingly.

##### Fabien Rohrer [Moderator] 09/11/2019 09:38:20
or here: [https://www.youtube.com/watch?v=OKxdaNqmQco](https://www.youtube.com/watch?v=OKxdaNqmQco)


this is for example used in this example to draw the trail: [https://cyberbotics.com/doc/guide/samples-howto#supervisor\_draw\_trail-wbt](https://cyberbotics.com/doc/guide/samples-howto#supervisor_draw_trail-wbt)


Hi Clement, yes, this is possible. The Supervisor API allows to modify the scene tree in runtime.

##### Clement 09/11/2019 09:35:27
Hi guys, I'm wondering if its possible to deform a mesh during a simulation

##### Fabien Rohrer [Moderator] 09/11/2019 06:46:30
[https://cyberbotics.com/doc/guide/using-numerical-optimization-methods#resetting-the-robot](https://cyberbotics.com/doc/guide/using-numerical-optimization-methods#resetting-the-robot)


Or maybe, you want to teleport the robot? In this case, you should refer to:


If you can cheat at some point and get the robot absolute position (by using a GPS or a Supervisor), you can simply move the robot in this direction.


`@fateme` Hello. Using the e-puck sensors and actuators only, you should use the robot odometry, as explained in chapter 1 here: [https://en.wikibooks.org/wiki/Cyberbotics%27\_Robot\_Curriculum/Advanced\_Programming\_Exercises#Odometry\_](https://en.wikibooks.org/wiki/Cyberbotics%27_Robot_Curriculum/Advanced_Programming_Exercises#Odometry_)[Advanced]

##### fateme 09/11/2019 06:34:34
hello , how can i set e-puck in determined point by code

##### Fabien Rohrer [Moderator] 09/10/2019 13:55:03
Good to know too (and a step further), you can use the Robot.controllerArgs to send some specific data to a robot controller. Typically, the path to some JSON config file can be sent this way.

##### SamSmurfitt 09/10/2019 13:52:24
Ok thanks, I'll give it a go!

##### Fabien Rohrer [Moderator] 09/10/2019 13:51:00
Personnaly, I would go for a file format which is done especially for storing settings. For example JSON: [https://www.mathworks.com/help/matlab/ref/jsondecode.html](https://www.mathworks.com/help/matlab/ref/jsondecode.html)


yes.

##### SamSmurfitt 09/10/2019 13:49:57
Oh so if I have a standard .m file in the same directory as the controller's, the controller's should be able to read and write to it?

##### Fabien Rohrer [Moderator] 09/10/2019 13:48:19
Hi. Why not defining your global constants in a single file? The controllers may read it.

##### SamSmurfitt 09/10/2019 13:45:01
So, my questions are; is it possible to have global variables, which each Matlab controller can access? So that one module can access the previous moduleâ€™s calculated speeds.

If not, is my only option to build the system as a single robot with lots of children within children etc?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/620978009263964192/unknown.png)
%end


Hi again. I have a question about using Matlab as the controller for multiple robots linked together. For my project, I am making a snake-like robot and currently I am modelling it as multiple robots using connectors to link them together. The problem is I have built a mathematical controller, which calculates the motor speeds and angles for the drive and joint motors, for each module, depending on the speeds and angles of the modules in front of it.

##### Fabien Rohrer [Moderator] 09/09/2019 14:00:13
You should check you are above the minimal requirements to run Webots, and upgrade your GPU drivers. [https://cyberbotics.com/doc/guide/system-requirements](https://cyberbotics.com/doc/guide/system-requirements)


`@HCC` Could you try the safe mode? [https://cyberbotics.com/doc/guide/starting-webots#safe-mode](https://cyberbotics.com/doc/guide/starting-webots#safe-mode)


.. in the "General / Python command" preference.


.. and set "python3.7" instead of "python"


`@aknuclear` In R2019b, you can simply change the python command in the Webots Preferences.

##### HCC 09/09/2019 13:51:38
Hi, I would like to use Webots in Ubuntu 16.04.  I can see the Guided Tour project like robotis\_op3.wbt...etc. But when l click "Open World" or "Open an exist text file", Webots2019b will be not responding.And terminal will show:



[7892:7892:0909/214506.238222:ERROR:browser\_main\_loop.cc(336)] GLib: g\_once\_init\_leave: assertion 'result != 0' failed

[7892:7892:0909/214506.238248:ERROR:browser\_main\_loop.cc(336)] GLib-GObject: g\_type\_register\_dynamic: assertion 'parent\_type > 0' failed

[7892:7892:0909/214506.238261:ERROR:browser\_main\_loop.cc(336)] GLib-GObject: g\_object\_new: assertion 'G\_TYPE\_IS\_OBJECT (object\_type)' failed



How can I solve this problem?Thank for your advice!

##### aknuclear 09/09/2019 13:38:04
How to change the python version from 2.7 to 3.7  of the controller in ubuntu?

##### David Mansolino [cyberbotics] 09/09/2019 07:05:33
Good news. Your Welcome !

##### daapa 09/09/2019 07:05:12
`@David Mansolino` I did it!

Thank you for giving me good advice!

##### David Mansolino [cyberbotics] 09/09/2019 06:14:52
`@aknuclear`, the controller folder is in the project directory close to the world file. You can open the controller in the Webots text editor by right clicking on your robot and selecting 'Edit Controller'. Please find more information about the structure of a Webots project here: [https://www.cyberbotics.com/doc/guide/the-standard-file-hierarchy-of-a-project](https://www.cyberbotics.com/doc/guide/the-standard-file-hierarchy-of-a-project)


`@Edit`, or you might also be interested by the connector device: [https://cyberbotics.com/doc/reference/connector](https://cyberbotics.com/doc/reference/connector)


`@Edit`, what you are looking for is the Supervisor API: [https://cyberbotics.com/doc/reference/supervisor](https://cyberbotics.com/doc/reference/supervisor)


`@daapa`, yes this is possible, to do that you have to inverse the 'shaftAxis' (e.g. put `0 -1 0`), you will then have to inverse the 'thrustConstant' too otherwise the thrust will be in the wrong direction.


`@ShalomShalom` , unfortunately `@MariusJuston` is right, from autodesk Inventor, only the shapes will be exported, you will have to re-specify the joints in Webots, joints are only exported from blender when using our exporter: [https://github.com/cyberbotics/blender-webots-exporter](https://github.com/cyberbotics/blender-webots-exporter)


`@fateme` ,  unfortunately not, but it should be quite easy to modify one of the existing controller to save the sensor value in a file.


`@aknuclear` , on which OS are you ?

##### MariusJuston [Moderator] 09/08/2019 18:35:53
`@ShalomShalom` as far as I know no

##### aknuclear 09/08/2019 10:47:21
Where could I found the controller directory and runtime.ini file at webots in ubuntu?

##### Edit 09/08/2019 06:31:56
hi y'allâ€”how would i go about interfacing an algorithm that modifies the structure of a robot?

##### ShalomShalom 09/08/2019 04:03:54
so you could make a CAD model which specifies joints in autodesk Inventor? ðŸ™‚  Which will be automatically recognized by webot?


Cool thanks alot!!

##### MariusJuston [Moderator] 09/08/2019 00:38:56
`@ShalomShalom` I made a video of how to do it [https://youtu.be/L0FVsFD2rS4](https://youtu.be/L0FVsFD2rS4) or else you can try to use the blender adding created to export to Webots

##### ShalomShalom 09/07/2019 23:12:35
Hey guys ðŸ™‚ on the documentation here [https://cyberbotics.com/doc/guide/robots?tab=c](https://cyberbotics.com/doc/guide/robots?tab=c) it says user can also add their models. Does it mean you could use some 3d modelling software to build a model and import it into Webots? Thanks ðŸ™‚

##### fateme 09/07/2019 06:33:12
?


hello. I want to know that  is there any ready sample for collecting data of epuck 's sensors in webots

##### aknuclear 09/07/2019 06:08:03
How to resolve this problem "WARNING: ros: The process crashed some time after starting successfully.

WARNING: 'ros' controller crashed.""

##### daapa 09/06/2019 17:19:52
Hi guys, I can create a clockwise propeller, but I can't create counter-clockwise propeller. How do I do?

##### David Mansolino [cyberbotics] 09/06/2019 14:17:28
You're welcome

##### alinux 09/06/2019 14:16:21
Thank you!


I completely forgot about the loop... now it works

##### David Mansolino [cyberbotics] 09/06/2019 14:01:49
Let me know if something is not clear or if you think the result still doesn't make sense


- It can be confusing, but the position returned by the supervisor function is one step late compared to the one of the gui (it make sens because the simulation move one step between your controller step and then when you read the value in the gui).

  - I also see in the world file that you did run the simulation and then saved it. This is not a good practice (which can lead to instabilities), you should try to make sure that when you save your simulation the time is always 0.00.


Ok, I checked and I get the same result from the controller and from, the gui, just a few remarks:

  - Make sure to select the 'DEF PEN Pen' node in the three.

  - In the 'Position' tab make sure to select 'Absolute'

  - Your controller doesn't have any loop, so it run one step and then quit (and therfore only print the initial position).


Ok, let me try

##### alinux 09/06/2019 13:50:33
Here is the simulation archives
> **Attachment**: [IK.zip](https://cdn.discordapp.com/attachments/565154703139405824/619529879960158219/IK.zip)

##### David Mansolino [cyberbotics] 09/06/2019 13:46:07
Ok, and which is the node you select ?

##### alinux 09/06/2019 13:45:02
I'm using the inversekinematic world, just modifying the text file

##### David Mansolino [cyberbotics] 09/06/2019 13:43:34
ok, then this is strange, would you agree to send us your simulation so that we can quickly check ?

##### alinux 09/06/2019 13:40:51
Yes

##### David Mansolino [cyberbotics] 09/06/2019 13:39:21
No problem, are you selecting the same node in the scene tree as the one you get with the supervisor ?

##### alinux 09/06/2019 13:37:52
That is what I'm getting.... I'm sorry, I'm new user of webots so I'm still lost ðŸ˜³
%figure
![webots.png](https://cdn.discordapp.com/attachments/565154703139405824/619526687457017897/webots.png)
%end

##### David Mansolino [cyberbotics] 09/06/2019 13:30:13
> Where p is a point whose coordinates are given with respect to the local coordinate system of a node



this is only if you want to compute the location of a point for which you know the relative position compared to your node

##### alinux 09/06/2019 13:28:14
This p of this equation is given by what? I think that is my error

##### David Mansolino [cyberbotics] 09/06/2019 12:48:36
This function will give you the absolute position: [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_get\_position](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_get_position)

##### alinux 09/06/2019 12:44:44
And how can I get the absolute position with the supervisor?

##### David Mansolino [cyberbotics] 09/06/2019 12:32:09
In the GUI you can select in which reference (locally, globally, etc) you want the position. With the supervisor it also depends if you get the translation field or the node absolute position, this can explain the difference if the references are not the same.

##### alinux 09/06/2019 12:30:41
I was trying to get with the supervisor, but the position it gives me is not the same as in the GUI

##### David Mansolino [cyberbotics] 09/06/2019 12:20:12
You told me you wanted it from the GUI...

From the code you should either use a GPS node attached to the PEN: [https://cyberbotics.com/doc/reference/gps](https://cyberbotics.com/doc/reference/gps)

Either use the Supervisor APi which allows you to get the position of any node in the scene: [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_get\_position](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_get_position)

##### alinux 09/06/2019 12:18:27
`@David Mansolino`  but how I get that position by code?

##### David Mansolino [cyberbotics] 09/06/2019 12:05:40
`@alinux` , you can get the position of any node by selecting it and checking it's position  in the 'Position' tab of the field editor ([https://www.cyberbotics.com/doc/guide/the-scene-tree#field-editor](https://www.cyberbotics.com/doc/guide/the-scene-tree#field-editor)).

##### alinux 09/06/2019 11:04:14
`@David Mansolino` from the GUI.... I want to calculate the error between the target position and the pen position, but the absolute position given by GUI for the pen isn't the same when I use the getPosition function

##### Olivier Michel [cyberbotics] 09/06/2019 10:12:15
Merging solids in Webots can be achieved by copy/paste nodes inside the children list of the parent solid node.


Here is an example of mechanical loop: [https://cyberbotics.com/doc/guide/samples-howto#pedal\_racer-wbt](https://cyberbotics.com/doc/guide/samples-howto#pedal_racer-wbt)

##### Derek 09/06/2019 10:10:03
Its very convenient to create or compound solids in v-rep. Can I drag some solid using mouse to scence and merge them in webots?


Yes,I mean mechanical loops, parallelogram mechanism

##### Olivier Michel [cyberbotics] 09/06/2019 09:46:48
It is achieved with a SolidReference node: [https://cyberbotics.com/doc/reference/solidreference](https://cyberbotics.com/doc/reference/solidreference)


I assume you mean mechanical loops?


Yes it does.


Hi Derek,

##### Derek 09/06/2019 09:41:47
Does webots support the close chain?


Hello

##### David Mansolino [cyberbotics] 09/06/2019 07:39:12
You're welcome

##### maitham 09/06/2019 07:35:21
thank  you David

##### David Mansolino [cyberbotics] 09/06/2019 07:34:50
You can run the guided tour from the 'Help => Webots Gudied Tour...' menu

##### maitham 09/06/2019 07:29:18
How I can run a sample world?

##### David Mansolino [cyberbotics] 09/06/2019 07:28:58
Morning Maitham. You're welcome.

##### maitham 09/06/2019 07:28:16
Morning David. thank you very for your answer

##### David Mansolino [cyberbotics] 09/06/2019 07:28:10
`@fateme`, you're welcome


`@maitham`, if you are new to Webots, you should probably try our tutorial first: [https://www.cyberbotics.com/doc/guide/tutorials](https://www.cyberbotics.com/doc/guide/tutorials)

##### fateme 09/06/2019 07:27:10
thank you David

##### David Mansolino [cyberbotics] 09/06/2019 07:26:28
It depends, what are you trying to do ?

##### maitham 09/06/2019 07:25:37
sorry very new here


I am here now and please what to do ?
> **Attachment**: [webots.docx](https://cdn.discordapp.com/attachments/565154703139405824/619432936915206154/webots.docx)

##### David Mansolino [cyberbotics] 09/06/2019 07:24:42
Hi, you can get keyboard input from the controller using the keyboard API: [https://www.cyberbotics.com/doc/reference/keyboard](https://www.cyberbotics.com/doc/reference/keyboard)

##### fateme 09/06/2019 07:11:46
how can i gather data with keyboard in e-puck environment


hello

##### David Mansolino [cyberbotics] 09/06/2019 06:15:55
Hi `@alinux` , do you want to get the position from the GUI or from your controller?

##### alinux 09/05/2019 16:28:00
Hi! How can I get the absolute position of a pen?

##### Fabien Rohrer [Moderator] 09/05/2019 08:38:39
.. and check your system is above the minimal requirements [https://cyberbotics.com/doc/guide/system-requirements](https://cyberbotics.com/doc/guide/system-requirements) ðŸ˜‰


Note that Python is not a requirement to run Webots. You can for example run all the guided tour without Python installed.


2. Run Webots in safe mode following these instructions: [https://cyberbotics.com/doc/guide/starting-webots#safe-mode](https://cyberbotics.com/doc/guide/starting-webots#safe-mode)


1. Check your GPU drivers are up-to-date


Ok. You should try:

##### maitham 09/05/2019 08:35:34
now installing from the link you posted here


thank you very much for your time


yes I saw the window last night but could not do anything

##### Fabien Rohrer [Moderator] 09/05/2019 08:30:19
Do you see the Webots window at some point?

##### maitham 09/05/2019 08:27:06
i tried to install it from the website

##### Fabien Rohrer [Moderator] 09/05/2019 08:25:44
What crashes? Webots or the Python controller?


Do you try to install Webots from the installer (link above)? Or do you try to build Webots?

##### maitham 09/05/2019 08:24:01
thank you


Hi Fabien. the message is I dont have Python installed on my laptop and  the message I get now is : The application was unable to start correctly (0xc000007b). click OK to close the application

##### Fabien Rohrer [Moderator] 09/05/2019 05:41:45
Yes, here is fine!

##### maitham 09/05/2019 05:41:25
Good Morning Fabien, Thank you , could I txt you the error message please? I post it here. thanks

##### Fabien Rohrer [Moderator] 09/05/2019 05:40:34
Do you have specific errors/issues (any error message? Screenshots?)


`@maitham` hi! Basically you need to follow these instructions: [https://cyberbotics.com/doc/guide/installation-procedure](https://cyberbotics.com/doc/guide/installation-procedure)

##### maitham 09/05/2019 03:45:24
I need help,please.. thank you in advance


Hi. I have problem to install Webots on my laptop,


thank you Fabien

##### Fabien Rohrer [Moderator] 09/04/2019 18:18:51
`@maitham` hi! Welcome here!

##### maitham 09/04/2019 18:02:27
Hi

##### Fabien Rohrer [Moderator] 09/04/2019 17:37:49
Yes, a slider joint actuated by a linear motor

##### Clement 09/04/2019 16:32:52
or maybe a linearmotor, yes it could do it


you're speaking about SliderJoint ?

##### Fabien Rohrer [Moderator] 09/04/2019 16:29:57
Could this match your expectations?


then, you can move the 2 sliders in order to match your path, this will move the arm accordingly.


you could create a robot having an physics arm mounted on a vertical kinematics motorized slider mounted on an horizontal kinematics motorized slider.


Maybe I have a better solution to propose you:


Yes exactly.

##### Clement 09/04/2019 16:22:11
ok I understand. And using the physics engine I'll have to represent all the mecanism of the moving part ?

##### Fabien Rohrer [Moderator] 09/04/2019 16:11:54
You may achieve results by removing physics from the solid and by moving the box using a Supervisor.


In Webots we usually differentiate kinematics vs physics motions, respecively without running the physics engine and  forcing the position vs using the physics engine to compute the positions.

##### Clement 09/04/2019 16:08:40
what do you mean be a kinematic motion ?


No,  the cube would just be a support for a robotic arm

##### Fabien Rohrer [Moderator] 09/04/2019 16:06:23
i.e. Could a kinematic motion do the job?


Do you need physics on the cube?


Hi Clement

##### Clement 09/04/2019 16:03:11
the cube would be the robot
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/618838480859955231/unknown.png)
%end


Hi guys, is there a way to constrain a robot to follow a curved rail and command its position along it ?

##### David Mansolino [cyberbotics] 09/04/2019 15:32:50
Perfect ðŸ™‚

##### SamSmurfitt 09/04/2019 15:30:02
ok thanks, looks like Ive got it working

##### David Mansolino [cyberbotics] 09/04/2019 15:14:44
Not sure exactly where you should put the file, but probably in the same folder than the controller.

You probably want to add the `desktop;` line at the beginning of your controller to use the desktop version of matlab for debugging.

##### SamSmurfitt 09/04/2019 15:13:15
Although I cant get Python working on this computer, and I dont really know it anyway - hence why im trying to use matlab for everything as thats what I have the most experience with


`@Fabien Rohrer`  Yes thanks! managed to get the connectors working


I guess I'm really trying to make a subroutine in matlab really


So in this example, After 5 seconds the motor is set to a position (Joint\_Angle) but I would like that to be calculated using a function, 'ang\_cal' from a certain input
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/618825453540737054/unknown.png)
%end

##### Fabien Rohrer [Moderator] 09/04/2019 15:02:10
`@SamSmurfitt` Did you noticed the world I sent you this morning?

##### David Mansolino [cyberbotics] 09/04/2019 15:01:30
If you write your controller in matlab yes it should be possible as the controller will be interpreted by Matlab.

##### SamSmurfitt 09/04/2019 14:54:29
so If I write a function in normal Matlab is it possible to have a robot's controller use it inside Webots?

##### David Mansolino [cyberbotics] 09/04/2019 14:50:31
Hi, what do you mean exactly by 'the code to call another function' ?

##### SamSmurfitt 09/04/2019 14:00:45
Hi again, If I'm writing a controller in Matlab code is it possible to get the code to call another function?

##### ClLebi 09/04/2019 09:59:10
I got it !

##### Fabien Rohrer [Moderator] 09/04/2019 09:49:55
We choose y-axis up because it's in the VRML and X3D specification. So the geometric primitives are working directly (without transformation). Otherwise, we have to rotate all the plans and elevation grids for example.

##### ClLebi 09/04/2019 09:48:52
Nice ! I didn't know we have only this parameter to change !

##### Fabien Rohrer [Moderator] 09/04/2019 09:48:33
Several computation (like the main viewpoint movements) are computed thanks to this vector.


One thing to know is that the the WorldInfo.gravity vector should be changed accordingly.


All our assets support to be rotated.


You can setup a world with up along the z axis.


Hi Cleni, this direction is quite arbitrary in fact.

##### ClLebi 09/04/2019 09:45:30
Hi guys, I'm wondering if it's possible to change the world frame to have Z in up direction ? In my point of view it's weird to have Y up, and we make some mistakes using IMU etc ...

##### Fabien Rohrer [Moderator] 09/04/2019 09:42:22
To go deeper; this value is directly responsible of the physics engine accuracy. the smaller it is, the more physics steps there is per seconds. As our physics engine works with discrete steps, some penetration is required to be able to detect a collision. In any case, a penetration exists in such physics engine. It can only be reduced.

##### Owen 09/04/2019 09:38:01
Awesome, it really work. The overlapping problem is improved a lot. Thanks.

##### Fabien Rohrer [Moderator] 09/04/2019 09:30:18
Ideal value would be 8 (or 4?)


The parameter which affects the most this kind of penetration is certainly WorldInfo.basicTimeStep


Hi Owen

##### Owen 09/04/2019 09:18:04
Hi,  I  utilize webots2019b to simulate hand grsp task. When the hand is grasping a cylinder, the bounding object looks strange. There are some parts of  hand overlapping with the cylinder.  It's the screenshot I described. The red circle part is overlapping area.
%figure
![KK.JPG](https://cdn.discordapp.com/attachments/565154703139405824/618736532156579841/KK.JPG)
%end

##### jacqueline 09/04/2019 07:37:03
Thank you for the info.

##### Fabien Rohrer [Moderator] 09/04/2019 07:35:35
They are even more impressive if a TexturedBackground is present in the scene.


these appearances can be set directly in the RectangleArena.wall/floorAppearance


Good to know too, we have now a set of good-looking predefined appearances using the PBR technology: [https://www.cyberbotics.com/doc/guide/appearances](https://www.cyberbotics.com/doc/guide/appearances)

##### jacqueline 09/04/2019 07:32:30
because I tried to edit wall appearance, using scale etc, it does not fit well. I will just feedback to remove the wall. ðŸ™‚ thank you for your time

##### Fabien Rohrer [Moderator] 09/04/2019 07:31:52
Yes, checking your worlds are working smoothly in r2019 is unfortunately required, but it should be a simple task, and for good, R2019 is now open-source ðŸ™‚

##### jacqueline 09/04/2019 07:30:29
of course that is based on 2018. Ok noted. We will just modify the assignment

##### Fabien Rohrer [Moderator] 09/04/2019 07:30:01
You're welcome to report here other compatibility issue, we certainly have simple fixes for eveything.

##### jacqueline 09/04/2019 07:29:46
our lab assignment for student
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/618709274591363072/unknown.png)
%end

##### Fabien Rohrer [Moderator] 09/04/2019 07:28:55
We didn't wrote such kind of document. Normally most of the assets are backward compatible, except few small issues like this one.


Ok, then you should fix the RectangleArena.wallApperance.textureTransform

##### jacqueline 09/04/2019 07:27:25
I am referring to the wall though

##### Fabien Rohrer [Moderator] 09/04/2019 07:26:45

%figure
![Capture_decran_2019-09-04_a_09.25.43.png](https://cdn.discordapp.com/attachments/565154703139405824/618708515531390987/Capture_decran_2019-09-04_a_09.25.43.png)
%end


A typical rectangle arena looks like this now:

##### jacqueline 09/04/2019 07:25:10
I see. In my school, we are still using 2018 till recently, I am preparing the update and feedback to the lecturer on the need to edit his teaching materials. May I know if there is more extensive documents to refer to?

##### Fabien Rohrer [Moderator] 09/04/2019 07:24:48
If you have old simulations, you may fix them.


You should take a look at the RectangleArena.floorAppearance field and the RectangleArena.floorTileSize fields.


We changed a lot our rendering engine between R2018 and R2019 (we added HDR backgrounds, PBR appearances, and used them intensively) causing few minor modifications in the Assets, like the RectangleArena.

##### jacqueline 09/04/2019 07:21:15
Sorry I went away just now to do some teaching. In rectangle arena, 2018 version has wall tile feature but not 2019. I just wonder if I can get the same. Noted thanks.

##### Fabien Rohrer [Moderator] 09/04/2019 06:56:30

> **Attachment**: [worlds.diff](https://cdn.discordapp.com/attachments/565154703139405824/618700902898860043/worlds.diff)


The controller breaks the connection after 2 seconds.



> **Attachment**: [connector\_unlock.py](https://cdn.discordapp.com/attachments/565154703139405824/618700002444705802/connector_unlock.py)



> **Attachment**: [Module\_1-2.wbt](https://cdn.discordapp.com/attachments/565154703139405824/618699935688294401/Module_1-2.wbt)


`@SamSmurfitt` Here is a working solution with active connectors. I simply copied the yamor values inside your robot.


`@aysegulucar` David answered you through support tickets.


`@jacqueline` Hi, do you mean to change the ground texture, or to add solid walls?

##### jacqueline 09/04/2019 06:35:06
I have a issue on floor arena, how do I add wall tile?


Hi, I just starting to use webots 2019

##### Fabien Rohrer [Moderator] 09/04/2019 06:20:33
>>> import struct



\# Emitter side



\# dummy values to test

phiR = 1.0

phiL = 2.1

data = struct.pack('ff', phiR, phiL)  # pack the 2 floats to a byte array.

self.emitter.send()



\# Receiver side

data = struct.unpack('ff', receiver.getData())

print(data)

\# > (1.0, 2.1)


`@Frodo` The idea is to use the struct module to pack the data to string:

##### aysegulucar 09/03/2019 19:54:57
Is the firmware update  a problem?


and visual traking .wbt.


WE are using robotis-op2


We  previosuly had connected  to robot by remote control in Webots. previosuly, It was fast after we run firmawere instal/update in robotis-op2..

Later we changed our motors and we updated firmwares by using dynamixel 2.alsÄ±o. Now webots remot contr is too slow


Webots remote control is too slow. Why? Do you have an idea?


Hi

##### Frodo 09/03/2019 18:16:54
btw you guys are amazing, this discord channel is helping lots of lost people like me ðŸ˜…


I think the setChannel is working but the data has some problems
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/618509491868270602/unknown.png)
%end

##### SamSmurfitt 09/03/2019 18:13:32
thats comepletely fine!

##### Fabien Rohrer [Moderator] 09/03/2019 18:12:57
`@SamSmurfitt` iâ€™m not in front of my computer, Iâ€™ll take a look at this tomorrow morning if you donâ€™t mind


Using the struct module, you can stringify any data and extract it

##### SamSmurfitt 09/03/2019 18:11:28
Here you are. Thanks for taking the time.
> **Attachment**: [Module\_1.wbt](https://cdn.discordapp.com/attachments/565154703139405824/618508375558324234/Module_1.wbt)

##### Fabien Rohrer [Moderator] 09/03/2019 18:10:26
import struct

\#...

message=receiver.getData()

dataList=struct.unpack("chd",message)


And to extract:


import struct

\#...

message = struct.pack("chd","a",45,120.08)

emitter.send(message)


You can send more complex data using the Python struct module as explained here : [https://www.cyberbotics.com/doc/reference/emitter?tab=python](https://www.cyberbotics.com/doc/reference/emitter?tab=python)

##### Frodo 09/03/2019 18:07:35
Thank you! I'm actually using that example to understand how it works. In the example they send the same for every robot and they are sending strings as I understand.

##### Fabien Rohrer [Moderator] 09/03/2019 18:05:58
In this example the supervisor sends data to the slave controllers


Please look at the WEBOTS\_HOME/projects/language/python/worlds/example.wbt

##### Frodo 09/03/2019 18:02:42
Hello! I'm advancing a lot with my algorithm now. But I'm having trouble using the emitter/receiver with python. I've already set different channels for the receivers for every slave. Now I need to send a vector with wheel velocities to every robot [L,R]. I found the documentation but there is no example on how to do this on python.

##### Fabien Rohrer [Moderator] 09/03/2019 18:02:03
Youâ€™re welcome to send it here!

##### SamSmurfitt 09/03/2019 16:58:00
still doesnt seem to want to work. I will rebuild the model completely tomorrow

##### Fabien Rohrer [Moderator] 09/03/2019 15:57:34
For sure, the direct parent of the connector should have physics and boundingObject defined.


Better results?


distanceTolerance 0.05

numberOfRotations 0


But to test I recommend you to exagerate the thresholds:


Simple set the type to Â«Â passiveÂ Â» and autoLock to TRUE should do the job

##### SamSmurfitt 09/03/2019 15:41:59
Yeah ideally without using the controller, although I can do if I have to

##### Fabien Rohrer [Moderator] 09/03/2019 15:41:30
The alignment seems right now


You would like to snap first without controller right?

##### SamSmurfitt 09/03/2019 15:24:22

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/618466325240610816/unknown.png)
%end


I've aligned both the z-axes, and relocked everything but it's still no connecting, is there something else I could be missing?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/618466302000103434/unknown.png)
%end


ah that will be it, thanks

##### Fabien Rohrer [Moderator] 09/03/2019 15:10:51
Not sure at 100% but it seems your connector is not well aligned (red = x axis towards)



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/618462674077876235/unknown.png)
%end


[https://cyberbotics.com/doc/reference/connector#connector-axis-system](https://cyberbotics.com/doc/reference/connector#connector-axis-system)


A very important point with the connectors is that the local z-axis of the 2 connecting Connectors should point each other, as depicted in this image. And y-axis should match at best.


Visually, it seems good.

##### SamSmurfitt 09/03/2019 15:07:04
I have this set up at the moment, with both connectors touching, and isLocked set to true
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/618461971871694848/unknown.png)
%end

##### Fabien Rohrer [Moderator] 09/03/2019 15:06:42
You should start with the second one (which is simpler to setup and to debug).


depending on the Connector fields, you can achieve these both results.


Both are possible

##### SamSmurfitt 09/03/2019 15:04:35
Hi, me again.

In order to get a connector to lock do I have to write it in the controller code, or is there a way to lock two connectors just in the tree?

##### Fabien Rohrer [Moderator] 09/02/2019 15:59:38
you're welcome! don't hesitate to ask question here ðŸ™‚

##### SamSmurfitt 09/02/2019 15:58:20
ok thanks again.. will probably be a while until I get around to that anyway!

##### Fabien Rohrer [Moderator] 09/02/2019 15:54:55
Unfortunatly we don't have yet any SolidWorks exporter plugin.


You can import your CAD model into Blender, modify it a bit, and use this addon to export to Webots.

##### SamSmurfitt 09/02/2019 15:54:25
is there a solidworks add on, or will I have to convert between the two via blender?

##### Fabien Rohrer [Moderator] 09/02/2019 15:53:46
You should take a look at our Blender addon: [https://github.com/cyberbotics/blender-webots-exporter](https://github.com/cyberbotics/blender-webots-exporter)


For sure this is for level 3 users ðŸ˜‰

##### SamSmurfitt 09/02/2019 15:52:39
for making more complex structures am I better off importing CAD models?


brilliant thank you

##### Fabien Rohrer [Moderator] 09/02/2019 15:51:07
... this is also certainly a good starting point for your project.


FYI there is also a context menu when right clicking in the scene tree view called "Convert to Base Node(s)". This allows to explode the PROTO into basic nodes
%figure
![Capture_decran_2019-09-02_a_17.49.48.png](https://cdn.discordapp.com/attachments/565154703139405824/618110550945300481/Capture_decran_2019-09-02_a_17.49.48.png)
%end


ðŸ˜„

##### SamSmurfitt 09/02/2019 15:47:33
Actually... ignore that I just found the .proto file


Hi Fabien, I've just finished doing the tutorials this afternoon. Is it possible to get hold of the Yamor files? I've opened up the .wbt file and all it shows is that it is made of multiple modules. I was hoping to find information on how to build one of those modules.

##### Fabien Rohrer [Moderator] 09/02/2019 15:42:48
I hope this helps ðŸ˜‰


But basically, you could also try to "hack" the yamor model to change the joint axis and add wheels. Learning this is the focus of the first tutorials.


.. and finally / eventually encapsulate your model in a .proto file in order to be able to instanciate it easily.


Then to add the Connector at the right position, using the Yamor as an inspiration.


[https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)


I would recommend you to do our tutorial first to learn how to create simple robots and to be able to move the joints wherever you want:


Hi Sam

##### SamSmurfitt 09/02/2019 15:37:50
Hi all. Quick question. What would be the best way to go about making a robot similar to Yamor? I.e module links with 1 d.o.f rotating connection between them? 

I'm trying to simulate a snake-like robot similar to yamor but with the joint axis being vertical on each module, not horizontal, and having motorised wheels on each module to move it forwards

##### jhielson 09/02/2019 15:13:40
Thanks

##### Fabien Rohrer [Moderator] 09/02/2019 15:13:29
you're welcome, good luck with your project ðŸ˜‰

##### jhielson 09/02/2019 15:13:14
Thanks Fabien!

##### Fabien Rohrer [Moderator] 09/02/2019 15:12:54
Yes, using the Emitter-Receiver is perfect for this.

##### jhielson 09/02/2019 15:12:26
I see. I will try to use multiple channels via emitter and receivers.

##### Fabien Rohrer [Moderator] 09/02/2019 15:11:15
2. Or communicate between the robot controller and the supervisor.


1. Merge your supervisor to your robot controller.


You can think to:


Ok I see. In this case this will be annoying because you cannot access directly the devices of a robot controller through an external supervisor.

##### jhielson 09/02/2019 15:09:42
It is seperated from my robot controller


I have a supervisor node to run my Genetic Algorithm code.

##### Fabien Rohrer [Moderator] 09/02/2019 15:08:41
E-puck [

  controller "e-puck\_avoid\_obstacles" # This should point your supervisor controller.

  supervisor TRUE

]


you don't need to create a Supervisor node, but you need to enable the supervisor flag on your e-puck node:

##### jhielson 09/02/2019 15:06:58
On controller node it works but on supervisor node it does not

##### Fabien Rohrer [Moderator] 09/02/2019 15:06:38
E-puck.controller => your controller


Are you sure you defined well the controller field?


"ps0" is indeed a distance sensor name of the E-puck.proto model. This seems to be correct.

##### jhielson 09/02/2019 15:05:11
I am using only one e-puck


It is not recognizing the device.


Hi Fabien Rohrer, when I use this function I get an error. Warning: "ps0" device not found.

[rnnGAsupervisor\_Jh] Error: wb\_distance\_sensor\_enable(): invalid device tag.

##### Fabien Rohrer [Moderator] 09/02/2019 14:57:51
Note that you cannot get the devices of another robot. The Robot/Supervisor API are bound to get only the devices of the current robot.

##### jhielson 09/02/2019 14:57:08
Nice, I was trying to use some supervisor function instead.  Thanks.

##### Fabien Rohrer [Moderator] 09/02/2019 14:56:43
cf. [https://cyberbotics.com/doc/reference/robot#wb\_robot\_get\_device](https://cyberbotics.com/doc/reference/robot#wb_robot_get_device)


Therefore, you can access the Supervisor devices using the wb\_robot\_get\_device() functions as usual.


Programmatically speaking, the Supervisor is a subclass of the Robot class, therefore, what is true in a robot controller is also true in a supervisor controller.


Hi

##### jhielson 09/02/2019 14:54:05
Hi, I am a new user on Webots and I am trying to figure out how can I access the distance sensor data through the supervisor node. I got the position and rotation of the robot but I do not know about the sensors.

##### Fabien Rohrer [Moderator] 09/02/2019 07:07:30
[https://en.wikipedia.org/wiki/Finite-state\_machine](https://en.wikipedia.org/wiki/Finite-state_machine)


It's the state of the finite state automaton:


this mode is simply a variable defining the robot behavior


ok I see

##### Frodo 09/02/2019 06:55:15
Because they doesn't appear to be programed in other part of the .py or the driver. But they move the robot for some reason and the code doesn't crash


Actually I was wondering about these modes
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/617975577684738049/unknown.png)
%end

##### Fabien Rohrer [Moderator] 09/02/2019 06:49:20
Do you speak about the wb\_robot\_get\_mode functions? [https://cyberbotics.com/doc/reference/robot#wb\_robot\_get\_mode](https://cyberbotics.com/doc/reference/robot#wb_robot_get_mode)

##### Frodo 09/02/2019 06:47:59
One last question... is there a way to know what the self.Mode.something functions are available for the e-puck?


Now I get it, distance sensors from the old robot were "ds" and now they are "ps"

##### Fabien Rohrer [Moderator] 09/02/2019 06:37:37
[https://cyberbotics.com/doc/guide/epuck](https://cyberbotics.com/doc/guide/epuck)


In the user guide, the sensors and actuators of the robots are listed into the 3D component on top of the page:

##### Frodo 09/02/2019 06:35:58
Okay Thank you very much, do you know where can I find the names and functions of the e-puck. I dont know why but I'm having a really hard time doing this simulation. I barely can find about the e-puck in webots

##### Fabien Rohrer [Moderator] 09/02/2019 06:34:26
You should check the actuator and sensor names match with your new robot.


This may be the reason of the crash.


The controller may have some code relative to the robot, typically the actuator and sensor names.


Hi

##### Frodo 09/02/2019 06:32:51
Do you guys know why I cant change the robot from the example.wbt from the python folder to an e-puck robot. When I do that it just tells me "INFO: slave: Starting controller: python.exe -u "slave.py" 

WARNING: slave: The process crashed some time after starting successfully.

WARNING: 'slave' controller crashed.

##### David Mansolino [cyberbotics] 08/30/2019 10:20:34
`@ClLebi` if you call the ``ROS::run`` function the ``launchRos`` function is called automatically.

##### ClLebi 08/30/2019 09:05:52
I didn't use launchRos in my controller, I'll test it

##### David Mansolino [cyberbotics] 08/30/2019 06:30:25
`@ClLebi`, no you should not need to change anything to your controller. The `launchRos` function will parse the arguments and publish the clock if needed: [https://github.com/omichel/webots/blob/revision/projects/default/controllers/ros/Ros.cpp#L132](https://github.com/omichel/webots/blob/revision/projects/default/controllers/ros/Ros.cpp#L132)

Can you please check if you have the same problem with the default ros controller?

##### ClLebi 08/29/2019 17:07:32
(Of course the use\_sim\_time rosparam is set to true)


Another question, I added the "--synchronize --clock --use-sim-time" args on  controllerArgs but still no /clock published. Is there any line to add in my controller to take this controllerArgs into account ?

##### David Mansolino [cyberbotics] 08/29/2019 16:03:44
Very good news! You're welcome !

##### ClLebi 08/29/2019 15:59:43
Based on the ros\_automobile example I successfully compiled my ros controller ! Thank you David !

##### David Mansolino [cyberbotics] 08/29/2019 15:45:28
Ok then creating your custom ros controller seems indeed the way to go.

##### ClLebi 08/29/2019 15:44:48
Yes I'm using it but I'm trying to have a ROS C++ controller for my robot to control topics, datatypes (like using PointCloud2 instead of PointCloud for LiDAR)

##### David Mansolino [cyberbotics] 08/29/2019 15:44:44
> Thank you ! I tested with the Python but I'm working with LiDAR and it's too slow for me !



In that case C++ is indeed most probably the way to go. But make sure before that your GPU is powerful enough and your GPU drivers are up to date (this can drastically influence the simulation speed when using lidars).


finnally, you might also be interested by this repo that gather a few example of ROS nodes that use the default ROS controller to communicate with Webots: 

[https://github.com/cyberbotics/webots\_ros](https://github.com/cyberbotics/webots_ros)

This package is released with ros and is documented here: [http://wiki.ros.org/webots\_ros](http://wiki.ros.org/webots_ros)


If you are interested in ROS2, we are currently creating an interface with ROS2, this interface will be much simpler to integrate and to use, here is the repository (this is still work in progress but is starting to be functional): [https://github.com/cyberbotics/webots\_ros2](https://github.com/cyberbotics/webots_ros2)

##### ClLebi 08/29/2019 15:41:46
I'm gonna look on your links


Thank you ! I tested with the Python but I'm working with LiDAR and it's too slow for me !

##### David Mansolino [cyberbotics] 08/29/2019 15:40:49
We are recently doing a lots of progress on this topic. On our main github repo you can find the source of the default ros controller: [https://github.com/omichel/webots/tree/revision/projects/default/controllers/ros](https://github.com/omichel/webots/tree/revision/projects/default/controllers/ros)

This default controller can then be used as a base to create your own C++ ROS controller, here is an example for a car interface for example: [https://github.com/omichel/webots/tree/revision/projects/vehicles/controllers/ros\_automobile](https://github.com/omichel/webots/tree/revision/projects/vehicles/controllers/ros_automobile)

Another possibility is to use the python API, we have a very simple example of this here: [https://github.com/omichel/webots/tree/revision/projects/languages/ros/controllers/ros\_python](https://github.com/omichel/webots/tree/revision/projects/languages/ros/controllers/ros_python)


Hi `@ClLebi`

##### ClLebi 08/29/2019 15:21:59
Hi, 

Do you guys have a github where I can find an example of custom ROS controller written in C++ ? I've red in the Guide that it's possible ("It is possible to implement such a ROS node in C++ using the "roscpp" library on Linux and macOS. However, in this case, you need to setup a build configuration to handle both the "catkin\_make" from ROS and the "Makefile" from Webots to have the resulting binary linked both against the Webots "libController" and the "roscpp" library.") and I wonder if there is an example ? Thanks a lot ! I discovered Webots yersterday and I love it !

##### smruti 08/29/2019 14:48:48
okay thank you

##### Fabien Rohrer [Moderator] 08/29/2019 14:45:51
The Webots motion file mechanism aims to play back a stored motion in simulation. You would like to map the Kinect and the Webots simulated robot in real-time, right? In this case, it seems more appropriated to not use the Webots motion file mechanism, but rather to directly move the simulated robot actuators.

##### smruti 08/29/2019 14:43:18
sorry i can't get u

##### Fabien Rohrer [Moderator] 08/29/2019 14:42:26
Using the motion mechanism is certainly overkilled. Why not simply and directly actuating the simulated robot motors? (cf. Motor.setPosition(double pos))

##### smruti 08/29/2019 14:39:34
actually i m getting my data from kinect and using that data i m getting my joints angle (motor positions)using python . Now i have information of angles of left shoulder pitch and roll, left elbow pitch and roll.Now i want it to be in a file that webots can read.so how should i do that?Continuosly i will be getting data from kinect which will be given to webots .So how should i continuosly convert it to motion files?

##### Fabien Rohrer [Moderator] 08/29/2019 14:08:25
Basically, the header list the motor names, and each line contain a pose (time,posName,motorPositions*)


You should try to forge a similar file.


[https://github.com/omichel/webots/blob/revision/projects/robots/softbank/nao/motions/Backwards.motion](https://github.com/omichel/webots/blob/revision/projects/robots/softbank/nao/motions/Backwards.motion)


For example:


The Webots motion files are CSV human readable files

##### smruti 08/29/2019 14:04:36
hello, how can i convert .txt to .motion that webots can understand?I have a .txt file that contains the angle of each joints.Now i want nao to be in that position specified in that .txt file. For that reason i have to convert it into .motion file. So how should i do that?Can anyone help

##### Olivier Michel [cyberbotics] 08/29/2019 05:49:14
`@Frodo`: did you try print()? Note you need to call Robot.step() so that your print command is sent to Webots and displayed in the console.

##### Chen-moon 08/29/2019 01:28:00
Hi `@David Mansolino` , thanks for your reply!

##### Frodo 08/28/2019 23:14:32
Do you know how to write text into the Webots Console? I can't find a way to write something into the console


Thank you so much for the info `@David Mansolino`  I'll start working on that!

##### David Mansolino [cyberbotics] 08/28/2019 12:56:56
I am sorry but I have no idea, we did lend our HTC for a demonstration at the World Virtual Reality Forum ([https://worldxr.org/](https://worldxr.org/))

##### Chen-moon 08/28/2019 12:51:49
But, I have another question about how long can your HTC Vive back and test the headset?Thanks!

##### David Mansolino [cyberbotics] 08/28/2019 12:49:23
You're welcome.

##### Chen-moon 08/28/2019 12:49:13
*your


Hi `@David Mansolino` , thanks for uour reply!

##### David Mansolino [cyberbotics] 08/28/2019 11:53:49
Hi `@Chen-moon`, I am sorry but unfortunately I haven't been able to get our HTC Vive back yet to test, neither had the time to create an emulation of the headset.

##### Chen-moon 08/28/2019 11:23:09
I just want to ask how about the progress about the bug fixed, thank you!


Hi `@David Mansolino` , I  reported a bug to the github a month ago(The title is HTC Vive Pro is not working in Webots).

##### David Mansolino [cyberbotics] 08/28/2019 05:58:15
Hi, `@sonjay`, can you give more details? Which part of the code doesn't work and what is th error message?

##### sonjay 08/28/2019 02:12:25
The matlab code doesn't work


Hello, i'm having trouble following Tutorial 6

##### Fabien Rohrer [Moderator] 08/27/2019 09:31:56
Sure, our tutorial is the good starting point ðŸ˜‰

##### Abinav 08/27/2019 09:31:28
Just now installed it. I'm going through the tutorials. Looks like this will ease all the pain. Thanks again.

##### Fabien Rohrer [Moderator] 08/27/2019 09:29:59
The models (robots / objects / environments) are stored in a human-readable format (a language derived from VRML). So it's also possible to modify anything programatically.


It looks like this: [https://cyberbotics.com/doc/guide/the-user-interface](https://cyberbotics.com/doc/guide/the-user-interface)


You can model a robot using a tree view by adding nodes defining the physics / graphics / actuators / sensors


Yes, Webots has a GUI

##### Abinav 08/27/2019 09:26:01
Interesting. Is it possible to model through a GUI or is it code based?

##### Fabien Rohrer [Moderator] 08/27/2019 09:24:18
This robot for example is using the Track node: [https://cyberbotics.com/doc/guide/telemax-pro](https://cyberbotics.com/doc/guide/telemax-pro)

##### Abinav 08/27/2019 09:24:07
Thanks.

##### Fabien Rohrer [Moderator] 08/27/2019 09:23:30
[https://cyberbotics.com/doc/reference/track](https://cyberbotics.com/doc/reference/track)


Please look at the following node:


Yes this is possible


Hi Abinav

##### Abinav 08/27/2019 09:22:40
Hi, I just stumbled upon WeBots while looking for a robotics simulation package for Tracked Robots. Is it possible to model Tracked Robots?

##### Ashish 08/27/2019 06:33:04
Thanks a lot.

##### Fabien Rohrer [Moderator] 08/27/2019 06:32:29
Don't hesitate to ask here if you're stuck at any point ðŸ˜‰

##### Ashish 08/27/2019 06:32:08
okk

##### Fabien Rohrer [Moderator] 08/27/2019 06:31:58
And then, to look at the salamander demo.

##### Ashish 08/27/2019 06:31:47
both robot and controller

##### Fabien Rohrer [Moderator] 08/27/2019 06:31:40
It will learn you the basics

##### Ashish 08/27/2019 06:31:39
ok

##### Fabien Rohrer [Moderator] 08/27/2019 06:31:33
[https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)


It depends if you would like to create robots or only controllers, but I would recommend you to do our tutorial first:

##### Ashish 08/27/2019 06:31:03
great

##### Fabien Rohrer [Moderator] 08/27/2019 06:30:45
The salamander is controlled by a CPG. This example is released in Webots and work out of the box.

##### Ashish 08/27/2019 06:30:17
Please suggest the best option to learn the software

##### Fabien Rohrer [Moderator] 08/27/2019 06:30:07
You may be interested by this example: [https://www.cyberbotics.com/doc/guide/salamander](https://www.cyberbotics.com/doc/guide/salamander)

##### Ashish 08/27/2019 06:30:00
ok. Great

##### Fabien Rohrer [Moderator] 08/27/2019 06:29:42
For sure, Webots is particularly good to simulate robots with legs, and to create controllers linked with specific libraries.

##### Ashish 08/27/2019 06:28:17
Is webots good for me?


Planning to work on Stability and Gait Pattern Generation of Quadruped

##### Fabien Rohrer [Moderator] 08/27/2019 06:27:57
Hi Ashish

##### Ashish 08/27/2019 06:27:49
I have started my phd in robotics in India


Hello,

##### David Mansolino [cyberbotics] 08/27/2019 06:05:41
3. in the main loop, get or set the translation field: 

[https://github.com/omichel/webots/blob/7fb253767f2b4077f396f7e6e37510c00cd441a3/projects/languages/python/controllers/driver/driver.py#L58](https://github.com/omichel/webots/blob/7fb253767f2b4077f396f7e6e37510c00cd441a3/projects/languages/python/controllers/driver/driver.py#L58)

[https://github.com/omichel/webots/blob/7fb253767f2b4077f396f7e6e37510c00cd441a3/projects/languages/python/controllers/driver/driver.py#L62](https://github.com/omichel/webots/blob/7fb253767f2b4077f396f7e6e37510c00cd441a3/projects/languages/python/controllers/driver/driver.py#L62)


2. get the translation field of the node: [https://github.com/omichel/webots/blob/7fb253767f2b4077f396f7e6e37510c00cd441a3/projects/languages/python/controllers/driver/driver.py#L34](https://github.com/omichel/webots/blob/7fb253767f2b4077f396f7e6e37510c00cd441a3/projects/languages/python/controllers/driver/driver.py#L34)


1. get the robot node handle: [https://github.com/omichel/webots/blob/7fb253767f2b4077f396f7e6e37510c00cd441a3/projects/languages/python/controllers/driver/driver.py#L33](https://github.com/omichel/webots/blob/7fb253767f2b4077f396f7e6e37510c00cd441a3/projects/languages/python/controllers/driver/driver.py#L33)


The main steps are the following:


The samle python controller also use the supervisor to move a robot: [https://github.com/omichel/webots/blob/revision/projects/languages/python/controllers/driver/driver.py](https://github.com/omichel/webots/blob/revision/projects/languages/python/controllers/driver/driver.py)


You can find in this example a simple supervisor controller that moves the position of the light: [https://cyberbotics.com/doc/guide/samples-devices#supervisor-wbt](https://cyberbotics.com/doc/guide/samples-devices#supervisor-wbt)


HI `@Frodo`, if you don't car about realistic motion/control, a good solution is to set the 'kinematic' field of the e-puck node to TRUE. Then the Supervisor is indeed the way to go, you can get move/rotate the robot at any position you want.

##### Frodo 08/26/2019 21:55:52
Hello everybody! I'm new to Webots and I'm developing a bioinspired algorith based on a bug from the family psocoptera. I already have tried it on Matlab but now i want to implement it using e-puck robots. Nevertheless, I'm looking for a way to control them like sending positions or velocities to the robots like goto(). So I don't know if there's already some function that does that or I'll have to implement it by myself. I'm not really interested in a realistic control method since, for now, I just want to get the robots moving with my algorithm. I've already looked at something called Compass and Supervisor but I couldn't manage to find some examples with the e-puck. I'm using Python. Thank you in advance for your advice!

##### Fabien Rohrer [Moderator] 08/26/2019 18:05:57
You should share your code here ðŸ˜‰


Could it be due to a memory management issue? Did you check these snippets? [https://cyberbotics.com/doc/reference/camera#wb\_camera\_get\_image](https://cyberbotics.com/doc/reference/camera#wb_camera_get_image)

##### tonyzjtong 08/26/2019 17:43:23
It crashes every time when I'm trying to pass/output the wb\_camera\_get\_image() result. But with a smaller resolution, it's working just fine.


Does anyone have any idea on why my controller crashes when I'm trying to process the camera image? I think the camera size is too big, I'm using the multisense camera node with 1024 x 544 resolution.

##### Rambo 08/26/2019 14:00:06
`@Olivier Michel` , Thanks for your advice! I tried apply other force(both 0 and larger than 0), and it would not crash. However, if the applied force is calculated by 'for' loops(over 3) in the physics step, webots would crash. I will continue to try to find out the solution. thank you!

##### Marcey 08/26/2019 09:35:30
`@Fabien Rohrer` thank you! That worked ðŸ™‚

##### Fabien Rohrer [Moderator] 08/26/2019 09:26:22
(like the AltinoWheel.name field mentioned above)


To be accessible from the Supervisor, the field should be "open", i.e., defined as a regular field in the PROTO definition.


Is it this case?


[https://github.com/omichel/webots/blob/master/projects/robots/saeon/protos/AltinoWheel.proto#L8](https://github.com/omichel/webots/blob/master/projects/robots/saeon/protos/AltinoWheel.proto#L8)


To verify this, simply look at your PROTO header (open it in a text editor), and check if this field has the "hiddenField" keyword, like here:


Hi Marcey, it seems you are getting a field which is hidden in the PROTO definition.

##### Marcey 08/26/2019 08:59:30
Hi, I'm using ROS to get to the translation of my robot. In my program I use the "node\_get\_field"-service. This worked until I tried to convert my Robot to a PROTO. Now I can not get the translation field anymore. The supervisor API says :



    Note: The wb\_supervisor\_node\_get\_field function will return a valid field handler if the field corresponding to the field name is an hidden field.



What would be the correct field name to get the handler to a hidden field?

##### Olivier Michel [cyberbotics] 08/26/2019 06:24:46
hi `@Heisenberg`: light sensors don't make any different between colored lights. To detect a colored light, I would recommend to use a small white box put in front of a low resolution camera. The box will reflect the color of the light and the camera will get it.


Hi `@Rambo`: unfortunately, I have no idea about the problem you are experiencing. Did you try to apply a force of 0 on this object? Does it still crash? If so, the pointer to the object may be wrong.

##### Heisenberg 08/24/2019 20:38:37
Hi, the light sensor function returns a value 'E' based on the incidence of light on the sensor. How can  i detect a red light using the light sensor function

##### Rambo 08/23/2019 16:12:17
I was applying a force which includes a 'for' loop to a vehicle's wheel in the physics plugin,(in physics step, dbodyaddforce).  the force was supposed to be calculated by integration, I simply use a for loop to add things up. If the division of the integeration is over 3(three times in for loop) and the force was applied, the webots crash. However, if the force is only displayed and calculated in webots, but not applied, the division of the integration could go as high as 1000 and still runs smoothly. And the forces calculated by normal means like adds multiflies and such works normally. I tried many methods, but none worked. I wonder if you guys have any clues to this...ðŸ˜«

##### David Mansolino [cyberbotics] 08/22/2019 06:12:37
Hi `@Dannte98`

##### Dannte98 08/21/2019 21:57:32
Good afternoon

##### David Mansolino [cyberbotics] 08/21/2019 14:40:12
Very good news, thank you for the feedback ðŸ˜„

##### NERanger 08/21/2019 14:39:49
I found that I did not set the dContactApprox1 flag. Now I got normal behaviour. Appreciate you help ! You really help me outâ˜º `@David Mansolino`

##### David Mansolino [cyberbotics] 08/21/2019 14:28:05
Can you try to use in your physics plugins the equivalent than in the Webots contact properties:

```
contact->surface.mu = coulombFriction;
contact->surface.mode = (bounce != 0.0 ? dContactBounce : 0) | dContactApprox1 | dContactSoftCFM | dContactSoftERP;
if (forceDependentSlipSize.size() > 1)
  contact->surface.mode = contact->surface.mode | dContactMu2;
contact->surface.slip1 = forceDependentSlipSize;
contact->surface.slip2 = forceDependentSlipSize;
contact->surface.bounce = bounce;
contact->surface.bounce_vel = bounceVelocity;
contact->surface.soft_cfm = softCFM;
contact->surface.soft_erp = softERP;
```

And compoare if you have the same behavior or not?

##### NERanger 08/21/2019 14:19:34
`@David Mansolino` I am not using asymetric friction. I use mu for the friction between tractor wheel and ground, should I enable rolling firction instead?

##### David Mansolino [cyberbotics] 08/21/2019 06:01:06
`@NERanger`, the behavior you mention is strange, the only difference between `coulombFriction` and `mu` is that `mu` is set to `dInfinity` if `coulombFriction` is -1.

This is done here: [https://github.com/omichel/webots/blob/0e8541fc48cda235cec85f6d3131dcf13c93a3c2/src/webots/engine/WbSimulationCluster.cpp#L228](https://github.com/omichel/webots/blob/0e8541fc48cda235cec85f6d3131dcf13c93a3c2/src/webots/engine/WbSimulationCluster.cpp#L228)



And then assigned to the contact surface here: [https://github.com/omichel/webots/blob/revision/src/webots/engine/WbSimulationCluster.cpp#L279](https://github.com/omichel/webots/blob/revision/src/webots/engine/WbSimulationCluster.cpp#L279)

Are you sure you are setting correctly the flags in your physics plugin? In Webots this is done here: [https://github.com/omichel/webots/blob/revision/src/webots/engine/WbSimulationCluster.cpp#L333](https://github.com/omichel/webots/blob/revision/src/webots/engine/WbSimulationCluster.cpp#L333))

Are you using asymetric friction (more than one value in the `coulombFriction` field)?

##### NERanger 08/20/2019 16:14:51
I wonder if there is a difference between the field "coulombFriction" in the node "ContactProperties" and the mu in struct "dSurfaceParameters" in ODE explained as the "coulomb Friction coefficient". I have this question because when I am using ContactProperties, set coulombFriction to 1 is enough to prevent slip, but when I am using collsion handling callback function provided by Webots, I always need to set the "mu" to about 200 to prevent slip (I do not want to set it to infinity since I need to implement "slip ratio"). I suspect that the "mu" explained as "coulomb Friction coefficient" in the document is actually divided by some number like 1000. But I am not sure since the document does not mention it. Can anyone tell me what is the difference between these two things? Thanks for listening to my question ðŸ˜ƒ

##### David Mansolino [cyberbotics] 08/20/2019 08:18:12
You're welcome

##### owen6789 08/20/2019 08:17:59
OK, I got it. I will try. Thanks for helping me.

##### David Mansolino [cyberbotics] 08/20/2019 08:17:42
About Solidworks to Webots, you will have to export your Solidworks file to VRML2.0 which can then be imported in Webots (but you will loose some information in the process), here is an example from autodesk (but the process is very similar): [https://www.youtube.com/watch?v=L0FVsFD2rS4&feature=youtu.be](https://www.youtube.com/watch?v=L0FVsFD2rS4&feature=youtu.be)


We have a script converting an urdf file to a Webots compatible PROTO file, you can find this script here: [https://github.com/omichel/urdf2webots](https://github.com/omichel/urdf2webots)

Let us know if you have any problem with this script


Hi `@owen6789`

##### owen6789 08/20/2019 08:15:01
Hi, I wonder to know how URDF or solidwork file convert to  Webots PROTO file?

##### Mr. Scruff 08/19/2019 18:53:16
Hi `@MariusJuston` .

Thanks for the .wbt.     I think the reason why it is barely noticeable when you tried it is because you need to run it at slower speeds, like 0.1 kph.   Can you run at these low speeds?   We tried the world you provided and the problem is there, just like in all the other worlds that we've tried so far.

##### David Mansolino [cyberbotics] 08/19/2019 07:03:07
Ok, thank you. Can you maybe try to start Webots in safe mode to check if the problem is still present: [https://cyberbotics.com/doc/guide/starting-webots#safe-mode](https://cyberbotics.com/doc/guide/starting-webots#safe-mode)

##### bhanu 08/19/2019 07:01:55
windows ,intel i5-8th gen ,8gb ram,intel u620 graphics + Nvidia Mx150 with driver version 431.60. I created project in documents folder

##### David Mansolino [cyberbotics] 08/19/2019 06:57:41
`@bhanu`, what is your computer configuration? Are your GPU dirvers up to date? Do you have writte rights where the new project is created?


`@Akash`, yes of course, the setPosition() function is not blocking, while the motor is moving you can perform other tasks.


`@r0dvan`, yes exactly, you will be able to use simulation instead of expensive hardware using Webots ðŸ™‚

##### Huey 08/19/2019 06:22:52
`@MariusJuston` I made the name field public, and use the getName function to print it alongside the value, copy to excel to separate data. Works like a charm! THANK YOUðŸ˜

##### bhanu 08/19/2019 05:49:16
I am new to robotics. I have installed webots 2019b on Windows 10. Frequently the ide is not responding after create a new project

##### MariusJuston [Moderator] 08/19/2019 00:59:20
Or if the controllerArgs field is visible you can pass in the name of your robot and then read it using the args in the `public static void main(String[] args) `


No problems!

##### Huey 08/19/2019 00:57:58
Thanks for shedding light on the mate :D I'm gonna try that later :)))

##### MariusJuston [Moderator] 08/19/2019 00:57:22
That would be the easiest solution

##### Huey 08/19/2019 00:57:22
You think that might work?


Now that you mentioned it, perhaps I can make the name field public under proto, so I can give each a different name

##### MariusJuston [Moderator] 08/19/2019 00:55:42
Can you change the â€œnameâ€ field?


?

##### Huey 08/19/2019 00:54:05
Would using DEF work in this situation?


I'm using java. I created a proto for the robot, they kinda share the same name

##### MariusJuston [Moderator] 08/19/2019 00:53:18
What language are you using ?


Oh so what you can do is that you can get the name of the robot and then print that along side the value

##### Huey 08/19/2019 00:51:01
I'm not sure if I was doing this correctly, I use println function to print values to the console, but then I was confused how to differentiate which value belongs to which robot

##### MariusJuston [Moderator] 08/19/2019 00:42:12
Sorry I might have been unclear. What I was saying was that each robot when it runs creates its own instance of the Controller. Thus meaning that none of the variables are shared. Each robot, if you were to have a controller that stored the values into an array would have arrays with different values. You could then, if you wanted to, export those arrays to a file such as a *.csv file. Was that what you were asking?

##### Huey 08/19/2019 00:37:49
oh.. you mean like a csv file?

##### MariusJuston [Moderator] 08/19/2019 00:35:21
Well if you store it using arrays, each robot will create a unique instance of the controller so that a controller instance is only associate with the robot

##### Huey 08/19/2019 00:34:14
i wondering if there would be a way to store separate sets of values each robot collects, e.g using three identical robot in the simulation
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/612806496777928714/unknown.png)
%end

##### MariusJuston [Moderator] 08/18/2019 20:09:30
No problems, as far as I know there is way to export these values directly from the plots

##### Huey 08/18/2019 20:08:54
Thanks marius


seems like that s the only way.

##### MariusJuston [Moderator] 08/18/2019 20:01:30
You can store these values in arrays

##### Huey 08/18/2019 20:00:24
Hi, may I know if there s a way to store all values throughout the entire simulation session?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/612737586481594393/unknown.png)
%end

##### Akash 08/17/2019 11:10:27
Is it possible to run some other function while the bot is moving with the setPosition() function  ?

##### r0dvan 08/17/2019 01:26:29
Greetings everyone. I am a developer interested in learning various algorithms to assemble my bots. But since I dont have enough resources to buy all required parts, this project will allow me to simulate that right?

##### Mr. Scruff 08/16/2019 19:07:25
Thanks for the .wbt.     I think the reason why it is barely noticeable when you tried it is because you need to run it at slower speeds, like 0.1 kph.   Can you run at these low speeds?   We tried the world you provided and the problem is there, just like in all the other worlds that we've tried so far.

##### MariusJuston [Moderator] 08/16/2019 18:01:04
Here is my world if you want
> **Attachment**: [mr\_scruff.wbt](https://cdn.discordapp.com/attachments/565154703139405824/611982779961311239/mr_scruff.wbt)


For me it never behaves exactly how yours does, it never has wheels jumping around... all I did was copy the same WorldInfo as the moose\_demo.wbt and it works, yes the tractor still sinks a little in the ground but it is barely noticeable

##### Mr. Scruff 08/16/2019 17:48:16
Glad to hear that.   It appears to only happen close to the connection point between 2 adjacent tiles.

##### MariusJuston [Moderator] 08/16/2019 17:47:36
It is also happening on my side...

##### Mr. Scruff 08/16/2019 17:47:18
This new 18 seconds video is a good one.  That left tire slowly sinks and then abruptly pops up again.


[https://photos.app.goo.gl/Xdtwq2hbeLgkg2Pe8](https://photos.app.goo.gl/Xdtwq2hbeLgkg2Pe8)

##### MariusJuston [Moderator] 08/16/2019 17:45:10
I am also having the tractor go into the ground, let me mess around with the constants to see if it does anything

##### Mr. Scruff 08/16/2019 17:44:42
I'll post a video of that experiment.


Exactly!   ðŸ™‚

##### MariusJuston [Moderator] 08/16/2019 17:43:21
`@Mr. Scruff` you are talking about this kind of setup right?
%figure
![mr_scruff.png](https://cdn.discordapp.com/attachments/565154703139405824/611978319436447745/mr_scruff.png)
%end

##### Mr. Scruff 08/16/2019 17:30:09
Hi `@MariusJuston` .  I simplified my experiment by using the standard Boomer vehicle, and driving it in the sample terrain that comes with the Clearpath Moose terrain.   Under these conditions, we've been able to duplicate the issue where, at slow speeds, the tractor tires suddenly sink into the ground and then suddenly pop out of the ground.

Given that we are using components that come standard with Webots, without modification, can you reproduce the problem?

[https://agjunction-my.sharepoint.com/:v:/p/mvillela/Ead4Z4TufSBDimFK2IWp-1QBQBMu6c6aIAGeGk50m0D2Ow?e=5jG3Nk](https://agjunction-my.sharepoint.com/:v:/p/mvillela/Ead4Z4TufSBDimFK2IWp-1QBQBMu6c6aIAGeGk50m0D2Ow?e=5jG3Nk)

##### MariusJuston [Moderator] 08/16/2019 16:19:31
`@aknuclear` [https://cyberbotics.com/doc/guide/tutorial-1-your-first-simulation-in-webots-20-minutes](https://cyberbotics.com/doc/guide/tutorial-1-your-first-simulation-in-webots-20-minutes)

##### aknuclear 08/16/2019 15:52:23
Is there any example code in webots exmaple where the rotational motor is controlled by the setPosition() function?

##### MariusJuston [Moderator] 08/15/2019 22:53:40
Try the terrain that is in the mantis test world

##### Mr. Scruff 08/15/2019 22:16:46
Not flat.


I've tried 2 independent terrain generators, but got the same results.   Can you send me a known good terrain so I can test?

##### MariusJuston [Moderator] 08/15/2019 21:24:09
Maybe it has something to do with the uneven terrain generator?

##### Mr. Scruff 08/15/2019 21:22:12
Hi `@MariusJuston`.   While the effects of changing the softCFM were clearly visible,  unfortunately it was not able to resolve the issue.  As you can see in the video, the tractor moves fine in certain areas, but very briefly sinks in others.  This effect does not manifest itself in flat terrains.

[https://agjunction-my.sharepoint.com/:v:/p/mvillela/Ead4Z4TufSBDimFK2IWp-1QBQBMu6c6aIAGeGk50m0D2Ow?e=5jG3Nk](https://agjunction-my.sharepoint.com/:v:/p/mvillela/Ead4Z4TufSBDimFK2IWp-1QBQBMu6c6aIAGeGk50m0D2Ow?e=5jG3Nk)


This does help.  I'm curious to see the effects of changing the softCFM.  Thanks again.

##### MariusJuston [Moderator] 08/15/2019 17:09:02
Hope this helps...


To be honest I am not sure exactly how it works in the backend but I was informed when I had a similar problem of my object sinking in the ground to change the CFM and it seemed to work. From what I can understand from the documentation, imagine that you have a spring (which represents the ground) and the spring constant (k) is represented by the CFM. If you have a high spring constant (lower CFM) it will take more force for it be pressed down, if you have a low spring constant (higher CFM) it will take less force to push the spring down thus causing the object to â€œsinkâ€ in the material. If you do not want the spring be able to sink you would make the spring constant infinity, in this case make the CFM 0.

##### Mr. Scruff 08/15/2019 16:59:19
I am reading about softCFM at [https://www.cyberbotics.com/doc/reference/worldinfo](https://www.cyberbotics.com/doc/reference/worldinfo)

Can you provide more in-depth information?  Perhaps a paper or some other documentation that talks about softCFM in more detail?


I will try that next.  Thank you.

##### MariusJuston [Moderator] 08/15/2019 16:55:11
The object is sinking because it is so heavy


Have you tried changing the softCFM in the ContactsProperties

##### Mr. Scruff 08/15/2019 16:33:28
But the problem persists.  This happens with the front wheels and with the back wheels.  It is more easily visible when the wheels are spinning at low speeds, as shown in the video.  The problem also appears to not happen in flat terrain.


Thanks, Marius.   My basic time step is already at 4msec.

##### MariusJuston [Moderator] 08/15/2019 16:27:12
Try changing the basic time step to be smaller

##### Mr. Scruff 08/15/2019 16:26:14
I'm having a terrain problem where the wheels of my virtual tractor keep sinking in the terrain. 

Here is a small video:   [https://agjunction-my.sharepoint.com/:v:/p/mvillela/Ead4Z4TufSBDimFK2IWp-1QBhme0FEhT6Bj1niilwLqCOA?e=4OIt0O](https://agjunction-my.sharepoint.com/:v:/p/mvillela/Ead4Z4TufSBDimFK2IWp-1QBhme0FEhT6Bj1niilwLqCOA?e=4OIt0O)

##### David Mansolino [cyberbotics] 08/15/2019 05:59:07
First, did you read this page?

[https://www.cyberbotics.com/doc/guide/using-matlab](https://www.cyberbotics.com/doc/guide/using-matlab)


Yes of course, what is your problem?


Hi Juan!

##### juan jose 08/15/2019 02:46:31
could someone help me ?, thanks


Hi, my name is Juan and I am new, I come to ask for help, I have problems linking matlab and webots

##### David Mansolino [cyberbotics] 08/14/2019 15:08:54
You're welcome. Thank you for the feedback!

##### MariusJuston [Moderator] 08/14/2019 15:08:14
Thank you so much for the time your spent on this `@Olivier Michel` `@David Mansolino` !!!

##### Olivier Michel [cyberbotics] 08/14/2019 15:07:47
So, if you really need Anaconda, you should probably try to recompile the Webots Python libraries with Anaconda as explained here: [https://cyberbotics.com/doc/guide/using-python#use-an-alternative-python-version](https://cyberbotics.com/doc/guide/using-python#use-an-alternative-python-version)


OK.

##### MariusJuston [Moderator] 08/14/2019 15:06:40
To use virtual environments

##### Olivier Michel [cyberbotics] 08/14/2019 15:06:27
Is there any reason why you used Anaconda in the first place?

##### MariusJuston [Moderator] 08/14/2019 15:05:29
Ah, it seem to be working now

##### Olivier Michel [cyberbotics] 08/14/2019 15:05:27
I confirm it is working well with Python 3.7.4 from python.org as well.


I am installing it as well to test it.

##### MariusJuston [Moderator] 08/14/2019 15:02:50
Yes I made sure to get the 64 bit version this time

##### Olivier Michel [cyberbotics] 08/14/2019 15:02:30
(beware to get the 64 bit version)


Yes, I think so.

##### MariusJuston [Moderator] 08/14/2019 15:01:07
It should be fine if I used Python 3.7.4 right?

##### Olivier Michel [cyberbotics] 08/14/2019 15:00:24
The safest option is probably to use the standard Python (in a first step).


For Anaconda, you might need to recompile the python libraries as explained here: [https://cyberbotics.com/doc/guide/using-python#use-an-alternative-python-version](https://cyberbotics.com/doc/guide/using-python#use-an-alternative-python-version). However, it can be tricky...

##### MariusJuston [Moderator] 08/14/2019 14:59:16
That was just what I was about to try

##### Olivier Michel [cyberbotics] 08/14/2019 14:58:58
Can you try without Anaconda (using the standard Python from Python.org)?

##### MariusJuston [Moderator] 08/14/2019 14:57:58
got it

##### Olivier Michel [cyberbotics] 08/14/2019 14:57:49
In WEBOTS\_HOME\projects\languages\python\controllers\driver


I am not using Anaconda... That's a difference...

##### MariusJuston [Moderator] 08/14/2019 14:57:09
No I am trying to open my own controller, where is that controller located?

##### Olivier Michel [cyberbotics] 08/14/2019 14:56:26
OK, that seems correct. Are you trying to open the "driver.py" example as in the documenation?

##### MariusJuston [Moderator] 08/14/2019 14:55:57
I am using a Anaconda virtual environment


Python 3.7.3 (default, Apr 24 2019, 15:29:51) [MSC v.1915 64 bit (AMD64)] on win32
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/611211346931089438/unknown.png)
%end

##### Olivier Michel [cyberbotics] 08/14/2019 14:55:15
Which version of Python 3 do you have ?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/611211057717051392/unknown.png)
%end


Can you check that in File / Settings... / Project: driver / Project Structure  you have under "+ Add Content Root" the following path: C:\Users\mariu\AppData\Local\Programs\Webots\lib\python37?

##### MariusJuston [Moderator] 08/14/2019 14:49:22
I am just as confused as you guys are. There should be no reason as to why it would not work...



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/611208981477589013/unknown.png)
%end

##### David Mansolino [cyberbotics] 08/14/2019 14:45:37
do you have a '\_controller' library in `C:\Users\mariu\AppData\Local\Programs\Webots\lib\python37\` ?

##### MariusJuston [Moderator] 08/14/2019 14:43:58
```Traceback (most recent call last):
  File "C:\Users\mariu\AppData\Local\JetBrains\Toolbox\apps\PyCharm-P\ch-0\192.5728.105\helpers\pydev\pydevd.py", line 2060, in <module>
    main()
  File "C:\Users\mariu\AppData\Local\JetBrains\Toolbox\apps\PyCharm-P\ch-0\192.5728.105\helpers\pydev\pydevd.py", line 2054, in main
    globals = debugger.run(setup['file'], None, None, is_module)
  File "C:\Users\mariu\AppData\Local\JetBrains\Toolbox\apps\PyCharm-P\ch-0\192.5728.105\helpers\pydev\pydevd.py", line 1405, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
  File "C:\Users\mariu\AppData\Local\JetBrains\Toolbox\apps\PyCharm-P\ch-0\192.5728.105\helpers\pydev\pydevd.py", line 1412, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
  File "C:\Users\mariu\AppData\Local\JetBrains\Toolbox\apps\PyCharm-P\ch-0\192.5728.105\helpers\pydev\_pydev_imps\_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
  File "C:/Users/mariu/Documents/GitHub/****/*****/controllers/collision_detection/collision_detection.py", line 1, in <module>
    from controller import Supervisor, Motor, PositionSensor, TouchSensor
  File "C:\Users\mariu\AppData\Local\Programs\Webots\lib\python37\controller.py", line 16, in <module>
    import _controller
ImportError: DLL load failed: The specified module could not be found.
```



This is the output when running it through the debugger



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/611207719617298432/unknown.png)
%end

##### Olivier Michel [cyberbotics] 08/14/2019 14:40:45
Did you set it also in the Run/Debug configuration for the PATH environment variable?

##### MariusJuston [Moderator] 08/14/2019 14:38:09
yes

##### Olivier Michel [cyberbotics] 08/14/2019 14:37:58
In File / Settings... / Project: driver / Project Structure / Add Content  Root, did you add this folder?

##### David Mansolino [cyberbotics] 08/14/2019 14:37:06
Maybe you can get more information with 'Debug' insted of 'Run' ?

##### MariusJuston [Moderator] 08/14/2019 14:36:54
Yes but I can see it in C:\Users\mariu\AppData\Local\Programs\Webots\msys64\mingw64\bin

##### Olivier Michel [cyberbotics] 08/14/2019 14:36:10
The error you get is probably because Webots cannot find the Controller.dll.

##### MariusJuston [Moderator] 08/14/2019 14:35:56
I just tried with Python 2.7 and I still go the error...

##### Olivier Michel [cyberbotics] 08/14/2019 14:35:38
OK, I did the same and it worked for me... Now trying to configure PyCharm to get Python 3.7 running.

##### MariusJuston [Moderator] 08/14/2019 14:32:47
I have installed Webots from the installation package on Windows

##### Olivier Michel [cyberbotics] 08/14/2019 14:32:11
Did you install Webots from the installation package on Windows or are you running Webots in the git development environment?

##### MariusJuston [Moderator] 08/14/2019 14:31:36
It is the same old `ImportError: DLL load failed: The specified module could not be found.`

##### David Mansolino [cyberbotics] 08/14/2019 14:30:25
You're welcome.



> It gave the previous ImportError: DLL load failed: %1 is not a valid Win32 application. when I was indeed in a 32 bit  Python 3.7



Ok, good news, what is the error message you have now?

##### MariusJuston [Moderator] 08/14/2019 14:28:43
I will try with Python 2. as well


`@Olivier Michel` I would be really grateful, if you did, thank you! Also `@David Mansolino` many thanks for putting together this web page for Pycharm!


It gave the previous `ImportError: DLL load failed: %1 is not a valid Win32 application.` when I was indeed in a 32 bit  Python 3.7


`Python 3.7.3 (default, Apr 24 2019, 15:29:51) [MSC v.1915 64 bit (AMD64)] on win32`

##### Olivier Michel [cyberbotics] 08/14/2019 14:26:11
I just tried on Windows, following David's instructions and it worked fine for me. PyCharm defaulted to Python 2.7. I didn't try with Python 3.7 yet. But I can try it if you want.

##### David Mansolino [cyberbotics] 08/14/2019 14:24:44
Can you make sure that PyCharm is using a 64bit version of Python ?

##### MariusJuston [Moderator] 08/14/2019 14:22:57
`@David Mansolino` I have run through the steps multiple times however it is still not working for me. It is either sending my the same dll not found error still or a new `ImportError: DLL load failed: %1 is not a valid Win32 application.`

##### David Mansolino [cyberbotics] 08/14/2019 13:37:05
`@MariusJuston`, this is now documented here: [https://www.cyberbotics.com/doc/guide/using-pycharm-with-webots](https://www.cyberbotics.com/doc/guide/using-pycharm-with-webots)


`@MariusJuston`, I had a bit of time to test PyCharm with Webots, there is a few tricky settings to set, but it seems to work. Can you please try the following:

  1. Open your simulation in pause mode and set the controller of the robot to `<extern>`

  2. in PyCharm select: `File->Settings->Project->Project Structure-> Add Content Root` and select webots/lib/python37 (or any other version), then OK->Apply->OK.

  3. in PyCharm select: `Run->Edit Configurations->Python', Then in the `Environment variables` value add `LD\_LIBRARY\_PATH` (or `PATH` if you are on windows) and set the value to ${WEBOTS_HOME]/lib



Please let me know if you still have any problems with this procedure.

##### Yang Chen 08/13/2019 17:44:07
`@MariusJuston` OK. I will try. Thank you !

##### MariusJuston [Moderator] 08/13/2019 17:39:12
For more info about what each parameter means


[https://www.cyberbotics.com/doc/reference/worldinfo](https://www.cyberbotics.com/doc/reference/worldinfo)


Usually you do not need to edit them, but if you see some things behave strangely such as objects sinking in ground you probably want to edit them

##### Yang Chen 08/13/2019 17:36:41
Just use the our real world's related parameter?


When you are doing your own robot simulation, how do you deal with these parameters, like basicTimeStep 10

FPS 60

ERP 0.62

CFM 1e-05, mass, coefficiency etc.

##### MariusJuston [Moderator] 08/13/2019 17:35:16
But if you were to use the mantis in another world you proabbly want to have very similar world settings


That was already set in the sample world so you do not actually need to change those

##### Yang Chen 08/13/2019 17:33:02
Ok. Thank  you so much for your valuable time and patience!

##### MariusJuston [Moderator] 08/13/2019 17:32:14
Or if you want you can go in the PROTO of the mantis and then set the mass property in the physics node to be 1


You probably want to fiddle with columbFriction in the ContactProperties in order to increase friction. Set the columbFriction to 100 and try it now


Oh wait I did notice it slipping a little, when it was going downhill, probably due to its mass


Try reducing the basic time step maybe?


basicTimeStep 10

FPS 60

ERP 0.62

CFM 1e-05


It actually does not seem to be slipping

##### Yang Chen 08/13/2019 16:57:03
to escape I am running in the wrong direction.


I want to make sure there is no difference between yours and mine.


how about yours? Do your mantis' simulation has slipping ?

##### MariusJuston [Moderator] 08/13/2019 16:56:09
Since the motors are set to absolute positions it is forcing the legs to go to those specific positions no matter. This causes it, if there is a slopped terrain to be lift off from the other legs, to fix this you would need to create some kind of suspention on the legs

##### Yang Chen 08/13/2019 16:54:23
Mine controller follows this websites[https://github.com/omichel/webots/blob/master/projects/robots/micromagic/mantis/controllers/mantis/mantis.c](https://github.com/omichel/webots/blob/master/projects/robots/micromagic/mantis/controllers/mantis/mantis.c)


mine worlds follow this website [https://github.com/omichel/webots/blob/master/projects/robots/micromagic/mantis/worlds/mantis.wbt](https://github.com/omichel/webots/blob/master/projects/robots/micromagic/mantis/worlds/mantis.wbt)

##### MariusJuston [Moderator] 08/13/2019 16:53:12
That is probably because it is going up the sloped terain

##### Yang Chen 08/13/2019 16:51:48

%figure
![20190813125102.jpg](https://cdn.discordapp.com/attachments/565154703139405824/610878183075479552/20190813125102.jpg)
%end


also the right hind leg.


on 15s the left hind leg is slipping.


you can see this one.



> **Attachment**: [Mantis.mp4](https://cdn.discordapp.com/attachments/565154703139405824/610877003788320808/Mantis.mp4)

##### MariusJuston [Moderator] 08/13/2019 16:42:55
You are running the mantis sample world right?

##### Yang Chen 08/13/2019 16:38:33
I get this error from the first time I use real time simulation.

##### MariusJuston [Moderator] 08/13/2019 16:38:02
I have never gotten that error...

##### Yang Chen 08/13/2019 16:38:00
Ok, please watt a moment. I need to learn how to do it.


And then run it again, it succeed.



%figure
![20190813123611.jpg](https://cdn.discordapp.com/attachments/565154703139405824/610874532601004072/20190813123611.jpg)
%end

##### MariusJuston [Moderator] 08/13/2019 16:32:59
Could you show me a video of it happening please

##### Yang Chen 08/13/2019 16:32:30
While the abnormal thing is that when I run real time simulation for the first time. It alwys shows these.


Me too.


I use the same nodes and codes as the github shows, after the matis robot walks for a while I can find feet slipping. Sorry I focus on this point. As the slipping is what I want to eliminate.

##### MariusJuston [Moderator] 08/13/2019 16:30:12
I am assuming so? I am using the latest R2019b Webots

##### Yang Chen 08/13/2019 16:29:13
`@MariusJuston` Do you use the same nodes and codes as the github shows?

##### MariusJuston [Moderator] 08/13/2019 15:53:11
I cannot seem to see the legs slipping

##### Yang Chen 08/13/2019 15:51:59
Hi,`@MariusJuston` can you see the webots simulation of mantis for a while again. Could you please zoom in the robot walking scenary and see the motion of the feet? When I do this, I find the feet are slipping.


Thank you! Get it! I will do it right now!

##### MariusJuston [Moderator] 08/13/2019 15:30:18
No I meant for in the webots simulation:
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/610857673646407700/unknown.png)
%end

##### Yang Chen 08/13/2019 15:28:58
Do you mean this link [https://cyberbotics.com/doc/guide/mantis](https://cyberbotics.com/doc/guide/mantis) ?


Thank you so much for your kind suggestion! Yes, of course I will see it now.

##### MariusJuston [Moderator] 08/13/2019 15:25:00
That is really all based on timing and fine tuning the function. If you look at the graphs of the robot motors while it is running (double click the robot) you will seen the sinusoidal functions and hopefully that helps you

##### Yang Chen 08/13/2019 15:22:37
So I am trying to totally understand this function. Then, maybe the robot can go normal.


Hi,`@MariusJuston` Thank you! Yes. While I need a specific one. As I am confusing how  this fuction realizes which pair of feet fix on ground and only rotate the legs and when feet lift while legs rotate. My robot's feet always slip.

##### MariusJuston [Moderator] 08/13/2019 15:10:26
`wb_motor_set_position(motors[i], a[i] * sin(2.0 * M_PI * f * time + p[i]) + d[i]);` It is all part of the sinusoidal function, the amplitude tells the legs if it should from left to right or right to left and by how much it should move by

##### Yang Chen 08/13/2019 15:02:34
Hello! I see the mantis has tripod gait. Could you please show me  the code or other setup which decides when one pair of three feet fix on ground and when one pair of three feet lift the ground?

##### Olivier Michel [cyberbotics] 08/12/2019 15:16:18
Great.

##### Clement 08/12/2019 15:16:13
It works perfectly if I reduce it. Thanks a lot!


indeed it was set to 10000!!

##### Olivier Michel [cyberbotics] 08/12/2019 15:12:27
Can you reduce the maxTorque value of the motor to see whether it helps?


It looks like the force of the motor is too strong...

##### Clement 08/12/2019 15:08:00
I've tried with 16 and 8ms but I haven't seen any difference.

##### David Mansolino [cyberbotics] 08/12/2019 15:04:45
Have you tried decreasing the 'basciTimeStep' ? Or the motor acceleration (bedefault motors have an infinite acceleration)

##### Clement 08/12/2019 15:03:24
Here is a video of the simulation: [https://drive.google.com/file/d/1y7L2c4tgUtV1QFr1IhSEaV874-e8H3C9/view?usp=sharing](https://drive.google.com/file/d/1y7L2c4tgUtV1QFr1IhSEaV874-e8H3C9/view?usp=sharing)


I am using the robot window that appears when I double click the robot. It allows me to move the joints individually


Well the static object is a Robot with no boundingObject but it has children which have boundingBox

##### Olivier Michel [cyberbotics] 08/12/2019 14:49:29
What do you mean control manually from the Webots interface? If you do that from the scene tree, nothing will prevent you from colliding with objects. You should control your robot from your controller so that the simulation runs and the collision detector works.


Does your static object have a boundingObject?


Hi Clement,

##### Clement 08/12/2019 14:46:50
Hi everyone, I am playing with Webots physics/collision system and I'm facing a weird situation. I have a manipulator arm that I control manually through the Webots interface. When I make the arm push an object against a static object (no physic field), at some point the arm starts passing through the object. I was expecting the arm to be blocked. I tried setting the ERP field to 0 but it doesn't fix it. Is it possible to achieve my goal or is this a limitation from ODE ?

##### David Mansolino [cyberbotics] 08/12/2019 12:17:49
Can you please try to stasrt Webots in safe mode: [https://cyberbotics.com/doc/guide/starting-webots#safe-mode](https://cyberbotics.com/doc/guide/starting-webots#safe-mode)

##### Liu 08/12/2019 12:08:23
it is first time.  i can not open other word or create a new world now. i use the newest webots 2019b.

##### David Mansolino [cyberbotics] 08/12/2019 12:03:27
Was it crashing before? Is it crashing with any world? Are your GPU drivers up to date ?


Hi

##### Liu 08/12/2019 12:02:31
My webots crashed. I try to fix the world program through opening wordpad, but it doesn't work. I also can not open other words. how do I fix it.

##### Olivier Michel [cyberbotics] 08/12/2019 06:23:14
Hi `@MariusJuston`, `@Fabien Rohrer` is off for vacation, but I can try to answer for him. The Blender addon should produce .wbt files that you can open directly in Webots. If that doesn't work, please open an issue to report the problem, including your .blend file, so that we can try to reproduce it and better understand what's wrong.

##### MariusJuston [Moderator] 08/11/2019 22:26:53
`@Fabien Rohrer` for your Blender addon once you have exported your file to a *.wbt how are you supposed to open it in Webots? When I tried to open it using Open World It gave me   `Expected node or PROTO name, found '{'.` and `Failed to load due to syntax error(s).`


No problems ðŸ˜‰

##### SimonDK 08/11/2019 18:44:46
Thank you, much appreciated

##### MariusJuston [Moderator] 08/11/2019 18:39:46
I believe this might help you: [https://cyberbotics.com/doc/guide/using-ros](https://cyberbotics.com/doc/guide/using-ros)

##### SimonDK 08/11/2019 18:39:12
A small beginner question, is it possible to run Webots on Mac connected to a rosmaster on Ubuntu? Does it require any ros packages compiled on Mac to make this setup work? If not possible, I will keep everything to Ubuntu.


New here, going to check out Webots. Have used Gazebo and vrep for many years in robotics, so a bit excited to see what Webots is about

##### MariusJuston [Moderator] 08/11/2019 18:35:18
Hello

##### SimonDK 08/11/2019 18:35:12
Hi

##### David Mansolino [cyberbotics] 08/09/2019 18:01:11
You're welcome.

##### Yang Chen 08/09/2019 16:11:23
`@David Mansolino`  ðŸ‘ Thank you for your kind help! Get it!ðŸ˜€

##### David Mansolino [cyberbotics] 08/09/2019 16:07:16
`@Yang Chen`, you should probably have a look at 'central pattern generators' (CPG). Here is for example an article about this: [https://www.sciencedirect.com/science/article/pii/S0960982201005814](https://www.sciencedirect.com/science/article/pii/S0960982201005814)

##### Yang Chen 08/09/2019 16:00:07
Thank you!


In addition, I want to understand of this sin function. could you recommend me this gait control's  theory. I think I have trouble with the swing and stance phase control.


Hi `@David Mansolino` ,Thank you so much for your kind help! I would try this later.

##### David Mansolino [cyberbotics] 08/09/2019 07:01:44
Hi `@Yang Chen`, these coefficient where found empirically. An easy way to thune them is tu use numerical optimization methods: [https://cyberbotics.com/doc/guide/using-numerical-optimization-methods](https://cyberbotics.com/doc/guide/using-numerical-optimization-methods)

##### Yang Chen 08/08/2019 21:44:51
Can you refer me some links ?  Thank you!


I am wondering how can I  caculate  the gait funcion's parameter of mantis?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/609139750770704396/unknown.png)
%end


Hello, is there someone dealing with legged-robots?

##### MariusJuston [Moderator] 08/07/2019 15:07:31
`@Olivier Michel` No problems this is not really urgent so do not really worry about it. Your work should be your priority ðŸ˜‰

##### David Mansolino [cyberbotics] 08/07/2019 15:05:17
`@NERanger` you're welcome

##### NERanger 08/07/2019 15:04:56
`@David Mansolino` `@MariusJuston` Thanks for your suggestion, I will try it.

##### Olivier Michel [cyberbotics] 08/07/2019 07:11:28
`@MariusJuston`: Sorry I had no time so far to look into the PyCharm issue and I won't be able to do it today as I am still very busy.

##### MariusJuston [Moderator] 08/06/2019 02:30:11
No problems! Good luck!

##### Yang Chen 08/06/2019 02:29:32
`@MariusJuston` Thank you so much for your kind suggestion. Sorry reply you late. Recently I am focusing on and would focus on another task. These like multiple lines run. Definitely I would try your idea later.

##### MariusJuston [Moderator] 08/05/2019 14:43:24
`@David Mansolino` I completely understand, I will thus wait for the end of the week when he comes back.

##### David Mansolino [cyberbotics] 08/05/2019 06:23:24
Another alternative that doesn't require to change the hierarchy of your vehicle is to use indeed a physic plugin, and in the `webots_physics_collide` callback ([https://cyberbotics.com/doc/reference/callback-functions](https://cyberbotics.com/doc/reference/callback-functions)) create a contact joint and attach a joint feedback to retrieve the force at the contact point ([http://ode.org/wiki/index.php?title=Manual#Joint\_feedback](http://ode.org/wiki/index.php?title=Manual#Joint_feedback)).


`@NERanger` , the solution with touch-sensors that `@MariusJuston` suggested is indeed a good solution, you just need to change the wheels of your vehicles to a TouchSensor node instead of a Solid node and set the 'type' field to "force-3d"


> `@Olivier Michel` I do not know if you remember but previously I was trying to get Webots to run through PyCharm; however, the program stopped at the import statement because it had a ImportError: DLL load failed error. You tried to help me; however we did not manage to solve the issue even though I had all the environmental variables setup. You said that you were going to try it on PyCharm; however you were on your trip to China so you had to do it later. I was wondering if you had tried?



`@MariusJuston`, unfortunately `@omichel` was very very busy last week and he is now on holiday, but he will probably try when he will be back at the end of the week (do not hesitate to re-ask him ðŸ˜‰ )

##### MariusJuston [Moderator] 08/04/2019 19:35:02
`@NERanger`  I do not know if you know but  [https://cyberbotics.com/doc/reference/touchsensor](https://cyberbotics.com/doc/reference/touchsensor) has a force mode that can allow it to measure force or touch


The problem is probably the scaling I said inside the video Webots only takes in meters, so if you export your file in inches or mm you will see your model, when imported into Blender being way too large. To fix this either you can export your solid work file directly in the correct units (meters) which is the easiest way of doing it (I have no real idea as to how you would do it in Solidwords because I do not have it). Or you can, when you are exporting the file using blender, when you are asked where to save the file, on the left you can see a scale text bar, make it so that it return current units to meter scale. i.e if it was in inches it would be (1 m /39.3701 inches)  or 0.0254


`@Yang Chen` sorry about that. So when you imported the file as into blender did it show up as being huge?

##### Yang Chen 08/03/2019 15:30:37
I am wondering do you face up with these kind of situation befor? I plan to try the transform and unit you teach us in your vedio. As I my  Solidework 3D model  is finished by my partner.  Maybe I need to communicate with him about these problem to find out the reason. And can you give me some suggestion?


While I face up with a problem about the scale and coordinates,when imported it in Webots. I am not sure if it is due to the  Solidework 3D model ,  as I see you introduce we need transform function in Blenders in your vedio.


Thank you for kind share!

##### MariusJuston [Moderator] 08/03/2019 15:23:37
No problems glad I was able to help!

##### Yang Chen 08/03/2019 15:23:09
Hi `@MariusJuston`,  your Youtube Video are very helpful and clear! As I use the Solidework 3D model - your method is also useful!

##### NERanger 08/02/2019 15:04:01
I am running a simulatoin for a 4WD tractor, how can I get the support force from the ground to the wheel? The return value of function "dBodyGetForce" is only valid until any changes are made, but there is no need to add any force, I only want to check the support force. Can anyone help me out plz ðŸ˜ƒ

##### MariusJuston [Moderator] 08/01/2019 16:10:10
`@Olivier Michel` I do not know if you remember but previously I was trying to get Webots to run through PyCharm; however, the program stopped at the import statement because it had a `ImportError: DLL load failed error`. You tried to help me; however we did not manage to solve the issue even though I had all the environmental variables setup. You said that you were going to try it on PyCharm; however you were on your trip to China so you had to do it later. I was wondering if you had tried?


Blender 2.7* has an VRML97 (*.wrl) exporter by default


`@Fabien Rohrer` Actually I think that we do not use your Webots addon due to the fact that it does not actually export a *.wrl but a *.wrt

##### Fabien Rohrer [Moderator] 08/01/2019 07:39:52
`@MariusJuston` thatâ€™s awesome! Iâ€™m happy to see the Blender addon is used ðŸ˜„

##### Yang Chen 08/01/2019 02:50:41
`@MariusJuston`  Sorry that reply to now. Thank you so much! I will try later.

##### MariusJuston [Moderator] 08/01/2019 00:39:18
`@Yang Chen` Here is the video [https://youtu.be/L0FVsFD2rS4](https://youtu.be/L0FVsFD2rS4)

##### Yang Chen 07/31/2019 22:06:40
ðŸ‘


Ok. I get it.

##### MariusJuston [Moderator] 07/31/2019 22:02:29
No it will probably just take me around 2-3 hours to setup everything up and doing the video

##### Yang Chen 07/31/2019 22:02:02
Is it your dinner time now?


You are so efficient! I definitely should learn from you.

##### MariusJuston [Moderator] 07/31/2019 22:00:34
I will probably have the video in something like 2-3 hours

##### Yang Chen 07/31/2019 21:59:52
ðŸ˜€


I think so.

##### MariusJuston [Moderator] 07/31/2019 21:57:32
This I you called?


ðŸ‘¼

##### Yang Chen 07/31/2019 21:56:33
Are you an angel? I mean you are so so kind.

##### MariusJuston [Moderator] 07/31/2019 21:54:06
I will show you how to do it in the video, if you want

##### Yang Chen 07/31/2019 21:53:46
Thank you so much! the version that is convenient for you  is ok for me.  Then I can setup the same one as you.

##### MariusJuston [Moderator] 07/31/2019 21:51:23
I was using 2.79, I believe. Do not worry about it I will show you in the video everything

##### Yang Chen 07/31/2019 21:50:41
which version are you using now?

##### MariusJuston [Moderator] 07/31/2019 21:47:55
No problems it should not take very long, which version of Blender do you have? Blender just updated to 2.80 and it seems that the Export to .wrl that `@Fabien Rohrer` created no longer appears...

##### Yang Chen 07/31/2019 21:46:54
You are so nice! I am very willing to see your video, if it is convenient for you.

##### MariusJuston [Moderator] 07/31/2019 21:44:15
If you want I can create a video of me converting the CAD model of the robot into a Webots model? (I only have Autodesk Inventor though)

##### Yang Chen 07/31/2019 21:44:02
Can you give me some suggestion , website etc. ?


I am planning to do it  in the near future.


by using Blender

##### MariusJuston [Moderator] 07/31/2019 21:42:00
Did you manage?

##### Yang Chen 07/31/2019 21:41:34
I mean the  CAD model of the  hixapod robot into Webots

##### MariusJuston [Moderator] 07/31/2019 21:41:09
No problems

##### Yang Chen 07/31/2019 21:40:59
I would do this too, and thank you again for your kind instruction before.

##### MariusJuston [Moderator] 07/31/2019 21:40:34
We were able to make the robot move to and from positions using inverse kinematics, etc... Sorry I do not know how far into detail I can go with this.

##### Yang Chen 07/31/2019 21:39:44
and then?

##### MariusJuston [Moderator] 07/31/2019 21:39:04
We managed to convert the CAD model of the industrial robot into Webots


It involved using an industrial robot Fanuc M-710iC

##### Yang Chen 07/31/2019 21:36:58
What is  your project  with Webots?

##### MariusJuston [Moderator] 07/31/2019 21:36:35
Thanks

##### Yang Chen 07/31/2019 21:35:34
Congratulations!

##### MariusJuston [Moderator] 07/31/2019 21:32:57
No, I just joined Discord like a month ago because I had a question about Webots and after working with Webots, learning about it for a month and helping people I managed to become a Moderator ðŸ˜‰

##### Yang Chen 07/31/2019 21:32:57

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/606237895933558786/unknown.png)
%end


`@Fabien Rohrer` could you teach us  the  Mantis controller function here.


Yep. I see you are moderator. Are you belongs to  cyberbotics?

##### MariusJuston [Moderator] 07/31/2019 21:28:16
Wow it really is impressive how it requires so little code to it make look so complex!


Actually yes it does do the tripod gait in that video


I do not believe that it does just that but something similar, but do not quote me on that


Oh, I did not know Webots had already implemented this, like me follow along with you. What is the tripod gait?

##### Yang Chen 07/31/2019 21:19:43

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/606234564074930206/unknown.png)
%end


Yep. Does this controller  realize the tripod gait on this vedio

##### MariusJuston [Moderator] 07/31/2019 21:14:13
So I am assuming that you are the one that define the a, p and d arrays and f constant so you just have to change those values

##### Yang Chen 07/31/2019 21:12:52
Thank you ! this is really clear.  So how do you adjust or choose the amplitude, phase, offset

##### MariusJuston [Moderator] 07/31/2019 21:11:35
the a[i] is the amplitude of the motion, the 2 PI f is the frequency and p[i] is the phase shift


[https://stackoverflow.com/questions/15231466/whats-the-difference-between-pi-and-m-pi-in-objc](https://stackoverflow.com/questions/15231466/whats-the-difference-between-pi-and-m-pi-in-objc)


Oh that is the the PI constant so that is equivalent to 3.14....

##### Yang Chen 07/31/2019 21:06:42
Then, could you tell me the meaning of "M\_PI" in this fuction


Of course, I agree with you. And Central Pattern Generator can realize it. So ...

##### MariusJuston [Moderator] 07/31/2019 21:04:20
To be honest I am not very versed in what the Central Pattern Generator is, but I am assuming that is to make it so that that the robot always has enough points of contact to the ground in order to stay stable and still allows the robot to move forwards.

##### Yang Chen 07/31/2019 21:02:25
Can you explain why should we use this function? Does it relate to Central Pattern Generator?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/606229921005830214/unknown.png)
%end


`@MariusJuston` Hi , welcome party.  it begins. I am studying the Mantis now, while the controller is using this function to control the motor's position.

##### MariusJuston [Moderator] 07/31/2019 18:42:17
`@Yang Chen` sorry being late for the party but on the topic of adding CADed models to Webots what you can is that you can export your CAD as a .obj or an .stl (make sure the scaling is set to meters) then open blender, import the .stl or .obj, then install the adding that `@Fabien Rohrer` made. After importing be sure that the orientation of the object is correct to make sure, to change it select the model and the the plus button the right, that will open up a window where you can select set the orientation. Using the Addin you can the press the export button and then export to a .wbl file not a .wbt

##### Yang Chen 07/31/2019 17:05:08
Thank you ðŸ˜€ ! I will try. And if it is needed, I will contact sales@cyberbotics.com.

##### Fabien Rohrer [Moderator] 07/31/2019 16:43:33
[https://www.cyberbotics.com/doc/reference/contactproperties](https://www.cyberbotics.com/doc/reference/contactproperties)


Did you tried to play with ContactProperties.softERP/CFM? Thatâ€™s the key to set the shrink depth.

##### Yang Chen 07/31/2019 16:09:22
`@Fabien Rohrer` While the problem is that the I can not  define or set up precisely at which depth the robot shrinks, as this is what I plan to export or obtain from Webots.  And are there any idea about it?


Get it!  Thank you so much for your kind help and professional instruction!  And Webots are really good!

##### Fabien Rohrer [Moderator] 07/31/2019 15:45:44
For sure it's not a perfect deformation simulation, but it gives already a good approximation.


You should be able to define precisely at which depth the robot shrinks.


.. and then play with the ContactProperties.softERP and ContactProperties.softCFM (for the contact between the feet and the sand only).


To do that, first fix the WorldInfo.basicTimeStep (I would say something like 8 ms)


At least, you can set up precisely how the robot feet penetrate the ground.


About the sandy environment, you can model this quite precisely I think.


You could contact sales@cyberbotics.com with precise robot specs to have a quote if you would like to go on. I think such kind of robot could be done in about 1 week of development.

##### Yang Chen 07/31/2019 15:39:09
I mean my teacher.


And the budget depends on my advisor.


Really a good idea! ðŸ˜€  I learned the tutorials, and built a simple hexapod robot.


Also, how do you ( specialist) in webots  deal with the sandy properties environtment? I saw the contact properties setting. I am wondering can it realize the real scene in our real world that when a robot is walking in beach while the mutual impact bettween sand and robot's feet influence both the state of sand and robot, like the particle dynamics.

##### Fabien Rohrer [Moderator] 07/31/2019 15:35:02
personnally, I would go for the solution to rewrite it from scratch using the Webots primitives, and to copy the mantis controller.


Downscaling a robot may be tricky.


Feel free to choose your best solution ðŸ˜ƒ

##### Yang Chen 07/31/2019 15:28:56
Thank you! The hexiapod robot in your samples is really amazing and it could be control by human being ! I need a small one, about 0.5m l,  0.5m w and 0.3m h for robots' whole size and the shape should be like my physical robot.   Can I revise yours based on my physical robot?

##### Fabien Rohrer [Moderator] 07/31/2019 15:06:34
I have also to mention that we can model this for you if you have some budget for this.


[https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)


I think that you can already go far using Webots only. I recommend you to do our tutorial, you will learn there how to create a robot with Webots basic geometric primitives:


.. and your robot is close to this robot look, size and hardware: [https://cyberbotics.com/doc/guide/bioloid](https://cyberbotics.com/doc/guide/bioloid)


We have an hexapod model here: [https://cyberbotics.com/doc/guide/mantis](https://cyberbotics.com/doc/guide/mantis)


Yes, for sure. We have several legged-robots, and most of the time, we modeled their meshes and materials in Blender before migrating to Webots for the physics and robotics simulation.

##### Yang Chen 07/31/2019 15:01:48
Is it ok for me to realize it?


the thing is I want to build hexapod robots like those in pictures, and then simulate hexapod robots walking in beach which contains sandy properties by Webots.



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/606139068383756289/unknown.png)
%end


As you are familiar with Blender combined with our Webots, could you tell me can Blender build hexapod robots,like those in the picture.

##### Fabien Rohrer [Moderator] 07/31/2019 14:55:03
SolidWorks and other CADs are generally exporting very big meshes, hardly usable directly in Webots. Moreover, physics data (joints, etc.) are lost in this operation. Therefore, using Blender inbetween is for sure the simplest solution.

##### Yang Chen 07/31/2019 14:53:46
`@Fabien Rohrer` Thank you for your kind help and so many materials provided! ðŸ‘


While it is worthy of it, maybe it is useful and can save time in  long run. In addition, does Solidworks and CAD make sense?

##### Fabien Rohrer [Moderator] 07/31/2019 14:52:01
[https://cyberbotics.com/doc/guide/samples-geometries#geometric\_primitives-wbt](https://cyberbotics.com/doc/guide/samples-geometries#geometric_primitives-wbt)


You could also simply work with basic primitives:


.. but this requires to have skills in Blender and modeling unfortunately.


I wrote a Blender add-on to export Webots objects: [https://github.com/omichel/blender-webots-exporter](https://github.com/omichel/blender-webots-exporter)


We used to work with 3D modeling software, especially Blender


To be honest Webots is not very good to create meshes.

##### Yang Chen 07/31/2019 14:47:57
in the Animated Skin sample, [https://github.com/omichel/webots/blob/master/projects/samples/rendering/worlds/animated\_skin.wbt](https://github.com/omichel/webots/blob/master/projects/samples/rendering/worlds/animated_skin.wbt), Line 186. there are so many points. How can I create it in my tree or nodes more convinient?
%figure
![C9EH8UGVWVQQX.png](https://cdn.discordapp.com/attachments/565154703139405824/606135971339304960/C9EH8UGVWVQQX.png)
%end


ðŸ‘ while I am wondering about this one

##### MariusJuston [Moderator] 07/31/2019 14:35:55
`@Yang Chen` No problems!

##### Yang Chen 07/31/2019 14:31:40
Hi, `@MariusJuston` , thank you for kind help! And give me suggestion in detail.

##### Huey 07/31/2019 12:16:33
Oh splendid! Thanks so much for sharing these `@MariusJuston`,  `@Fabien Rohrer`, earlier i was abt confused with the DEF use, as i dont always find the DEF i created, but will sure to take a second look on the documentation and other methods you have mentioned! Double thumbs up to you guys ðŸ‘  ðŸ‘

##### Fabien Rohrer [Moderator] 07/31/2019 12:09:50
You can even be more concise using the procedural templates. Look at the SimpleStair example here: [https://www.cyberbotics.com/doc/reference/procedural-proto-nodes#example](https://www.cyberbotics.com/doc/reference/procedural-proto-nodes#example)


Solid {

  translation 0 0 0

  name "solid 1"

  children [

    Shape DEF MY\_SHAPE {

      appearance PBRAppearance {}

      geometry Box {}

    }

  ]

  boundingObject USE MY\_SHAPE

  physics DEF MY\_PHYSICS Physics {}

}

Solid {

  translation 0 0 1

  name "solid 2"

  children [

    Shape USE MY\_SHAPE

  ]

  boundingObject USE MY\_SHAPE

  physics USE MY\_PHYSICS

}

Solid {

  translation 0 0 2

  name "solid 3"

  children [

    Shape USE MY\_SHAPE

  ]

  boundingObject USE MY\_SHAPE

  physics USE MY\_PHYSICS

}


It's better to avoid to put solids in transforms, but a pattern could be:

##### MariusJuston [Moderator] 07/31/2019 12:04:21
`@Huey` if you keep the base solid node and then create a bunch of Transforms, then in the each of the transforms use the DEF and USE method to have it so that the solid is not duplicated and just reused and translated to different place. Maybe, I do not remember if transforms can handle solids

##### Fabien Rohrer [Moderator] 07/31/2019 12:01:52
- proto can be contain LUA scripts (containing for example for loops): [https://www.cyberbotics.com/doc/reference/procedural-proto-nodes](https://www.cyberbotics.com/doc/reference/procedural-proto-nodes)


- the DEF-USE mechanism allows to duplicate a node within some context (in a .wbt file, or in a .proto file): [https://www.cyberbotics.com/doc/reference/def-and-use](https://www.cyberbotics.com/doc/reference/def-and-use)


Not sure if this helps, but there are several ways to avoid duplicating nodes:

##### MariusJuston [Moderator] 07/31/2019 11:59:02
Using the export/import method I believe that it will just create a replica

##### Huey 07/31/2019 11:54:35
Hi `@MariusJuston`  i find your reply to yang chen relevant to a problem i may have too. I am working on a decentralize system, and currently creating a small and abstract experiment on number of homogeneous robots to collaborate on a task. I use 'solid' to represent 'obstacle' needs to be cleared. And when i have too many of those (video), webot would tell me that the 'complicated world' might affect accuracy of calculation.



May i know using the export/import method, does it create a replica/will it reference a link to the source? Thank you
> **Attachment**: [compare\_single\_and\_double\_agent.mp4](https://cdn.discordapp.com/attachments/565154703139405824/606092345280299028/compare_single_and_double_agent.mp4)

##### MariusJuston [Moderator] 07/31/2019 04:31:20
`@Yang Chen` Sorry for the delay. A simple way to do all this, if you want to just reuse the same GROUND shape is to Export that Shape/Solid. To do this you can left click the Shape/Solid and then select the Export button, this will save the information to a .wbo, to re import this .wbo you can just press the Add button and the press Import (bottom right corner ), find your .wbo and you should see the Shape/Solid appear in the tree directory. If you want to move it around you can `Ctrl + X` (Cut) and then `Ctrl + V` (Paste) it in the location you want it to be; however, please be aware that you cannot place a Shape/Solid everywhere so if `Ctrl + V` fails you can probably assume that that is the reason.  



If you just want to copy the coordinates, you can select, the `point` field in the tree view and then `Ctrl + C` it, if you want to verify that it copied, you can open up notepad and the paste your clipboard there, if there is text then you are good. Once you have copied the points you can go to your new `Coordinate` node, select the point node and the press the delete button on your keyboard, all the points in the `point` should disappear, select `point` and then press `Ctrl + V`. You should see all the points that you copied appear in the `point` field

##### Yang Chen 07/30/2019 17:58:18
Hi  MariusJuston, thank you for your kind help. I am wondering do you mean copy one cord and paste it one by one? My question seems so absurd and easy. The reason why I am asking it is if we copy every coor and paste it on nodes like the above picture I showed you, it will be a little time consuming and easy to make mistakes. So I am wondering if I am wrong, maybe there exists other methods that I do not know.

##### MariusJuston [Moderator] 07/30/2019 17:51:09
And then you can paste is somewhere else


Click and then press CTRl c on the cord def

##### Yang Chen 07/30/2019 17:49:52
Do you mean copying and pasting them like this?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/605819367380353048/unknown.png)
%end

##### MariusJuston [Moderator] 07/30/2019 17:35:07
You can  just copy the index face set and then paste

##### Yang Chen 07/30/2019 17:33:46
Yes, that is what I am considering now. I saw the moon DEMO of Wevots and try to see if it can mimic the real moon contact properties when mimic  robots is moving on moon.    While "texCoord TextureCoordinate {

      point [ "    of    " the geometry IndexedFaceSet {

    coord DEF coord\_Plane Coordinate"     in the "moon.wbt " , there are so many cordinates, I am wondering is there other ways to input the cordinates instead  of  printing it in nodes.


Thank you so much! I will try and learn soon.

##### MariusJuston [Moderator] 07/30/2019 17:29:06
[https://cyberbotics.com/doc/guide/bb8](https://cyberbotics.com/doc/guide/bb8)


Maybe look at the bb 8 example


That is harder I do not know if Webots can do it, I believe that there are ways to change the surface in the contact surface property field

##### Yang Chen 07/30/2019 17:23:18
Sandy properties. Like robot is  walking in beach.

##### MariusJuston [Moderator] 07/30/2019 17:22:05
Like do you mean having sandy properties or just looks like sand?

##### Yang Chen 07/30/2019 17:20:28
Hello is there someone who simulate robots walking in sandy environment? Thank you!

##### David Mansolino [cyberbotics] 07/30/2019 15:36:01
Very good news, thank you for the feedback. Indeed you probably need to write a ROS node instead of using the command line.

##### Marcey 07/30/2019 14:49:05
Ah ok, I finally was successfull ðŸ˜ƒ Thank you! My problem was to transfer the information in the supervisor API into a correct command line. 



Today I also learned that using the terminal to change the position is propably not practical because node handle and field handle change every time webots is restarted. I'll try to find an other way

##### David Mansolino [cyberbotics] 07/30/2019 13:42:26
Probably before trying to use Supervisor Services you should get familiar with the Supervisor API, I would strongly recommend to read the Supervisor documentation: [https://cyberbotics.com/doc/reference/supervisor](https://cyberbotics.com/doc/reference/supervisor)

And have a look at this example (including the code): [https://cyberbotics.com/doc/guide/samples-devices#supervisor-wbt](https://cyberbotics.com/doc/guide/samples-devices#supervisor-wbt)


You first need to get the node id: [https://cyberbotics.com/doc/reference/supervisor?tab=ros#wb\_supervisor\_node\_get\_from\_def](https://cyberbotics.com/doc/reference/supervisor?tab=ros#wb_supervisor_node_get_from_def)

##### Marcey 07/30/2019 13:34:21
hm, for this service I need a value of the 'node'. How do I get that? "rosservice call /mybot/supervisor/node/get\_field 0 translation" crashes my controller. And does the ID of the field always stay the same or does ist change?

##### David Mansolino [cyberbotics] 07/30/2019 13:11:34
`@Marcey` , index does not really matter if you want to change the translation field (just set it to 0) and 'field' is the id of the field (you can get it with the '/supervisor/node/get\_field' function/service: [https://cyberbotics.com/doc/reference/supervisor?tab=ros#wb\_supervisor\_node\_get\_field](https://cyberbotics.com/doc/reference/supervisor?tab=ros#wb_supervisor_node_get_field))

##### Marcey 07/30/2019 13:08:33
`@David Mansolino` thanks, so it says:

"uint64 field

int32 index

geometry\_msgs/Vector3 value" 

How do I translate this to a correct command line in the terminal? What are my values for field and index?

##### David Mansolino [cyberbotics] 07/30/2019 12:56:07
`@Huey` that seems indeed a very good explanation. thank you for the feedback!

##### Huey 07/30/2019 12:55:20
thanks again  `@David Mansolino` , i gave a look on the documentation on touch sensor again to investigate the weird reading my robot is getting, and i realize that my coordinate z was not pointing towards the solid object, hence, when the robot is no longer pushing ahead further, the reading become 0. my bad.

##### David Mansolino [cyberbotics] 07/30/2019 12:55:01
And in the supervisor doeumentation: [https://cyberbotics.com/doc/reference/supervisor?tab=ros#wb\_supervisor\_field\_set\_sf\_vec3f](https://cyberbotics.com/doc/reference/supervisor?tab=ros#wb_supervisor_field_set_sf_vec3f)


Hi `@Marcey`, you can find a complete list of the service type here: [http://docs.ros.org/melodic/api/webots\_ros/html/index-msg.html](http://docs.ros.org/melodic/api/webots_ros/html/index-msg.html)

##### Marcey 07/30/2019 12:53:03
Hello everybody, I have question: I am using Webots with ROS but I am new to both of them. I want to use the supervisor function to change the translation of my robot using the terminal. I believe it should work with "rosservice call /mybot/supervisor/field/set\_vec3f [service-args]" but I'm struggeling with the service-arguments. Can you help me with that? Or is this a completly wrong way? ðŸ˜„

##### Berethore 07/30/2019 09:56:11
Ok just forget that, was a dumb question, i could answer it myself (what i actually did). Thanks for all your information. Webots is a very great environment and you are doing a great work with it and with the community ðŸ˜ƒ

##### Fabien Rohrer [Moderator] 07/30/2019 09:51:10
No sure to understand... Webots launches its controllers as child processes. Webots can be launched from the terminal.

##### Berethore 07/30/2019 09:49:01
Can't we just open the controller from webots ? We have to run it from terminal ?

##### Fabien Rohrer [Moderator] 07/30/2019 09:48:07
haha, no problems, you're welcome

##### Berethore 07/30/2019 09:46:44
That was only a librairies problem.. Damn, i'm sure what i did before would have worked too.... He can't load shared libraries libController.so

##### Fabien Rohrer [Moderator] 07/30/2019 09:44:17
Great, nice to read this!

##### Berethore 07/30/2019 09:43:10
Ok i got it, the problem is about my way to launch the controller i think

##### Fabien Rohrer [Moderator] 07/30/2019 09:42:08
let me check in another example..


maybe except the box is a Robot and the type is passive..


the connector.wbt example mentionned above works with these parameters.


It seems very correct to me.

##### Berethore 07/30/2019 09:40:13
Here is my Connector fields. (Same for the connector on the robot but with type = active) :
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/605696143124463805/unknown.png)
%end


But still , the box just fall


I did that. I added magnetic to the field model for both connector, same for the autoLock at True. I changed isLocked to be False (want to try to lock it with the controller). And then i wrote this in my controller :
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/605695662482259968/unknown.png)
%end

##### Fabien Rohrer [Moderator] 07/30/2019 09:34:59
Once this is done, you should explicitly call the wb\_connector\_lock() function to lock the Connector.


(other fields are implicitly set to their default values)


Connector {

  model "magnetic"

  autoLock TRUE

}


The fields to set are:


[https://cyberbotics.com/doc/guide/samples-devices#connector-wbt](https://cyberbotics.com/doc/guide/samples-devices#connector-wbt)


you could refer to this example:


Connectors which can be lock/unlock programatically needs slightly different fields.

##### Berethore 07/30/2019 09:27:44
Hi again `@Fabien Rohrer` , don't want to bother you, but when i'm looking at your example, i have some questions :



 - How can I control the connector ? I made a new controller in your world, got the device, used the enable\_presence fonction and tried to unlock with the fonction in the loop. But nothing happenned.



- Same thing when i just put the isLocked boolean false, the box still is connected to the robot. Is it normal ?



- I would like to know if there are many things to change to get symetric connector, or if it's juste the type to change ?

##### David Mansolino [cyberbotics] 07/30/2019 07:45:14
`@Huey`, you can define the response of the sensor in its lookup table ([https://cyberbotics.com/doc/reference/touchsensor](https://cyberbotics.com/doc/reference/touchsensor)) in any case make sure that the robot is still pushing agains the obstacle (you can for example verify that there are still some contact points using the view menu: [https://cyberbotics.com/doc/guide/the-user-interface#view-menu](https://cyberbotics.com/doc/guide/the-user-interface#view-menu) )

##### Berethore 07/30/2019 07:41:02
Ok thanks ðŸ˜ƒ

##### Fabien Rohrer [Moderator] 07/30/2019 07:39:18
Don't hesitate to come back later if it's not the case ðŸ˜‰

##### Berethore 07/30/2019 07:38:57
Ok thanks a lot ! I think i can solve my issue with all your information now yes ! Thanks again ðŸ˜ƒ

##### Huey 07/30/2019 07:38:33
Another question, may i know why when the robot pushes against something very heavy, the reading falls flat (0.0) again?
> **Attachment**: [output1.mp4](https://cdn.discordapp.com/attachments/565154703139405824/605665524436697099/output1.mp4)

##### Fabien Rohrer [Moderator] 07/30/2019 07:38:04
You have certainly all what you need to solve your issue now (?)


- you can display the connector axis in View / Optional Rendering / Show Connector Axes

##### Huey 07/30/2019 07:37:22
Good to know. Thanks `@David Mansolino` for helping to solve this problem ðŸ˜„

##### Fabien Rohrer [Moderator] 07/30/2019 07:36:58
- the distanceTolerance may be increased to be sure you are in the correct threshold


- it is required to have a Solid parent with physics and bounding object in the each parents of the connectors


You should pay attention to:


Arm connector:



Connector {

  locked TRUE

  type "active"

  isLocked TRUE

  autoLock TRUE

}





Solid connector:



Connector {

  type "passive"

}


I set the connectors like this:



> **Attachment**: [inverse\_kinematics.wbt](https://cdn.discordapp.com/attachments/565154703139405824/605664556521488394/inverse_kinematics.wbt)


Here is the world:



%figure
![connector.png](https://cdn.discordapp.com/attachments/565154703139405824/605664462027882496/connector.png)
%end


I tried to do that on an ABB arm:

##### Berethore 07/30/2019 07:33:44
So do I !

##### Fabien Rohrer [Moderator] 07/30/2019 07:33:04
`@Berethore` Here I am ðŸ˜ƒ

##### David Mansolino [cyberbotics] 07/30/2019 07:09:51
`@Huey`, that's normal the force sensor meseaure external forces applied to the object, the mass/size of the object itself doesn't matter, try pushing your robot against a wall/obstacle in that case you will see the value increasing.

##### Berethore 07/30/2019 07:09:19
Ok, that's very nice, thank you.

##### Fabien Rohrer [Moderator] 07/30/2019 07:09:01
`@Berethore` I'm trying to do an example of this.


yes, indeed, it's a good starting point. let me check something..

##### Berethore 07/30/2019 07:03:40
But if i can just make it working at step 0, it could be a good point


For a preliminary test, yes. But the final goal is to grasp object with specific interface

##### Huey 07/30/2019 07:02:30
oh.. that s why. Thanks so much `@David Mansolino`, it looks like it s working, however, it seems like im only getting negligible readings in the beginning, so i thought maybe the box too 'light', I increase the size (mass), and im still getting 0.0, is it bcz the robot itself is too small?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/605656450844327950/unknown.png)
%end

##### Fabien Rohrer [Moderator] 07/30/2019 07:02:09
i.e. at the beginning of the simulation?


What do you want to achieve exactly? To automatically snap the objects at step 0?


Ok, that's a good step.

##### Berethore 07/30/2019 07:01:06
Ok my axis match but still nothing.

##### Fabien Rohrer [Moderator] 07/30/2019 06:59:09
We could look at the parameters together when we are sure this is correct..


Could you check/fix this first?


and the y axis should match


the positive z-axis of the connectors should face each other

##### Berethore 07/30/2019 06:57:05
Ooh.. Maybe is it a problem about axis


I'm trying to align them perfectly while the simulation isn't running to see if it's working, but when i run again the simulation after that, still nothing

##### Fabien Rohrer [Moderator] 07/30/2019 06:56:43
Please look at this figure: [https://cyberbotics.com/doc/reference/connector#connector-axis-system](https://cyberbotics.com/doc/reference/connector#connector-axis-system)


The alignment may be a source of issue, it's certainly the first thing to check.


And set their fields correctly.


You need to align them correctly.


Basically, you need to add a Connector in the arm end effector, and in your object.


Hi, yes sure.

##### Berethore 07/30/2019 06:53:51
Hi every body. I have some issues with connector... I'm trying to use your Connector interface. I'm taking the exemple you provide in Webots. But i'm trying to connect a robotic arm to a random object (a box here), nothing happenned. I put the code in my controller, i have the autoLock at True, et the model is the same for both connector... I have no idea what's wrong.. Can i have your help pls ?

##### David Mansolino [cyberbotics] 07/30/2019 06:50:30
```java
  public void run2()
  {
    while(this.step(TIME_STEP)!=1)
    {    
      tForce=ts.getValue();
      System.out.println(" "+tForce);      
    
      double leftSpeed=1.0;
      double rightSpeed=1.0;
      
      if (tForce>0)
      {
        leftSpeed = -2.0;
        rightSpeed= -2.0;
      }
      wheels[0].setVelocity(leftSpeed);
      wheels[1].setVelocity(rightSpeed);    
    }
  }
```


Thank you for the file. The problem is that you are getting the value of the touch-sensor at the first step only, you should move the line `tForce=ts.getValue();` in the while loop, just before the print:

##### Huey 07/30/2019 06:44:37
Sure. Here is the code
> **Attachment**: [TwoWheelsAgent.java](https://cdn.discordapp.com/attachments/565154703139405824/605651952424058912/TwoWheelsAgent.java)

##### David Mansolino [cyberbotics] 07/30/2019 06:38:58
Hi `@Huey`, did you enable the sensor? Can you share the whole code of the controller (we can't see the part where you are enabling the sensors and getting the value in your screenshot)?

##### Huey 07/30/2019 06:35:45
Morning sunshine! 



I added a touch sensor to the robot, change the type to 'force'. During the simulation, seems like it is at constant 0 (or NaN) , is there something im missing here?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/605649718546268160/unknown.png)
%end

##### MariusJuston [Moderator] 07/29/2019 21:28:08
No problems!!

##### Huey 07/29/2019 21:27:51
Brilliant!!!!! Thank you so much :))))))

##### MariusJuston [Moderator] 07/29/2019 21:26:56
in your while statement it has to be `robot.step(TIME_STEP) != -1`

##### Huey 07/29/2019 21:25:14
I tried both methods, somehow both came up with this error messages
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/605511175521959976/unknown.png)
%end

##### MariusJuston [Moderator] 07/29/2019 21:15:32
Or instead of removing `extends Robot` you can remove the `Robot robot = new Robot();` and then remove all instances off `robot.SOMETHING` and replace it with `this.SOMETHING` or just `SOMETHING`, either of the options would work


Save and build the controller and it should work


It is a code issue. Please remove the `extends Robot`


Oh wait I know the issue


Yes

##### Huey 07/29/2019 21:11:07
not sure if i understand refresh correctly, do you mean save the controller file and build(F7)?

##### MariusJuston [Moderator] 07/29/2019 21:09:53
Did you refresh the jar?

##### Huey 07/29/2019 21:09:31
oh of course, my apology
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/605507220154613791/unknown.png)
%end

##### MariusJuston [Moderator] 07/29/2019 21:08:34
Can you open up the robot node please , and please verify that it is pointing to the correct controller

##### Huey 07/29/2019 21:07:56
The robot node in scene tree
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/605506822131941376/unknown.png)
%end

##### MariusJuston [Moderator] 07/29/2019 21:07:36
The code looks good


Hmm... can you show me the robot in the tree view please

##### Huey 07/29/2019 20:53:08
So i wonder what is it that im getting wrong here?


The code 'build' successfully, however, i got this error message
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/605500635491598379/unknown.png)
%end


Hi, i created a two wheels robot base on this tutorial. 



[https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot?tab=java](https://cyberbotics.com/doc/guide/tutorial-6-4-wheels-robot?tab=java)



As i was hoping to test out different function which the robot can test run on. So i modified the structure a little bit, hoping it would work.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/605500470013853772/unknown.png)
%end

##### Stefania Pedrazzi [cyberbotics] 07/29/2019 11:36:03
`@Deleted User` note that what you have now it is a generic programming issue not depending on Webots. You have all the resources needed to execute the Webots commands and move the robot. You just have to structure your code correctly. To write Webots controller programs it is requried to have some programming knowledge. If you struggle with it you may also consider following some programming tutorials.

##### Deleted User 07/29/2019 10:48:18
`@Fabien Rohrer` sir please guide me.

how can i add more motions in the code you have sent me



actually when i am doing it is taking one command only.



now as stefania sir guided 



it is working but now it is working as i send the above message


`@Stefania Pedrazzi`


it is working sir



but now one problem arises

when I am pressing the forward motion after that only the turn left command is working and it is working for the single time only

and if i need to turn it more i have to first go forward then only turning command is working

##### Stefania Pedrazzi [cyberbotics] 07/29/2019 10:21:00
yes. from `wbu_motion_play` to `while (! wbu_motion_is_over(forwards))` you are running the forward motion. To run the turn left you have to execute the same instructions.

##### Deleted User 07/29/2019 10:19:08
so you are saying agin i have to give a while loop after   } while (! wbu\_motion\_is\_over(forwards));

##### Stefania Pedrazzi [cyberbotics] 07/29/2019 10:17:57
to turn left after going forward you have to add it just after the `do..while`. 

But I strongly suggest you to try to understand your code and play with it by moving the instructions at different position in the code and see what happens.

##### Deleted User 07/29/2019 10:14:39
here i have given wbu motion is over command for forward motion



where should i add the turn left command


while (true) {

    // Wait until the Up key is pushed

    printf("Select the robot and press the up button go forward\n");

    while (wb\_robot\_step(time\_step) != -1) {

      if (wb\_keyboard\_get\_key() == WB\_KEYBOARD\_UP)

        break; // stop waiting

    }



    // Run the simulator while the motion is not over.

    wbu\_motion\_play(forwards);  // Start the walk motion.



    do {

      double time = wb\_robot\_get\_time(); // get the simulated time in seconds.

      wb\_motor\_set\_position(RShoulderPitch, 1.2 + 0.3 * sin(-5.0 * time)); // move the elbow according to a sinusoidal function.

      wb\_motor\_set\_position(LShoulderPitch, (1.2 + 0.3 * sin(5.0 * time)));

      wb\_robot\_step(time\_step);

    } while (! wbu\_motion\_is\_over(forwards));

  }

  

  return 0;

}

##### Stefania Pedrazzi [cyberbotics] 07/29/2019 09:54:21
`@Deleted User` you have to wait until the first motion is over before starting the next one, otherwise the second motion commands will overwrite the first one.

Please look at the `wbu_motion_is_over` documentation: [https://www.cyberbotics.com/doc/reference/motion#wbu\_motion\_is\_over](https://www.cyberbotics.com/doc/reference/motion#wbu_motion_is_over)

here is also a sample controller showing how to use it: [https://github.com/omichel/webots/blob/revision/projects/robots/softbank/nao/controllers/nao\_wave\_hand/nao\_wave\_hand.c](https://github.com/omichel/webots/blob/revision/projects/robots/softbank/nao/controllers/nao_wave_hand/nao_wave_hand.c)

##### Deleted User 07/29/2019 09:42:25
i added the below code, it is not showing any error, the file compiled successfully



but when i  am putting the turn left movement above the forward movement the robot is only taking the turning left command.



and when i am putting the forward command above the turn left command it is only taking the forward command

why sir?

A
> **Attachment**: [Nao\_turn\_left.txt](https://cdn.discordapp.com/attachments/565154703139405824/605334306839330868/Nao_turn_left.txt)


`@Fabien Rohrer` 

sir, i have modified the code that you have given and now i am getting the desired action by robot. 

But i am getting one problem that when i am trying to add turn left or turn right motion in the same file.

it is taking only one command

either it is goiing forward or turning left 

why so sir??

##### Huey 07/29/2019 06:49:46
Thanks `@MariusJuston` , like you said, I added 'group' instead of 'shape' and playing with it a little bit, and slowly understand what you mean! 



and Thanks `@David Mansolino`  for pin pointing out the tutorial and documentation! They are really helpful! ðŸ™‡  I shall take a look at them

##### David Mansolino [cyberbotics] 07/29/2019 06:42:54
Note also that to prevent the robot from swaying during motion we ususally use a sphere(which can be partially 'inside' the robot) this is more efficient to simulate, and we set the ContactProperties.coulombFriction to a very low value to make the contact between the sphere and the ground frictionless ([https://www.cyberbotics.com/doc/reference/contactproperties](https://www.cyberbotics.com/doc/reference/contactproperties))


`@Huey`, `@MariusJuston` is completely right, you should use a group, please have a look at this tutorial showing something very similar: [https://cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes-15-minutes](https://cyberbotics.com/doc/guide/tutorial-5-compound-solid-and-physics-attributes-15-minutes)

##### MariusJuston [Moderator] 07/29/2019 00:17:14
Could you give more description about what the code is supposed to do, what robot there, etc... please just giving the error is not very helpful

##### siti\_raehan 07/29/2019 00:15:41
Anybody please help me
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/605191683017015362/unknown.png)
%end

##### MariusJuston [Moderator] 07/28/2019 17:54:05
You can instead of making the bounding object just a simple shape, you can make it into a group and then add as many shapes as you want

##### Huey 07/28/2019 11:31:32

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/604999377819271178/unknown.png)
%end



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/604999071568232451/unknown.png)
%end


Hi, I have a question about boundingObject. To prevent the robot from swaying during motion. 



(video)



I have added a cone shape point (touching the ground) (a polulu ball caster like device would have been ideal, but might be complex to build?)



(images)



Is it possible to set boundingObject to take more than one Shape?
> **Attachment**: [output.mp4](https://cdn.discordapp.com/attachments/565154703139405824/604999043164405762/output.mp4)

##### Deleted User 07/27/2019 13:15:13

> **Attachment**: [Nao\_turn\_left.txt](https://cdn.discordapp.com/attachments/565154703139405824/604663082391830565/Nao_turn_left.txt)


i added the below code, it is not showing any error, the file compiled successfully



but when i  am putting the turn left movement above the forward movement the robot is only taking the turning left command.



and when i am putting the forward command above the turn left command it is only taking the forward command

why sir?


`@Fabien Rohrer` 

sir, i have modified the code that you have given and now i am getting the desired action by robot. 

But i am getting one problem that when i am trying to add turn left or turn right motion in the same file.

it is taking only one command

either it is goiing forward or turning left 

why so sir??

##### Huey 07/26/2019 13:45:43
`@Fabien Rohrer`  thanks mate!

##### Fabien Rohrer [Moderator] 07/26/2019 13:37:05
PROTO nameEqualsToFileName [ field ... ]


Inside the .proto file, you need to change the name too:


the PROTO name should match with the filename.

##### Huey 07/26/2019 13:35:14
however, i did the changing filename too, but still getting this error msg: v14:36: error: Skipped unknown 'MatteGreyConcrete' node or PROTO.


your solution is much more straightforward, i wll use that


I was fidgeting with the floorAppearance and somehow got sucked into the blackhole


LOL... indeed... doi me

##### Fabien Rohrer [Moderator] 07/26/2019 13:32:52
RectangleArena.floorAppearance PBRAppearance { baseColor 1 0 0}


By the way, your solution seems quite complexe. Instead of creating a PROTO for this, you could simply use the PBRAppearance node:


Did you rename the proto name inside the MatteGreyConcrete.proto ?


It should work too.

##### Huey 07/26/2019 13:26:54
Oh i didn't, instead I put the MatteGreyConcrete.proto in the Webots\projects\appearances\protos

##### Fabien Rohrer [Moderator] 07/26/2019 13:24:57
YOUR\_PROJECT/protos/MatteGreyConcrete.proto?


This is possible, you should be close from a solution. Did you put your new file in the "protos" directory?

##### Huey 07/26/2019 13:23:38
May I asked if that's not allowed? Or any other way i could change the floor texture map into a plain color?


Hi, I try to change the RectangleArena into a plain color. So, I made a copy of the RectangleArena.proto and 'save as' a different file under my project protos folder. 



Subsequently, I created new proto file, MatteGreyConcrete.proto  in Webots\projects\appearances\protos

then change: field SFNode     floorAppearance to MatteGreyConcrete {} inside the new RectangleArena.proto file



 That s when i get the error message: /protos/RectangleArenaPlain.proto':14:36: error: Skipped unknown 'MatteGreyConcrete' node or PROTO.

##### David Mansolino [cyberbotics] 07/26/2019 07:35:51
You're welcome

##### Berethore 07/26/2019 07:35:35
Tanks for your answer anyway


But i think i will have to


Yeah thanks for your answer, i didn't look so much on it because i was in hurry

##### David Mansolino [cyberbotics] 07/26/2019 07:33:07
If not I strongly recommend to do tutorial 1-7, you will learn how to design new object (including some with joints)


Did you follow our the tutorial?

[https://www.cyberbotics.com/doc/guide/tutorials](https://www.cyberbotics.com/doc/guide/tutorials)


Hi Berethore

##### Berethore 07/26/2019 07:32:01
I know that's probably obvious, but well..


But i don't find how to just fix an object to another with a fixed joint


Hi guys, i'm really new with Webots, and trying to fix a connector to my robotic arms

##### Fabien Rohrer [Moderator] 07/25/2019 16:31:02
[https://stackoverflow.com/questions/18581379/how-to-save-the-contents-of-a-div-as-a-image](https://stackoverflow.com/questions/18581379/how-to-save-the-contents-of-a-div-as-a-image)


I never tried this, but itâ€™s certainly possible to copy the HTML content into an image.


The generic robot window is defined here: [https://github.com/omichel/webots/tree/revision/resources/projects/plugins/robot\_windows/generic](https://github.com/omichel/webots/tree/revision/resources/projects/plugins/robot_windows/generic)

##### MariusJuston [Moderator] 07/25/2019 16:03:21
Would it be possible to find the current robot window instances and then when recording be able to select one of the open tab, then during the recording it saves the robot window view as an image and appends it to the right or left of the simulation view frame?

##### David Mansolino [cyberbotics] 07/25/2019 15:58:50
That would be indeed a nice feature, unfortunately, since  the robot window is in the controller process this would be difficult to implement. You're welcome

##### MariusJuston [Moderator] 07/25/2019 15:57:40
That is shame, but still thank you

##### David Mansolino [cyberbotics] 07/25/2019 15:55:41
I am sorry but this is not possible in video. But you can either:

  - Use a display which overlay is visible in the video.

  - Use an external tool to record a movie from your screen

##### MariusJuston [Moderator] 07/25/2019 15:54:22
Yes, sorry I meant the robot window

##### David Mansolino [cyberbotics] 07/25/2019 15:54:07
Are you speaking of the robot window ?

##### MariusJuston [Moderator] 07/25/2019 15:52:56
Is there, when taking the video of the current animation to made the custom robot window included into the video as well?

##### Fabien Rohrer [Moderator] 07/25/2019 15:30:00
you're welcome ðŸ‘ðŸ»

##### MariusJuston [Moderator] 07/25/2019 15:28:34
Many thanks!

##### Fabien Rohrer [Moderator] 07/25/2019 15:28:18
Ok, the borderHeight should be smaller than the size.y value. A better warning is missing there.


Here is also a working example if you need it..
> **Attachment**: [tinkerbots\_demo.wbt](https://cdn.discordapp.com/attachments/565154703139405824/603971569907269652/tinkerbots_demo.wbt)

##### MariusJuston [Moderator] 07/25/2019 15:27:10
That is strange becasue when I put -1 to test if it was the borders it was telling me: `WARNING: DEF ConveyorBelt Robot > ConveyorBelt (PROTO) > Group > Transform > Box: Invalid 'size' changed to 1 1 1. The value should be positive.`

##### Fabien Rohrer [Moderator] 07/25/2019 15:26:24
oh really?

##### MariusJuston [Moderator] 07/25/2019 15:26:19
It works now

##### Fabien Rohrer [Moderator] 07/25/2019 15:25:49
Could you set the 2 Conveyor.borderHeight to -0.05 ?

##### MariusJuston [Moderator] 07/25/2019 15:25:44
Here is a video of it happening if it helps
> **Attachment**: [Test\_Conveor\_Belt\_System.mp4](https://cdn.discordapp.com/attachments/565154703139405824/603971154935283745/Test_Conveor_Belt_System.mp4)


okay

##### Fabien Rohrer [Moderator] 07/25/2019 15:23:51
let me check something..


mmm, normally they should remain even if they do not change

##### MariusJuston [Moderator] 07/25/2019 15:21:31
They probably disappeared becasue the contact points did not change


At the beginning there are the two rectangles but then they disappear

##### Fabien Rohrer [Moderator] 07/25/2019 15:18:25
Could you monitor the contact points (View / Optional Rendering / Show Contact Points) and tell if there are always 2 blue rectangles, one on each conveyor belt?

##### MariusJuston [Moderator] 07/25/2019 15:17:11
the block does move when it is completely on one of the conveyors


yes

##### Fabien Rohrer [Moderator] 07/25/2019 15:16:25
Is your block a Solid with bounding object and physics?


Hi

##### MariusJuston [Moderator] 07/25/2019 15:15:33
Sorry about this but I am trying to have this box use conveyor belts to move from one place to another and there needs to be a gap in between the conveyors as such. I am using the Webots conveyor belt robots; however, the  conveyors are not moving the block. The height of the borders is 0
%figure
![Conveyor_belt_inbetween.jpg](https://cdn.discordapp.com/attachments/565154703139405824/603968588478414859/Conveyor_belt_inbetween.jpg)
%end

##### Stefania Pedrazzi [cyberbotics] 07/25/2019 08:56:18
do not forget to do the same for the motors as well ðŸ˜‰


Cool!

##### Huey 07/25/2019 08:55:08
and it worked!


Thanks Stefania, I followed the simple one and tweak the script this way
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/603872801719320584/unknown.png)
%end

##### Stefania Pedrazzi [cyberbotics] 07/25/2019 08:41:15
another very simple one is also included in the User Guide: [https://cyberbotics.com/doc/guide/cpp-java-python#java-example](https://cyberbotics.com/doc/guide/cpp-java-python#java-example)


You can find a java example at projects/languages/java/worlds/example.wbt


`@Huey` : yes you are initializing the devices in the wrong way. You have to use the Robot API to get device instance: [https://cyberbotics.com/doc/reference/robot?tab=java#getaccelerometer](https://cyberbotics.com/doc/reference/robot?tab=java#getaccelerometer)

##### Huey 07/25/2019 08:37:13
javac -Xlint -classpath "E:\E Program\Webots\lib\java\Controller.jar;." TwoWheelsCollisionAvoidance.java

TwoWheelsCollisionAvoidance.java:30: error: no suitable constructor found for Camera(no arguments)

   Camera cm=new Camera();

             ^

    constructor Camera.Camera(long,boolean) is not applicable

      (actual and formal argument lists differ in length)

    constructor Camera.Camera(String) is not applicable

      (actual and formal argument lists differ in length)

TwoWheelsCollisionAvoidance.java:31: error: illegal initializer for String

   String cmName={"camera"}; 

                 ^

TwoWheelsCollisionAvoidance.java:33: error: cannot find symbol

   cm=robot.getCamera(camera);

                      ^

  symbol:   variable camera

  location: class TwoWheelsCollisionAvoidance

3 errors

Nothing to be done for build targets.


I must have done something wrong there, these are the error messages I get


I added few lines in the controller script to initialize it.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/603868203113775115/unknown.png)
%end


Hi, I have some coding problem here. After added a camera under the Robot children, name  it as 'camera'.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/603868092912762899/unknown.png)
%end

##### Fabien Rohrer [Moderator] 07/24/2019 14:28:01
You're welcome.

##### KumarSubh 07/24/2019 14:26:44
Thanks for your initials ðŸ˜Š


However, in long run YES


Actually not right now,

##### Fabien Rohrer [Moderator] 07/24/2019 14:23:17
Do you have particular needs? Some drone models in mind?

##### KumarSubh 07/24/2019 14:22:41
Oooo Nice! I would look forward to make a share of your knowledge in my project... ðŸ˜€

##### Fabien Rohrer [Moderator] 07/24/2019 14:22:30
[https://cyberbotics.com/doc/guide/samples-geometries#floating\_geometries-wbt](https://cyberbotics.com/doc/guide/samples-geometries#floating_geometries-wbt)


But Webots supports basic fluids like in this demo:


In my Mavic simulation, I only set some global damping.


To go further than Propellers, fluid can be simulated too, in a basic way.


I'm about to release a demo movie on youTube about this.


Here is some doc: [https://cyberbotics.com/doc/guide/mavic-2-pro?version=revision](https://cyberbotics.com/doc/guide/mavic-2-pro?version=revision)

##### KumarSubh 07/24/2019 14:19:54
GREAT!!!

##### Fabien Rohrer [Moderator] 07/24/2019 14:19:32
It's a model of the DJI Mavic 2 PRO:


It's already in our revision branch, but not released on a stable release.


Funny enough, I'm currently working on a better drone demo.


It shows 3 different designs of helicopter. This is definitively a good starting point.


You may find an example of the Propeller use here: [https://cyberbotics.com/doc/guide/samples-devices#propeller-wbt](https://cyberbotics.com/doc/guide/samples-devices#propeller-wbt)


(a controllable and customizable force and torque applied on some solid)


It allows to simulate a thrust.


[https://cyberbotics.com/doc/reference/propeller](https://cyberbotics.com/doc/reference/propeller)


The most important node to master is the Propeller node:

##### KumarSubh 07/24/2019 14:15:45
I want to simulate drone on WEBOTS...How should I proceed?


Hello Fabien

##### Fabien Rohrer [Moderator] 07/24/2019 14:14:27
Hi Kumar

##### KumarSubh 07/24/2019 14:13:35
Hello everyone! I m new to WEBOTS...Can anyone help me to gather the info about drone simulation in webots?

##### Deleted User 07/24/2019 13:18:08
Yes sir

##### Fabien Rohrer [Moderator] 07/24/2019 13:17:45
I'm happy you achieved your goal. Next time, please focus on a single thread, certainly here, it will help us and you ðŸ˜‰

##### Deleted User 07/24/2019 13:15:39
Thank you sir.ðŸ˜Š 

And sorry if i make you angry. ðŸ˜‘
> **Attachment**: [nao\_demo.mp4](https://cdn.discordapp.com/attachments/565154703139405824/603576029184917504/nao_demo.mp4)

##### Fabien Rohrer [Moderator] 07/24/2019 13:04:14
Great ðŸ‘ðŸ»

##### Deleted User 07/24/2019 13:04:02
Now it is working


Thank you so much sir 

Thank you for your help


Ok sir 

i am trying

##### Fabien Rohrer [Moderator] 07/24/2019 13:01:06
(The "motions" directory should appear at the same directory level as your "worlds" and "controllers" directory)


To YOUR\_PROJECT/motions/Forwards50.motion


From WEBOTS\_HOME/projects/robots/softbank/nao/motions/Forwards50.motion


You also need to copy-paste Forwards50.motion'

##### Deleted User 07/24/2019 12:59:15
i just copy and paste the controller you have sent

##### Fabien Rohrer [Moderator] 07/24/2019 12:58:35
This is simply because you didn't copied the'../../motions/Forwards50.motion' at the correct location.

##### Deleted User 07/24/2019 12:58:13
ok ok

##### Fabien Rohrer [Moderator] 07/24/2019 12:58:07
I already tried to help you with this error.

##### Deleted User 07/24/2019 12:58:01
this is what happening


[my\_controller] Error: wbu\_motion\_new(): could not open '../../motions/Forwards50.motion' file.

INFO: Video recording starts when you run a simulation...

[my\_controller] Error: wbu\_motion\_play() called with NULL 'motion' argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.

[my\_controller] Error: wbu\_motion\_is\_over() called with NULL argument.


i clicked the forward button and this is happenig

##### Fabien Rohrer [Moderator] 07/24/2019 12:57:09
Do you have a message in the console?

##### Deleted User 07/24/2019 12:56:53
yes the same one

##### Fabien Rohrer [Moderator] 07/24/2019 12:56:43
Is this the controller I sent you?

##### Deleted User 07/24/2019 12:56:12
Sorry to disturb you, i am messaging again  because of this reason (can be seen in video),

Now hand is moving but the robot is not moving.

Ok sir thank you for your help till now
> **Attachment**: [nao\_demo.mp4](https://cdn.discordapp.com/attachments/565154703139405824/603571133928701962/nao_demo.mp4)

##### Fabien Rohrer [Moderator] 07/24/2019 12:32:46

> **Attachment**: [nao\_demo-2.c](https://cdn.discordapp.com/attachments/565154703139405824/603565238083911680/nao_demo-2.c)


`@Deleted User` I allow myself to enter in the discussion. We saw your same question here several times and on several other threads too (youTube comments, private messages, etc.) . We received them all, no need to spam us. Last week I spent time to provide you a complete and working example doing what you expect. You should focus only on letting this example work:

##### David Mansolino [cyberbotics] 07/24/2019 12:25:30
`@Deleted User` The shoulder is not moving because the motion file does not contain any value for the shoulders, if you want them to move you have to either use another motion file or modify this motion file to add shoulder value. For more information about motion files please refer to: [https://cyberbotics.com/doc/reference/motion-functions](https://cyberbotics.com/doc/reference/motion-functions)

##### Olivier Michel [cyberbotics] 07/24/2019 12:25:20
I don't know.

##### Deleted User 07/24/2019 12:25:08
in webot simulation and controller (nao\_demo.c)


I have a doubt that why NAO robot does not move its hand while walking like human do?


Thank you for saving my time sir.

##### Olivier Michel [cyberbotics] 07/24/2019 12:22:29
`@Deleted User`: the choregraph interface is not supported any more (too many bugs, not maintained any more by Softbank), so I would recommend to walk away from it.


`@Amrit`: so I don't understand what you are trying to do...

##### Deleted User 07/24/2019 12:18:27
Can i operate NAO in webot through choreograph?

If yes, then what are the basic requirment and how to handle?

##### Amrit 07/24/2019 11:10:56
`@Olivier Michel`....! No

##### Olivier Michel [cyberbotics] 07/24/2019 08:43:03
Like in [https://robotbenchmark.net](https://robotbenchmark.net) ?


Are you using Webots as a cloud-based web service?

##### Amrit 07/24/2019 08:33:24
`@Olivier Michel`  Thanks for the information. But I would like to tell you that I have configured server on webots side.

##### Olivier Michel [cyberbotics] 07/24/2019 08:27:55
[https://cyberbotics.com/doc/guide/cpp-java-python#python-example](https://cyberbotics.com/doc/guide/cpp-java-python#python-example)


`@Amrit`, please read our docs about programming robot controller in Python. You cannot connect through a port.

##### Amrit 07/24/2019 08:23:44
Hi....! I am trying to connect webots with python and it gets connected with a specified port. But when I am trying to send some data from python to webots for simulation, but then its not working. Can anyone please help me out....?

##### Deleted User 07/24/2019 07:12:04
it is connected also, but thereafter it is not doing anything while giving command


The simulated nao is displayed in choreograph


`@David Mansolino`  I went through, i started the simulation in webot and then trying to connect it with chreograph

##### David Mansolino [cyberbotics] 07/24/2019 06:36:37
You're welcome

##### Chen-moon 07/24/2019 06:35:41
Hi `@David Mansolino` , thanks for your suggestion!

##### David Mansolino [cyberbotics] 07/24/2019 06:32:40
`@Chen-moon`, you should have somethign similar to this in the settings of SteamVR: [https://forum.pimaxvr.com/uploads/default/original/2X/c/c8a523e0449a8005684daea6a47d9b6f5cd9f3bf.png](https://forum.pimaxvr.com/uploads/default/original/2X/c/c8a523e0449a8005684daea6a47d9b6f5cd9f3bf.png)

##### Chen-moon 07/24/2019 06:29:01
But I want to ask where can I change the resolutions to ~50%?

##### David Mansolino [cyberbotics] 07/24/2019 06:28:13
`@MariusJuston` , I just thought about one possible workaround (but this requires to have a bit of knowledge of rhe PROTO mechanism: [https://www.cyberbotics.com/doc/reference/proto](https://www.cyberbotics.com/doc/reference/proto)). The idea would be tu use a procedural boolean field to determine of the physics node should be present or not (and switch this field from the supervisor API)

##### Chen-moon 07/24/2019 06:27:51
Hi `@David Mansolino` , thanks for you suggestion.

##### David Mansolino [cyberbotics] 07/24/2019 06:26:50
`@Deleted User` , please refeer to [https://cyberbotics.com/doc/guide/nao#naoqi-and-choregraphe](https://cyberbotics.com/doc/guide/nao#naoqi-and-choregraphe)

##### Deleted User 07/24/2019 06:21:09
For NAO robot


How to connect webot with choreograph?

##### David Mansolino [cyberbotics] 07/24/2019 06:17:29
`@MariusJuston`, unfortunately I don't see any simple solution, we are indeed missing a `wb_supervisor_field_remove_sf` and `wb_supervisor_field_import_sf_node` function. Maybe someone else has an idea for a workaroud ?


`@Chen-moon` , thank you for the bug report, I did indeed saw it. We don't have any headset available right now, but we will try as soon as we have it back and let you know.

In the meantime, I saw that you have a HTC Vive Pro (I did try only with the HTC Vive for now), can you try reducing the resolution to ~50% (this is feasible in the preferences of SteamVR, then you have to restart Webots once changed)?

##### Chen-moon 07/24/2019 05:58:05
Hi `@David Mansolino` , I just send a bug report to the github(The title is HTC Vive is not working in Webots). Thank you!

##### MariusJuston [Moderator] 07/23/2019 19:10:21
Hello, is there a way, from the  supervisor, to enable and disable the physics node?

##### David Mansolino [cyberbotics] 07/23/2019 09:21:56
You're welcome

##### Chen-moon 07/23/2019 09:21:47
Hi `@David Mansolino` ,Thanks for your suggestions!

##### David Mansolino [cyberbotics] 07/23/2019 09:11:27
Ok, then there is maybe a problem with the interface, I didn't tried it since a few months, can you please open a bug report on our github and we will let you know when we have tested: [https://github.com/omichel/webots/issues/new/choose](https://github.com/omichel/webots/issues/new/choose)

##### Chen-moon 07/23/2019 09:10:33
Hi `@David Mansolino` , I just test steamVR in steamVR tutorial, and it work in whole tutorial process!

##### David Mansolino [cyberbotics] 07/23/2019 08:59:12
Have you tried with other application to make sure your steamVr setup is working fine?

##### Chen-moon 07/23/2019 08:58:40
`@David Mansolino` , Should I use the beta version? Thanks!


I just install this version a few days ago


The steam vr version I used is 1.5.16

##### David Mansolino [cyberbotics] 07/23/2019 08:56:32
`@Huey`, you're welcome


`@Chen-moon` , ok in that case there is probably a problem with the interface with Webots and The Vive, do you have the latest version of SteamVR installed ?

##### Huey 07/23/2019 08:55:56
Thanks loads `@David Mansolino` ! will look into it

##### Chen-moon 07/23/2019 08:55:55

%figure
![DSC_0101.JPG](https://cdn.discordapp.com/attachments/565154703139405824/603148275289423878/DSC_0101.JPG)
%end


And I also try the example(universal robot->ure.wbt) in webot. However, when I set the enable setting, the view in webot and headset all become blue..

##### David Mansolino [cyberbotics] 07/23/2019 08:51:49
`@Huey`, yes, that's the idea, please find here an example (in Python) of Webots online simulation using OpenCV to perform object recognition: [https://robotbenchmark.net/benchmark/visual\_tracking/](https://robotbenchmark.net/benchmark/visual_tracking/)

##### Chen-moon 07/23/2019 08:50:48
Hi `@David Mansolino` , here I just see the same blue screen in htc vive headset

##### Huey 07/23/2019 08:34:28

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/603142879623512074/unknown.png)
%end


possible to use get pixels or certain color? like this?


Thanks Oliver, im  quite a newb (as in noob) on this, any idea where i could learn more about programming a camera to detect something?

##### Olivier Michel [cyberbotics] 07/23/2019 08:30:39
`@Huey`, you should probably put a camera onboard your robot and perform image processing to detect the target, navigate towards it and push it to the goal.

##### David Mansolino [cyberbotics] 07/23/2019 08:29:43
`@Chen-moon`, ok can you see something in the headset? Have you tried with various samples world distributed within Webots ?

##### Huey 07/23/2019 08:29:22
any idea what d be the appropriate method?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/603141482886594579/unknown.png)
%end


Hi, sorry if this question is too general, i like to program a robot to first find 'target', once found, push it towards 'goal'

##### Chen-moon 07/23/2019 08:07:47
Hi `@David Mansolino` ,these setting (View left eye(right eye))I have tried, but the view is still all  blue ..

##### David Mansolino [cyberbotics] 07/23/2019 08:04:29
In the View->Virtual Reality Headset have you checked 'View left eye' (or right) ?

##### Chen-moon 07/23/2019 08:00:31
Have you ever meet this problem~?Thanks!


Hi `@David Mansolino` ,thanks for your response, I just see your second websites and set the enable control.However, after I set the enable control, the view in webot  become all blue(which meens the robotic arm I have set just disappear)

##### David Mansolino [cyberbotics] 07/23/2019 07:54:50
Hi, `@Chen-moon` , Webots does support indeed the HTC Vive out of the box if you are on Windows and you have SteamVR Installed: [https://www.cyberbotics.com/doc/guide/computer-peripherals#virtual-reality-headset](https://www.cyberbotics.com/doc/guide/computer-peripherals#virtual-reality-headset)

You can enable it from the 'View' menu: [https://www.cyberbotics.com/doc/guide/the-user-interface#view-menu](https://www.cyberbotics.com/doc/guide/the-user-interface#view-menu)

##### Chen-moon 07/23/2019 07:53:00
However, I want the htc vive headset can    show the webot enviroment simulation view. Does anyone know how to solve this problem~?Thanks!


Sorry for bothering, but I want to ask some questions. I use webot for robotic arm enviroment setting now, and I also use the htc vive tracker to control robotic arm in webot.

##### David Mansolino [cyberbotics] 07/23/2019 06:17:29
`@speedy6451`, yes we have a joystick API which is compatible with most of the usb controllers (but we never tested it with the F310): [https://www.cyberbotics.com/doc/reference/joystick](https://www.cyberbotics.com/doc/reference/joystick)

##### speedy6451 07/22/2019 21:10:40
can you integrate usb controllers in webots? The F310 to be specific.

##### juashkapsup 07/22/2019 19:19:41
somebody speak spanish in this group?

##### MariusJuston [Moderator] 07/22/2019 14:14:12
It seems I have fixed it without doing anything to my firewall: [https://www.repairwin.com/fix-net-err\_cert\_authority\_invalid-connection-is-not-private-in-chrome/](https://www.repairwin.com/fix-net-err_cert_authority_invalid-connection-is-not-private-in-chrome/) I followed Method 2. Change DNS settings.


No problems, thank you very much

##### Fabien Rohrer [Moderator] 07/22/2019 13:42:44
I'm sorry, but I think I can't help you much further: this is very specific to your system. It may comes from the router also ðŸ˜•

##### MariusJuston [Moderator] 07/22/2019 13:40:55
Would you know how to make it so that I can edit my firewall to allow this connection/js script to go through? I am in Windows 10

##### Fabien Rohrer [Moderator] 07/22/2019 13:39:59
Ok so it probably comes from your firewall.

##### MariusJuston [Moderator] 07/22/2019 13:39:23
Chrome version 75.0.3770.142; however, it also does not work on explorer and Edge

##### Fabien Rohrer [Moderator] 07/22/2019 13:38:44
what is your browser?

##### MariusJuston [Moderator] 07/22/2019 13:37:55
Okay

##### Fabien Rohrer [Moderator] 07/22/2019 13:37:33
The Webots website requires some resources which are on another website: jsdelivr and these resources cannot be loaded on your computer.


haha, sorry, I write this loudly. Let me check if I can find a procedure to help you..

##### MariusJuston [Moderator] 07/22/2019 13:36:01
To be honest I have no idea how to do that, nor what jsdelivr CDN is

##### Fabien Rohrer [Moderator] 07/22/2019 13:35:16
Maybe you blacklisted it by some operation.


It seems that your system blocks the jsdelivr CDN


This is the same problem has mentioned here: [https://stackoverflow.com/questions/56552048/loading-jquery-cdn-on-chrome-gives-failed-to-load-resource-neterr-cert-autho](https://stackoverflow.com/questions/56552048/loading-jquery-cdn-on-chrome-gives-failed-to-load-resource-neterr-cert-autho)

##### MariusJuston [Moderator] 07/22/2019 13:32:02
No also blank

##### Fabien Rohrer [Moderator] 07/22/2019 13:31:49
Could you access this page? [https://www.cyberbotics.com/doc/guide/index?version=revision](https://www.cyberbotics.com/doc/guide/index?version=revision)

##### MariusJuston [Moderator] 07/22/2019 13:31:33
Ok thanks

##### Fabien Rohrer [Moderator] 07/22/2019 13:30:39
Our SSL certificate seems blocked by your browser for some reason.


In the meantime, you can access to the doc inside Webots in: "Help / Offline documentation / Guide"

##### MariusJuston [Moderator] 07/22/2019 13:29:39
I can see every other website fine...

##### Fabien Rohrer [Moderator] 07/22/2019 13:29:16
not sure why..


these blocked resources are required to see the doc...

##### MariusJuston [Moderator] 07/22/2019 13:26:20

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/602853942224879631/unknown.png)
%end

##### Fabien Rohrer [Moderator] 07/22/2019 13:25:49
Do you have an error in the Javascript console?

##### MariusJuston [Moderator] 07/22/2019 13:25:32
US

##### Fabien Rohrer [Moderator] 07/22/2019 13:25:19
Are you behind some firewall? From which country are you?


Hi Marius,

##### MariusJuston [Moderator] 07/22/2019 13:22:49
Hello I do not know if this should be in the technical-question channel, but when I try to look at the website I am unable to see the text, this seems to happen for all the documentation/tutorial pages, not the home page or the forums
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/602853057398571078/unknown.png)
%end

##### David Mansolino [cyberbotics] 07/22/2019 12:47:03
Hi Sharavan, yes you can add a 'runtime.ini' file in the same directory than your controller. This is documented here: [https://cyberbotics.com/doc/guide/controller-programming#languages-settings](https://cyberbotics.com/doc/guide/controller-programming#languages-settings)

##### ShravanTata 07/22/2019 12:30:14
Hi Cyberbotics, Is there a way to launch Webots with a particular python command to run the controller instead of setting it globally in the preferences?

##### David Mansolino [cyberbotics] 07/22/2019 06:22:02
`@MerySgh`, `@MariusJuston` is completely right, since each one (the car and the robot) is using its own seperated controller you should be able to have one of them in C (which you need to compile) and on of them in PYthon (which of course doesn't need to be compiled, but please make sure you have correctly setup Python: [https://cyberbotics.com/doc/guide/using-python](https://cyberbotics.com/doc/guide/using-python)).

However, if you want one (or more) of the pedestrian to be a 'static' passenger of the car, it is strongly recommended to put it's 'controller' field to `""`, or you can use the 'MotorbikeDriver' ([https://github.com/omichel/webots/blob/revision/projects/vehicles/protos/generic/MotorbikeDriver.proto](https://github.com/omichel/webots/blob/revision/projects/vehicles/protos/generic/MotorbikeDriver.proto)), which is already in the correct position (but in that case it should be 'encapsulated' in a Slot node: [https://cyberbotics.com/doc/reference/slot](https://cyberbotics.com/doc/reference/slot))


`@Deleted User` The shoulder is not moving because the motion file does not contain any value for the shoulders, if you want them to move you have to either use another motion file or modify this motion file to add shoulder value. For more information about motion files please refer to: [https://cyberbotics.com/doc/reference/motion-functions](https://cyberbotics.com/doc/reference/motion-functions)


Hi `@Nora`, please use the technical-questions' for futur questions.

About omnidirectional wheels the simplest (and most efficient solution) is to use asymetric friction (this can be defined in the Worldinfo.contactproperties field). Please have a look at these examples where the youbot robot uses this mechanism: [https://www.cyberbotics.com/doc/guide/youbot#samples](https://www.cyberbotics.com/doc/guide/youbot#samples)

##### Nora 07/21/2019 16:39:17
hello, excuse me i new in the webots world and Im trying to create omnidirecctional wheels with rollers at 45 degrees, can anybody help me?

##### MariusJuston [Moderator] 07/21/2019 14:58:30
Just press the run button like usual

##### MerySgh 07/21/2019 14:58:03
So how can i do it ?

##### MariusJuston [Moderator] 07/21/2019 14:21:55
`@MerySgh` You should still be able to run the simulation... and edit them, the controllers are compiled separately from each other

##### Deleted User 07/21/2019 05:21:50
NAO robot, shoulder pitch not working. It is walking using  nao\_demo code but hand is still at one place.

Please solve it.

I need to make it walk like we do (moving hand while walking)

##### MerySgh 07/21/2019 05:08:17

%figure
![C.PNG](https://cdn.discordapp.com/attachments/565154703139405824/602366217373876234/C.PNG)
%end



%figure
![pedestrianinpython.PNG](https://cdn.discordapp.com/attachments/565154703139405824/602366080685703188/pedestrianinpython.PNG)
%end


I tried to add a pedestrian from  files .... but the problem is the city is programmed in C while pedestrian is programmed in python ... so I can't compile the two files


I work on webots for a project of the autonomous vehicles and I have to do like simulation a car in the road which strikes a pedestrians according to precise attacks .... so far I have just realized a city with a car above .. now I have to add a few passengers but I don't know how to do it


Hello is there someone here ?

##### Deleted User 07/20/2019 10:05:14
I need to make it walk like we do (moving hand while walking)


NAO robot, shoulder pitch not working. It is walking using  nao\_demo code but hand is still at one place.

Please solve it.

##### David Mansolino [cyberbotics] 07/18/2019 08:22:40
You're welcome

##### Huey 07/18/2019 08:22:30
Brilliant! Thanks mate!

##### David Mansolino [cyberbotics] 07/17/2019 18:18:54
Hi, the simplest solution is to save your world and open the world file in your text editor, this way you will see the format of all the nodes you have in the 'children' field, you can simply copy paste the content of the 'children' field from your world file to your PROTO file.

##### Huey 07/17/2019 17:05:56
scene tree, these are the children
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/601097268002816027/unknown.png)
%end


my proto file
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/601097164256575584/unknown.png)
%end


Hi.. im following the tutorial to create my first proto,  any idea on where to look for the format to define the 'children' according to the robot i have created earlier? Thank you.

##### Fabien Rohrer [Moderator] 07/17/2019 12:56:15
`@Akash` I'm currently adding a better example for the Accelerometer node: [https://github.com/omichel/webots/pull/730](https://github.com/omichel/webots/pull/730) Any feedback would be welcome ðŸ˜ƒ

##### Olivier Michel [cyberbotics] 07/16/2019 15:54:28
OK...

##### MariusJuston [Moderator] 07/16/2019 15:54:01
No it does not work for either: `C:\Users\***\Anaconda3\envs\***\python.exe state_controller/state_controller.py`. For `C:\Users\***\Anaconda3\envs\***\pythonw.exe state_controller/state_controller.py` it does not print anything even though there are print statements, so i am assuming that it is not working

##### Olivier Michel [cyberbotics] 07/16/2019 15:51:35
Also, can you try to launch your python controller from a DOS CMD by typing "python my\_controller.py" in the controller folder?

##### MariusJuston [Moderator] 07/16/2019 15:48:37
sadly no...

##### Olivier Michel [cyberbotics] 07/16/2019 15:40:59
Last thing to try: could try to use pythonw.exe (instead of python.exe) to execute your robot controller? It seems that makes a difference in some cases.

##### MariusJuston [Moderator] 07/16/2019 15:35:23
No problems, thank you very much for the time that you have sent trying to help me! I really appreciate it!

##### Olivier Michel [cyberbotics] 07/16/2019 15:34:45
But I don't time right now (I am flying to China very soon).


I believe the next step would be for me to install PyCharm and try from there.

##### MariusJuston [Moderator] 07/16/2019 15:33:37
is there anything I could provide you in order to help you troubleshoot?

##### Olivier Michel [cyberbotics] 07/16/2019 15:32:28
So, I don't understand why it doesn't work from your PyCharm environment...


For me it also works from a DOS console.


OK.

##### MariusJuston [Moderator] 07/16/2019 15:19:04
Python 3.7.3 (default, Apr 24 2019, 15:29:51) [MSC v.1915 64 bit (AMD64)] on win32

##### Olivier Michel [cyberbotics] 07/16/2019 15:18:34
Are you sure you have a 64 bit python?


I will now try from a DOS console...


I could follow the instructions and launch my python controller from a MSYS2 console without any problem.

##### MariusJuston [Moderator] 07/16/2019 15:08:58
here are the returns of `sys.path` for when it is run on Webots and PyCharm respectively:

```python
webots_environmental_variables = [
    'C:\\Users\\***\\Documents\\GitHub\\***\\***\\controllers\\state_controller',
    'C:\\Users\\***\\AppData\\Local\\Programs\\Webots\\lib\\python37',
    'C:\\Users\\***\\Anaconda3\\envs\\***\\python37.zip',
    'C:\\Users\\***\\Anaconda3\\envs\\***\\DLLs', 'C:\\Users\\***\\Anaconda3\\envs\\***\\lib',
    'C:\\Users\\***\\Anaconda3\\envs\\***',
    'C:\\Users\\***\\Anaconda3\\envs\\***\\lib\\site-packages']

pycharm_environmental_variables = [
    'C:\\Users\\***\\Documents\\GitHub\\***\\***\\controllers\\state_controller',
    'C:\\Users\\***\\AppData\\Local\\Programs\\Webots\\msys64\\mingw64\\bin',
    'C:\\Users\\***\\AppData\\Local\\Programs\\Webots\\lib\\python37',
    'C:\\Users\\***\\Documents\\GitHub\\***\\***\\controllers',
    'C:\\Users\\***\\Documents\\GitHub\\***\\***\\controllers\\state_controller',
    'C:\\Users\\***\\Documents\\GitHub\\***\\***\\controllers\\inverse_kinematics',
    'C:\\Users\\***\\Documents\\GitHub\\***\\***\\controllers\\demo_controller',
    'C:\\Users\\***\\Documents\\GitHub\\***\\***\\controllers\\complete_controller',
    'C:\\Users\\***\\Documents\\GitHub\\***\\***\\controllers\\collision_detection',
    'C:\\Users\\***\\AppData\\Local\\JetBrains\\Toolbox\\apps\\PyCharm-P\\ch-0\\191.7479.30\\helpers\\pycharm_display',
    'C:\\Users\\***\\Anaconda3\\envs\\***\\python37.zip',
    'C:\\Users\\***\\Anaconda3\\envs\\***\\DLLs', 'C:\\Users\\***\\Anaconda3\\envs\\***\\lib',
    'C:\\Users\\***\\Anaconda3\\envs\\***',
    'C:\\Users\\***\\Anaconda3\\envs\\***\\lib\\site-packages',
    'C:\\Users\\***\\AppData\\Local\\JetBrains\\Toolbox\\apps\\PyCharm-P\\ch-0\\191.7479.30\\helpers\\pycharm_matplotlib_backend']
```

##### Olivier Michel [cyberbotics] 07/16/2019 15:05:25
Let me try it.

##### MariusJuston [Moderator] 07/16/2019 15:04:48
Again I have setup all the environmental variables (except for the Python PYTHONPATH and PYTHONENCODING because I am using an env) for Windows, WEBOTS\_HOME and added mingw64 to the environment. It still does not work... same old error

##### Olivier Michel [cyberbotics] 07/16/2019 15:00:15
So, it is correct to set it to C:\Users***\AppData\Local\Programs\Webots in your case.

##### MariusJuston [Moderator] 07/16/2019 15:00:00
makes sense

##### Olivier Michel [cyberbotics] 07/16/2019 14:59:39
Yes, that's because you installed Webots for a single user (without administrator privileges).

##### MariusJuston [Moderator] 07/16/2019 14:58:30
By the way the documentation for that table is probably outdated becasue for windows it is saying that the WEBOTS\_HOME directory is at C:\Program Files\Webots when it is actually: C:\Users\***\AppData\Local\Programs\Webots\

##### Olivier Michel [cyberbotics] 07/16/2019 14:55:13
(there was an extra question mark making my previous link wrong)


[https://cyberbotics.com/doc/guide/running-extern-robot-controllers](https://cyberbotics.com/doc/guide/running-extern-robot-controllers)

##### MariusJuston [Moderator] 07/16/2019 14:54:44
Sorry I did not see the link

##### Olivier Michel [cyberbotics] 07/16/2019 14:54:27
They are all documented on the web page I pointed out.

##### MariusJuston [Moderator] 07/16/2019 14:54:07
Would you be so kind as to inform me of what they are please?

##### Olivier Michel [cyberbotics] 07/16/2019 14:52:29
There is quite a large number of environment variables to setup.

##### MariusJuston [Moderator] 07/16/2019 14:52:08
Still no... 
```bash
echo %WEBOTS_HOME%
C:\Users\***\AppData\Local\Programs\Webots\
```

##### Olivier Michel [cyberbotics] 07/16/2019 14:51:31
Did you follow the instructions here: [https://cyberbotics.com/doc/guide/running-extern-robot-controllers?](https://cyberbotics.com/doc/guide/running-extern-robot-controllers?)


No, you should do it yourself.


Yes.

##### MariusJuston [Moderator] 07/16/2019 14:45:40
I do not have the WEBOTS\_HOME environmental variable is that something I should set (I am in Windows)? Am I supposed to do that myself or is the installer supposed to do that?


I can see it in `sys.path` though


yes

##### Olivier Michel [cyberbotics] 07/16/2019 14:41:21
Do you get the same error?

##### MariusJuston [Moderator] 07/16/2019 14:41:05
`@Olivier Michel`  Still does not work even when I added it to my Path environmental variable


Will do!

##### Olivier Michel [cyberbotics] 07/16/2019 14:38:05
Then, can you try to add this path to your "Path" environment variable?

##### MariusJuston [Moderator] 07/16/2019 14:37:13
`@Olivier Michel` it seems that it is still doing the same thing...

##### Olivier Michel [cyberbotics] 07/16/2019 14:04:19
So that Python will be able to load the Controller.dll library.


C:\\Users\\***\\AppData\\Local\\Programs\\Webots\\msys64\\mingw64\\bin


Hi Marius, you probably need to add another path:

##### Fabien Rohrer [Moderator] 07/16/2019 14:02:07
the path you are including is indeed correct and should contain all the Python3 stuff. I will just check this to confirm it.


Yes, it seems to be a DLL or path issue.


Hi Marius,

##### MariusJuston [Moderator] 07/16/2019 13:57:51
Hello, good gentlemen's i am trying to run a python controller from PyCharm without needing to run Webots. The problem is that it says that: 

```python
Traceback (most recent call last):
  File "C:/Users/***/Documents/GitHub/***/***/controllers/state_controller/state_controller.py", line 40, in <module>
    from controller import Supervisor, Motor
  File "C:\Users\***\AppData\Local\Programs\Webots\lib\python37\controller.py", line 17, in <module>
    import _controller
ImportError: DLL load failed: The specified module could not be found.
```

I am trying to load the DLLs; however, I have not managed to find them. I have added `'C:\\Users\\***\\AppData\\Local\\Programs\\Webots\\lib\\python37'` to my `sys.path` variable already.

What can I do to make this work?

Many thanks!

##### Fabien Rohrer [Moderator] 07/16/2019 13:44:40
`@BG` You should communicate on this public channel, we are here to help you ðŸ˜ƒ


BG also contacted me in private, I redirected him to our official tutorial: [https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)


Thank you ^^ this is for sure a good reference

##### ThundrHawk 07/16/2019 13:43:06
He was looking for tutorials, so I sent him to [https://cyberbotics.com/doc/guide/getting-started-with-webots](https://cyberbotics.com/doc/guide/getting-started-with-webots)

##### Fabien Rohrer [Moderator] 07/16/2019 13:33:06
Hi BG, how could we help you?

##### BG 07/16/2019 13:32:48
hello

##### Deleted User 07/16/2019 08:45:53
Ok sir 

Thank you so much for your help ðŸ˜Š

##### Fabien Rohrer [Moderator] 07/16/2019 06:56:31
I'm sorry, but I will stop here. I already sent you a demo code doing exactly what you need (a rare thing on this support channel). I don't think I can help you more. Please try to run my sample before going ahead.

##### Deleted User 07/16/2019 06:54:15
Good morning sir,

ok sir, i will try it



Can you insert the shoulder pitch option in the demo code i send you in previous message?

please sir, i small request.

##### Fabien Rohrer [Moderator] 07/16/2019 06:51:06
Please check in your file system that "PATH\_TO\_YOUR\_CONTROLLER/../../motions/Forwards50.motion" exists, if not, copy-paste it.


The motion file cannot be found, therefore, forwards == NULL.


WbMotionRef forwards = wbu\_motion\_new("../../motions/Forwards50.motion");


You have this error because of this line:

##### Deleted User 07/16/2019 04:42:22
Sir, here is the demo code, please do some modification in it, so that it moves its hand while walking.

please sir, my whole project is stopped due to this simple things (So big for me).



Sir please help

`@Fabien Rohrer`
> **Attachment**: [nao\_demo.c](https://cdn.discordapp.com/attachments/565154703139405824/600547754850254886/nao_demo.c)


after modifications


This is happening with the following error



[NAo] Error: wbu\_motion\_new(): could not open '../../motions/Forwards50.motion' file.

[NAo] Error: wbu\_motion\_play() called with NULL 'motion' argument.

[NAo] Error: wbu\_motion\_is\_over() called with NULL argument.
> **Attachment**: [NAo\_1.mp4](https://cdn.discordapp.com/attachments/565154703139405824/600546275729080321/NAo_1.mp4)

##### Fabien Rohrer [Moderator] 07/15/2019 18:23:28
I'll be back tomorrow


I have to leave, have a good evening.


Here is a new controller. Please try to improve it by yourself ðŸ˜‰
> **Attachment**: [nao\_demo.c](https://cdn.discordapp.com/attachments/565154703139405824/600391887332966514/nao_demo.c)

##### Deleted User 07/15/2019 18:14:00
Sir, please help me then,

##### Fabien Rohrer [Moderator] 07/15/2019 18:13:10
Iâ€™ll do it in 5 minutes


Yes thatâ€™s simple

##### Deleted User 07/15/2019 18:11:09
But i needed to do some changes in the nap\_demo.c controller



Where it moves while pressing the button



Can't you do some changes in that demo code , so that it will move its hand while walking, when i press the forward bottom ??

##### Fabien Rohrer [Moderator] 07/15/2019 18:11:09
[https://www.cyberbotics.com/doc/reference/keyboard](https://www.cyberbotics.com/doc/reference/keyboard)


To deal with keyboard input, please take a look at the Keyboard API and snippets:


Ok


And to C programming tutorials

##### Deleted User 07/15/2019 18:08:52
Yes sir it is working,

##### Fabien Rohrer [Moderator] 07/15/2019 18:08:44
If itâ€™s too difficult, you should give a try to our tutorial


Sorry to read this ðŸ˜• I think you should focus first with running the controller I sent you. I tested it and it is working.

##### Deleted User 07/15/2019 17:59:16
i am pressing the forward button in Nao\_demo.c controller, it is moving forward but hand is not moving.



What i need is, when i press the forwars button it should move along with moving the hand.


I was working on it for about 2 and half hours 

But unable to get the resulf ðŸ˜” 



Sir my objective is simple



I want the same control as in Nao\_demo.c



I want to make it walk when i press the button as mentioned in demo code. 

The only thing i am not getting is the hand movement as we do.



I need to control it by pressing the button 

Means it should move when i press the button along with the shoulder pitch

##### Fabien Rohrer [Moderator] 07/15/2019 17:50:56
It could be explained if the path to Â«Â Forwards50.motionÂ Â» is wrong. Could you check this file exists? It is defined relatively to your controller directory.

##### Deleted User 07/15/2019 17:14:03
wbu\_motion\_play() called with NULL 'motion' argument





Why this error appears ??

##### Fabien Rohrer [Moderator] 07/15/2019 15:37:55
Youâ€™re welcome ðŸ˜‰

##### Deleted User 07/15/2019 15:37:45
thank you so much


Ok sir i will try and inform

##### Fabien Rohrer [Moderator] 07/15/2019 15:34:37
You may find values for these constants in order to match with the gait.


AMPLITUDE * sin(FREQUENCY * time) + OFFSET


In the code I sent you, the shoulder is actuated by a sin() function. You could play with this by adding constants, for example:

##### Deleted User 07/15/2019 15:27:15
Yes sir 

I tried the same 



Isnt this little ocward

Means, the movement of hand 



How to change that angle sir

##### Fabien Rohrer [Moderator] 07/15/2019 15:25:57

> **Attachment**: [nao\_demo\_1.mp4](https://cdn.discordapp.com/attachments/565154703139405824/600347332051075102/nao_demo_1.mp4)


In the controller I sent you, you can refer to another motor, for example by changing "RElbowYaw" to "RShoulderPitch"

##### Deleted User 07/15/2019 15:15:06
Yes sir, its working,

But again shoulder is not moving 



Sorry to disturb you

And thank you for your help



Can't we make NAO move hand as we do while walking

##### Fabien Rohrer [Moderator] 07/15/2019 15:07:19
.. and the result
> **Attachment**: [nao\_demo.mp4](https://cdn.discordapp.com/attachments/565154703139405824/600342639577006102/nao_demo.mp4)


Here is a complete and working controller which does this. to replace nao\_demo.c
> **Attachment**: [nao\_demo.c](https://cdn.discordapp.com/attachments/565154703139405824/600342346579836930/nao_demo.c)

##### Deleted User 07/15/2019 15:01:38
Actually i want to perform task of moving the shoulder while moving forward

Means i was trying to imitate the human walking


moving the shoulder sir


yes sir

##### Fabien Rohrer [Moderator] 07/15/2019 14:59:52
would it be ok if I sent you a C controller with the Forwards50.motion playing while moving an elbow?

##### Deleted User 07/15/2019 14:55:12
yes sir

##### Fabien Rohrer [Moderator] 07/15/2019 14:55:03
ok, let me check..

##### Deleted User 07/15/2019 14:54:04
i am doing nothing other than this


i have just pasted your programme in NAO\_demo.c after hand wave

##### Fabien Rohrer [Moderator] 07/15/2019 14:52:42
Which motion file are you trying to play?

##### Deleted User 07/15/2019 14:43:26
This is what happening now
> **Attachment**: [NAo.mp4](https://cdn.discordapp.com/attachments/565154703139405824/600336628703166465/NAo.mp4)


[NAo] Error: wbu\_motion\_new(): could not open '../../motions/HandWave.motion' file.

[NAo] Error: wbu\_motion\_new(): could not open '../../motions/Forwards50.motion' file.

[NAo] Error: wbu\_motion\_new(): could not open '../../motions/Backwards.motion' file.

[NAo] Error: wbu\_motion\_new(): could not open '../../motions/SideStepLeft.motion' file.

[NAo] Error: wbu\_motion\_new(): could not open '../../motions/SideStepRight.motion' file.

[NAo] Error: wbu\_motion\_new(): could not open '../../motions/TurnLeft60.motion' file.

[NAo] Error: wbu\_motion\_new(): could not open '../../motions/TurnRight60.motion' file.

[NAo] Error: wbu\_motion\_set\_loop() called with NULL argument.

[NAo] Error: wbu\_motion\_play() called with NULL 'motion' argument.

[NAo] Error: wbu\_motion\_new(): could not open 'walk.motion' file.

[NAo] Error: wbu\_motion\_play() called with NULL 'motion' argument.

[NAo] Error: wbu\_motion\_is\_over() called with NULL argument.


And showing this error again and again

[nao\_demo] Error: wbu\_motion\_is\_over() called with NULL argument

`@Fabien Rohrer`


But now only shoulder is moving, robot is not moving


It is working now


thank you sir

but i have asked for the shoulder motion because it is not moving the hand while moving.

I replaced the elbow command to shoulder pitch

##### Fabien Rohrer [Moderator] 07/15/2019 14:33:47

> **Attachment**: [move\_arm\_while\_playing\_a\_motion.c](https://cdn.discordapp.com/attachments/565154703139405824/600334204315893781/move_arm_while_playing_a_motion.c)


please change "t" to "time", sorry for this



> **Attachment**: [move\_arm\_while\_playing\_a\_motion.c](https://cdn.discordapp.com/attachments/565154703139405824/600331379800145921/move_arm_while_playing_a_motion.c)


please change "t" to "time", sorry for this

##### Deleted User 07/15/2019 13:49:14
`@Fabien Rohrer`


nao\_demo.c: In function 'main':

nao\_demo.c:453:35: error: 't' undeclared (first use in this function)

   wb\_motor\_set\_position(hand, sin(t)); // move the elbow according to a sinusoidal function.

                                   ^

nao\_demo.c:453:35: note: each undeclared identifier is reported only once for each function it appears in

nao\_demo.c:452:10: warning: unused variable 'time' [-Wunused-variable]

   double time = wb\_robot\_get\_time(2); // get the simulated time in seconds.

          ^~~~

make: *** [C:/Program Files/Webots/resources/Makefile.include:679: build/release/nao\_demo.o] Error 1

make: *** Waiting for unfinished jobs....













Here is the error, after solving two errors  ( WbDevice to WbDeviceTag and TIME\_STEP to time\_step)


Ok sir, i will test and will inform you, thank you

##### Fabien Rohrer [Moderator] 07/15/2019 12:56:01
(I didn't test this code snippet ðŸ˜‰ )


In this C file, you can see how to move the right elbow when playing a motion file.
> **Attachment**: [move\_arm\_while\_playing\_a\_motion.c](https://cdn.discordapp.com/attachments/565154703139405824/600309424325787680/move_arm_while_playing_a_motion.c)

##### Deleted User 07/15/2019 12:51:07
Thank you  sir

i am waiting

##### Fabien Rohrer [Moderator] 07/15/2019 12:50:44
yes, just one minute, I will send you a code snippet here.

##### Deleted User 07/15/2019 12:49:34
"wb\_motor\_set\_position() on the arm motors"



yes it is helpfull

But can you explain the process to do this

Because i am new for C language.

`@Fabien Rohrer`

##### Fabien Rohrer [Moderator] 07/15/2019 12:47:30
In the motion file you are playing, probably that the hands are not actuated. When a motion is played, you can still use the wb\_motor\_set\_position() on the arm motors. Could this be a solution for you?

##### Deleted User 07/15/2019 12:44:10
`@Fabien Rohrer` I have used nao\_demo.c

It is in C language


I have used nao\_demo.c

It is in C language

##### Fabien Rohrer [Moderator] 07/15/2019 11:56:50
`@Deleted User` are you using the motion files embedded in Webots? In which language?

##### Deleted User 07/15/2019 10:59:42
During motion of NAO, hands are kept stable it is not moving, like we move our hand. When it is moving forward or backward hand are kept stable 

Shoulder pitch  motor is not working in NAO (i think)

I have attached the picture,

it is in this position for all the time.



please help me to move it
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/600280326216089601/unknown.png)
%end

##### Fabien Rohrer [Moderator] 07/15/2019 10:02:40
The default lookupTable does not do any interpolation.


lookupTable []


So, to have the values of an accelerometer without alterating it, you could define a lookupTable like this:


You may find here how a lookup table is working: [https://cyberbotics.com/doc/reference/distancesensor#lookup-table](https://cyberbotics.com/doc/reference/distancesensor#lookup-table)


The lookupTable, is simply a function converting the vector in m/s^2 (typically [0, -9.81, 0]) to something else. It is applied on each channel independently.

##### Akash 07/15/2019 09:57:36
What should be the values of lookup table  for accelerometer and how could i convert it to m/s^2 from vector values?

##### Fabien Rohrer [Moderator] 07/15/2019 09:40:40
Is it sufficient?


In WEBOTS\_HOME/projects/robots/gctronic/e-puck/worlds/e-puck\_cross-compilation.wbt the accelerometer is used to analyse the slope inclination, the most bottom led is enabled accordingly.


Let me check..


Hi, yes, many.

##### Akash 07/15/2019 09:36:16
Is there any example file in webots, where the accelerometer is been used?

##### Fabien Rohrer [Moderator] 07/15/2019 04:42:26
We are trying to carry a duty period out during business hours (European time). Out of this period, answers may come with a certain delay ðŸ˜‰


This function calls the wb\_robot\_step() function several times until reaching the expected time (in seconds) It is based on the wb\_robot\_get\_time() function. You should obviously stop the motors before calling Â«Â wait\_a\_whileÂ Â».


You could take a copy-paste the Â«Â wait\_a\_whileÂ Â» function (and the required Â«Â stepÂ Â» function defined above) in your code: [https://github.com/omichel/webots/blob/revision/projects/robots/kinematics/tinkerbots/controllers/crane/crane.c#L33](https://github.com/omichel/webots/blob/revision/projects/robots/kinematics/tinkerbots/controllers/crane/crane.c#L33)

##### NearMonzter 07/14/2019 22:45:08
Please, help


I'm programming in C, I think I need a function that kinda stops the robot a little bit when I set velocities to 0 and then after some time the robot turns right, I have the two functions, the one that stops the robot and the one that turns the robot, however since the loop is so fast I don't know how to simulate that 'STOP'

##### Fabien Rohrer [Moderator] 07/14/2019 19:49:49
`@Deleted User` are you using the motion files embedded in Webots?


`@NearMonzter` which language are you using? Do you know finite state machines and how to program it? [https://en.m.wikipedia.org/wiki/Finite-state\_machine](https://en.m.wikipedia.org/wiki/Finite-state_machine)

##### NearMonzter 07/14/2019 19:04:38
Last week I was working with my three wheels omnidirectional robot that I created,  so far I've programmed it into two mode (manual and autonomous), so far so good, the issue is when in the autonomous mode, when I detect an obstacle through a distance sensor I want my robot to stop and THEN, if the obstacle is more to the left TURN the robot to the right, however I don't know how to make the robot  wait a little bit stopped a little bit and then turn the robot


Hi there, I don't know if here answer kinda programming questions, but I'll make the question anyway

##### Deleted User 07/14/2019 15:26:01
During motion of NAO, hands are kept stable it is not moving, like we move our hand. When it is moving forward or backward hand are kept stable 

Shoulder pitch  motor is not working in NAO (i think)

I have attached the picture,

it is in this position for all the time.



please help me to move it
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/599984961071874052/unknown.png)
%end

##### David Mansolino [cyberbotics] 07/12/2019 14:29:03
You're welcome

##### R\_LCL 07/12/2019 14:14:00
Ohhhhh.  I will try getting the speed from the position-sensors as you have said. Thanks man.

##### David Mansolino [cyberbotics] 07/12/2019 14:01:06
You can add noise on the position-senors too, the speed can be retrieved, etc. all the functionnalities are also available.


I am sorry but this node is deprecated, it is highly recommended to use the regular robot node instead (and the e-puck model has been updated accordingly)

##### R\_LCL 07/12/2019 13:58:59
I was referring to this one: â†’ [https://www.cyberbotics.com/doc/reference/differentialwheels](https://www.cyberbotics.com/doc/reference/differentialwheels). Since it has some of the functions that I need for my project. (slipNoise, speed, etc)

##### David Mansolino [cyberbotics] 07/12/2019 13:52:14
(which you can then derive to get the speed)


Hi, I am not sure to understand your question, the e-puck robot is already a differential wheel, you should simply use its position-sensors to get the wheel position.

##### R\_LCL 07/12/2019 13:41:33
Hi, can anyone help me in adding a DifferentialWheels node for the e-puck robot (since I really need to get the speed of the wheels). I tried following the guide from the website but I have not make it work yet.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/599233895132823552/unknown.png)
%end

##### MariusJuston [Moderator] 07/12/2019 02:32:26
`@MerySgh` So a Python Interpreter is what contains the python.exe and contains all the libraries and dependencies associated with it (as far as I understand it).

A virtual environment in python is useful if you have multiple projects and these projects differ. Such a vision processing project and a text editor project. As you can imagine these for two projects you would need very different libraries. If you used a single interpreter you would have to install the libraries to a single python interpreter, meaning that each project would contain both python projects libraries because they are both referencing the same interpreter and you are installing the libraries to a single interpreter. If you use virtual environments it copies over to a new folder a "clean" copy of your python base interpreter as a separate environment. In the previous example, you would create 2 virtual environments: one for the vision processing project and one for the text editor project. That would allow you to install the libraries for the vision processing project and which would only be available to that project and same with the text editor libraries and environment. This allows your python interpreters to be more lightweight and usually makes it easier for IDEs, you also delete these virtual environments without needing to reinstall Python, etc... (this is how I understand it)

I personally really like Anaconda for creating virtual environments and PyCharm as my Python IDE. Anaconda and PyCharm make it very easy to install libraries and create virtual environments for your projects. (this is of course just my opinion there are plenty more of other IDE and Virtual environment options)


No problems. I will be sure to clarify as much as I can.

##### MerySgh 07/12/2019 02:15:29
mmmmm ok I will try, I'm sorry if you don't understand quickly it's because I'm still beginner I trying to  be adapted to these technical words

##### MariusJuston [Moderator] 07/12/2019 02:12:42
`@MerySgh`  If you think that you are only going to be using a single Python interpreter for all your projects/worlds it might just be easier for you to place your python path as an environmental variable.


`@MerySgh`  No sorry about that it seems that I was not very clear. That was a Python command. You can open up your python console and run those commands to give you the location. When you install Python it comes with  IDLE search for that and then run the command

##### MerySgh 07/12/2019 02:10:15
like this ?
%figure
![python_command.PNG](https://cdn.discordapp.com/attachments/565154703139405824/599059921559879700/python_command.PNG)
%end

##### ThundrHawk 07/12/2019 02:07:29
you're probably not using a virtual environment if you're not programming in an ide

##### MariusJuston [Moderator] 07/12/2019 02:07:24
Paste that in the  Python command field


This will give you the Python path of you running python.exe


```python
import sys
print(sys.executable)
```

##### MerySgh 07/12/2019 02:05:55
`@ThundrHawk` i will try it


`@MariusJuston`  sorry i don't understand you

##### ThundrHawk 07/12/2019 02:05:13
if you're using python37, the path is most likely going to be C:\Users\<user>\AppData\Local\Programs\Python\Python37\python.exe

##### MariusJuston [Moderator] 07/12/2019 02:03:49
Okay that is good. Is you python a virtual environment?

##### MerySgh 07/12/2019 02:03:09
NOT yet

##### MariusJuston [Moderator] 07/12/2019 02:02:43
Wait, have you already added the python path to the environmental variable?

##### MerySgh 07/12/2019 02:02:20
where i can find this this path ?

##### MariusJuston [Moderator] 07/12/2019 02:01:58
Replace the python command with the path of the python exe

##### MerySgh 07/12/2019 02:01:43
what next ?
%figure
![python.PNG](https://cdn.discordapp.com/attachments/565154703139405824/599057772369281029/python.PNG)
%end

##### MariusJuston [Moderator] 07/12/2019 01:59:34
`@MerySgh`  Otherwise you can just pass in the Python.exe path in webots ->  Tools -> Preferences -> python. i.e: C:\Users\\...\Anaconda3\envs\\...\python.exe

##### MerySgh 07/12/2019 01:56:31
okay i will try

##### ThundrHawk 07/12/2019 01:55:44
make sure to restart webots after making changes to your environment variables


ideally, changing the environment variable will work, but it can be tricky


the first thing you should try is adding PYTHONPATH as an environment variable: [https://stackoverflow.com/a/4855685](https://stackoverflow.com/a/4855685)

then if you're having more trouble, go into Tools>Preferences and change the python command to the python executable. mine is:

`C:\Users\Russell\AppData\Local\Programs\Python\Python37\python`

##### MerySgh 07/12/2019 01:31:20
hello everyone , i have a problem of adding pedestrians in my project its give me a error ..please how to solve it
%figure
![error.PNG](https://cdn.discordapp.com/attachments/565154703139405824/599050129537892381/error.PNG)
%end

##### MariusJuston [Moderator] 07/11/2019 19:58:19
Done: [https://github.com/omichel/webots/issues/711](https://github.com/omichel/webots/issues/711)

##### ThundrHawk 07/11/2019 19:29:21
sounds good

##### David Mansolino [cyberbotics] 07/11/2019 19:27:08
You should probably try reproducing the problem in a minimalistic example (e.g. just two DOF) and post an issue with this example on github: [https://github.com/omichel/webots/issues/new/choose](https://github.com/omichel/webots/issues/new/choose)


But the bit of code you sent seems correct, this should work

##### ThundrHawk 07/11/2019 19:25:33
makes sense

##### David Mansolino [cyberbotics] 07/11/2019 19:25:22
Using thread should not help because in any case the simulation time will increase only when you call the robot step function.

##### ThundrHawk 07/11/2019 19:24:15
I've tried running those functions with the threading library to the same results. I could be doing something wrong with that, though


we may be using it wrong, but we're running this bit of code:

```python
for motor, position in zip(motors, positions):
    motor.setPosition(position)
    motor.setVelocity(MAX_V)
```



> **Attachment**: [its\_choppy.mp4](https://cdn.discordapp.com/attachments/565154703139405824/598957091700473856/its_choppy.mp4)

##### MariusJuston [Moderator] 07/11/2019 19:18:51
Yes how they do it is that they use setPosition in very small intervals

##### David Mansolino [cyberbotics] 07/11/2019 19:18:14
Here is for example a robot arm controlled in Webots: [https://www.youtube.com/watch?v=Jq0-DkEwwj4](https://www.youtube.com/watch?v=Jq0-DkEwwj4)

##### MariusJuston [Moderator] 07/11/2019 19:17:46
No it does not seem so

##### David Mansolino [cyberbotics] 07/11/2019 19:17:19
You should be able to call the setPosition for each motor at the same step and they should move all in parallel isn't it the case?

##### MariusJuston [Moderator] 07/11/2019 19:14:14
I understand that; however, I am using a 6 DOF robot arm and I want to make the joints in sync and thus make the motion seem smooth, with the setPosition it is very choppy because it is moving the motors sequentially.

##### David Mansolino [cyberbotics] 07/11/2019 19:04:00
`@MariusJuston` , the idea is actually to use both the setPosition and setVelocity function, the first sets the target position and the second defines the maximum allowed velocity to reach this target position.

##### MariusJuston [Moderator] 07/11/2019 18:47:07
setVelocity is nice and all but if possible I would like to use setPosition to make my life easier. Is there a way to multi-thread setPosition?


`@R_LCL` it seems that you are retrieving your velocity at initialization when the robot is not moving. If you want to retrieve the velocities continuously you want to use the getVelocity method inside the while loop

##### R\_LCL 07/11/2019 17:55:59
Hello, I need help with the getVelocity() function. I used the getFromDef function and assigned it to my robot. But, as you can see in the  attached picture, the velocity values that I'm getting are all zeroes. May I know what am I doing wrong?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/598935535159083038/unknown.png)
%end

##### David Mansolino [cyberbotics] 07/11/2019 14:30:16
Ok, thank you for the feedback, that sounds indeed like a very good reason.

##### ThundrHawk 07/11/2019 14:29:16
We figured it out. We had set the position to infinity when we grabbed them from the supervisor, but we hadn't set their velocity to 0 at that time. We only did it after they had already moved a bit.

##### David Mansolino [cyberbotics] 07/11/2019 14:18:06
The position sensors will return the value of the jointparameter.position field (if any) is it not the case ?

##### MariusJuston [Moderator] 07/11/2019 14:08:00
Thank you. Sorry again but I seem to have some issues with the PositionSensors, I have not moved the robot yet and the values the sensors are returning to me are not 0. I assume that that is not normal. Is there a way to reset/zero the sensor?

##### David Mansolino [cyberbotics] 07/11/2019 06:22:46
`@MariusJuston` about the boxes collision, the simplest solution is probably to add a touchSensors ([https://cyberbotics.com/doc/reference/touchsensor](https://cyberbotics.com/doc/reference/touchsensor)) to your robot arm.

##### speedy6451 07/10/2019 23:16:52
I figured it out, thanks!

##### ThundrHawk 07/10/2019 22:43:21
you just have to write it in a new language and tell the robot to use that one

##### speedy6451 07/10/2019 22:42:53
How do you change the language of a robot controller?

##### ThundrHawk 07/10/2019 22:42:19
If you use set velocity, they'll move at the same time. you would just then have to figure out when to stop then

##### MariusJuston [Moderator] 07/10/2019 22:19:40
Hello is there a simple way to make a robot arm move smoothly? When I use setPosition on the joints it is very choppy because it seems that it is moving the joints sequentially. Is it possible to move the joints in parallel in Python? Also is there a way to do some kind of object bound detection and have the program display an alert that the housing boxes gave collided? Many thanks!

##### R\_LCL 07/10/2019 14:16:37
thank you man.

##### Fabien Rohrer [Moderator] 07/10/2019 14:03:15
in particular, the coulombFriction and the forceDependentSlip fields


[https://www.cyberbotics.com/doc/reference/contactproperties](https://www.cyberbotics.com/doc/reference/contactproperties)


Yes, you should play with the WorldInfo.contactProperties, particularily the one dealing with the contact between the surface and the wheel.


Hi,

##### R\_LCL 07/10/2019 14:00:51
Hello! Can the software simulate wheel slips? Preferably on an inclined surface or on a slippery surface.

##### David Mansolino [cyberbotics] 07/10/2019 12:10:21
You shoul dcheck the joint anchor, they are probably wrong...

##### Huey 07/10/2019 12:07:49

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/598485527833870356/unknown.png)
%end


some axis might have been set wrongly, it s now crawling like a baby monster


although now i have other issues to resolve

##### David Mansolino [cyberbotics] 07/10/2019 12:06:48
You're welcome

##### Huey 07/10/2019 12:06:39
Thanks mate!!! That s it!

##### David Mansolino [cyberbotics] 07/10/2019 12:04:20
The name of the motor device is defined in the HingeJoint->device->RotationalMotor->name

##### Huey 07/10/2019 12:03:58
if i understand it correctly i named one of the HingeJoint as wheel1



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/598484390116327455/unknown.png)
%end

##### David Mansolino [cyberbotics] 07/10/2019 12:01:45
You should check the name of the wheel 1 motor, does it matches the one used in your controller (e.g. 'wheel1') ?

##### Huey 07/10/2019 12:00:53
any idea what might have went wrong?


Hi, i am trying to follow this tutorial to build a simple robot, when i get to the end,  trying to run the simulation, i got these messages
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/598483724291670017/unknown.png)
%end

##### Fabien Rohrer [Moderator] 07/10/2019 06:45:33
In this movie (at time = 71s), we can see an older version of the youBot with the subwheels entirely modeled: [https://youtu.be/vFwNwT8dZTU?t=71](https://youtu.be/vFwNwT8dZTU?t=71) but this has been dropped to use the asymmetric friction in newer versions.


When implementing the youBot, I have done lot of tests related to this, and the second solution (the one used by the youBot) is much more accurate, robust and quick to solve of our physics engine.


Or you could use the asymmetric friction (cf. WorldInfo.contactProperties.coulombFriction ) to simulate sub wheels, like in the Kuka youbot robot: [https://cyberbotics.com/doc/guide/youbot](https://cyberbotics.com/doc/guide/youbot)


You could either implement the entire mechanism with joints and cylinders for each sub wheel, like in this example: [https://cyberbotics.com/doc/guide/samples-howto#omni\_wheels-wbt](https://cyberbotics.com/doc/guide/samples-howto#omni_wheels-wbt)


Hi, yes they are!

##### speedy6451 07/10/2019 00:51:28
are mecanum wheels supported?

##### guxgux 07/09/2019 20:26:33
thanks l will try to do

##### Fabien Rohrer [Moderator] 07/09/2019 20:20:02
Hi, maybe you could create a remote control plugin? [https://www.cyberbotics.com/doc/guide/controller-plugin#remote-control-plugin](https://www.cyberbotics.com/doc/guide/controller-plugin#remote-control-plugin)

##### guxgux 07/09/2019 20:11:05
with microcontroler


some  know have to connecto webot to  real robot


hello

##### aji 07/09/2019 08:08:38
Thanks for the help btw ðŸ˜„


That's a good suggestion. They clearly didnt involve as much features as webots on their own choregraph simulator (i.e. speech recognition).

##### Fabien Rohrer [Moderator] 07/09/2019 08:05:30
(the more we are to complain, the best chance we have to change the situation ðŸ˜ƒ )


Defintively! The decision of SoftBank to drop the support of any simulator is weird, many users/customers are complaining about this. I recommend you to send them an e-mail to complain about this.

##### aji 07/09/2019 08:03:35
Will try to do the following things, i just set up both of the programs so i havent quite tinkered with it yet


Ah, that's quite unfortunate.

##### Fabien Rohrer [Moderator] 07/09/2019 08:02:17
I hope this will gives you clues to go ahead.


- Are you sure naoqisim is running smoothly? (what do you have in the Webots console)


- The port should not be blocked (by another badly closed connection, or by your firewall)


- the ports should match (an argument of naoqisim if I remember well)


- the controller and Webots should be in run mode


That said, did you tried basic things:


Hi,  we don't support anymore naoqisim (the controller responsible in doing the connection between Webots and Choregraph) because SoftBank abandoned the support of the library doing this.

##### aji 07/09/2019 07:58:21
I tried running a sample world with a NAO bot on it, then my choregraph wont show the NAO bot on the "Make a connection" list


Hello! I have a question regarding WeBots and Choregraph (for NAO bot). Does anybody know why there are no robots on the list of connection in Choregraph?

##### Fabien Rohrer [Moderator] 07/09/2019 06:59:42
There is a Pedestrian PROTO file that you can use everywhere, its parameters can be used to define an itinerary in absolute coordinates, speed, etc.


.. and the related movie: [https://www.youtube.com/watch?v=tmz3JRuZT9A](https://www.youtube.com/watch?v=tmz3JRuZT9A)


Please look at this world file: $(WEBOTS\_HOME)/projects/humans/pedestrian/worlds/pedestrian.wbt

##### MerySgh 07/08/2019 23:40:56
hello everyone.....how can i add some characters in my webots project ,something like pedestrians in the  road or like  human ...please help me

##### Fabien Rohrer [Moderator] 07/08/2019 18:32:10
The Supervisor API can be used for retrieving any node field, typically the position or the size IF these fields are open! You can retrieve programmatically all what you sea in the tree view on the left. There is currently no method to retrieve the AABB.

##### MariusJuston [Moderator] 07/08/2019 17:23:45
Sorry me again, is there a way to retrieve the bounding box of an node? If so if the bounding box was a box would it be possible to extract the height? I would like to implement this in Python, please. Many thanks

##### David Mansolino [cyberbotics] 07/08/2019 15:59:07
You're welcome

##### MariusJuston [Moderator] 07/08/2019 15:59:02
Okay, thank you

##### David Mansolino [cyberbotics] 07/08/2019 15:57:57
No, it only stores the target position, you should use the position sensor associated to the same joint that the motor

##### MariusJuston [Moderator] 07/08/2019 15:57:19
Doesn't the Motor object have to know its own position in order for set position to work? Does it not store that information as a variable that could be accessed?

##### David Mansolino [cyberbotics] 07/08/2019 15:54:37
Yes, the idea is to use a position sensors([https://www.cyberbotics.com/doc/reference/positionsensor](https://www.cyberbotics.com/doc/reference/positionsensor)) and to call the robot step function until the desired position is reached.

##### MariusJuston [Moderator] 07/08/2019 15:49:52
Hello, is there a way to make the program "wait" until the set\_position of a motor is finished? If that is not possible is it possible to get the current position of a RotationMotor, please? Many thanks

##### David Mansolino [cyberbotics] 07/08/2019 15:38:01
No problem, you're welcome

##### Huey 07/08/2019 15:37:15
cool.. thanks! sorry again for the random unrelated question

##### David Mansolino [cyberbotics] 07/08/2019 15:34:35
Hi, I am sorry but this chat is dedicated to Webots, you will for sure find more appropriate answers on dedicated forums, for example: [https://robotics.stackexchange.com/](https://robotics.stackexchange.com/)

##### Huey 07/08/2019 15:33:43
anyone knows anywhere to shop for electronics components/accessories in London? (other than RS in Surrey Quay)

##### Fabien Rohrer [Moderator] 07/08/2019 14:25:20
you're welcome, good luck with your project ðŸ˜‰

##### OnlyPtuuu 07/08/2019 14:18:56
Thank you very much for helping


Ok I see

##### Fabien Rohrer [Moderator] 07/08/2019 13:56:55
the guide you mention is done for the Nao only


Unfortunately, there is not pepper robot 3d model in Webots

##### OnlyPtuuu 07/08/2019 13:45:01
I think that work with pepper


[http://doc.aldebaran.com/2-4/software/webots/webots\_index.html#webots-launching](http://doc.aldebaran.com/2-4/software/webots/webots_index.html#webots-launching) 

I want only use one robot like this guide

##### Fabien Rohrer [Moderator] 07/08/2019 13:42:12
And to use the Webots2blender addon to import it in Webots:  [https://github.com/omichel/blender-webots-exporter](https://github.com/omichel/blender-webots-exporter)


A good strategy would be to find a good 3D model of the Pepper, for example here: [https://www.turbosquid.com/fr/3d-model/softbank-robotics](https://www.turbosquid.com/fr/3d-model/softbank-robotics)


Modeling a humanoid robot model is not a simple task. And it depends on your skills, your input data, etc.

##### OnlyPtuuu 07/08/2019 13:37:54
And how can I do?

##### Fabien Rohrer [Moderator] 07/08/2019 13:36:46
Ok, just to warn you Webots does not contain a Pepper model.

##### OnlyPtuuu 07/08/2019 13:35:57
I would like to use webots to simulate pepper and test my projects

##### Fabien Rohrer [Moderator] 07/08/2019 13:34:30
What about pepper? Do you have a model of this robot in Webots?


This project is no more supported by Cyberbotics nor SoftBanks, sorry for this.


Yes this may be not obvious, I'm not sure about the current state of this project.

##### OnlyPtuuu 07/08/2019 13:33:12
next step install naoqisim

##### Fabien Rohrer [Moderator] 07/08/2019 13:32:27
that sounds to be a good idea ðŸ‘ðŸ»

##### OnlyPtuuu 07/08/2019 13:31:28
Ok now I install last version R2019B

##### Fabien Rohrer [Moderator] 07/08/2019 13:29:56
Webots is free and open-source since R2019a.


Ok, I think you can use the latest version, it will solves more issues than others. However, in recent Webots versions, you have to install naoqisim by yourself from this deprecated repo: [https://github.com/omichel/naoqisim](https://github.com/omichel/naoqisim)

##### OnlyPtuuu 07/08/2019 13:28:02
Do you advice downloading the latest version?


Because in aldebaran documentation say to use this version

##### Fabien Rohrer [Moderator] 07/08/2019 13:26:45
First question: why Webots 8.6.2 and not Webots R2019b ðŸ˜„ ?

##### OnlyPtuuu 07/08/2019 13:26:41
I'm looking this guide

##### Fabien Rohrer [Moderator] 07/08/2019 13:26:27
Hi

##### OnlyPtuuu 07/08/2019 13:26:21
[http://doc.aldebaran.com/2-4/software/webots/webots\_index.html](http://doc.aldebaran.com/2-4/software/webots/webots_index.html)


Screenshot
%figure
![webots.png](https://cdn.discordapp.com/attachments/565154703139405824/597780190537580564/webots.png)
%end


Hi, I have installed 8.6.2 webots to simulate Pepper for use it with Choregraphe. But the Open Sample World section is empty.

##### Fabien Rohrer [Moderator] 07/08/2019 08:45:39
Why not using the Extrusion proto? [https://cyberbotics.com/doc/guide/object-geometries#extrusion](https://cyberbotics.com/doc/guide/object-geometries#extrusion)


Do you need collisions on it?


Ok, I see

##### NearMonzter 07/08/2019 06:55:38
Thank you, I struggled a lot but I finally did what I expected, I needed the triangle shape to make an omnidirectional robot
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/597682190062452744/unknown.png)
%end

##### Fabien Rohrer [Moderator] 07/08/2019 06:30:20
`@NearMonzter` From SolidWork, you can export a VRML or X3D file, and then you can import it in Webots as a Shape (the graphical info only). Alternatively, you can use Blender inbetween and add more information (collisions, masses, joints, etc.), using this addon: [https://github.com/omichel/blender-webots-exporter](https://github.com/omichel/blender-webots-exporter)

##### NearMonzter 07/08/2019 00:24:22
Hi there, does anybody know how to do a triangle in webots or know how to import from SolidWorks?

##### Huey 07/06/2019 14:46:44
turns out, installing the JDK 8u211 worked fine


cool.. thanks. will try

##### ThundrHawk 07/06/2019 14:18:14
I'm not sure that it will matter a whole lot, but you should probably get 212 if its the latest

##### Huey 07/06/2019 14:16:11
or both?


found two on the page ([https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html](https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)) 

should i install  JDK 8u211 /JDK 8u212


it says " Make sure you choose the most recent 64-bit release of the Standard Edition (SE) of the JDK 8. Then, follow the installation instructions." on  language setup page


Hi... im new to webot

##### ThundrHawk 07/05/2019 16:38:06
Â¯\\_(ãƒ„)\_/Â¯

##### Olivier Michel [cyberbotics] 07/05/2019 16:10:18
I don't know PyCharm, but it should be possible to configure it so that it searches the current folder for imports, no?


ðŸ˜‚

##### ThundrHawk 07/05/2019 16:05:00
```python
try:
    from demo_controller import kinematics_solver
except ImportError:
    import kinematics_solver
```


its real hacker man hours ðŸ˜Ž

##### Olivier Michel [cyberbotics] 07/05/2019 16:03:38
OK...

##### ThundrHawk 07/05/2019 15:59:21
yeah we stuck it in a try except to make pycharm happy

##### Olivier Michel [cyberbotics] 07/05/2019 15:37:01
Maybe you should configure PyCharm so that it searches for modules in the current folder as well.


No problem, you are welcome.

##### ThundrHawk 07/05/2019 15:36:14
thanks for your help


alright it looks like that works. I suppose I was confused because I'm using PyCharm for the coding, and it's telling me it can't find the module

##### Olivier Michel [cyberbotics] 07/05/2019 15:35:05
Yes.

##### ThundrHawk 07/05/2019 15:34:29
your constants.py file is in the same folder?


thanks


alright

##### Olivier Michel [cyberbotics] 07/05/2019 15:33:10
Well, something standard in Webots.


which is a subfolder of the controllers directory.


And my supervisor.py is stored into a folder called "supervisor".


Sorry, yes it is important (I did get your question).

##### ThundrHawk 07/05/2019 15:31:58
alright thanks i'll see if that works

##### Olivier Michel [cyberbotics] 07/05/2019 15:31:49
Yes, but this should make no difference.

##### ThundrHawk 07/05/2019 15:31:32
and you have your robot's controller set to "supervisor"?

##### Olivier Michel [cyberbotics] 07/05/2019 15:31:10
and it works.


from supervisor.py, I simply "import constants"


I have another python file called constants.py


my main python file is called supervisor.py

##### ThundrHawk 07/05/2019 15:30:36
how did you set it up?

##### Olivier Michel [cyberbotics] 07/05/2019 15:30:28
I don't have a runtime.ini file.


I am currently writing a python controller split in several files.

##### ThundrHawk 07/05/2019 15:29:34
does anyone know if there's a way to fix this or if I have to do everything in the one controller file?


and it tells me that there is no parent directory set up


and I use imports with the following method:

```python
from .utils import *
```


I'm trying to create a python controller, and I'm trying to create other python files alongside the controller file to reduce clutter. I've been changing my runtime.ini file to :

```ini
[python]
OPTIONS = -m demo_controller
```

##### David Mansolino [cyberbotics] 07/05/2019 13:35:08
I am sorry, we don't have such code available, if you want us to develop such controller for us we can send you an offer for this, please refeer to [https://www.cyberbotics.com/buy](https://www.cyberbotics.com/buy)

##### Deleted User 07/05/2019 13:34:13
Sir,

Please provide me a demo code for NAO robot for obstacle avoidance.

I will be greatfull to you,

please help


yes sir, for the wheeled robot, it is working, but for humanoid, i am feeling helpless.

##### David Mansolino [cyberbotics] 07/05/2019 13:19:39
Please try to open this world and let us know if it is working: [https://cyberbotics.com/doc/guide/youbot#youbot\_matlab-wbt](https://cyberbotics.com/doc/guide/youbot#youbot_matlab-wbt)


(at least have an overview)


Ok, then you should know understand how the controller works

##### Deleted User 07/05/2019 13:18:08
i went through it and i can perform the tasks provided there

##### David Mansolino [cyberbotics] 07/05/2019 13:17:46
It is available in any language and there is a chapter specific to controllers: [https://www.cyberbotics.com/doc/guide/tutorial-4-more-about-controllers-20-minutes](https://www.cyberbotics.com/doc/guide/tutorial-4-more-about-controllers-20-minutes)

##### Deleted User 07/05/2019 13:17:30
But after that i am not getting anything, because my MATLAB controller is crashing everytime

##### David Mansolino [cyberbotics] 07/05/2019 13:17:16
Ok, then in that case it is strongly recomended that you follow our tutorial: [https://www.cyberbotics.com/doc/guide/tutorials](https://www.cyberbotics.com/doc/guide/tutorials)

##### Deleted User 07/05/2019 13:16:41
I can add robot and have used the demo c code provided in it


i am new in WEBOT, till now i understood developing the environments, placing obstacles and changing there translation and orientation


No sir, i have not.

##### David Mansolino [cyberbotics] 07/05/2019 13:12:00
Have you tried the other Matlab example to check if they crashes too ?

(e..g. youbot matlab)


Have you tried the Python version? (e.g. in the humanoid\_sprint world)

##### Deleted User 07/05/2019 13:10:59
`@David Mansolino`  sir only C and C++ is working


Sir,

I am trying to  do  path planning in webot using matlab controller, but as enable the matlab controller and start the programme, it do not run and it shows some problem and crashed.

##### David Mansolino [cyberbotics] 07/05/2019 13:10:02
> from `@Deleted User`:   Sir, no solution for the crash is given, i still have the same problem

> Only c programming is working, but i do not know the c programming. And i need to make a simple program to make NAO to walk in simple environment, detect the obstacles and avoid the collision.



Do you mean that no other language than C (e.g. C++, Python, Java, etc.) are working for you ?


`@Deleted User`, is it you that did open this issue: [https://github.com/omichel/webots/issues/681](https://github.com/omichel/webots/issues/681)

If not is your problem similar to this one?

##### Olivier Michel [cyberbotics] 07/05/2019 07:38:00
It might be a bug indeed. Can you file a issue at [https://github.com/omichel/webots/issues/new?template=bug\_report.md](https://github.com/omichel/webots/issues/new?template=bug_report.md) and explain the exact procedure to reproduce this crash? We will investigate it and eventually fix it.


Hi Mike,

##### MIKE 07/05/2019 07:33:53
Hiï¼ŒI want to add an LED sensor to my robot, but every time I am trying edit the LED shape, webots will crash and quit. What is the reason, is it a bug?

##### Deleted User 07/04/2019 18:11:28
@Emil Enchev#2033 sir, can you help me with NAO programming in webot


Sir,

Please provide me a demo code for NAO robot for obstacle avoidance.

I will be greatfull to you,

please help


Sir,

I am trying to  do  path planning in webot using matlab controller, but as enable the matlab controller and start the programme, it do not run and it shows some problem and crashed.


I am trying to  do  path planning in webot using matlab controller, but as enable the matlab controller and start the programme, it do not run and it shows some problem and crashed.


Sir,

##### Fabien Rohrer [Moderator] 07/04/2019 05:40:22
[https://www.cyberbotics.com/doc/reference/contactproperties](https://www.cyberbotics.com/doc/reference/contactproperties)


Hi Marius, yes heavy robots can Â«Â sinkÂ Â» with the default physics parameters. Rather than changing the masses, you should rather modify the ContactProperties softCFM value.

##### MariusJuston [Moderator] 07/03/2019 18:49:28
I seem to have figured out the problem, objects a rest sink in the ground by default because of their weights. I will just make the weight of the objects very little and it should work


Hello I seem to be having some issues, I have a custom made part that was created from inventor, exported as an .stl, converted using blender into a .wrl and then imported into Webots. When it is imported into Webots it is depicted as a Shape so I copy pasted it into a Solid object, because the shape was complex I just used a Box as a bounding object; however, the origin point was not in the center of the part so I had to wrap the Box with a Transform object. When I start the simulation the object just sinks into the ground a few centimeters. I have tried changing the basicTimStep, and the ERP but I have had no success.

##### nisuunn 07/03/2019 11:38:03
Thanks for the help!


But, I think maybe I can work out some way around this.


In my case I cannot connect the supervisor to my robot, as the supervisor spawns a new robot so there would be an endless loop of spawning new robots.

##### Fabien Rohrer [Moderator] 07/03/2019 11:35:41
so you could refer simply to the receiver doc: [https://www.cyberbotics.com/doc/reference/receiver](https://www.cyberbotics.com/doc/reference/receiver)


You could simply add your Receiver as a child of the supervisor. (a supervisor is a Robot with the supervisor field enabled; it acts the same as a robot controller, but access to supplementary functions).

##### nisuunn 07/03/2019 11:30:25
Hi! I would like to send data with an emitter from a robot controller script to a supervisor. Where should the supervisor's receiver be and how can I access the receiver with the Supervisor?

##### El\_Samu\_El 07/03/2019 10:23:51
okay I understand, thanks Olivier

##### Olivier Michel [cyberbotics] 07/03/2019 10:23:32
We don't have much experience in running Webots on such computer clusters.

##### El\_Samu\_El 07/03/2019 10:22:48
before I jump into that


does in your experience parallelization work fine?

##### Olivier Michel [cyberbotics] 07/03/2019 10:21:45
So, I have no clue on what could be the bottleneck, you should investigate it on your cluster.


OK, so it shouldn't be the problem.

##### El\_Samu\_El 07/03/2019 10:20:41
but no self collision


I use accelerometer, imu, gyro, position sensors, force sensors and 3 type of motors

##### Olivier Michel [cyberbotics] 07/03/2019 10:20:28
All these rely on OpenGL acceleration.


Do you use camera, lidar or range finders in your simulations?

##### El\_Samu\_El 07/03/2019 10:19:36
yes, they all are run in fast mode

##### Olivier Michel [cyberbotics] 07/03/2019 10:19:27
Did you try to run the simulation in fast mode?


If your cloud has no graphics hardware acceleration, this could be the bottleneck.

##### El\_Samu\_El 07/03/2019 10:19:03
so I don't see graphics


i fast forward all simulations


the controllers are basically just getting observations from the sensors, feeding this through a tensorflow graph and then actuating the motors

##### Olivier Michel [cyberbotics] 07/03/2019 10:18:38
It could be the graphics.

##### El\_Samu\_El 07/03/2019 10:17:43
It is run on Ubuntu 18.04 without a gpu


I have a question about parallel execution of several webots instances. It seems like parallel execution does not really give any significant speedup. I have access to a cloud instance with 96 cores and around 360 GB RAM. When I launch 40 webots instances to run 100 timesteps each, then this is not (significantly) faster then running 4000 timesteps on a single instance on my local 8GB machine.  I open the instances via the subprocess module of python. They do in fact all run in parallel, but the more instances I start, the slower each of them gets. Where is the bottleneck? Do all of them use shared ressources?

##### Stefania Pedrazzi [cyberbotics] 07/03/2019 06:00:15
`@Gabriel_martinez` to read the keyboard input from a controller you have to use the Keyboard API: [https://www.cyberbotics.com/doc/reference/keyboard#wb\_keyboard\_get\_key](https://www.cyberbotics.com/doc/reference/keyboard#wb_keyboard_get_key).

In the `projects/languages` folder you can find an example of controller written in C++, Java, and Python. For a C example please look at the `samples/devices/worlds/gps.wbt` simulation.

##### Gabriel\_martinez 07/03/2019 04:27:05
How can i  read a character from the keyboard as an example of the 's'?

##### David Mansolino [cyberbotics] 07/02/2019 07:28:39
`@MohamedSabry`, I will answer you directly on this thread: [https://github.com/omichel/webots/issues/681](https://github.com/omichel/webots/issues/681)

##### Fabien Rohrer [Moderator] 07/01/2019 16:28:57
Since December 2018 Webots is completely free and open-source.



You can download Webots here: [https://www.cyberbotics.com/download](https://www.cyberbotics.com/download) and check out the source code here: [https://github.com/omichel/webots](https://github.com/omichel/webots)



We provide paid user support, training and consulting for users who need to quickly develop high-quality Webots simulations, see: [https://www.cyberbotics.com/buy](https://www.cyberbotics.com/buy)

##### borismera 07/01/2019 16:20:33
como activo el triall de webots


disculpenn


buenass tardes

##### MohamedSabry 07/01/2019 15:51:55
`@David Mansolino` I still have the same problem

##### David Mansolino [cyberbotics] 07/01/2019 12:04:40
`@MohamedSabry` :  C:\Users\USERNAME\AppData\Local\Temp\

##### MohamedSabry 07/01/2019 12:02:15
`@David Mansolino` where can I find this file? and how can I find it?

##### David Mansolino [cyberbotics] 07/01/2019 09:18:40
`@bing feng` , ok thank you for the advice.


`@Marcey`, you should first call the  '/supervisor/get\_from\_def' ([https://www.cyberbotics.com/doc/reference/supervisor?tab=ros#wb\_supervisor\_node\_get\_from\_def](https://www.cyberbotics.com/doc/reference/supervisor?tab=ros#wb_supervisor_node_get_from_def)) service to get the id of the node.

##### bing feng 07/01/2019 08:19:12
genetic algorithm..... just sayin


use JS code bullet made a video abt it


guys if u guys wna control shit using a simulation made by AI

##### Marcey 07/01/2019 08:17:58
Hello, I have a little question, maybe someone can help me: I want to call a supervisor service via ROS. The controller connects successfully to the ROS master, but when I call a service  in the terminal, the controller always crashes.



This is my imput to the command line:  "rosservice call /myBot/supervisor/node/get\_position "node: 0""



"node: 0" is obviously wrong, but what would be the right argument? Or am I completely misusing the supervisor functions?

##### Emil Enchev 07/01/2019 07:50:52
Are SoftBank develop further  Romeo robot, or they cut off it. I don't see any documentation about it.

##### Fabien Rohrer [Moderator] 07/01/2019 06:47:52
`@MariusJuston` Do you have any possibility to export your file to something else than a *.iam? Blender supports better other formats like *.x3d, *.collada, etc. To set the joints/sensors, please refer to the README here: [https://github.com/omichel/blender-webots-exporter](https://github.com/omichel/blender-webots-exporter) If you don't want to use the addon, you can indeed import the wrl shapes (it's regular it's a list)  directly into a new Solid node (by copy-pasting the Shapes into the new Solid.children fields).

##### David Mansolino [cyberbotics] 07/01/2019 06:47:35
`@MohamedSabry`, this is probably caused by an incompatible library in your PATH, can you please try to delete the file 'protofile\_matlab\_2018b\_webots\_R2019a.m' in your temporary files and then retry (this file will be regenerated by Webots).

For more information, please have a look at this issue (exact same problem): [https://github.com/omichel/webots/issues/63](https://github.com/omichel/webots/issues/63)

##### MariusJuston [Moderator] 07/01/2019 01:12:47
Sorry, I have been trying to set up my robot *.iam file through Blender and I have not managed to figure out how to do it. I have managed to export the file as a *.wrl; however, I have no idea how I would actually set it up in Webots, it is a simple 6 axis robot however how do you set up a custom robot from a custom .wrl? 

Also, how do you set up the joints and the sensors, if you have to do it through Blender how would you do this? 

On another note I am trying to import another model to be an object that the robot would need to interact with, again I have the *.iam and I have managed to convert it to a *.wrl; however, when I import the created *.wrl from the Webots Import VRML97 functionality I get a big list of Shape objects, how do I group them into a single Solid?

Many thanks!

##### MohamedSabry 06/30/2019 14:41:56
webots 2019a and matlab 2018a


why does this always appear for me whenever I try to run a matlab based controller for my robot?

I installed the MinGW-w64 Compiler thinking that maybe this is the problem but it still does not run and whether I send a report or nor, this shows in my webots console
%figure
![2019-06-30.png](https://cdn.discordapp.com/attachments/565154703139405824/594900331662409754/2019-06-30.png)
%end


failed: 

[nao\_matlab] 

[nao\_matlab] Function: void \_\_cdecl `anonymous-namespace'::mwJavaAbort(void), file b:\matlab\src\jmi\jmi\javainit.cpp, line 1461

[nao\_matlab] 

[nao\_matlab] --------------------------------------------------------------------------------

##### Fabien Rohrer [Moderator] 06/28/2019 20:07:06
Great, youâ€™re welcome ðŸ˜‰

##### MariusJuston [Moderator] 06/28/2019 20:06:35
This is exactly what I needed thank you

##### Fabien Rohrer [Moderator] 06/28/2019 20:05:44
[https://github.com/omichel/blender-webots-exporter](https://github.com/omichel/blender-webots-exporter)


Not as-is unfortunately: Webots doesnâ€™t have a .iam importer. I think the simplest way is to find a way to import it in Blender (which supports lot of formats) and then use the blender2webots add on:

##### MariusJuston [Moderator] 06/28/2019 20:03:04
Hello I am new  to Webots and I am trying to simulate my robot; however I created it using Autodesk Inventor and the file is a *.iam, is there a way to add it in to the simulation world?

##### David Mansolino [cyberbotics] 06/28/2019 15:19:38
For information here is the datasheet of the epuck microcontroller: [https://www.microchip.com/wwwproducts/en/en024766](https://www.microchip.com/wwwproducts/en/en024766)

##### roboshiv 06/28/2019 15:09:56
So this error just means we don't have enough space on the epuck? What type of memory are we running out of? RAM?


but unfortunately it didn't work


Haha yes thanks we were literally trying that to see what happens

##### David Mansolino [cyberbotics] 06/28/2019 15:08:24
Maybe you can try to switch from double to float to save some memory.


The memory on the first generation of e-pucks is really limited, it is highly probable that the matrice is too big for the e-puck memory.

##### roboshiv 06/28/2019 15:06:48
when I try a different project it works fine. This project uses some matrices which are 16*16 containing doubles which are weights for a simple neural net, nothing massive. and the compiled file is only 19.2 kB

##### David Mansolino [cyberbotics] 06/28/2019 15:04:40
`@Emil Enchev` thank you for the investigation, we will try to fix this as soon as we have some time.

##### roboshiv 06/28/2019 15:04:37
from this same pc and setup


Yes I have successfully cross-compiled epuck controllers onto the real robot in the past

##### David Mansolino [cyberbotics] 06/28/2019 15:03:48
Hi `@roboshiv`, have you tried with the example controller distributed with Webots ?

##### roboshiv 06/28/2019 14:58:11
Hi all, I am trying to crosscompile a .c file to run on an epuck robot and I am getting the following error:

heap: Link Error: Could not allocate section .heap, size = 512 bytes, attributes = heap keep 



The .c controller itself compiles fine, it seems to be the step after it. Full console output is:

make -f Makefile.e-puck

xc16-gcc -Wall -mcpu=30f6014A -I"/home/student/webots/projects/robots/gctronic/e-puck/transfer/libepuck/include" -I"/home/student/webots/projects/robots/gctronic/e-puck/transfer/library" -MM -MT "mlpGA\_Jh.o" "mlpGA\_Jh.c" -MF "mlpGA\_Jh-pic30.d"

xc16-gcc -c -Wall -mcpu=30f6014A -I"/home/student/webots/projects/robots/gctronic/e-puck/transfer/libepuck/include" -I"/home/student/webots/projects/robots/gctronic/e-puck/transfer/library" -o "mlpGA\_Jh-pic30.o" "mlpGA\_Jh.c"

xc16-ld --heap=512 --script="/home/student/webots/projects/robots/gctronic/e-puck/transfer/xc16/support/dsPIC30F/gld/p30F6014A.gld" -L"/home/student/webots/projects/robots/gctronic/e-puck/transfer/xc16/lib" -L"/home/student/webots/projects/robots/gctronic/e-puck/transfer/xc16/lib/dsPIC30F" -L"/home/student/webots/projects/robots/gctronic/e-puck/transfer/libepuck" --start-group "mlpGA\_Jh-pic30.o" -lc-elf -ldsp-elf -lm-elf -lp30F6014A-elf -lpic30-elf -lepuck --end-group -o "mlpGA\_Jh.cof"

heap: Link Error: Could not allocate section .heap, size = 512 bytes, attributes = heap keep 

 Link Error: Could not allocate data memory

/home/student/webots/projects/robots/gctronic/e-puck/transfer/libepuck/Makefile.include:83: recipe for target 'mlpGA\_Jh.cof' failed

make: *** [mlpGA\_Jh.cof] Error 255

Nothing to be done for build targets.

##### David Mansolino [cyberbotics] 06/28/2019 14:10:09
You're welcome

##### DimitrisK 06/28/2019 14:10:02
Thank you David,i 'll give it a try

##### David Mansolino [cyberbotics] 06/28/2019 14:08:28
Basically you can remove any node in the simulation using this function: [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_remove](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_remove)

And add a new node with these ones: [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_field\_import\_mf\_node](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_field_import_mf_node)


`@DimitrisK`, this is the reference page for using numerical optimization methods in Webots: [https://www.cyberbotics.com/doc/guide/using-numerical-optimization-methods](https://www.cyberbotics.com/doc/guide/using-numerical-optimization-methods)

##### DimitrisK 06/28/2019 14:05:53
Hello. I am trying to implement a Deep Q Network in a webots environment. What i need to do,is "change" the robot after an amount of steps,with a seemingly new one. I dont want to reset the controller,since i dont want to lose the progress of the training. I have seen that there is a way to remove a robot via a supervisor command,but how can i instantly re-import it so it's like a new one? I want to do that,since after a number of steps and collisions,the robot is damaged and not functioning properly

##### Emil Enchev 06/28/2019 12:48:28

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/594147105598078977/unknown.png)
%end


Probably size of these buttons is too small, and when you make padding it eat from first letter small portion of pixels. Its create red color because of some semi-transparency shits  or something of the sort.


Suggestion: First try to make the buttons bigger, `@David Mansolino`


I really don't understand nothing from Qt and making GUI with it, nor from Qt The Style Sheet but this is your problem.


This mean: go to your Qt Editor, and check Button Controls Options  for all Dialogs they are the same and if they differ, by what options exactly.


...create the problem. But with padding 1px 1px in one dialog problem resolve in other with default buttons the problem persist.


[https://github.com/omichel/webots/blob/revision/resources/webots\_night.qss](https://github.com/omichel/webots/blob/revision/resources/webots_night.qss)

[https://github.com/omichel/webots/blob/revision/resources/webots\_dusk.qss](https://github.com/omichel/webots/blob/revision/resources/webots_dusk.qss)
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/594128214276833306/unknown.png)
%end


`@David Mansolino`  The problem is not only in .qss files you send me. Manly this line of code in


Qt Style Sheet is not my thing - I'm on Visual Studio , but OK

##### David Mansolino [cyberbotics] 06/28/2019 07:21:50
You should start by checking the *:selected items

##### Emil Enchev 06/28/2019 07:19:40
So you don't know from where come the problem with the coloration of the text, David? ðŸ˜‹

##### David Mansolino [cyberbotics] 06/28/2019 07:11:31
Ok, thank you for the suggestion, if you want you can try to do a prototype and submit it to our github repo, the css of the dark mode is defined here: [https://github.com/omichel/webots/blob/revision/resources/webots\_night.qss](https://github.com/omichel/webots/blob/revision/resources/webots_night.qss) (night) or [https://github.com/omichel/webots/blob/revision/resources/webots\_dusk.qss](https://github.com/omichel/webots/blob/revision/resources/webots_dusk.qss) (dusk)

##### Emil Enchev 06/28/2019 07:09:42
I will keep with dark, thx


I like dark. If you want simply put little purple dot outside of the caption to indicate focus something like this, but coloration on part of text is worse.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/594061680585998337/unknown.png)
%end

##### David Mansolino [cyberbotics] 06/28/2019 07:01:10
There is indeed an issue with the first letter, we are aware of this, if it is irritating you, you can switch to the 'classic' them, the problem should not be present in this theme.

##### Emil Enchev 06/28/2019 06:59:11
For me it look like some sort of graphical defect. It disrupts the perception of the first letter and is irritating. The purple border is sufficient to indicate focus.
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/594059204885741568/unknown.png)
%end

##### David Mansolino [cyberbotics] 06/28/2019 06:51:57
Yes of course, this is done to help you visualize which item is currently focused

##### Emil Enchev 06/28/2019 06:50:34
Is this normal behavior of Webots to color the caption of the button controls when they are on focus?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/594057038271873025/unknown.png)
%end


0.001


Set it to minimum and see what will be result


Do you understand me `@Akash` . Probably your basicTimeStep was increased, and this is why you read wrong information from sensors.


the problems of others can become mine too


I'm totally newbie here this is why ask you


"Setting this field to a high value will accelerate the simulation, but will decrease the accuracy and the stability, especially for physics computations and collision detection. It is usually recommended to tune this value in order to find a suitable speed/accuracy trade-off." What is your value of  basicTimeStep

##### Akash 06/27/2019 16:28:42
Ok, thank you.

##### Emil Enchev 06/27/2019 16:27:13
The wb\_distance\_sensor\_get\_sampling\_period function returns the period given into the wb\_distance\_sensor\_enable function, or 0 if the device is disabled.


and


[https://cyberbotics.com/doc/reference/distancesensor](https://cyberbotics.com/doc/reference/distancesensor)

The wb\_distance\_sensor\_enable function allows the user to enable distance sensor measurements. The sampling\_period argument specifies the sampling period of the sensor and is expressed in milliseconds. Note that the first measurement will be available only after the first sampling period elapsed.

##### Akash 06/27/2019 16:25:12
`@Emil Enchev`  No its not the code, its like when the robot is at 90 degree the  compass is reading it 43.(something) degree,  same thing is happening to the distance sensor. I can stretch the values of compass response array to 90 degree by adding  some increasing variable to each and every value in that array, but nothing can be done to the distancesensor's array values.

##### Emil Enchev 06/27/2019 16:25:08
The wb\_distance\_sensor\_enable function allows the user to enable distance sensor measurements. The sampling\_period argument specifies the sampling period of the sensor and is expressed in milliseconds. Note that the first measurement will be available only after the first sampling period elapsed.


[https://cyberbotics.com/doc/reference/distancesensor](https://cyberbotics.com/doc/reference/distancesensor)


[https://www.cyberbotics.com/doc/reference/worldinfo](https://www.cyberbotics.com/doc/reference/worldinfo)


The basicTimeStep field defines the duration of the simulation step executed by Webots. It is a floating point value expressed in milliseconds. The minimum value for this field is 0.001, that is, one microsecond. Setting this field to a high value will accelerate the simulation, but will decrease the accuracy and the stability, especially for physics computations and collision detection. It is usually recommended to tune this value in order to find a suitable speed/accuracy trade-off.

##### Akash 06/27/2019 16:12:43
`@Fabien Rohrer`  reducing the time  WorldInfo.basicTimeStep is just giving me a lot more number of values but not proper values.

##### Emil Enchev 06/27/2019 16:09:22
Or you mean, that you want most fast to build the map?


Do you mean you check them too often, and this is time consuming  slowing down your remaining code?

##### Akash 06/27/2019 16:02:37
`@Emil Enchev`   Because I am using distance sensors and compass to map surrounding just as a Lidar, Because of circular dynamic motion of the bot the response  distance sensors and compass are giving back are not proper (I don't want to use Lidar).

##### Emil Enchev 06/27/2019 15:38:23
`@Akash` what is your problem exactly? Why you want to increase response of these sensors?

##### Fabien Rohrer [Moderator] 06/27/2019 15:33:00
`@Akash` I hope it answers your question.


.. typically by a integer multiple of WorldInfo.basicTimeStep


Then each sensor refresh rate can be set indepently using the "wb\_sensor\_enable" function


The minimum refresh interval is given by WorldInfo.basicTimeStep


Hi

##### Akash 06/27/2019 15:30:25
Is there any way by which the DistanceSensor's or the Compass's rate of response can be increase (decreasing the response time interval) ?

##### Emil Enchev 06/27/2019 15:26:52
When Softbank give you NAOs for rent, I will build the best protection system for them, to compensate some your repair costs. Bending knee is passive action of protection. There are active moves during impact which will compensate more.

##### Fabien Rohrer [Moderator] 06/27/2019 15:23:28
[https://ieeexplore.ieee.org/document/6640493](https://ieeexplore.ieee.org/document/6640493) ðŸ˜ƒ


I think it was an hot topic at robocup at some point, you may find literature there.


I read a paper once about to bend the knees in case of fall, this prevents lot of impact forces.


For sure, there are simple ways to prevent breaks

##### Emil Enchev 06/27/2019 15:20:46
Detect what position fall, and move head in other direction, after impact will compensate with slight moving to the flor to reduce impact forces

##### Fabien Rohrer [Moderator] 06/27/2019 15:20:13
I had this issue on the Robotis Op


When I was discussing of camera break before, I was speaking on another robot.

##### Emil Enchev 06/27/2019 15:19:22
HeadPitch and HeadYaw will be enough for me

##### Fabien Rohrer [Moderator] 06/27/2019 15:19:03
I think there are, but for sure, we can also bypass such kind of protection. I also think that it's a complex problem, not sure SoftBank adresses this perfectly.

##### Emil Enchev 06/27/2019 15:17:50
`@Fabien Rohrer`  tell me something more about Nao fall = > camera break? Why their is not build in, protection software that will detect falling robot and take measures to protect camera?

##### bing feng 06/27/2019 14:41:18
ill be sure to do so!

##### Fabien Rohrer [Moderator] 06/27/2019 14:39:36
a good exercise could be to open mantis.wbt in Webots and study the controller, play with variables, etc.

##### bing feng 06/27/2019 14:39:00
in fact im still in hs


yet


mainly cuz im not in uni


i have no idea what sinus and cosinus is


..............

##### Fabien Rohrer [Moderator] 06/27/2019 14:38:15
`@bing feng` At some point you need to switch to Webots (if you would like). Creating animation in robotics is not the best idea because very rigid. You could for example try to actuate the motors with sinus/cosinus, it's a good way to start. Take a look at our mantis.wbt example, for example.

##### Emil Enchev 06/27/2019 14:37:10
Do you want backflip too?! Only tell me from what distance NAO can fall on his legs and withstand impact. ðŸ˜ƒ


I will share, something more, you will test them on your real Nao

##### Fabien Rohrer [Moderator] 06/27/2019 14:34:44
`@Emil Enchev` We look forward to see results, please share them with us when you have something ðŸ˜ƒ

##### Emil Enchev 06/27/2019 14:34:16
it is ease, and even I don't need training data like them. Pure math.


As I said, wait some weeks and I will show you behavior of NAO like Bostan Dynamics robot.

##### bing feng 06/27/2019 14:33:21
meh

##### Emil Enchev 06/27/2019 14:32:55
no matter what language you use if you don't think to use ready libraries. And for such work you don't have such libraries at all

##### bing feng 06/27/2019 14:31:12
but then again u still need to code each joints


since blender runs on python u can program smth so it links


`@Fabien Rohrer` i think using python in blender is a possible solution

##### Emil Enchev 06/27/2019 14:30:40
And what they do? I hack them, I fuck them with $ billions, and they still don't understand what to make with my AI work. ðŸ˜‰

##### bing feng 06/27/2019 14:29:25
i think they use AI because it was a pain in the a*s to hire like 100 ppl

##### Emil Enchev 06/27/2019 14:29:24
They steal it from my computer hacking it to check if I"m not collecting database on their users ðŸ˜ƒ

##### bing feng 06/27/2019 14:29:06
`@Emil Enchev` isnt that google?


its by cornell so its a trusted source


[https://arxiv.org/pdf/1812.07252.pdf](https://arxiv.org/pdf/1812.07252.pdf)

##### Emil Enchev 06/27/2019 14:28:40
[https://www.sciencemag.org/news/2017/11/artificial-intelligence-goes-bilingual-without-dictionary](https://www.sciencemag.org/news/2017/11/artificial-intelligence-goes-bilingual-without-dictionary)

##### bing feng 06/27/2019 14:28:39
if anyone elsle is interested in training a robot via sim

##### Emil Enchev 06/27/2019 14:28:38
Do you sure?!  This is what Facebook steal from me 2017

##### bing feng 06/27/2019 14:27:08
AI by urself is pretty difficult

##### Emil Enchev 06/27/2019 14:26:48
ðŸ˜‰ They are. Something you do yourself, of course

##### bing feng 06/27/2019 14:26:45
found smth


[https://www.lyrn.ai/2018/12/30/sim2real-using-simulation-to-train-real-life-grasping-robots/](https://www.lyrn.ai/2018/12/30/sim2real-using-simulation-to-train-real-life-grasping-robots/)


what else am i supposed to use?


no theyre not

##### Emil Enchev 06/27/2019 14:25:32
OpenCV is shit too :-))

##### bing feng 06/27/2019 14:25:15
well..... im in love with fckin opencv rn

##### Emil Enchev 06/27/2019 14:25:10
Neural Networks

##### bing feng 06/27/2019 14:25:04
ah neural network


NN?

##### Emil Enchev 06/27/2019 14:24:55
forget NN they are shits ðŸ˜ƒ

##### bing feng 06/27/2019 14:24:53
meh

##### Fabien Rohrer [Moderator] 06/27/2019 14:24:39
It's a research topic

##### bing feng 06/27/2019 14:24:35
ye but r there any neural nets out there specialized in these kinds of training?

##### Fabien Rohrer [Moderator] 06/27/2019 14:24:26
Webots does not provide such kind of tools, but you can easily embed a library doing this.


With model, I mean to train an artificial neural network or so.

##### Emil Enchev 06/27/2019 14:23:49
I'm good exactly in MATH they are not. They so long trained their robots this mean they use test result as data for stabilization

##### bing feng 06/27/2019 14:23:44
and attach the joints in the software to the one in real life?


like create a model


can webots do this?

##### Fabien Rohrer [Moderator] 06/27/2019 14:23:12
You can create a good looking motion, but it won't work in reality

##### bing feng 06/27/2019 14:23:07
ye ik but its just a pain in the a*s to control 1 motor 1 by 1

##### Emil Enchev 06/27/2019 14:22:53
when I finish documents and get myself in it

##### Fabien Rohrer [Moderator] 06/27/2019 14:22:52
In Blender, you don't deal with physics


This is a big topic.

##### Emil Enchev 06/27/2019 14:22:32
I will demonstrate such capability with your simulation of NAO

##### bing feng 06/27/2019 14:22:22
and add the motion from blender to the real robot?


like is it possible to create a similar robot but in blender


how do u train models tho?

##### Emil Enchev 06/27/2019 14:22:02
they have stabilization software control between steps


but

##### Fabien Rohrer [Moderator] 06/27/2019 14:21:41
either they are good in maths (Inverse Kineamtics, etc.) either they trained models (in Webots!? haha)

##### Emil Enchev 06/27/2019 14:21:33
some sort of predetermine Motions

##### bing feng 06/27/2019 14:21:17
wut

##### Emil Enchev 06/27/2019 14:21:00
Like NAO

##### bing feng 06/27/2019 14:20:21
like the joystick gives the command but its not llike they have 50 joysticks controlling each joints


ye but like the movement

##### Emil Enchev 06/27/2019 14:18:21
They move their robots with joystick mainly

##### bing feng 06/27/2019 14:17:28
or do they have an algorithm that does all the labor?


do they give commands 1 by 1


how do companies like boston dynamics move their robots?

##### Fabien Rohrer [Moderator] 06/27/2019 12:53:51
no, we don't provide support here with your hardware. Sorry, and good luck ðŸ˜‰

##### PhÅ“nix 06/27/2019 12:53:10
Sry i just found this channel while i was doing reshearshe concerning my amd driver

##### Fabien Rohrer [Moderator] 06/27/2019 12:51:46
you're on the Webots chat, do you try to use Webots?

##### PhÅ“nix 06/27/2019 12:50:59
Am i in the correct place ?


I wanted to try the amd gpu driver from dell website and now i lost a lot of settings the problem is i can't find my previous amd driver please help me

##### Fabien Rohrer [Moderator] 06/27/2019 12:46:40
Hi, how could we help you?

##### PhÅ“nix 06/27/2019 12:46:32
I need Help


Hello

##### Fabien Rohrer [Moderator] 06/27/2019 11:59:43
If you have budget and you are in a hurry, you can contact sales@cyberbotics.com to have a quote for your model (come with precise specifications)


It's perfectly doable to model a robot with legs and wheels


`@Nikunj` I recommend you to do our tutorials first and come back later with specific questions ðŸ˜ƒ [https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)

##### Emil Enchev 06/27/2019 11:55:24
And `@Fabi`en , I think that if you arrange one big room with 4-5 NAO robots. One man can maintain them and help renting people if there is some minor problems, like robot fall and stuck or something like that. As `@bing feng` propose 5 Euro on Hour will be good enough for renting people and  even money will remain for the salary of the supporting NAO's person. Everything will be fine.  First, Softbank will stretch a little bit, because they will think it will hurt their business with the sale of robots of universities but in reality students do not pay anyway for using them.  Renting Online will only bring new users to them. The will give you NAO for free, be sure, if they have some brains in a heads.


ðŸ˜ƒ sorry for that


`@Fabien Rohrer` answer `@Nikunj`  the question, because I fill this wall with trush.

##### Nikunj 06/27/2019 11:28:39
@ Emil, thanks a lot for your support .....thank you...

##### Emil Enchev 06/27/2019 11:27:52
`@Nikunj`  , You must wait for Cyberbotics members to answer you.


DarkMatter, yes I'm from Bulgaria, and No I'm not working for HP.  As I said you believe me or not, it doesn't matter at all. We will wait some times and you will see, that SoftBank will give Cyberbotics free NAO robots for online renting. Now really to stop, because we interrupt technical support here.

##### Nikunj 06/27/2019 11:26:32
@ Emil , thank you for the link, i have gone thro' the link earlier ....but found that already available various robot can be  simulated and analyze. please advise if any can develop own robot with 3 wheels and 4 legs type hybrid mobile robot .....please help ...advise...

##### Emil Enchev 06/27/2019 11:16:57
Nikunj, start with this first [https://cyberbotics.com/doc/guide/foreword?version=R2019b](https://cyberbotics.com/doc/guide/foreword?version=R2019b) I'm too new and now read them.

##### bing feng 06/27/2019 11:16:12
did u work at HP cuz thats pretty sick......?


u from Bulgaria?

##### Emil Enchev 06/27/2019 11:13:26
no to stop and not interrupt tech issues advises here

##### bing feng 06/27/2019 11:13:14
malwarebytes is the godly corporation that has more evidence and power than mcafee


mcafee is that news site that no one knows


would you download mcafee or malwarebytes?

##### Emil Enchev 06/27/2019 11:12:38
they only have money, nothing more


this is my point. They are one big nothing, usually

##### Nikunj 06/27/2019 11:12:27
hello, i have just downloaded webot 2019b .. can any body guide me how to build hybrid robot with the help of this software?

##### Emil Enchev 06/27/2019 11:12:09
Because you think that big corporation have the biggest brains ðŸ˜ƒ

##### bing feng 06/27/2019 11:11:29
and another random dude posted it on a website that literally no one knows abt


u literally just posted a lot of comments on a blogspot that some random dude created

##### Emil Enchev 06/27/2019 11:10:47
[https://www.bbc.com/news/business-48752932](https://www.bbc.com/news/business-48752932)


even this problem they find now, is my suggestion


I find what is wrong with it too


I'm the man who make Boeing to ground 737 MAX


Look for my name there

##### bing feng 06/27/2019 11:09:08
ye ik that its like several years old

##### Emil Enchev 06/27/2019 11:08:28
[http://mh370.radiantphysics.com/2017/04/16/atsb-denies-request-from-mh370-families-for-more-info/](http://mh370.radiantphysics.com/2017/04/16/atsb-denies-request-from-mh370-families-for-more-info/)

##### bing feng 06/27/2019 11:07:50
tell me which software u used and show me the python code, the bug is patched, its not illegal to possess that code so send it

##### Emil Enchev 06/27/2019 11:07:45
you believe me or not.


Its not matter, as I said it.

##### bing feng 06/27/2019 11:06:59
ye no i still dont believe u at all

##### Emil Enchev 06/27/2019 11:06:00
And ask them whey they don't arrest me ðŸ˜‰

##### bing feng 06/27/2019 11:05:28
someone who hacked facebook and threatened them, wouldnt be stubborn enough to share that on discord, where they can have 2 life sentences for hacking and corporate espionage

##### Emil Enchev 06/27/2019 11:05:19
My point is. Never underestimate lone wolves. SoftBank Robotics will die if they don't open opportunity for outsiders to write software for their robots.


Its your problem.

##### bing feng 06/27/2019 11:04:07
i obviously dont

##### Emil Enchev 06/27/2019 11:03:59
You can believe me or not.


Now if they arrest me, they have to admit theirs shareholders, that they are cheap idiots and lost billions because they were not given a few tens of thousands of dollars to the man who hack them.

##### bing feng 06/27/2019 11:01:53
so.... which software did u use?

##### Emil Enchev 06/27/2019 11:01:00
I got caught one day and found a second serious break in Facebook platform.  A month before I hacked them I told them: Now you will pay me for the first problem I discovered 2017, then for the new one. They refused because they thought I was bluffing, I hacked them. They lost billions.

##### bing feng 06/27/2019 10:58:18
its patched so no problem right?


can i see that python code?


i still doubt u.....

##### Emil Enchev 06/27/2019 10:57:08
Because, 2017 year I accidentally found a problem on their site that allowed automated retrieval of phone numbers to their users with simple Python code.  I was stupid enough to inform them about it on it support. So  they fixed the problem quietly.  They did not pay me anything for that.

##### bing feng 06/27/2019 10:55:59
i highly doubt u hacked facebook


jkjk


*searches up online*


which software u use?

##### Emil Enchev 06/27/2019 10:51:38
I'm the man who HACK Facebook. As you can see no one arrest me yet. They perfectly know who am I but can not do nothing. Do you know why?

##### bing feng 06/27/2019 10:48:55
i mean they hired several people specialized in specific things and made it spending hours


but u say Boston Dynamics has sh*tty software but its not like u can make something better


i dont mean it as an insullt

##### Emil Enchev 06/27/2019 10:41:57
Do you understand, these their robots not good for anything useful, just because they NOT have the appropriate software.  For example, Boston Dynamic does good hardware for robots, but software is the weak link for them. That's why Google is getting rid of them. It was a good business move from Google site. If SoftBank want to make progress they must think outside the box. For example, I will never work for them    but I'd love to make paid software for their robots, which their specialists can not. And here we fall into a dilemma. I can make wonderful software for their robots, but I can not test it. RENTING online is simple solution.

##### bing feng 06/27/2019 10:35:18
and most companies will fail whether it be a clothing brand or a tech brand if they give stuff out for free


they are a pretty big company rn


google didnt fail

##### Emil Enchev 06/27/2019 10:32:55
They will, or they will die in this robot endeavor like Google

##### bing feng 06/27/2019 10:32:51
which is a pretty stubborn thing to do


they wont give out robots for free cuz then theyll be losing money


anyways


they give out their code for FREEEEEE


except for this BEAUTIFUL COMPANY that made webots


nowadays most companies are about profit


no its just that i doubt softbank will give out their robots for free

##### Emil Enchev 06/27/2019 10:31:50
No, in the near future I will make enough profits from selling software for them.


Ie. whether I want to make a profit out of this endeavor?

##### bing feng 06/27/2019 10:30:26
ah nothin

##### Emil Enchev 06/27/2019 10:29:30
I don't understand question DarkMatter

##### bing feng 06/27/2019 10:28:58
u want pepper?

##### Emil Enchev 06/27/2019 10:27:05
Ok I write issue. You are too dubious. SoftBank Robotics will agree and will provide these robots for free.  They have no idea what they can do with them. You will see.

##### Fabien Rohrer [Moderator] 06/27/2019 10:11:10
with an issue, it's simpler to be notified.


ok thank you


that the creation of an online but real testing setup would be a good idea.

##### Emil Enchev 06/27/2019 10:10:19
I will


Ok

##### bing feng 06/27/2019 10:09:57
ur idea abt NAO and softbank

##### Emil Enchev 06/27/2019 10:09:27
to summarize what?

##### bing feng 06/27/2019 10:09:03
im assuming its u

##### Fabien Rohrer [Moderator] 06/27/2019 10:09:02
maybe you in fact ðŸ˜ƒ

##### Emil Enchev 06/27/2019 10:08:50
Fabien, to whom you talking about?

##### Fabien Rohrer [Moderator] 06/27/2019 10:06:51
We could keep a trace of this.


Could I ask you to summarize this in a github issue? [https://github.com/omichel/webots/issues](https://github.com/omichel/webots/issues)


It's typically a project which would deserve to be proposed as an european project: to sell it before any trial ðŸ˜ƒ

##### bing feng 06/27/2019 10:04:54
im doing it cuz im passionate

##### Emil Enchev 06/27/2019 10:04:52
it ease to bait on NAO and SoftBank

##### bing feng 06/27/2019 10:04:48
then ur thinking only of profit

##### Emil Enchev 06/27/2019 10:04:38
because it it time consuming

##### bing feng 06/27/2019 10:04:22
so why not go for that option?

##### Emil Enchev 06/27/2019 10:04:14
yes, cheaper and better

##### bing feng 06/27/2019 10:03:58
i mean its cheaper right?

##### Emil Enchev 06/27/2019 10:03:55
Next will see, if SoftBank no interest

##### bing feng 06/27/2019 10:03:54
then why dont you do that?

##### Emil Enchev 06/27/2019 10:03:43
If they refuse, we will think another option. Including making our own robot, better from NAO

##### bing feng 06/27/2019 10:03:27
im gonna be completely honest here, I dont think softbank would allow that even if its a good idea

##### Emil Enchev 06/27/2019 10:02:56
Think the idea and try to sell it to them. After they return answer tell me what is it.


Can you ask SoftBank if they want to sell several robots on cheap for this purpose ðŸ˜ƒ


If you make complex environment where everyone can test what he want it will be good add

##### Fabien Rohrer [Moderator] 06/27/2019 09:58:41
this is a good idea to think about

##### bing feng 06/27/2019 09:58:21
and rent it out


u could get a NAO

##### Emil Enchev 06/27/2019 09:57:54
NAO will be other thing


These robots are cheap, and renting will not be profitable, because there will be no interest in rent.

##### bing feng 06/27/2019 09:56:25
u gotta take care of robots because when singularity happens everyone who didnt will die

##### Fabien Rohrer [Moderator] 06/27/2019 09:55:47
honestly, I have unfortunately not much time for this ðŸ˜¦


this is very old, but I once worked on this setup, which is very close of what we are speaking about: [https://www.youtube.com/watch?v=hH5zRy2Rb5U](https://www.youtube.com/watch?v=hH5zRy2Rb5U)

##### Emil Enchev 06/27/2019 09:54:41
I really want to make joke with SoftBank


Fabien, do you allow some testing on yours real NAO?


No need to be


from time to time

##### bing feng 06/27/2019 09:52:45
can't be too safe

##### Emil Enchev 06/27/2019 09:52:16
in my opinion he will endure and there will be a profit, even if repair is required.

##### bing feng 06/27/2019 09:51:36
or accept money to make it run or walk


its like a baby, u dont force it to walk or run when its just born

##### Fabien Rohrer [Moderator] 06/27/2019 09:51:12
in my experiment, there are lot of ways to break a robotm but I'm maybe pessimist with this topic, because I come from software engineering

##### bing feng 06/27/2019 09:50:22
they should take good care

##### Emil Enchev 06/27/2019 09:50:20
Are you sure, that this is only theory?!

##### bing feng 06/27/2019 09:50:17
its expensive.....


and sparks!

##### Emil Enchev 06/27/2019 09:50:01
No, I know how to protect the motors, I don't know why NAO don't have such protection?!

##### bing feng 06/27/2019 09:49:58
and that creates friction


the center pole

##### Fabien Rohrer [Moderator] 06/27/2019 09:49:45
this is the theory haha

##### bing feng 06/27/2019 09:49:44
well most motors have the copper wire connected to the actual line thing

##### Emil Enchev 06/27/2019 09:49:18
why motor will overheats when reach its limits - it must be stop to do more load from that it can stands

##### Fabien Rohrer [Moderator] 06/27/2019 09:49:17
good question to ask on [https://robotics.stackexchange.com/](https://robotics.stackexchange.com/)

##### bing feng 06/27/2019 09:48:49
thx tho


ah

##### Fabien Rohrer [Moderator] 06/27/2019 09:48:40
I'm not expert in motors, sorry.

##### bing feng 06/27/2019 09:48:19
and cheap......


and DC not AC


for carrying heavy objects


oh ye did i ask already, does anyone know a good motor for robotics?

##### Fabien Rohrer [Moderator] 06/27/2019 09:47:39
It would be much more realist to do that on wheeled robots

##### Emil Enchev 06/27/2019 09:47:36
is there not protection mechanism?!

##### Fabien Rohrer [Moderator] 06/27/2019 09:47:18
a bad command => the motor overheats and is dead

##### bing feng 06/27/2019 09:46:57
i mean its technically the same thing right? the software and hardware... :/

##### Fabien Rohrer [Moderator] 06/27/2019 09:46:54
a fall => the camera is broken

##### Emil Enchev 06/27/2019 09:46:45
how breakable do you test it

##### Fabien Rohrer [Moderator] 06/27/2019 09:46:44
I had bad experiments on the robotis op


hardware on such robots is unfortunately also very breakable

##### bing feng 06/27/2019 09:46:13
im j gna continue using the software cuz its FREEEEEE

##### Emil Enchev 06/27/2019 09:46:11
what happen with NAO in heavy falls is someone test it

##### Fabien Rohrer [Moderator] 06/27/2019 09:45:45
and this does not prevent to do heavy falls

##### Emil Enchev 06/27/2019 09:45:38
break, will be include in equation and will have protect software for that purpose

##### Fabien Rohrer [Moderator] 06/27/2019 09:45:25
the API should be very very robust

##### bing feng 06/27/2019 09:45:21
tru

##### Fabien Rohrer [Moderator] 06/27/2019 09:45:12
I also fear that users would break robots in such system

##### Emil Enchev 06/27/2019 09:44:46
yes

##### bing feng 06/27/2019 09:44:44
same, mainly cuz im scared ill break it

##### Fabien Rohrer [Moderator] 06/27/2019 09:44:39
I mean to have an online access to a real robot.

##### Emil Enchev 06/27/2019 09:44:30
I talk only for online rent, not real

##### bing feng 06/27/2019 09:44:28
but then again, their software is exactly that right?

##### Fabien Rohrer [Moderator] 06/27/2019 09:44:10
Yes, this seems much more doable online.

##### bing feng 06/27/2019 09:44:09
ye

##### Emil Enchev 06/27/2019 09:43:59
Why. The user can upload software to robot, and see result in real time for hour or so

##### bing feng 06/27/2019 09:43:41
like cam


even if its online?

##### Fabien Rohrer [Moderator] 06/27/2019 09:43:31
due to constraints with delivery


Renting for less than a day seems impossible

##### bing feng 06/27/2019 09:43:03
ye tru

##### Emil Enchev 06/27/2019 09:42:56
If NAO withstand

##### Fabien Rohrer [Moderator] 06/27/2019 09:42:53
this has to be thought. create a buisness model. A priori, I think it would be too expensive to work.

##### bing feng 06/27/2019 09:42:43
that is a lot of money


40k euros if u run it 24/7/365


they would profit a little right?


well i mean if they charge 5 euros an hour

##### Emil Enchev 06/27/2019 09:41:40
Ooo, this time it will be more from "nice to see you".  So you think RENT will be not profitable?

##### bing feng 06/27/2019 09:40:43
ah

##### Fabien Rohrer [Moderator] 06/27/2019 09:40:27
robotstadium was a contest we organized

##### bing feng 06/27/2019 09:39:29
u guys know each other.....?

##### Fabien Rohrer [Moderator] 06/27/2019 09:39:12
Oh yes, I remember, nice to see you again ðŸ˜ƒ

##### Emil Enchev 06/27/2019 09:38:36
Do you remember the Robostadium old forum, and the most watched topic there, "to stand up the NAO from any position".

##### bing feng 06/27/2019 09:36:32
so hobbyist?

##### Emil Enchev 06/27/2019 09:36:18
Not, I'm not.

##### bing feng 06/27/2019 09:35:47
i want to do it as a job but not old enough YET.... :/

##### Fabien Rohrer [Moderator] 06/27/2019 09:35:29
`@Emil Enchev` Are you from industry, academics or hobbyist?

##### bing feng 06/27/2019 09:35:19
but thats just annoying


apart from controlling each motor 1 by 1

##### Emil Enchev 06/27/2019 09:35:05
I can make NAO to do Backflip if it have power for it

##### bing feng 06/27/2019 09:34:59
im tryna build a bipedal robot but i have no idea how to  stabilise things


meh

##### Emil Enchev 06/27/2019 09:34:32
they do with with many tests


This carap stabilization system they have, can be build very easy with self adapting software

##### bing feng 06/27/2019 09:33:51
although there isnt any real life situation that could help society by doing a backflip


like have u seen atlas doing the frickin back flip

##### Emil Enchev 06/27/2019 09:33:33
Nothing

##### bing feng 06/27/2019 09:33:27
they achieved SOME things


meh

##### Fabien Rohrer [Moderator] 06/27/2019 09:33:18
Haha

##### Emil Enchev 06/27/2019 09:33:08
Not, they are amateurs. Years and achieved nothing

##### bing feng 06/27/2019 09:32:43
u work at boston dynamics?

##### Emil Enchev 06/27/2019 09:32:21
I can make better software from Boston Dynamic ðŸ˜‰


SoftBank are very deluded.  They have to lower prices or put them on cheap rent online

##### bing feng 06/27/2019 09:31:52
robotics is my hobby.....


5


probs like 3 hours


well i wont rent for 3 months.....

##### Fabien Rohrer [Moderator] 06/27/2019 09:31:07
So would you pay 3000$ for a rent of 3 months?

##### bing feng 06/27/2019 09:30:25
but i dont think it can withstand 24/7/365

##### Fabien Rohrer [Moderator] 06/27/2019 09:30:25
The cost of the service should be evaluated too, there are not only benefits haha

##### bing feng 06/27/2019 09:30:03
thats 760 euros profit

##### Emil Enchev 06/27/2019 09:29:40
1 Euro on Hour, 24 on day,  8760 euro for year. Of course, if NAO withstand 1 year ðŸ˜ƒ

##### bing feng 06/27/2019 09:28:52
(sort of....)


its like paying someone to 3d print something

##### Fabien Rohrer [Moderator] 06/27/2019 09:28:45
Having an online testing service seems more doable.


Maybe that the robot manufactors would be interested by such concept.


Sending a robot worldwide is costly, robots are breakable (so a QA service should be created), etc.

##### bing feng 06/27/2019 09:27:30
like add a camera etc.


what about like online physical testing.... :/

##### Fabien Rohrer [Moderator] 06/27/2019 09:26:34
This is for sure a good idea. But I fear that the price for a rent of a 8000 euros robot would be prohibitive too.

##### bing feng 06/27/2019 09:26:32
i meant that i would be happy to pay a small fee for testing


if ur talking abt me i meant the rent services

##### Emil Enchev 06/27/2019 09:25:51
for NAO i mean


Euro 8000 for now is not what many users can afford

##### bing feng 06/27/2019 09:25:17
i would pay!

##### Emil Enchev 06/27/2019 09:25:07
Why you don't organize some RENT services. Pay for time test small tax

##### bing feng 06/27/2019 09:24:54
are the robots available to the public?

##### Fabien Rohrer [Moderator] 06/27/2019 09:24:24
What do you have in mind?


We have serveral real robots in our office, the Nao, Robotis OP, several small wheeled robots, etc.

##### Emil Enchev 06/27/2019 09:23:30
I talk about real robots, not simulation of real robots.

##### Fabien Rohrer [Moderator] 06/27/2019 09:22:33
We do, we have a collection of robots here ðŸ˜ƒ

##### Emil Enchev 06/27/2019 09:21:40
Why you don't buy some real robots for online testing by your Webots users?

##### David Mansolino [cyberbotics] 06/27/2019 07:29:12
You're welcome, no problem, it is always good to have feedback, we will improve the calibration of the contact for this benchmark for a future version.

##### Emil Enchev 06/27/2019 07:28:11
Ok David, obviously I first must read documentation and next to complain from bugs. Thanks

##### David Mansolino [cyberbotics] 06/27/2019 07:26:11
But as described in the doc, it is possible to faithfully calibrate the contact properties: [https://www.cyberbotics.com/doc/reference/contactproperties](https://www.cyberbotics.com/doc/reference/contactproperties)


Indeed the friction betwwen the feets and the ground seems badly calibrated in this simulation...

##### Emil Enchev 06/27/2019 07:25:03
But this is important for me, because I will work on walking-running stabilization programming

##### David Mansolino [cyberbotics] 06/27/2019 07:23:59
In your case it seems you are exploiting some physical instabilites of the physics engine of Webots....

##### Emil Enchev 06/27/2019 07:23:57
Obviously some developer don't think about side resistance as a factor.  Run first place [https://robotbenchmark.net/benchmark/humanoid\_sprint/](https://robotbenchmark.net/benchmark/humanoid_sprint/) and answer me is this simulation behavior normal for Webots?

##### David Mansolino [cyberbotics] 06/27/2019 07:22:41
Hi, congrats for your ranking !

Yes, many researcher are using Webots for walk simulation. Do you have any problem or specific need for your simulations?

##### bing feng 06/27/2019 07:21:39
im new too


nice

##### Emil Enchev 06/27/2019 07:21:08
walking simulations at all?
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/593702341971279922/unknown.png)
%end


Look my first place simulation [https://robotbenchmark.net/benchmark/humanoid\_sprint/](https://robotbenchmark.net/benchmark/humanoid_sprint/) . I'm new in Webots and I think is this good environment for making

##### David Mansolino [cyberbotics] 06/26/2019 13:10:36
Webots is compatible with C, C++, Matlab, Java, Python and ROS.

##### bing feng 06/26/2019 13:01:56
and sorta have a little bit of python and C


cuz im tryna build a robot using arduino and a raspberry pi


which programming language does webot use?


oh wow

##### Fabien Rohrer [Moderator] 06/26/2019 12:58:34
please take a look at the node hierachy, and the object center.
%figure
![blender.png](https://cdn.discordapp.com/attachments/565154703139405824/593424871082557441/blender.png)
%end


we guarantee it's clean

##### bing feng 06/26/2019 12:56:35
im hoping this file doesnt have a virus or malware (not an insult) cuz windows defender marked it as dangerous


yeye

##### Fabien Rohrer [Moderator] 06/26/2019 12:55:54
then create a node hierarchy

##### bing feng 06/26/2019 12:55:42
ah


then how will i or this godly software know where to move the joints?

##### Fabien Rohrer [Moderator] 06/26/2019 12:55:33
you need to split the object into peaces, one node per DOF


no rig

##### bing feng 06/26/2019 12:54:46
ok i cant find it cuz im not that good at blender (literally started this year) but do i need to rig the model in order for it to move?


hold on ill send screenshots


no i meant the thingy

##### Fabien Rohrer [Moderator] 06/26/2019 12:44:50
If you open these files, you will certainly understand what I mean: [https://github.com/omichel/blender-webots-exporter/tree/master/examples/abb](https://github.com/omichel/blender-webots-exporter/tree/master/examples/abb)


No, the exporter is currently only supporting solids. You need to create a node per degree of freedom (aka DOF, aka Solid), and create  a tree hierarchy in blender. The relative center of the nodes will used as joint pivot center. The rotation axis can be set in the JSON file.

##### bing feng 06/26/2019 12:41:40
cuz i have no experience in those


to moves the parts do i need to add things like bones and rigid body things.....

##### Fabien Rohrer [Moderator] 06/26/2019 12:39:03
If you have good knowledge in Blender, you could start by studying the arm example. If the node hierarchy is well done in Blender, it's simple to export the Blender model to Webots.

##### bing feng 06/26/2019 12:37:19
oh wow u guys have atlas!

##### Fabien Rohrer [Moderator] 06/26/2019 12:37:18
But it's perfectly possible to use the exporter to create a humanoid


In the exporter, an Arm is used as an example.


Webots contains lot of biped robots: here is the list of the released robots: [https://cyberbotics.com/doc/guide/robots](https://cyberbotics.com/doc/guide/robots)

##### bing feng 06/26/2019 12:36:09
but im thinking of using blender to create the base model


well im downloading the webots software rn

##### Fabien Rohrer [Moderator] 06/26/2019 12:35:38
do you mean in the exporter?


Hi, yes for sure. We have several biped models.

##### bing feng 06/26/2019 12:34:57
is it possible to simulate a bipedal robot instead of an arm?


okok thx

##### Olivier Michel [cyberbotics] 06/26/2019 12:16:19
Let us know if you have specific questions.


Everything is explained here: [https://github.com/omichel/blender-webots-exporter](https://github.com/omichel/blender-webots-exporter)


We even have a blender to Webots exporter.

##### bing feng 06/26/2019 12:14:39
how do i do the joints

##### Olivier Michel [cyberbotics] 06/26/2019 12:14:30
Sure.

##### bing feng 06/26/2019 12:14:25
can i use blender for the 3d models?

##### Olivier Michel [cyberbotics] 06/26/2019 12:14:18
Hi,

##### bing feng 06/26/2019 12:14:05
hi!

##### Stefania Pedrazzi [cyberbotics] 06/26/2019 06:13:02
`@JustDN` using the PositionSensor as you do is the correct way to check if motor movement is completed.

##### JustDN 06/25/2019 16:11:53
Is there a way to check if a motor has moved to its intended location before executing the next action in C? I've been using an if statement "if(-1.31<wb\_position\_sensor\_get\_value(arms)&& wb\_position\_sensor\_get\_value(arms)<-1.299)" is there an easier way to than doing this?


Thank you! It works.

##### Fabien Rohrer [Moderator] 06/24/2019 15:06:53
Something like this. We use often this pattern.
> **Attachment**: [keyboard\_snippet.c](https://cdn.discordapp.com/attachments/565154703139405824/592732386098413589/keyboard_snippet.c)


Let me a minute to find a snippet


What you tried seems correct.


Hi,

##### JustDN 06/24/2019 15:01:09
I'm trying to make my robot to do a motion when the spacebar is pressed, how do you do that in C? I've tried enabling the keyboard and getting the key, then doing a statement for when the key is pressed, but it is not working.

##### Fabien Rohrer [Moderator] 06/22/2019 09:05:01
Please refer to this link: [https://cyberbotics.com/doc/guide/system-requirements](https://cyberbotics.com/doc/guide/system-requirements)

##### riad.youssef 06/22/2019 09:00:41
I want to download the application, I want to know windows requirments


Hi

##### David Mansolino [cyberbotics] 06/21/2019 16:10:01
`@TH0`  , you are completely right, the coordinate system of the nao is not perfect as it is by default rotated, you should therefore combine your rotation with the '1   0  0  -1.5708' rotation, we do not provide any tool to do this, but I am sure you can find some nice libraries that do this.

##### TH0 06/21/2019 15:56:47
i guess the coordinate system from the nao proto itself is rotated and that caused the strange values. but maybe you know a simple work around for that


Hi, is there some helper function to calculate the SFRotation values?

for example: i just like to rotate a Nao (in the soccer simulation) by a supervisor program by alpha degrees keeping the feet on the ground. 

I thought just to set the rotation vector to the y axis (perpendicular to the field) and than simply adjust the angle. but that does not work.



In contrast the values for such a SFRotation are strange:

Looking towards first goal from center circle: SFRotation = 1   0  0  -1.5708

Looking to other side towards opposite goal from center circle (turn by 180 degrees): 0   0.7071    0.7071    -3.1415

##### Olivier Michel [cyberbotics] 06/21/2019 13:14:20
`@SamuelKopp`: webots 2> /dev/null ?

##### nisuunn 06/21/2019 13:06:17
then it prints out  the correct number


dWebotsConsolePrintf("%s\n", emitterData);


I now have


I think it works okay now

##### El\_Samu\_El 06/21/2019 12:35:26
how do I ignore the warnings that webots outputs on starting from the terminal?

##### Olivier Michel [cyberbotics] 06/21/2019 12:32:30
(or ignore the warnings, or install a virtual sound card on your VM).


`@El_Samu_El`: in that case, you should probably recompile Webots from the sources and disable the sound functions (initialization, etc.).

##### nisuunn 06/21/2019 12:31:46
I still crash

##### El\_Samu\_El 06/21/2019 12:30:48
Yeah the sound is turned off. I think it complains because there isn't any sound card.

##### nisuunn 06/21/2019 12:30:44
ah yeah the 1st line was char *emitterData; , the copy didn't work properly for some reason.

##### Olivier Michel [cyberbotics] 06/21/2019 12:29:49
printf should be %s, not %f


You need to receive char *, not char.

##### nisuunn 06/21/2019 12:29:18
The resulting print is:  0.000000


I now have :

char *emitterData;

int size;

 emitterData = (char*) dWebotsReceive(&size);

 dWebotsConsolePrintf("%f\n", *emitterData);

##### Olivier Michel [cyberbotics] 06/21/2019 12:28:38
Did you try to disable audio from the GUI?

##### El\_Samu\_El 06/21/2019 12:27:59
Hi is there any way to turn off sound for webots? I am getting a lot of error messaging from ALSA at every startup when using a VM.

##### Olivier Michel [cyberbotics] 06/21/2019 12:25:16
And try to print the received string instead of trying to convert it to float (for now).

##### nisuunn 06/21/2019 12:24:49
I will try.

##### Olivier Michel [cyberbotics] 06/21/2019 12:24:36
Can you try using char * instead of C++ string?

##### nisuunn 06/21/2019 12:22:41
3

##### Olivier Michel [cyberbotics] 06/21/2019 12:22:34
Are you using Python 2 or 3 ?

##### nisuunn 06/21/2019 12:19:57
the second line in the physics plugin "std::string emitterData" can be ignored


so I tried to use sscanf to convert the controllers sent string to float


I couldn't get that to work


I tried your earlier suggestion of receiving doubles instead because python doesn't have float.


std::string *emitterData;

std::string *emitterData;

emitterData = (std::string*) dWebotsReceive(&size);

const char *cstr = emitterData->c\_str();

float target;

 sscanf(cstr, "%f", &target); // convert string to float

dWebotsConsolePrintf("%f\n", target);


ill send physics plugin again


std::string *emitterData;

int size; emitterData = (std::string*) dWebotsReceive(&size);

   const char *cstr = emitterData->c\_str();

   float target;

   sscanf(cstr, "%f", &target); // convert string to float

   //float aNumero=strtof((*emitterData).c\_str(),0); // string to float

   //float val = std::stof(*emitterData); 

   //HERE

   dWebotsConsolePrintf("%f\n", target);


the c++ physics plugin is


b = repr(msg).encode()

        print("b: " + str(b))

        emit1.send(b)


the python controller is:


I still crash


Okay, thanks for your time.

##### Olivier Michel [cyberbotics] 06/21/2019 10:36:16
If you can't achieve this, you can always pass strings and convert them to float using sscanf(s, "%f", &value);

##### nisuunn 06/21/2019 10:35:32
Thank you, I will try that

##### Olivier Michel [cyberbotics] 06/21/2019 10:35:15
I believe Python don't have IEEE float, but only double. Replace const float emitterData = (float) with const double *emitterData = (double *)and replace %d with %g or %f in your printf...

##### nisuunn 06/21/2019 10:30:46
How to correctly receive floats?


Running this crashes


const float *emitterData = (float*) dWebotsReceive(&size); // receiving floats?

   dWebotsConsolePrintf("%d\n", emitterData[0]);


Hi, I'd like to send messages using an emitter from a controller to a physics plugin. (The controller is in python).

I can send strings no problem

But I would like to send floats.

In the controller I do: 

msg = struct.pack("f", xVal) # where xVal is a float

emit1.send(msg)

In the physics plugin I have:

##### David Mansolino [cyberbotics] 06/20/2019 15:52:10
You're welcome

##### nisuunn 06/20/2019 15:51:57
thank you!


Yes, that solves it

##### David Mansolino [cyberbotics] 06/20/2019 15:51:09
Probably, I would suggest to try

##### nisuunn 06/20/2019 15:50:58
so selfcollision to false would help?

##### David Mansolino [cyberbotics] 06/20/2019 15:50:41
In that cas that can indeed be a problem, because the legs might collide with the touchsensors and prevent them from moving

##### nisuunn 06/20/2019 15:50:02
the robots selfCollision field in the node tree is set to true

##### David Mansolino [cyberbotics] 06/20/2019 15:49:32
did you enable the robot.selfCollision ?

##### nisuunn 06/20/2019 15:49:24
a child of torso


the sensor is attached to the torso


the boundingobject touches the robots legs, is that okay?

##### David Mansolino [cyberbotics] 06/20/2019 15:44:46
I just tried and it is working fine, you can define the BoundingObject of the touchSensor without defining any Physics node. What is the weird behavior you observe? Did you make sur the bounding object of the sensors is not touching anythin elese than the robot itself (the collision with this bounding object will still be taken into account).


let me try


You obviously need to define the boundingObject of the touchsensor to define the detection area, but you should be able to not add any physics

##### nisuunn 06/20/2019 15:42:29
but the mass of boundingobject gets added to robots mass


when i add physics node robots physics is normal


then my robot's physics behaves weirdly,


when I have touchsesnor of  type bumper without physics defined

##### David Mansolino [cyberbotics] 06/20/2019 15:41:25
Ah ok, for the touchsensors it is indeed different

##### nisuunn 06/20/2019 15:41:15
trying to use touchsensor and set its boundingobject


im sorry i meatn touch sensor


The documentation says that no physics node is needed for bumper type of touchsensor

##### David Mansolino [cyberbotics] 06/20/2019 15:40:13
If you want to set both the mass and desity to 0, you simply have to remove the 'Physics' node.

##### nisuunn 06/20/2019 15:39:29
is there any way around this?


which is undesirable


but this boundingobject adds the mass of the boundingobject to my robot


for which I need to define a boundingobject


I would liek to use an IMU


Hello, is it possible to set the boundingobject mass to 0?

##### Olivier Michel [cyberbotics] 06/20/2019 06:15:41
`@adhitthana`: Yes, this is possible (we use this when running Webots in the cloud).


`@fa`: Yes, check out [https://robotbenchmark.net](https://robotbenchmark.net)

##### Stefania Pedrazzi [cyberbotics] 06/20/2019 06:12:30
`@Akash` for the Compass device example please look at the `samples/devices/compass.wbt` world . You can Open it from the `File > Open Sample Worlds` menu

##### adhitthana 06/19/2019 21:30:50
`@Heller Drake`  on linux it is possible to run a dummy x server and  launch webots on it: [https://techoverflow.net/2019/02/23/how-to-run-x-server-using-xserver-xorg-video-dummy-driver-on-ubuntu/](https://techoverflow.net/2019/02/23/how-to-run-x-server-using-xserver-xorg-video-dummy-driver-on-ubuntu/).

##### Akash 06/19/2019 18:34:03
Is there any example file available in webots where compass device is been used?

##### fa 06/19/2019 17:04:13
Is it possible to run Webots only in web browser? I don't wanna launch Webots, even in minimized mode

##### nisuunn 06/19/2019 14:37:08
Yes, thank you

##### Olivier Michel [cyberbotics] 06/19/2019 14:35:18
This is a basic C programming question and is not related with Webots.


(note %d instead of %s)


if passing a int *


dWebotsConsolePrintf("%d\n", emitter[0]);


Your printf is wrong anyhow, it should be:


it should be dWebotsConsolePrintf("%s\n", emitter\_data);

##### nisuunn 06/19/2019 14:34:02
but if i was sending int instead of char, then I'd still use int?

##### Olivier Michel [cyberbotics] 06/19/2019 14:33:55
dWebotsConsolePrintf("%s\n", emitter[0]); seems wrong


It should be "char *emitter\_data"


int *emitter; seems wrong


You should send plain text from your Python controller and read plain text from the physics plugin.

##### nisuunn 06/19/2019 14:31:56
What is the correct way of sending a message?


This crashes my webots


in the physics plugin's webots\_physics\_step loop


int* emitter;

   int size;

   emitter = (int*) dWebotsReceive(&size);

   dWebotsConsolePrintf("%s\n", emitter[0]);


and


in the controller


structPacked = struct.pack(b"chd")

    emit1.send(structPacked)


Right now im trying out:


Hi, I am trying to use an emitter to send data to a physics plugin. (controller is in python).

##### Fabien Rohrer [Moderator] 06/19/2019 14:29:17
You're welcome


Unfortunately Webots needs a GUI, we don't have better solutions for now.

##### Heller Drake 06/19/2019 14:02:44
I already took a look into the cli options but none of them has the wanted effect (that is without having the Webots icon popping up on the application bar), sadly.



For now I'll stick with redirecting stdout and stderr to console as you have suggested!



Thank you very much for your time! ðŸ˜ƒ

##### Fabien Rohrer [Moderator] 06/19/2019 13:56:00
You can have more information about these options here: [https://cyberbotics.com/doc/guide/starting-webots#command-line-arguments](https://cyberbotics.com/doc/guide/starting-webots#command-line-arguments)


Try "./webots --minimize --batch --stdout --stderr"


Hi,

##### Heller Drake 06/19/2019 13:53:37
Good evening everyone! I'm looking for a way to launch Webots in batch mode BUT without GUI. Unfortunately I've been unable to find any clue throughout the online documentation. So I was wondering if there is any way to genuinely achieve it, even with a console trick.



PS: I hope to be in the right section

##### David Mansolino [cyberbotics] 06/19/2019 13:30:44
Hi `@DimitrisK`,  you can put any integer value, this is the exit code ([https://cyberbotics.com/doc/reference/supervisor?tab=python#wb\_supervisor\_simulation\_quit](https://cyberbotics.com/doc/reference/supervisor?tab=python#wb_supervisor_simulation_quit)), you probably want to exit with 0 in case of success and 1 in case of failure

##### DimitrisK 06/19/2019 13:28:59
Hello! Can you give me an example of how to use  simulationQuit(variable)  in python? Specifically,what variable do i use  in the parenthesis?

##### Fabien Rohrer [Moderator] 06/19/2019 12:00:28
Did you thought to use a InerialUnit instead of a Compass? It can return the roll/pitch/yaw, yaw is basically what you need.


It's probably due to your algorithm.

##### Akash 06/19/2019 11:09:59
I wrote the function get\_bearing\_in\_degrees() in  python, set the vaule of M\_IP to 3.14...6, and the lookup table I have made it is having three vector values -1, 0 and 1, and three response values 0, 90 and 180 respectively. The output values are not proper it is varying from 270 to 360 only. Any solution so that I can get proper values in the output, like on 56 degree the output will be 56 or on 219 degree output will be 219?

##### Olivier Michel [cyberbotics] 06/19/2019 10:45:36
It's a standard C constant defined in math.h


3.141592653589793238462643383279502884197169399375105820974944592307816406286

##### Akash 06/19/2019 10:44:01
In the function get\_bearing\_in\_degress() there is a variable M\_PI. This variable is also used in other functions but I can find its value. What is the value of  M\_PI ?

##### Stefania Pedrazzi [cyberbotics] 06/19/2019 06:29:03
`@Akash` the Compass returned value is the direction of virtual north so you cannot perform the conversion directly using the lookup table becaue the returned value for a 45 degrees rotations is [0.7075, 0, 0.7075]. Instead you should compute the angle in your controller using the `get_bearing_in_degress()` function described in the Reference Manual:  [https://www.cyberbotics.com/doc/reference/compass#wb\_compass\_get\_values](https://www.cyberbotics.com/doc/reference/compass#wb_compass_get_values)

##### Akash 06/19/2019 00:05:05
Can get a proper lookup table chart values for 'Compass'. The lookup table I have made it is having three vector values -1, 0 and 1, and three response values 0, 90 and 180. When I rotate the bot on 0, 90 or 180 degree the function compass.getValues() giving proper response/output values of 0, 90 and 180 respectively, but while I rotate it to any other degree output values are not as expected like on 45 degree the function is giving a output value of 23. Is there any proper lookup table chart by which  on 45 degree a output value of 45 can be achieved?

##### El\_Samu\_El 06/18/2019 12:29:31
thanks again !

##### Fabien Rohrer [Moderator] 06/18/2019 12:28:42
Great

##### El\_Samu\_El 06/18/2019 12:28:27
you were right, this solves it. I assumed python calls \_\_init\_\_ automatically.

##### Fabien Rohrer [Moderator] 06/18/2019 12:27:31
init is prefixed and suffixed by 2 `_`


Sorry, Discord has formated my answer:

##### El\_Samu\_El 06/18/2019 12:26:45
[RL\_controller]     super().init()

[RL\_controller] AttributeError: 'super' object has no attribute 'init'

##### Fabien Rohrer [Moderator] 06/18/2019 12:25:06
[https://stackoverflow.com/questions/576169/understanding-python-super-with-init-methods](https://stackoverflow.com/questions/576169/understanding-python-super-with-init-methods)


In Python 2 it's: "Robot\_Environment.\_\_init\_\_(self)"


This is a Python 3 statement.


Add "super().\_\_init\_\_()" on the first line of the "\_\_init\_\_" cfunction content.


The \_\_init\_\_ deserve certaily a call to the super() function:


Is the Supervisor constructor correctly called?

##### El\_Samu\_El 06/18/2019 12:19:47
Maybe cause the python api asserts that the class name is correct


I can get around this error by just creating a single supervisor instance, but I wonder why inheritance does not work.

##### Fabien Rohrer [Moderator] 06/18/2019 12:19:14
you're right, it's an issue with the Supervisor class

##### El\_Samu\_El 06/18/2019 12:18:24
but I printed it


can't share the picture right now in discord

##### Fabien Rohrer [Moderator] 06/18/2019 12:18:18
oh sorry, I'm maybe wrong

##### El\_Samu\_El 06/18/2019 12:18:04
this error does not happen when I create a supervisor instance and then use this one to call the method


yeah it is a string

##### Fabien Rohrer [Moderator] 06/18/2019 12:11:15
Could you "print(n)" just before line 26? This should be a string, but it is certainly not.


A Python String is expected, and something else is given


`@El_Samu_El` The error is more related with the argument passed to getFromDef


`@Karl` ok, it will be released with the new release, coming soon.

##### El\_Samu\_El 06/18/2019 12:07:23
self.getFromDef("motorname")


I'm not really understanding this error code. Isn't the first argument here "self" and thus a Supervisor. My class is inheriting SV. Why the type error?
%figure
![Screenshot_from_2019-06-18_13-00-51.png](https://cdn.discordapp.com/attachments/565154703139405824/590512773780340766/Screenshot_from_2019-06-18_13-00-51.png)
%end

##### Karl 06/18/2019 12:06:51
Yes thats perfect!

##### Fabien Rohrer [Moderator] 06/18/2019 12:04:13
Probably better like this? [https://github.com/omichel/webots/pull/585](https://github.com/omichel/webots/pull/585)


I'm trying something, please stay online ^^

##### Karl 06/18/2019 11:54:42
You're right, it should be possible to figure it out as it is, but I think we would've had an easier time with that mention


I think it would be helpful to mention the WB\_MODE\_REMOTE\_CONTROL argument

##### Fabien Rohrer [Moderator] 06/18/2019 11:42:37
If not, I can improve it right now


Do you think the references to wb\_robot\_set\_mode in the following page are not enough? [https://www.cyberbotics.com/doc/guide/controller-plugin](https://www.cyberbotics.com/doc/guide/controller-plugin)

##### Karl 06/18/2019 11:40:32
Thanks a lot! Perhaps it would be good to add that to the remote control docs


That was it


Ahh right!

##### Fabien Rohrer [Moderator] 06/18/2019 11:39:23
This allows to switch to the remote control library after some event, typically a GUI button


[https://cyberbotics.com/doc/reference/robot#wb\_robot\_get\_mode](https://cyberbotics.com/doc/reference/robot#wb_robot_get_mode)


In addition to set correctly the Robot.remoteControl field (as you mention), the remote control library is used when the wb\_robot\_set\_mode(WB\_MODE\_REMOTE\_CONTROL) is explicitly called in he controller:

##### Karl 06/18/2019 11:18:41
Or is 'running the controller', as described in the remote control docs, different from 'running the simulation'?


I'm developing a remote control and wbr\_init seems to be correctly called from entry\_points . There I link the interface functions to my own (like `ri->mandatory.wbr_start = Wrapper::start;`). However, these functions never seem to be called... also, when running it in WeBots, the simulation still seems to be used. Do I have to tell WeBots to use the real-life remote control somehow? Other than setting it in the remote\_control field of course

##### DimitrisK 06/18/2019 11:07:06
Ok thank you very much! I 'll  make the changes in order to make this work

##### David Mansolino [cyberbotics] 06/18/2019 11:06:08
This is documented here: [https://www.cyberbotics.com/doc/guide/using-numerical-optimization-methods#using-two-distinct-types-of-controllers](https://www.cyberbotics.com/doc/guide/using-numerical-optimization-methods#using-two-distinct-types-of-controllers)

##### DimitrisK 06/18/2019 11:05:20
Is there an example of this somewhere? On how to use two controllers i mean

##### David Mansolino [cyberbotics] 06/18/2019 11:02:18
I would recommend to split your robot and your supervisor controllers. To do so you can of course have a supervisor without any physics/shape/etc.


In that case the problem is not removing it, but once removed you won't be able to re-add it because you don't have any supervisor anymore...

##### DimitrisK 06/18/2019 11:00:40
Yes exactly

##### David Mansolino [cyberbotics] 06/18/2019 10:58:48
You mean the Thmio2 robot itself is the supervisor ?

##### DimitrisK 06/18/2019 10:57:54
I though of that as a possible solution. Can you give me a hint on how tp do that? My robot is the Supervisor so i don't know if removing it could cause problems...

##### David Mansolino [cyberbotics] 06/18/2019 10:49:40
Hi `@DimitrisK`, that is indeed possible that very small physic errors accumulate over the iterations and can cause problems after a high number of iterations.

To work around the issue, you can revert the simulation from your supervisor controller or if you don't want your supervisor controller to restart, you can, after a defined number of iterations (e.g. 50) remove and re-import the Thymio2 robot in the simulation, this way you will have a 'brand new robot' without any accumulated errors.

##### DimitrisK 06/18/2019 10:15:59
I am trying to apply reinforcement learning in the "obstacle avoidance" environment (as seen in robotbenchmark). After a number of iterations (about 120 episodes,with 800 robot steps each) the Thymio2 is literaly falling apart. I can see that gradually the wheels of the robot are starting to stick out of the body more and more,until it eventually falls apart and the physics stop making sense. I am reseting the physics in each  step but doesn't seem to change anything. What could be the problem? Could it be that the robot is "breaking" due to the colision happening during the training? And if so,how can i stop that from happening?

##### Fabien Rohrer [Moderator] 06/18/2019 06:38:12
It's in C++, but this released example does similar things: [https://cyberbotics.com/doc/guide/samples-howto#vision-wbt](https://cyberbotics.com/doc/guide/samples-howto#vision-wbt)


[https://cyberbotics.com/forum?message=8666](https://cyberbotics.com/forum?message=8666) Here is a small snippet to convert the camera image to a numpy array (the input of Python OpenCV)


`@Bizzaropoulos` You could refer to the following example/snippets:

##### Bizzaropoulos 06/17/2019 17:11:43
Hello I am trying to use OpenCV(Python) but the image captured from the camera object is in a different format from OpenCV. How can I convert between formats?

##### Olivier Michel [cyberbotics] 06/17/2019 15:26:52
Hi, not in the examples provided in Webots. It is up to you to implement it, like many Webots users did.

##### JustDN 06/17/2019 14:26:05
Are there any simulations that uses reinforcement learning?

##### David Mansolino [cyberbotics] 06/17/2019 13:29:38
Here for example a user reported on our old forum that he successfully managed to let Webots work in WSL (he had problem with ROS but this is another topic): [https://www.cyberbotics.com/forum/forum?message=8265](https://www.cyberbotics.com/forum/forum?message=8265)

##### TH0 06/17/2019 13:17:49
i know what you mean and it's already working in native linux but some of our team members do not use linux as the native OS. So the idea was to "simply" run webots under WSL for development independent from the native OS.

you say: "other users have been able to let it work". do you know who or where to find the tricks for the setup? ðŸ˜ƒ

##### David Mansolino [cyberbotics] 06/17/2019 11:52:32
`@Deleted User` Webots can probably work in WSL too (if I remember correctly other users have been able to let it work) but it might be tricky to setup. Won't it be simpler to run it directly under Linux in that case ?

##### TH0 06/17/2019 09:28:36
`@David Mansolino`  Our Robot Controller uses Unix Domain Sockets to emulate the Lola-Interface from a Softbank Nao V6, so it does not work on Windows.

I ask the question about WSL because we also tested Gazebo and it works without problems in WSL and we wonder that webots doesnt and hope it's maybe only a small fix needed.

##### David Mansolino [cyberbotics] 06/17/2019 07:08:01
You're welcome.

##### MohamedSabry 06/17/2019 07:07:34
`@David Mansolino` thank you so so much, it is working now

##### David Mansolino [cyberbotics] 06/17/2019 07:03:35
`@MohamedSabry` have you tried using the safe mode?

 [https://cyberbotics.com/doc/guide/starting-webots#safe-mode](https://cyberbotics.com/doc/guide/starting-webots#safe-mode)

##### MohamedSabry 06/17/2019 07:02:33
`@David Mansolino` Yes I realized that, but when I installed the latest version, it always crashes even though I updated my graphics drives and made sure to use my "Nvidia Geforce 840M" as the graphics card responsible for the running of the application, so what should I do?

##### David Mansolino [cyberbotics] 06/17/2019 06:29:56
`@TH0` wouldn't it be simpler to use the Windows version of Webots directly if you are on Windows?


`@sai` No this is unfortunately not possible. Howver, you can encapsulate all your objects in a PROTO file (in which you can use our template engine) to do this: [https://www.cyberbotics.com/doc/reference/proto](https://www.cyberbotics.com/doc/reference/proto)

Alternatively you can use a Supervisor to change the position of the objects at first step (or any other step): [https://www.cyberbotics.com/doc/reference/supervisor](https://www.cyberbotics.com/doc/reference/supervisor)


`@MohamedSabry` Which version of Webots are you using? As Webots is now open-source you should not have any problem with licenses if you use the latest one.

##### TH0 06/16/2019 11:28:42
Hi, i have a problem running webots in the windows subsystem for linux:

After starting webots, the gui is shown for part of a second. webots crashed after that with the error:



nao@DESKTOP-O5VO47I:~/Downloads/webots$ ./webots

Warning: QStandardPaths: XDG\_RUNTIME\_DIR not set, defaulting to '/tmp/runtime-nao'

shared memfd open() failed: Function not implemented

pcilib: Cannot open /proc/bus/pci

pcilib: Cannot find any working access method.



(the memfd error appears after we installed pulseaudio because we thought it was an error with the sound device. but the pcilib error is still there)

##### MohamedSabry 06/15/2019 14:48:17
`@Olivier Michel`


I followed the installation steps and there isn't anything stating that I should have a license to verify my software after installation


Does anyone have an idea how to solve it?


error requested licenses (webots edu or pro) not available. no license pack


I just installed it, followed the tutorial on  [https://cyberbotics.com/doc/guide/tutorial-1-your-first-simulation-in-webots-20-minutes?tab=matlab](https://cyberbotics.com/doc/guide/tutorial-1-your-first-simulation-in-webots-20-minutes?tab=matlab) and whenever I start and run the simulation


Hello, I am new to webots and I have a license problem

##### sai 06/14/2019 21:53:30
Hello, I have a question in webots world files. Can we use variables to store and use float values in world files? For example I have multiple objects in the scene and using a variable I want to change the position of all objects by the same distance.

##### Olivier Michel [cyberbotics] 06/14/2019 14:32:48
You are welcome.

##### nisuunn 06/14/2019 14:32:39
yep, thanks for the help and suggestions.

##### Olivier Michel [cyberbotics] 06/14/2019 14:32:22
So, you should probably try to complexify your simple example until you get this supposedly wrong behavior and you will likely find the culprit...

##### nisuunn 06/14/2019 14:31:35
even when upside down


In the simpler case I tried it in, the spring behaved as expected I think


I'm unable to do it, but it's no issue in my case so it's okay.

##### Olivier Michel [cyberbotics] 06/14/2019 14:03:13
Yes.

##### nisuunn 06/14/2019 14:01:27
do you mean with a single slider joint, rather than hinge?

##### Olivier Michel [cyberbotics] 06/14/2019 14:01:02
I see, but it would be interesting to see if you can reproduce the same problem with a single hinge joint which has the same spring property.

##### nisuunn 06/14/2019 13:59:12
but i would expect the springs to support the feet when upside down, as they were able to support the entire robot's mass when the correct way up


and allow the feet to drop down


however when upside down, as can be see from the video, the springs compress


In the video: when the robot is the correct way up, its upper legs are supported by the springs that connect the feet and upper leg

##### Olivier Michel [cyberbotics] 06/14/2019 13:56:57
Thank you. However, it is not very clear to me what the problem is. Could you create a minimalist simulation (just one joint) showing the problem?

##### nisuunn 06/14/2019 13:49:25
Here is



> **Attachment**: [out.ogv](https://cdn.discordapp.com/attachments/565154703139405824/589089001751969811/out.ogv)

##### Olivier Michel [cyberbotics] 06/14/2019 13:42:13
Can you share a movie showing the problem you have?


Ok, that means it is probably not related with gravity...

##### nisuunn 06/14/2019 13:41:02
even when upside down


at +9.81  springs behave as expected i think


gravity 0: still the same

##### Olivier Michel [cyberbotics] 06/14/2019 13:37:24
And setting the gravity to 0?


What about reversing the gravity e.g, +9.81 instead of -9.81?

##### nisuunn 06/14/2019 13:35:53
or down to 0.5 as well


lowering the gravity to around 3 still pulls the springs down when upside down


Ill try it out

##### Olivier Michel [cyberbotics] 06/14/2019 13:33:27
Did you try to play with the WorldInfo.gravity value to see how it affects the behavior?

##### nisuunn 06/14/2019 13:33:23
Perhaps, but if the robot is not upside down, then the springs manage to support the mass of the robot, hence I would expect the springs to not be pulled down by only gravity when upside down

##### Olivier Michel [cyberbotics] 06/14/2019 13:32:45
Hi, could that be because of gravity?

##### nisuunn 06/14/2019 13:31:46
with a spring constant


The spring is a slider joint


Hi, my robot has springs around its feet or knees. They work as expected, except for when the robot is upside down. When the robot is upside down, for some reason the springs move in the opposite direction that you'd expect, why is that?

##### David Mansolino [cyberbotics] 06/13/2019 15:24:48
You might also want to ask for help here: [https://robotics.stackexchange.com/](https://robotics.stackexchange.com/)


We have developed a benchmark similar to your task, maybe this can help you: [https://robotbenchmark.net/benchmark/obstacle\_avoidance/](https://robotbenchmark.net/benchmark/obstacle_avoidance/)


I am sorry but this is not striclty related to Webots, but more to robotic in general, this chat is only for Webots related questions

##### Lefa 06/13/2019 15:22:01
i need to make a project of a robot in unknown map have a target to reach with avoiding any obstavcles in its way

##### David Mansolino [cyberbotics] 06/13/2019 15:21:04
what is your problem ?


Hi

##### Lefa 06/13/2019 15:20:34
Hey guys , i am stuck on a project using webots to avoid obstacle untill reached the desired goal , can anyone help me ?

##### Fabien Rohrer [Moderator] 06/13/2019 14:55:33
I have an example using a template engine if you would like, I can share it with  you in private.

##### El\_Samu\_El 06/13/2019 14:54:16
Thanks for your help once again!


Okay, yeah I am new to networking and related stuff in general.  But gave it anyway a try. It's not that easy I think. (For someone with experience it probably is)

##### Fabien Rohrer [Moderator] 06/13/2019 14:52:28
I'm not sure exactly about how to implement the TCP client-server, sorry.


you could forge a world with a different name for each instance.

##### El\_Samu\_El 06/13/2019 14:51:10
would you use the selector module for TCP in python?

##### Fabien Rohrer [Moderator] 06/13/2019 14:50:57
then probably the template thing is the best


Ok

##### El\_Samu\_El 06/13/2019 14:50:32
But I need to start these processes sometimes with different configurations, thus the controller argument.


So I was trying to workaround this by simply starting several processes and restarting them as often as it is written in a file

##### Fabien Rohrer [Moderator] 06/13/2019 14:49:27
It's a good starting point for sure

##### El\_Samu\_El 06/13/2019 14:49:04
I made that TCP server already, but there were some issues with it.

##### Fabien Rohrer [Moderator] 06/13/2019 14:43:12
Does this make sense for your expectations?


For example, the script launching Webots could also have a TCP server, the Webots controllers could be TCP clients, and get the info from there. It has the advantage to be persistent (results could be sent the same way later). And it's a piece of cake to do that in Python ðŸ˜ƒ


In this case, there are certainly better solutions.


With several instances, the two options above are still valid (Webots will read the state when it is launched), but in this case, you probably have to be sure that Webots read the right value by implementing a callback mechanism.

##### El\_Samu\_El 06/13/2019 14:37:48
yeah the last option you mention, was what I was also thinking


That's true, but if I want to startup multiple webots processes with different controllers, but the same world file?

##### Fabien Rohrer [Moderator] 06/13/2019 14:36:36
Or, to create a template.wbt, and forge it before launching Webots on it (and change controllerArgs for example)


So you can for example create a file before launching Webots, and read it in the controllers.


We assume you master your environment when launching Webots.


No, you can't pass arguments like this.

##### El\_Samu\_El 06/13/2019 14:34:36
or does it also work in some way like "webots --mode=fast "example.wbt" "controllerArg"

##### Fabien Rohrer [Moderator] 06/13/2019 14:34:21
ðŸ˜ƒ I was sure of this

##### El\_Samu\_El 06/13/2019 14:33:58
Ah but as I understand this it just get's arguments from the .wbt file


okay, I'll have a look. Thanks again Fabien !

##### Fabien Rohrer [Moderator] 06/13/2019 14:30:01
you can retrieve them with sys.argv in the controller


yes

##### El\_Samu\_El 06/13/2019 14:29:38
Ah, is that also possible with python?

##### Fabien Rohrer [Moderator] 06/13/2019 14:29:21
Yes sure, see Robot.controllerArgs field


Hi

##### El\_Samu\_El 06/13/2019 14:28:56
Hey guys, is there a possibility to pass arguments to the controller when starting webots from the command line?

##### Fabien Rohrer [Moderator] 06/13/2019 12:28:59

%figure
![Capture_decran_2019-06-13_a_14.28.44.png](https://cdn.discordapp.com/attachments/565154703139405824/588706383541567489/Capture_decran_2019-06-13_a_14.28.44.png)
%end


Just select your Robot.children field, and click on the "+" button, the sick sensors are available in the "Add node dialog..."

##### nick\_robot\_maker 06/13/2019 12:26:09
very good. thank you so much. could you show me how to  choose the sensor to add robot please? i can't find any sensor.

##### Fabien Rohrer [Moderator] 06/13/2019 11:54:28
But every existing lidar model (like Sick) are in fact a Lidar node.


If you would like to use an existing Lidar model, just add a node to your robot, from the GUI, you can select a Sick, etc.


Yes, this demo is very basic. It shows how to use the Lidar node.


You could simply copy the Lidar node, and paste it in another robot.

##### nick\_robot\_maker 06/13/2019 11:31:20
you means this lidar sensor is just default sensor?


um.. then if i want to make new world and want to use this lidar model, what can i do?

##### Fabien Rohrer [Moderator] 06/13/2019 11:29:32
[https://cyberbotics.com/doc/reference/lidar](https://cyberbotics.com/doc/reference/lidar)


The non-default parameters are shown in green.


It's directly a Lidar node.


Just look at the robot definition (the red rectangle in my screenshot).

##### nick\_robot\_maker 06/13/2019 11:27:52
yes. this is the world

##### Fabien Rohrer [Moderator] 06/13/2019 11:27:34

%figure
![Capture_decran_2019-06-13_a_13.26.36.png](https://cdn.discordapp.com/attachments/565154703139405824/588690928705732618/Capture_decran_2019-06-13_a_13.26.36.png)
%end

##### nick\_robot\_maker 06/13/2019 11:27:26
like SICK LD-MRS, SICK LMS 291, Hokuyo URG-04LX-UG01


is it? thank a lot. but i found the officail homepage and find ladar sensor's models.

##### Fabien Rohrer [Moderator] 06/13/2019 11:25:43
Ok, it's simply a generic lidar, no model

##### nick\_robot\_maker 06/13/2019 11:24:51
and i try to know what is lidar sensor's model name that using this sample world


it is named lidar.wbt


the world


yes

##### Fabien Rohrer [Moderator] 06/13/2019 11:22:49
Do you speak about lidar.wbt?


In your case, it's probably "lidar", the default value of the Lidar.name field.


You can know the device names by opening the robot window (double click on the robot).


Hi,

##### nick\_robot\_maker 06/13/2019 11:18:09
if you guys know about it, tell me please


i want to know the name of lidar sensor that used webot's sample lidar


hello, do you know the name of lidar sensor of sample's of webot?

##### nisuunn 06/13/2019 11:05:32
Okay, thanks!

##### Stefania Pedrazzi [cyberbotics] 06/13/2019 06:03:47
Hi `@nisuunn` , you have to use the Robot function `Robot.getGPS("gps")`. Please refer to the documentation [https://www.cyberbotics.com/doc/reference/robot?tab=python#getgps](https://www.cyberbotics.com/doc/reference/robot?tab=python#getgps).

##### nisuunn 06/12/2019 16:30:43
whats the correct way of declaring a gps handle?


Hi, I'm having trouble getting a handle to a GPS device with the name "gps" in a supervisor (in Python) (the gps is in the children field of a robot)

I try the following: gps1 = GPS("gps") 

and I get a device not found warning

##### David Mansolino [cyberbotics] 06/12/2019 15:37:55
No, you have to install it independently of Webots: [https://www.cyberbotics.com/doc/guide/using-python](https://www.cyberbotics.com/doc/guide/using-python)

##### JustDN 06/12/2019 15:37:37
Are there any sample projects or worlds that has reinforcement learning?


Does webots come with python.exe? I was running the visual tracking sample and the code failed because that was missing.

##### nisuunn 06/12/2019 12:52:52
Thank you very much.

##### David Mansolino [cyberbotics] 06/12/2019 12:52:40
I will let you know (by email) when we have some news.


Hi, we are still investigating, there is indeed an issue, but it is more difficult than expected to find exactly where it does come from.

##### nisuunn 06/12/2019 12:43:14
Hi, yesterday I had an issue with the center of mass of a robot, has there been any progress with regards to this issue? thanks

##### TH0 06/12/2019 10:54:48
thanks, the prototyp looks nice! i've send you a pm

##### David Mansolino [cyberbotics] 06/12/2019 06:43:00
`@JustDN`, yes we have an example of controller using OpenCV, please see 'projects/samples/robotbenchmark/visual\_tracking'.

But more generally speaking, you can link your controller with any third party library installed on your computer, here is an explanation for C/C++: [https://cyberbotics.com/doc/guide/using-webots-makefiles#adding-an-external-library-ccp](https://cyberbotics.com/doc/guide/using-webots-makefiles#adding-an-external-library-ccp)


@THO, this is not currently possible, however, we have a prototype of such feature, see this video at 1:09:

[https://www.youtube.com/watch?time\_continue=1&v=O7U3sX\_ubGc](https://www.youtube.com/watch?time_continue=1&v=O7U3sX_ubGc)

If you want we can either send you a quote for finalizing and integrating this prototype into Webots for you or you can do it by yourself directly (we can guide you if you open a pull request on our Github repository).

##### TH0 06/11/2019 17:04:12
Hi, is it possible to generate binary pixel wise appearance masks of an object in an camera image with webots?

I already used the webots Recognition-Node to draw bounding boxes around objects. but i'm looking for a pixelwise segmentation to generate ground truth masks (something like in the image below)
%figure
![mask.png](https://cdn.discordapp.com/attachments/565154703139405824/588050868872675368/mask.png)
%end

##### JustDN 06/11/2019 15:50:34
Does webots come with OpenCV?

##### El\_Samu\_El 06/11/2019 15:05:35
Thanks !

##### Fabien Rohrer [Moderator] 06/11/2019 15:05:05
but the lines shown in the error should help you

##### El\_Samu\_El 06/11/2019 15:04:29
wait nvm

##### Fabien Rohrer [Moderator] 06/11/2019 15:04:28
It's because we use SWIG to generate the Python library

##### El\_Samu\_El 06/11/2019 15:04:07
yeah but the error is still there

##### Fabien Rohrer [Moderator] 06/11/2019 15:04:06
The error is indeed cryptic


(It's "getFromDef")


is it a typo?


`@El_Samu_El` getFromDev does not exits.


<@302517149359144962> Ok it seems to work better on Windows then ^^ The warning is "regular": it appears when Webots detects low-end GPU (including VM).

##### El\_Samu\_El 06/11/2019 14:55:37
I assigned the name robot to my DEF node and the supervisor node is set to TRUE


The error happens after calling sv = Supervisor()

    robot = sv.getFromDev("robot")


tcpip\_client is my supervisor controller


I'm always getting this error when trying to get a node from DEF with a supervisor. I had this issue before, but I can't remember how it got solved. The error message isn't helpful at all. Error: [tcpip\_client]   File "/home/samuel/webots/lib/python36/controller.py", line 2679, in <lambda>

[tcpip\_client]     \_\_getattr\_\_ = lambda self, name: \_swig\_getattr(self, Supervisor, name)

[tcpip\_client]   File "/home/samuel/webots/lib/python36/controller.py", line 74, in \_swig\_getattr

[tcpip\_client]     return \_swig\_getattr\_nondynamic(self, class\_type, name, 0)

[tcpip\_client]   File "/home/samuel/webots/lib/python36/controller.py", line 69, in \_swig\_getattr\_nondynamic

[tcpip\_client]     return object.\_\_getattr\_\_(self, name)

[tcpip\_client] AttributeError: type object 'object' has no attribute '\_\_getattr\_\_'

##### Deleted User 06/11/2019 14:48:31
each at 8GB each


but I have two graphics cards in my system


I get this


```WARNING: System below the minimal requirements.

Webots has detected that your GPU has less than 2Gb of memory. A minimum of 2Gb of memory is recommended to use high-resolution textures. 

 - Texture quality has been reduced.

You can try to re-activate some OpenGL features from the Webots preferences.
```

##### Fabien Rohrer [Moderator] 06/11/2019 14:42:43
yes, that's true, thank you

##### Deleted User 06/11/2019 14:42:29
so only one is Apple as they charge yearly which is annoying


I have a license on all stores usually that don't require subscription


I think I paid that...


what like there app store program thing?

##### Fabien Rohrer [Moderator] 06/11/2019 14:39:31
You'll have the same installing other OpenSource software


Same on macOS.


To remove this warning, we have to pay Microsoft... This is really annoying.


Yes it is safe

##### Deleted User 06/11/2019 14:37:55
[https://www.cyberbotics.com/#download](https://www.cyberbotics.com/#download)


from


I downloaded windows setup exe


is this safe to run?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/588013981164109828/unknown.png)
%end


I mean I just cba with it lol


yeah I am using vmware

##### Fabien Rohrer [Moderator] 06/11/2019 14:35:38
(but I run Webots everyday on VMWare fusion, with 4 cores ðŸ˜‰ )


running Webots natively is highly recommended.


cores are a thing, but support of hardware acceleration is more important to run Webots smoothly.

##### Deleted User 06/11/2019 14:34:12
because its a vm its limited for heavy tasks


so should be fine


in windows I can allocate around 16


in that VM I had only 3 cores


is there anyway to do portable in windows

##### Fabien Rohrer [Moderator] 06/11/2019 14:31:59
.. and use this command: [https://cyberbotics.com/doc/guide/installation-procedure#from-the-tarball-package](https://cyberbotics.com/doc/guide/installation-procedure#from-the-tarball-package)


You should retry to download and extract the archive.

##### Deleted User 06/11/2019 14:31:07
and it has trouble allocating resources for extracting for some reason


yeah I am using a VM


dw about it

##### Fabien Rohrer [Moderator] 06/11/2019 14:30:48
Reading your last terminal output, it seems that the archive extraction failed.


export LD\_LIBRARY\_PATH=/home/somet/Desktop/webots/lib

##### Deleted User 06/11/2019 14:29:45
I will try windows I reckon


yeah I had issues with that

##### Fabien Rohrer [Moderator] 06/11/2019 14:29:31
ok, try this:


I think you didn't extracted correctly the webots archive.

##### Deleted User 06/11/2019 14:28:53
makes no difference


even after typiung that

##### Fabien Rohrer [Moderator] 06/11/2019 14:28:21
export WEBOTS\_HOME=/home/somet/Desktop/webots

##### Deleted User 06/11/2019 14:28:21
I think I will just and run this on windows instead


no idea how you do that

##### Fabien Rohrer [Moderator] 06/11/2019 14:27:51
Please try to export the WEBOTS\_HOME environment variable.


the chmod seems to let you go a step beyond


ok


the root webots launcher does not have the execution rights

##### Deleted User 06/11/2019 14:25:55
and ultimate sudo mode


even doing chmod


not on mine

##### nisuunn 06/11/2019 14:25:25
works on my linux

##### Deleted User 06/11/2019 14:25:20
I dunno


maybe webots does not work in linux?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/588010790947258368/unknown.png)
%end



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/588010278382338050/unknown.png)
%end

##### Fabien Rohrer [Moderator] 06/11/2019 14:19:04
Could you try an "ls -lF" in this directory?

##### nisuunn 06/11/2019 14:18:09
strange, for me the exact same procedure works

##### Deleted User 06/11/2019 14:16:15
I mostly get permission denied


its not working?



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/588008523359584278/unknown.png)
%end


one moment


ok

##### nisuunn 06/11/2019 14:12:35
the directory in which you can see bin, change\_logs, etc


at least for me I enter the webots directory and no further than that

##### Deleted User 06/11/2019 14:12:20
ðŸ˜¦


tried


none of them work


I can just pick one at random or something?


ok so we have several directories

##### nisuunn 06/11/2019 14:11:31
yep

##### Deleted User 06/11/2019 14:11:30
if so which directory?


or do you mean directory?


which webots file

##### nisuunn 06/11/2019 14:11:14
then type ./webots


go into webots file with terminal

##### Deleted User 06/11/2019 14:10:50
how do I run webots in ubuntu?

##### David Mansolino [cyberbotics] 06/11/2019 13:25:16
I confirm we just received it, we will check what is happenning and let you know soon.

##### nisuunn 06/11/2019 13:18:43
Sent

##### David Mansolino [cyberbotics] 06/11/2019 13:12:17
Perfect, thank you

##### nisuunn 06/11/2019 13:12:07
I will send it there, thank you

##### David Mansolino [cyberbotics] 06/11/2019 13:11:37
Ok I see, there is indeed an important difference. It is difficult to see where does the difference come from, would you mind sending us your simulation at support@cyberbotics.com so that we can better check what is happenning (we will of course keep it confidential)?

##### nisuunn 06/11/2019 13:09:28
The robot on the right has the wrong COM, so it leans forward



%figure
![Screenshot_from_2019-06-11_15-08-35.png](https://cdn.discordapp.com/attachments/565154703139405824/587991694990114816/Screenshot_from_2019-06-11_15-08-35.png)
%end



%figure
![Screenshot_from_2019-06-11_15-08-03.png](https://cdn.discordapp.com/attachments/565154703139405824/587991670729998346/Screenshot_from_2019-06-11_15-08-03.png)
%end

##### David Mansolino [cyberbotics] 06/11/2019 13:05:39
Can you send a screen shot of the 2 robot with the different COM ?


It should not cause any problem

##### nisuunn 06/11/2019 13:05:05
even if this doesn't have an effect on the original robot's COM?


Could this have an influence?


The main body of the robot, has the coord axes at one of the 4 corners of the body, rather than the center of the body.


I don't really have any simple reproduction procedure


I haven't saved after running sim.

##### David Mansolino [cyberbotics] 06/11/2019 12:59:49
It should not, the COM should be at the same position (respectively to the robot) than the one of the other robot. Did you save the simulation after it has run? Do you have a simple procedure to reproduce the issue?

##### nisuunn 06/11/2019 12:19:29
Is there any specific reason as to why the centre of mass changes when a copy of a robot is created? (the COM changes such that rather than the COM being in the ~centre of the robot, the COM shifts to the front of the robot, such that it is highly unstable compared to the original robot. )

##### David Mansolino [cyberbotics] 06/11/2019 12:07:35
You're welcome

##### nisuunn 06/11/2019 12:07:19
okay, thanks!

##### David Mansolino [cyberbotics] 06/11/2019 11:04:30
The COM depends on the origin of the robot (i.e. it's translation) and the gonfiguration of its joints.

##### nisuunn 06/11/2019 11:02:47
how does that affect relative COM, isn't relative COM indpendent of translation and orientation/rotation of the robot?

##### David Mansolino [cyberbotics] 06/11/2019 11:01:07
Yes, that's also a possibility. you can set the correct value for the 'translation and rotation' fields directly when you import the robot.

##### nisuunn 06/11/2019 10:34:17
Could I also just get the original robot's centre of mass field with supervisor and apply that centre of mass to the new spawned robot?

##### David Mansolino [cyberbotics] 06/11/2019 10:32:10
`@BlackPearl`, you're welcome


HI `@nisuunn`, you can use the Supervisor APi to get the location and orientation of the other robot and assign it to the new one:

[https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_get\_position](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_get_position)

[https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_field\_get\_sf\_vec3f](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_field_get_sf_vec3f)

##### BlackPearl 06/11/2019 10:31:23
`@David Mansolino` ok thank you anyways. Will Document it then

##### nisuunn 06/11/2019 10:30:32
I am using a supervisor to spawn in a copy of a robot. The copy's relative centre of mass differs form the original robot's relative COM, why does that happen and how to fix that?

##### David Mansolino [cyberbotics] 06/11/2019 10:28:47
Hi `@BlackPearl` there is no tutorial specific to the Nao robot in Java, however, our Java tutorial are valid for the Nao robot too: [https://www.cyberbotics.com/doc/guide/tutorial-1-your-first-simulation-in-webots-20-minutes?tab=java](https://www.cyberbotics.com/doc/guide/tutorial-1-your-first-simulation-in-webots-20-minutes?tab=java)

##### BlackPearl 06/11/2019 10:26:58
Hi there, Are there any Tutorials For Nao with Java ?

##### nisuunn 06/11/2019 10:26:24
Hi

##### Fabien Rohrer [Moderator] 06/11/2019 06:19:36
Please check the related doc: [https://cyberbotics.com/doc/reference/display?tab=python#wb\_display\_image\_new](https://cyberbotics.com/doc/reference/display?tab=python#wb_display_image_new)


class Display (Device):

    RGB, RGBA, ARGB, BGRA


`@Bizzaropoulos` Formats are:


`@Mu.Hesham` We recommend to start with our tutorial: [https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)

##### Bizzaropoulos 06/10/2019 00:08:45
what are the formats for Display.imageNew(data,format) in Python?

##### Mu.Hesham 06/08/2019 16:12:08
how can i start with webots ..

Is there any online course ?

##### Mi 06/07/2019 14:15:58
`@David Mansolino`  I want to use linux

Thank you very much for the instructions!

##### David Mansolino [cyberbotics] 06/07/2019 06:34:06
`@Mi` si esta posible, pero solo podemos aydarle en inglÃ©s...

In which kind of environment would you like to run Webots? The simplest option is to use the '--batch' option when starting Webots, this will prevent Webots from opening any blocking pop-up window, and the '--minimize' option to launch Webots in minimized mode. However you still need to have a valid OpenGl context, if this is problematic there are some way to go around this, let us know.

##### Mi 06/06/2019 19:17:58
Is there any way to run Web Webs in headless mode?

##### Fabien Rohrer [Moderator] 06/06/2019 15:45:59
I hope this answers your question.


Here is the simplest example of initialization: [https://github.com/omichel/webots/blob/master/projects/robots/neuronics/ipr/controllers/ipr\_cube/ipr\_cube.cpp](https://github.com/omichel/webots/blob/master/projects/robots/neuronics/ipr/controllers/ipr_cube/ipr_cube.cpp)


The IPR class inherits of the Robot class.


Position sensors are enabled in this library, in the IPR constructor: [https://github.com/omichel/webots/blob/master/projects/robots/neuronics/ipr/libraries/ipr/IPR.cpp#L81](https://github.com/omichel/webots/blob/master/projects/robots/neuronics/ipr/libraries/ipr/IPR.cpp#L81)


This function is declared in this small library helping to control the IPR: [https://github.com/omichel/webots/blob/master/projects/robots/neuronics/ipr/libraries/ipr/IPR.hpp](https://github.com/omichel/webots/blob/master/projects/robots/neuronics/ipr/libraries/ipr/IPR.hpp)


Do you speak about this controller? [https://github.com/omichel/webots/blob/master/projects/robots/neuronics/ipr/controllers/ipr1\_collaboration/ipr1\_collaboration.cpp](https://github.com/omichel/webots/blob/master/projects/robots/neuronics/ipr/controllers/ipr1_collaboration/ipr1_collaboration.cpp)

##### JustDN 06/06/2019 15:21:57
I'm also trying to follow the code using "mTimeStep = getBasicTimeStep();" and  "while (!positionReached(shoulderr, 1))

   step(basicTimeStep());" and I was told that I they weren't declared in the scope, I looked at the simulation code and didn't find any of the declarations, what is the right way to do the declarations in C++?


I was looking at the IPR code and I am confused on now to declare the !positionReached function. Also, would I also have to initialize my position sensors for it to work?

##### bhsapiens91 06/06/2019 12:58:29
definitely

##### David Mansolino [cyberbotics] 06/06/2019 12:57:40
Ok, perfect, if you need help I would suggest to present a design (where to put this node, which fields, etc...) and present it on our Github in an issue so that we can already give you feedback.

##### bhsapiens91 06/06/2019 12:56:11
Let me try the gear node

##### David Mansolino [cyberbotics] 06/06/2019 12:55:45
The simplest solution would be to emulate this reduction at the controller level.

Or can implement a Gear node (and we can help you of course)

##### bhsapiens91 06/06/2019 12:55:32
Which is not the case in real world


Without reduction it behaves like a direct drive


I have a servo Robotic arm which has a 380:1 reduction at it's joint. Trying to make a realistic model of the hardware in simulation

##### David Mansolino [cyberbotics] 06/06/2019 12:52:46
Hi `@bhsapiens91` unfortunately we do not have any gear reduction node in Webots yet (but it should be feasible to implement it because our physics engine does support it). However if you are using the Car node there is a gear field.

##### bhsapiens91 06/06/2019 12:50:40
Is there a way model gear reduction on webots

##### Karl 06/06/2019 10:18:21
Ahh right, thank you!

##### Fabien Rohrer [Moderator] 06/06/2019 10:16:34
bool wbr\_init(WbrInterface *ri);


Probably that the argument of wbr\_init() is missing:


Hi

##### Karl 06/06/2019 10:14:29
I'm developing a remote control and keep getting `[void] Error: remote control library entry points badly defined`... does anyone have hints why this could be? I do have an entry\_points.hpp with this:



```
extern "C" {
bool wbr_init();
void wbr_cleanup();
}
```



and an entry\_points.cpp where I implement them...

##### Stefania Pedrazzi [cyberbotics] 06/06/2019 06:09:26
`@Vinicius Aguiar` your issue is very similar to the one of `@JustDN`: after setting the first position you have to wait until the position is reached before requesting the second position.

To check if the position is reached you can the PositionSensor device. The  `robots/neuronics/ipr/worlds/ipr_collaboration.wbt` I mentioned in the previous comment shows a simple way to execute consecutive actions with robotic manipulators.


`@JustDN` int the main simulation loop `while(wb_robot_ste()){}` you have to check using a PositionSensor that the first action terminated before starting the next one. You can see an example in the `robots/neuronics/ipr/worlds/ipr_collaboration.wbt` simulation. The `positionReached()` function is defined in the `robots/neuronics/ipr/libraries/ipr/IPR.cpp` source file

##### Vinicius Aguiar 06/05/2019 16:26:56
```
####This is my code in python####

from controller import Robot, Motor
import numpy as np
import math

TIME_STEP = 64

robot = Robot()
joint1 = Motor('joint_1')


def position(signal):

   target = joint1.getTargetPosition()

   while signal != target:

       target = joint1.getTargetPosition()
       signal = round(signal,2)
       target = round(target,2)

       if signal > target:
          for i in np.arange(target,signal,0.01):
             joint1.setPosition(i)
             print("position",i)

       elif signal < target:
           for i in np.arange(target,signal,-0.01):
               joint1.setPosition(i)
               print("position",i)

while robot.step(TIME_STEP) != -1:
   # first position
   position(1.57)
   # second position
   position(-1.57)
```


Hello, could you guys help me?



I'm programming a robotic manipulator and wanted to move the base of it by 90 Â° positive and then by 90 Â° negative when I perform the print of each step of the position occurs as expected, but in the simulation it only performed the negative part, ignoring the first position .

##### JustDN 06/05/2019 16:20:51
HI, I'm having trouble having consecutive actions to occur. I wanted my robot to raise its arm and then go back down. When programming the motors to do the actions, the arm down action overrided the arm up action so only the arm down action occured. I tried adding a sleep delay in between each action but that delay took precedent over the actions, so there is a delay at the start of the program and then the actions occurred.


Thank you for the help! `@Fabien Rohrer`

##### Fabien Rohrer [Moderator] 06/05/2019 14:49:15
There is a C++ note about this, in our documentation: [https://cyberbotics.com/doc/reference/motor#motor-functions](https://cyberbotics.com/doc/reference/motor#motor-functions)


This deserves to include: "#include <limits>" too


[https://en.cppreference.com/w/cpp/types/numeric\_limits/infinity](https://en.cppreference.com/w/cpp/types/numeric_limits/infinity)


std::numeric\_limits<double>::infinity


in C++, you should write infinity this way:


No, it means that the INFINITY macro is not declared here. (INFINITY is a macro defined in the C header "math.h")


Hi

##### JustDN 06/05/2019 14:45:48
I'm trying to set a motor position for my OP2 code to infinity with "shoulderl->setPosition(INFINITY);" but when running the code, I came across the error " 'INFINITY' was not declared in this scope" does that mean that the OP2 is unable to do that?

##### David Mansolino [cyberbotics] 06/05/2019 05:35:43
HI `@Mi` , this is currently not possible,  Webots is responsible to launch the Webots script for now.

However, we did implement a new mechanism allowing you to launch yourself the controller in our development version, here is the documentation: 

[https://cyberbotics.com/doc/guide/running-extern-robot-controllers?version=develop](https://cyberbotics.com/doc/guide/running-extern-robot-controllers?version=develop)

We will release a new version of Webots including this functionnality in ~1month.

In the meantime, if you need this feature you can recompile Webots yourself from the 'develop' branch, here are the instructions:

[https://github.com/omichel/webots/wiki#installation-of-the-webots-development-environment](https://github.com/omichel/webots/wiki#installation-of-the-webots-development-environment)

##### Mi 06/04/2019 15:59:29
Hello

Is it possible to control a robot through an external python script?

For example my script runs on my terminal and Webots responds to commands.

##### David Mansolino [cyberbotics] 06/04/2019 15:11:39
Yes of course it is possible to control the motor individually, for this you should not use the motion or gait manager.

The code you provide seems correct, but make sur to call the wb\_robot\_step function in your main loop.

Here is a simple example of position feedback and position control with this robot: [https://github.com/omichel/webots/blob/revision/projects/robots/robotis/darwin-op/controllers/symmetry/Symmetry.cpp](https://github.com/omichel/webots/blob/revision/projects/robots/robotis/darwin-op/controllers/symmetry/Symmetry.cpp)

##### JustDN 06/04/2019 15:04:44
For the OP2, is there a way to call each individual motor? I've tried using WbDeviceTag shoulderR = wb\_robot\_get\_device("ShoulderR"); and then setting the position using wb\_motor\_set\_position(shoulderR, 10.0); but it doesn't move at all. Am I incorrectly calling the motor? If so, what is the correct way?

##### Fabien Rohrer [Moderator] 06/04/2019 13:36:27
Our office is at EPFL PSE-C ðŸ˜ƒ

##### Xiangxiao 06/04/2019 13:35:44
`@Fabien Rohrer`  thank you again. It is pretty helpful. Btw, I am in EPFL and I am wondering whether you are here too?

##### Fabien Rohrer [Moderator] 06/04/2019 13:22:24
[https://cyberbotics.com/doc/guide/samples-environments#apartment-wbt](https://cyberbotics.com/doc/guide/samples-environments#apartment-wbt)


But this is a trick, a big image is loaded at startup, and the Display only change the x-y position of the image at each step.


In apartment.wbt, there is a television on. A movie showing the nao is displayed.


I tried this once ^^

##### Xiangxiao 06/04/2019 13:08:48
BYW, `@Fabien Rohrer`  do you know, is there anyone has done this before?


Hi Fabien Rohrer , thank you very much for the information. I will check the it.

##### Fabien Rohrer [Moderator] 06/04/2019 11:47:55
If performance is an issue, I would rather recommend to implement a MovieTexture node, but this is a complex task.


Indeed, the Display is not optimized to stream images.


However, I think this approach will be very slow.


The movie should be send image by image using this API.


[https://www.cyberbotics.com/doc/reference/display#wb\_display\_image\_load](https://www.cyberbotics.com/doc/reference/display#wb_display_image_load)


The Display API allows to load an image as a texture in the world.


Yes, this is possible


Hi

##### Xiangxiao 06/04/2019 10:28:32
Dear all

I would like to ask a question.

In Webots, it is possible that 1. Embed a panel/display/monitor in the environment. And 2. Play a video on the display in the simulated environment?

Thank you in advance.

##### Fabien Rohrer [Moderator] 06/04/2019 07:35:58
you're welcome ^^

##### Arsalan.b.r 06/04/2019 07:35:48
its excellent. thanks Fabien


oh i got it

##### Fabien Rohrer [Moderator] 06/04/2019 07:34:27
We provide paid user support, training and consulting for users who need to quickly develop high-quality Webots simulations, see: [https://www.cyberbotics.com/buy](https://www.cyberbotics.com/buy)


Yes, that was before last december. Now, we dropped the license system including the trial license. Webots and all its features are open-source and free.

##### Arsalan.b.r 06/04/2019 07:32:36
as i remember it was a 1 month trial version

##### Fabien Rohrer [Moderator] 06/04/2019 07:31:53
[https://cyberbotics.com/doc/blog/Webots-2019-a-release](https://cyberbotics.com/doc/blog/Webots-2019-a-release)


Yes it is: Since last December, Webots is completely open source (apache 2.0). There is no more licenses.

##### Arsalan.b.r 06/04/2019 07:30:49
is Webots free?

##### Fabien Rohrer [Moderator] 06/04/2019 07:30:46
Hi

##### Arsalan.b.r 06/04/2019 07:30:31
Hello

##### David Mansolino [cyberbotics] 06/04/2019 06:51:56
You can find the complete documentation here: [https://www.cyberbotics.com/doc/guide/robotis-op2#motion-manager](https://www.cyberbotics.com/doc/guide/robotis-op2#motion-manager)


manager->playPage(int id);


then you can call the 'playPage' function:


RobotisOp2MotionManager *manager = new RobotisOp2MotionManager(robot);


hi `@JustDN`, you need to create an instance of the motion manager:

##### JustDN 06/03/2019 16:40:27
I am trying to program an OP2 bot and I'm confused on how to call the various motion files. I'm looking at the guide, but I'm not sure how to initiate it in the code. Sorry I'm a beginner at this.

##### Mr. Scruff 06/03/2019 14:24:55
Thank you `@Olivier Michel`

##### Olivier Michel [cyberbotics] 06/03/2019 14:20:45
So that you can merge the two JSON files afterwards.


With the same time stamp as the web animation JSON.


Alternatively, you may save the GPS and IMU telemetry information from your controller program into a different JSON file.


But you can implement it from the source code of Webots if needed.


Hi, unfortunately, this is not possible out of the box.

##### Mr. Scruff 06/03/2019 14:16:47
I am using the Web Animations feature, which saves object information to a JSON file.   Is there an API available, so I can save other simulation information to this JSON file, such as GPS and IMU telemetry?

##### David Mansolino [cyberbotics] 06/03/2019 07:05:21
Ok, can you please:

  1. check what is you GPU?

  2. make sure the GPU drivers are up to date.

  3. try launahcing Webots in safe mode: [https://cyberbotics.com/doc/guide/starting-webots#safe-mode](https://cyberbotics.com/doc/guide/starting-webots#safe-mode)

##### smruti 06/03/2019 07:01:41
There's no respond while clicking next or close button .It just  closes automatically.

##### David Mansolino [cyberbotics] 06/03/2019 06:57:07
That's the guided tour, it is normal that this window pops-up the first time you start Webots, what happens when you click on 'Next' ? And 'Close' ?

##### smruti 06/03/2019 06:54:03
after this it automatically closes
%figure
![Screenshot_2.png](https://cdn.discordapp.com/attachments/565154703139405824/584998214944555036/Screenshot_2.png)
%end

##### David Mansolino [cyberbotics] 06/03/2019 06:50:00
Hi `@smruti` , what yo you mean by 'a box'? Can you send us a screenshot ?

##### smruti 06/03/2019 06:47:16
hello,i am facing a problem while opening webots.The moment i am opening a box opens and then after the webots closes.As a result i am not able to work on it.

##### Fabien Rohrer [Moderator] 06/01/2019 11:35:56
This problem is more complex that it could appear in a first glance. Computing the robot odometry could give based on motor position sensor could give good results on wheeled robots (cf. E-puck go to example in the curriculum). Cheating with a perfect GPS and Compass is another solution (cf. Moose sample). Ultimately when obstacles are present, implementing a SLAM algo may be required. You should think about using a library like gmapping.

##### Amey 06/01/2019 10:33:08
Hello,

I am actually working on my university project with Webots I have tried several  ideas to make my robot reach the target or destination but nothing worked, is there anything that I can  use so  that my robot reaches the target or the destination.

Thanks

Amey

##### Olivier Michel [cyberbotics] 05/31/2019 06:39:16
We will quickly review your suggestion and merge it in the Webots documentation.


Please feel free to contribute such a suggestion on github:  [https://github.com/omichel/webots/edit/master/docs/guide/tutorial-6-4-wheels-robot.md](https://github.com/omichel/webots/edit/master/docs/guide/tutorial-6-4-wheels-robot.md)

##### Mr. Scruff 05/31/2019 06:34:25
A recommendation then, is to add a section at the end that shows how the entire code should look like.  That will make sure there is no confusion.  Just a suggestion.


Ah, yes.  That is the confusion about not including the statements provided by the wizard.

##### Olivier Michel [cyberbotics] 05/31/2019 06:32:01
(added by the Python controller wizard)


What is missing in the Python template? The "robot = Robot()" is there.

##### Mr. Scruff 05/31/2019 06:31:04
Don't forget to add

Â« robot = Robot()Â»

##### Olivier Michel [cyberbotics] 05/31/2019 06:29:44
Indeed, it is not necessary, but in theory could be useful to benefit from 100% of the Motor API.

##### Mr. Scruff 05/31/2019 06:29:43
Thanks.

I'm a bit concerned about omitting the steps that auto filled by the controller wizard.  In my opinion, it is better for the student if all code lines are included.

##### Olivier Michel [cyberbotics] 05/31/2019 06:28:10
Not sure whether it is strictly necessary if "from controller import Robot" was done before. Let me check...

##### Mr. Scruff 05/31/2019 06:26:40
HI `@Olivier Michel` .   How about Â«from controller import MotorÂ» ?  Should it also be removed?

##### Olivier Michel [cyberbotics] 05/31/2019 06:25:05
Regarding the "from controller import Robot", I believe there is no need to repeat it at this point as it should already be part of your Python controller (e.g., before adding the motor API).


<@272974104523702273>: This is already fixed here: [https://github.com/omichel/webots/pull/496](https://github.com/omichel/webots/pull/496)


Hi,

##### Luiz Felipe 05/31/2019 03:16:18
Yes `@Fabien Rohrer` everything was working fine until yesterday but the safe mode did it! Thanks ðŸ˜ƒ

##### Mr. Scruff 05/30/2019 22:48:45
Glad to be able to help ðŸ˜ƒ

##### Fabien Rohrer [Moderator] 05/30/2019 20:41:48
Thank you, we will fix the tutorial soon.

##### Mr. Scruff 05/30/2019 20:34:45
Oh, and 

wheels = []


`@Fabien Rohrer` , if I define the robot variable:  Â« robot = Robot()Â» 

then I get the error: "name 'Robot' is not defined"



But, if I define the robot variable Â« robot = Robot()Â» 

and change 

 Â«from controller import MotorÂ» 

to

 Â«from controller import RobotÂ» 

Then everything works fine.



If the above is correct, then the tutorial example code needs to change in 2 places, to:

 Â«from controller import RobotÂ»

and

Â« robot = Robot()Â»

##### Fabien Rohrer [Moderator] 05/30/2019 20:20:43
You could also try the safe mode: [https://cyberbotics.com/doc/guide/starting-webots#safe-mode](https://cyberbotics.com/doc/guide/starting-webots#safe-mode)


[https://cyberbotics.com/doc/guide/system-requirements](https://cyberbotics.com/doc/guide/system-requirements)


`@Luiz Felipe` are you sure you are above the minimal requirements to run Webots and that your GPU drivers are up to date?


<@272974104523702273> did you defined the Â«Â robotÂ Â» variable above?

##### Mr. Scruff 05/30/2019 20:16:36
Hi `@Fabien Rohrer` .  If I simply replace Â« Motor wheels = [] Â» by Â« wheels = [] Â»

then the following Python error appears:  "NameError: name 'robot' is not defined"

##### Luiz Felipe 05/30/2019 09:00:28
I am having troubles with the version 2019a running in windows... I already uninstalled and reinstalled trying to solve the issue... When I start the simulator, right after the following print screen it suddenly closes... So, i can not open the simulator anymore... Any idea on what can be the problem? Cheers.
%figure
![error.png](https://cdn.discordapp.com/attachments/565154703139405824/583580479480135691/error.png)
%end


Hello everyone, first of all thanks for the hard work.. The simulator is amazing...

##### Fabien Rohrer [Moderator] 05/30/2019 08:12:16
I would simply replace Â«Â Motor wheels = []Â Â» by Â«Â wheels = []Â Â»


There is indeed an issue.

##### Mr. Scruff 05/29/2019 21:10:29
Is there an issue with this portion of the tutorial documentation (see attached)?  I'm getting a Python error, complaining that "Motor wheels = []"  has a syntax error.

Instead, this simple code worked:



from controller import Robot

robot = Robot()

speed = -1.5  # [rad/s]

wheelsNames = ['wheel1', 'wheel2']

wheels = []

for i, name in enumerate(wheelsNames):

    wheels.append(robot.getMotor(name))

    wheels[i].setPosition(float('inf'))

    wheels[i].setVelocity(speed)



timestep = int(robot.getBasicTimeStep())

while robot.step(timestep) != -1:

    pass
%figure
![Doc_Issue.png](https://cdn.discordapp.com/attachments/565154703139405824/583401806344880128/Doc_Issue.png)
%end

##### David Mansolino [cyberbotics] 05/29/2019 15:56:43
You're welcome

##### Lifebinder (tsampazk) 05/29/2019 15:56:35
it worked, thank you very much ðŸ˜ƒ

##### David Mansolino [cyberbotics] 05/29/2019 15:55:44
([https://cyberbotics.com/doc/reference/supervisor?tab=python#wb\_supervisor\_node\_get\_field](https://cyberbotics.com/doc/reference/supervisor?tab=python#wb_supervisor_node_get_field) and [https://cyberbotics.com/doc/reference/supervisor?tab=python#wb\_supervisor\_field\_set\_sf\_vec3f](https://cyberbotics.com/doc/reference/supervisor?tab=python#wb_supervisor_field_set_sf_vec3f))


The 'robotNode.getField('translation')' function will return a Field object, you therefore have to keep it and use it:

  translationField = robotNode.getField('translation')

  translationField.setSFVec3f(INITIAL\_TRANS)

##### Lifebinder (tsampazk) 05/29/2019 15:52:14
follow up question,  we are able to get the translation field through "robotNode.getField('translation')" but then cant find the equivalent to "

wb\_supervisor\_field\_set\_sf\_vec3f(trans\_field, INITIAL\_TRANS);" from the example.

##### David Mansolino [cyberbotics] 05/29/2019 15:41:01
The example is in C, but you can find all the equivalent functions in Python


Hi, yes of course, this is exmplained in detail here: [https://www.cyberbotics.com/doc/guide/using-numerical-optimization-methods#using-the-wb\_supervisor\_field\_set\_-and-wb\_supervisor\_simulation\_reset\_physics-functions](https://www.cyberbotics.com/doc/guide/using-numerical-optimization-methods#using-the-wb_supervisor_field_set_-and-wb_supervisor_simulation_reset_physics-functions)

##### Lifebinder (tsampazk) 05/29/2019 15:39:36
Hello, is there a way to reset the position (translation) of a robot through a different controller (supervisor), without reverting the simulation, etc.? We are using python

##### Olivier Michel [cyberbotics] 05/29/2019 10:48:24
Welcome

##### Deleted User 05/29/2019 10:48:07
Okay, thank you very much!

##### Olivier Michel [cyberbotics] 05/29/2019 10:47:34
Yes.

##### Deleted User 05/29/2019 10:46:13
If I set it up on the VM-Instance running in the cloud, would I then be able to run webots completely on the VM-instance even though it doesnt have an actual display?


One more question regarding the xvfb


I have not tried this I'll test it and see what happens, thanks!

##### Olivier Michel [cyberbotics] 05/29/2019 10:42:46
Can run other OpenGL based applications? like glxgears?


Oops... Then, I am afraid I don't know how to help you with that...

##### Deleted User 05/29/2019 10:41:29
however after this it throws the opengl errors and crashes


it starts xquartz and shows a webots window in xquartz


I think it is already redirected to my computer

##### Olivier Michel [cyberbotics] 05/29/2019 10:39:53
With export DISPLAY / xhost+


In that case, forget about the virtual frame buffer, you simply need to redirect the DISPLAY to your computer.

##### Deleted User 05/29/2019 10:39:06
yes it is

##### Olivier Michel [cyberbotics] 05/29/2019 10:38:58
But wait, is the display of Webots redirected to your computer?


On the VM instance.

##### Deleted User 05/29/2019 10:37:58
Thanks for the response! Do I need to do this on the VM-Instance or my own computer? Since, others are using the same server to run webots remotely and they do not run into this issue.

##### Olivier Michel [cyberbotics] 05/29/2019 10:35:22
Or xf86-video-dummy (Xdummy).


You need to have a GPU enabled compute node or setup a virtual frame buffer (xvfb).

##### Deleted User 05/29/2019 10:33:14
It throws this error as well


ERROR: Unable to load OpenGL functions!


I was wondering if you might be able to help me out?


Hi, I'm trying to  run Webots remotely on a google cloud VM-Instance. However,  Im running into some issues with OpenGL. Specifically, its giving me these errors: libGL error: No matching fbConfigs or visuals found

libGL error: failed to load driver: swrast

libGL error: No matching fbConfigs or visuals found

libGL error: failed to load driver: swrast

Warning: Unrecognized OpenGL version

##### sai 05/29/2019 06:43:32
That sounds great. thanks

##### Fabien Rohrer [Moderator] 05/29/2019 06:40:03
The Webots language is very close to VRML (subset + extension) and provides VRML import/export tools. Using blender at some point and its exporter plugin is often required [https://github.com/omichel/blender-webots-exporter](https://github.com/omichel/blender-webots-exporter) for example to create low poly meshes. Setting the physics parameters may also require supplementary passes.  Cyberbotics has a lot of expertise in this field.

##### sai 05/29/2019 06:22:44
I have another question. How flexible is the process of importing vrml designs into webots. I haven't tried it before but is it possible to import complex object like a factory machine or something designed in CAD, exported as a vrml format and importing it into webots?


I see, I will have to discuss with my advisor. We will let you know if needed, thanks!!

##### Fabien Rohrer [Moderator] 05/29/2019 06:03:59
If this is not sufficient, we could create new assets and a demo example, if you have some budget for this.

##### sai 05/29/2019 06:01:57
Ok thanks, I will have a look

##### Fabien Rohrer [Moderator] 05/29/2019 06:01:30
For example here: [https://www.cyberbotics.com/doc/guide/object-factory](https://www.cyberbotics.com/doc/guide/object-factory)


Hi, we have a set of predefined assets that can be easily put together to create such kind of environment:

##### sai 05/29/2019 05:57:42
hello, we are looking for a warehouse environment in webots human-robot interaction experiments. I couldn't find much in the default environment samples. Is there an external source for such environments or do we have to build it from scratch?? Thanks in advance

##### Olivier Michel [cyberbotics] 05/28/2019 14:22:08
[https://cyberbotics.com/doc/guide/system-requirements](https://cyberbotics.com/doc/guide/system-requirements)


Hi, did you check the minimal requirements?

##### mehdi 05/28/2019 14:00:37
is there any one can tell me why the last version of webots crach at the startup in my computer..???


hi everybody

##### David Mansolino [cyberbotics] 05/27/2019 15:29:25
`@Noji`, you're welcome.

##### Noji 05/27/2019 15:27:34
Dear `@David Mansolino` Thanks a lot! I tried 'Tools->Restore Layout'. First, the window did not change, but after restarting Webots, 3D view was shown again.

##### Ya 05/27/2019 15:03:41
all the best ^^

##### Fabien Rohrer [Moderator] 05/27/2019 14:55:01
Thank you ^^


The controller (lidar.c) of this example shows how to use the API in a working situation.


[https://cyberbotics.com/doc/guide/samples-devices#lidar-wbt](https://cyberbotics.com/doc/guide/samples-devices#lidar-wbt)


You could refer to the lidar example:


The documentation above describes all the lidar functions.

##### Ya 05/27/2019 14:51:57
there is a source code to use the lidar ?

##### Fabien Rohrer [Moderator] 05/27/2019 14:51:51
[https://cyberbotics.com/doc/reference/lidar](https://cyberbotics.com/doc/reference/lidar)


Now, the Lidar should be accessible in the controller, using the Lidar API:


save the simulation.



%figure
![Capture_decran_2019-05-27_a_16.50.40.png](https://cdn.discordapp.com/attachments/565154703139405824/582581579042390027/Capture_decran_2019-05-27_a_16.50.40.png)
%end


Then you should add a Lidar node to the Khepera4.turretSlot

##### Ya 05/27/2019 14:50:49
you have an amazing simulator


also i modifaded the source code of khepera 4

##### Fabien Rohrer [Moderator] 05/27/2019 14:49:03
[https://cyberbotics.com/doc/guide/khepera4#khepera4-wbt](https://cyberbotics.com/doc/guide/khepera4#khepera4-wbt)

##### Ya 05/27/2019 14:48:54
yes i do it

##### Fabien Rohrer [Moderator] 05/27/2019 14:48:40
You should start by running the khepera4.wbt example:

##### Ya 05/27/2019 14:48:23
Hi

##### Fabien Rohrer [Moderator] 05/27/2019 14:48:11
Hi

##### Ya 05/27/2019 14:46:50
hi, how can i use the lidar with khepera IV and where can i fin th source code thank you

##### David Mansolino [cyberbotics] 05/27/2019 09:23:21
You're welcome

##### Markacho 05/27/2019 09:23:08
Thanks.  I just found it:  Tractor.proto

##### David Mansolino [cyberbotics] 05/27/2019 09:22:40
Yes of course, you can modify any PROTO node distributed with Webots.

##### Markacho 05/27/2019 08:36:31
Can someone tell me if the Boomer 3050 tractor model can be modified?

##### David Mansolino [cyberbotics] 05/27/2019 06:12:33
`@Noji`, the simplest solution is to use the 'Tools->Restore Layout' menu

##### Noji 05/25/2019 04:14:30
I think this is a very basic problem. Sorry for bothering you.


No 3D view
%figure
![2019-05-25_13.13.14.png](https://cdn.discordapp.com/attachments/565154703139405824/581696384013697027/2019-05-25_13.13.14.png)
%end


Could someone tell me how to show 3D view again?


Hello, I'm struggling now. 3D view is disappeared.

##### David Mansolino [cyberbotics] 05/24/2019 12:56:18
You're welcome

##### newcomer\_523 05/24/2019 12:56:07
thank you very much ðŸ˜„

##### David Mansolino [cyberbotics] 05/24/2019 12:55:50
I strongly recommend to do our tutorial (at least the first 7) to get familiar with Webots: [https://www.cyberbotics.com/doc/guide/tutorials](https://www.cyberbotics.com/doc/guide/tutorials)


You should not do this from the controller, but manually in the Webots scene-tree.

##### newcomer\_523 05/24/2019 12:54:37
Thanks for this fast response ðŸ˜ƒ Could you tell me how i can do this in C?  I just started using webots and programming with C.

##### David Mansolino [cyberbotics] 05/24/2019 12:52:49
yes, you simply have to change the 'type' field of the corresponding DistanceSensor node.


Hello

##### newcomer\_523 05/24/2019 12:52:21
Hello, can anybody tell me how i can change the type of a distance sensor from the  generic type to infra-red type?

##### David Mansolino [cyberbotics] 05/24/2019 10:05:50
Good idea ðŸ˜‰

##### TH0 05/24/2019 10:05:39
ok, thanks! i have a ton of other questions, but one after another ðŸ˜„

##### David Mansolino [cyberbotics] 05/24/2019 10:04:41
Do not hesitate to ask us if you have problem with one specific step

##### TH0 05/24/2019 10:04:19
ok, cool, i will try that!

##### David Mansolino [cyberbotics] 05/24/2019 10:03:45
You can export your robot in vrml from Webots and then import it in Webots, you might loose some information in the precess but at least the meshes (which is what is interesting to edit in blender) should be fine.


Abotu editing the PROTO, it is sometimes difficult indeed to edit directly in text file, for this you can right click on the PROTO node in Webots and press on 'Convert to Base Node(s)' this will 'unprototize' the robot for you.

##### TH0 05/24/2019 10:02:24
ok, and how about importing already existing geometry (like the nao.proto) in blender ?

##### David Mansolino [cyberbotics] 05/24/2019 10:01:46
Very cool, looking forward to see it !


To edit the mesh we usually use Blender, we have created a plugin to be able to export directly from Blender to Webots (but you can also export in VRML from blender and import it in Webots): [https://github.com/omichel/blender-webots-exporter](https://github.com/omichel/blender-webots-exporter)

##### TH0 05/24/2019 10:00:22
thanks ðŸ˜ƒ i will share it when its finished

##### David Mansolino [cyberbotics] 05/24/2019 10:00:06
Hi, very nice simulation !!

##### TH0 05/24/2019 09:58:09
but i wonder if there is maybe a visual tool to edit the proto files instead of using a text editor? Because my current workflow is extremly ineffective and i am not able to edit the geometry of objects by myself except editing the raw coordinates in the proto files -\_-



Can you recommend a tool for editing proto files and create or change webots objects efficiently?



%figure
![webots2.png](https://cdn.discordapp.com/attachments/565154703139405824/581420495564439568/webots2.png)
%end


Hi!



i'm currently working on a more realistic version of the Nao-Robocup-Simulator. I already changed some materials, textures and other things in the proto files:
%figure
![webots1.png](https://cdn.discordapp.com/attachments/565154703139405824/581420477193650186/webots1.png)
%end

##### David Mansolino [cyberbotics] 05/24/2019 08:31:37
Hi, ok good news!

##### moon 05/24/2019 08:23:38
I've already solved! I had to skip this step, I wrote " rosrun gmapping slam\_gmapping scan:=/pioneer3at/Sick\_LMS\_291/laser\_scan/layer0 \_xmax:=30 \_xmin:=-30 \_ymax:=30 \_ymin:=-30 \_delta:=0.2", as shown in the tutorial, and everything works! Thank you for your help!!

##### David Mansolino [cyberbotics] 05/24/2019 08:13:12
Indeed they are hard to see, you should probably change the color of the dot and make sure the  size of the grid is similar to the size of the floor in Webots, then in Webots you can enable the optional rendering 'View->Optional Rendering->Show Lidar Point Cloud' and check if the shapes of the points are similar in Webots and RViz

##### moon 05/24/2019 08:11:01
Thank you a lot! I've tried to visualize laser scan by RViz, and there were appearing little dots, outside of the grid,  which hard to see.
%figure
![9.png](https://cdn.discordapp.com/attachments/565154703139405824/581393708214124544/9.png)
%end

##### David Mansolino [cyberbotics] 05/24/2019 08:07:56
Maybe you could also try to visualize the lascer\_scan in rviz just to check if they make sense


I am sorrry but I can't help you further, if the laser scan is correctly published from the Webots side gamping should produce the map, this is more a ROS problem than a Webots problem.

Maybe someone more familiar to ROS could help you.

##### moon 05/24/2019 07:59:02
laser also works well.
%figure
![8.png](https://cdn.discordapp.com/attachments/565154703139405824/581390689565278208/8.png)
%end

##### David Mansolino [cyberbotics] 05/24/2019 07:19:09
Can you check if the sick is pucblishing laser\_scan ?

##### moon 05/24/2019 07:18:24
no, the  same...
%figure
![7.png](https://cdn.discordapp.com/attachments/565154703139405824/581380465362075648/7.png)
%end

##### David Mansolino [cyberbotics] 05/24/2019 07:05:55
Perfect and now if you start gmapping after that does it prints something (the order in which you start the node might be important)

##### moon 05/24/2019 07:05:16
camera and robot work
%figure
![6.png](https://cdn.discordapp.com/attachments/565154703139405824/581377160376221696/6.png)
%end

##### David Mansolino [cyberbotics] 05/24/2019 07:02:34
Did you start the 'pioneer3at' ros node ?


But the camera doesn't seems enabled... Does the robot move?

##### moon 05/24/2019 07:01:19
webots also doesn't show any error
%figure
![4.png](https://cdn.discordapp.com/attachments/565154703139405824/581376164644257792/4.png)
%end

##### David Mansolino [cyberbotics] 05/24/2019 06:50:48
Is there any error in the webots console ?


If yes, does the robo move?


No error but nothing is printed, gmapping should print each time it is computing updates. Is the simulation running ?

##### moon 05/24/2019 06:48:43
no, there is no errors
%figure
![2.png](https://cdn.discordapp.com/attachments/565154703139405824/581372993784119307/2.png)
%end

##### David Mansolino [cyberbotics] 05/24/2019 06:36:15
Hi, in the terminal you launched gmapping do you have any error messages or can you see that it is updating the map?

##### moon 05/24/2019 06:31:57
Hi everyone! I am studying this tutorial from youtube channel Cyberbotics  (link is [https://www.youtube.com/watch?v=xRvFJDuhx3Y&t=303s](https://www.youtube.com/watch?v=xRvFJDuhx3Y&t=303s)). So here after executing rosrun gmapping slam\_gmapping scan:=/pioneer3at/ command, rviz has to show map. But not my RViz. It shows a warning message "no map received". So after I have installed slam\_gmapping package, but it doesn't helpful. I have tried to write own launch file, but it seems like doesn't useful for pioneer3at, or I don't know. Anyway, it did not work. So, can you help me&

##### David Mansolino [cyberbotics] 05/24/2019 06:17:21
Hi, not in Python, but this example perform simple line following with the epuck robot using ROS in C++: [https://github.com/omichel/webots/blob/revision/projects/languages/ros/webots\_ros/src/e\_puck\_line.cpp](https://github.com/omichel/webots/blob/revision/projects/languages/ros/webots_ros/src/e_puck_line.cpp)

##### mi 05/23/2019 19:53:01
Hello



Has anyone ever worked with line follower with Webots, ROS and python at the same time?

##### Fabi 05/23/2019 18:01:54
Hi

I am trying to build a ROS controller in python but  it returns  import error: no module  named rospy 

Any idea  how to fix this?

##### David Mansolino [cyberbotics] 05/23/2019 13:42:49
You're welcome

##### nisuunn 05/23/2019 13:42:42
I see, many thanks!

##### David Mansolino [cyberbotics] 05/23/2019 13:41:36
Then this is probably the problem:

 step0: original robot spawn robot 1

step1: robot1 spawn robot2

step2: robot2 spawn robot3

...

##### nisuunn 05/23/2019 13:40:53
the same supervisor


yes

##### David Mansolino [cyberbotics] 05/23/2019 13:40:37
Does the robot that you spawn have the same controller as the one spawning the robot ?

##### nisuunn 05/23/2019 13:40:34
in one function which is called once


no

##### David Mansolino [cyberbotics] 05/23/2019 13:38:16
Do you call the ` importMFNode(index, path)` function at each step ?

##### nisuunn 05/23/2019 13:36:59
Is there any way around this issue?


however, instead of spawning only one robot, it keeps spawning in the same robot forever, so that more and more of these robots are created in the same exact space, I think the code does not get past this spawning point.


(i'm using importMFNode(index, path))


and into that children field I spawn my desired robot


I'm using supervisor.getRoot().getField('children')


I see, thanks again!

##### David Mansolino [cyberbotics] 05/23/2019 13:18:51
You're welcome


you can do something like:

supervisor.getRoot().getField('children').importMFNodeFromString('Robot { translation 1 0 2 }')


You may also be interested by the 'importMFNodeFromString' function

##### nisuunn 05/23/2019 13:17:53
ah okay, perfect, many thanks!

##### David Mansolino [cyberbotics] 05/23/2019 13:17:42
Then you can import anything in this field


First, it is better to import you robot at the root level, you can get the root field with something like this:

supervisor.getRoot().getField('children')


Yes of course, let me explain

##### nisuunn 05/23/2019 13:15:44
is there any way for me to spawn in a robot using the inmportMFNode(), or in any other way?


I would like to import a robot (robot node) using a supervisor. I'm trying to use childField.importMFNode(index, robotPath), where childField is the children field of a transform node, however Webots does not let me do this as you cannot import robot nodes into children fields of transform fields

##### David Mansolino [cyberbotics] 05/23/2019 13:14:29
Hi

##### nisuunn 05/23/2019 13:13:50
Hi!

##### David Mansolino [cyberbotics] 05/23/2019 07:19:11
Ok perfect!

##### moon 05/23/2019 07:16:10
in the first. But right now everything is working, after an execution of build error was disappeared.

##### David Mansolino [cyberbotics] 05/23/2019 06:14:03
`@moon`, in which tutorial did you encoutner this problem?


`@Thelm76` since in remote-control you will communicate with the robot only during the step function, the only way to do this is to check the encoder position at each step. If you want something really precise, the only way is to implement position cotnrol directly in the robot library: [https://github.com/omichel/webots/blob/revision/projects/robots/gctronic/e-puck/transfer/library/motor\_led/advance\_one\_timer/e\_motors.c](https://github.com/omichel/webots/blob/revision/projects/robots/gctronic/e-puck/transfer/library/motor_led/advance_one_timer/e_motors.c)

##### moon 05/23/2019 06:12:12
Hi, everyone! I just have started to study webots. And by following the tutorial, I have faced with next error : "ERROR: 'RectangleArena.proto': Lua error: 'floorSize' must contain positive values". Would you help with this? I've tried to change the values of the floorSize. But it doesn't helpful

##### Thelm76 05/22/2019 16:05:41
I can't use simple while (!condition) because I need to execute other pieces of code at the same time


Hi, I'm still with my position control problem for the e-puck, so I'm editing the library to implement a position control directly into the e-puck firmware, but now I'm stuck because I need an equivalent a events listeners in C... do someone know how can I do this?

##### David Mansolino [cyberbotics] 05/22/2019 07:08:16
I would rather keep it on the controller side, but if you want to make it a bit modular you can wrap this in a library that you can call from each of your controller (so that you don't cuplicate the code in each controller).

##### Mark - AgJunction 05/21/2019 21:43:31
I'm need to output my robot's GPS as CAN traffic.  I've been able to do so from inside the controller, but can someone tell me if using a Controller Plug-In is the correct way to do this?

##### Fabien Rohrer [Moderator] 05/21/2019 13:38:44
This is not enabled by default on the e-puck


Webots can also simulate depth of field blur. In this case, the focal distance can be set: [https://www.cyberbotics.com/doc/reference/focus](https://www.cyberbotics.com/doc/reference/focus)


Does this answer your question?


But Webots allows to define the horizontal field of view only.


Focal length, principal point and field of view are related with this equation: [https://www.edmundoptics.fr/resources/application-notes/imaging/understanding-focal-length-and-field-of-view/](https://www.edmundoptics.fr/resources/application-notes/imaging/understanding-focal-length-and-field-of-view/)


The focal length and the principal point are different concepts.


The field of view is by default 0.84 radians and this is an open field (it can be modified).


[https://github.com/omichel/webots/blob/master/projects/robots/gctronic/e-puck/protos/E-puck.proto#L20](https://github.com/omichel/webots/blob/master/projects/robots/gctronic/e-puck/protos/E-puck.proto#L20)


This is defined in the E-puck.proto file, let me check...


Hi el

##### el 05/21/2019 13:28:09
which is the default focal length and  principle point of the epucks camera?

##### Thelm76 05/20/2019 15:00:29
Okay thank you, i'll try to do without but I would be harder with just velocity control because of the wb\_robot\_step not properly workng with bluetooth

##### David Mansolino [cyberbotics] 05/20/2019 14:57:49
For information position control for the e-puck in remote-control is not supported with the remote-control library distributed with Webots: [https://github.com/omichel/webots/blob/revision/projects/robots/gctronic/e-puck/plugins/remote\_controls/e-puck\_bluetooth/entry\_points.cpp#L31](https://github.com/omichel/webots/blob/revision/projects/robots/gctronic/e-puck/plugins/remote_controls/e-puck_bluetooth/entry_points.cpp#L31)

##### Fabien Rohrer [Moderator] 05/20/2019 14:56:42
=> wbr\_motor\_set\_position is not defined in this library.


It means that your controller is linked with a remote control library (cf. Robot.remoteControl field) where wbr\_motor\_set\_position should be set.


Hi

##### Thelm76 05/20/2019 14:54:26
Hi! Could you help me to find out what's wrong in my code? I'm trying to remote control an e-puck with bluetoothand I get this error :

```
wbr_motor_set_position was called but not set
```



here is the main code :

```C
int main(int argc, char **argv)
{
  /* necessary to initialize webots stuff */
  wb_robot_init();
  WbDeviceTag left_motor, right_motor, left_sensor, right_sensor;
  left_motor = wb_robot_get_device("left wheel motor");
  right_motor = wb_robot_get_device("right wheel motor");
  printf("testm\n");
  wb_motor_set_position(left_motor, 0.0);
  wb_motor_set_position(right_motor, 0.0);
  wb_motor_set_velocity(left_motor, 2.0);
  wb_motor_set_velocity(right_motor, 2.0);
  
  wb_robot_step(2000);
  
  wb_motor_set_position(left_motor, 10.72);
  wb_motor_set_position(right_motor, 10.72);


  while (wb_robot_step(TIME_STEP) != -1) {
  };

  /* Enter your cleanup code here */

  /* This is necessary to cleanup webots resources */
  wb_robot_cleanup();

  return 0;
}
```

##### Stefania Pedrazzi [cyberbotics] 05/20/2019 06:27:38
Hi `@Jeremy` , you cannot stop it directly, but you can notify the robot controller to stop by the supervisor controller and handle the stop message in the robot controller. For example you can use the Emitter/Receiver ([https://www.cyberbotics.com/doc/reference/emitter](https://www.cyberbotics.com/doc/reference/emitter)) devices to send the stop message from the supervisor to the robot.


Hi `@Amey` , ostacle avoidance is a research topic in robotics and there are many different ways to achieve it. You can find many examples in the provided simulations, I would suggest you to run the Webots Guided Tour and look at the different controller programs. 

We often use the Breitenberg algorithm ([https://en.wikipedia.org/wiki/Braitenberg\_vehicle](https://en.wikipedia.org/wiki/Braitenberg_vehicle)), for example in

- robots/gctronic/worlds/e-puck.wbt

- samples/robotbenchmark/obstacle\_avoidance/worlds/obstacle\_avoidance.wbt

##### Jeremy 05/19/2019 14:41:23
Hello, I have two controllers, one for my robot and one for a supervisor. Is it possible  from the controller of the supervisor to stop/exit the controller of the robot ? I am working in C++.

##### Amey 05/19/2019 02:10:39
Hello, I just need some guidance on how I can move a robot and reach the destination by avoiding obstacles.

##### Jeremy 05/17/2019 17:11:58
thank you !

##### Olivier Michel [cyberbotics] 05/17/2019 16:19:23
See here: [https://cyberbotics.com/doc/reference/robot?tab=c++#wb\_robot\_get\_time](https://cyberbotics.com/doc/reference/robot?tab=c++#wb_robot_get_time)

##### Jeremy 05/17/2019 16:18:19
Hello ! I have another question, how can I get the simulation time in c++ ?

##### Olivier Michel [cyberbotics] 05/17/2019 13:37:06
OK, let us know if that helps.

##### Thelm76 05/17/2019 13:36:20
yes but it's still not working fine..... I'll try to make the same controller in C it maybe will solve the problem

##### Olivier Michel [cyberbotics] 05/17/2019 13:20:53
robot.step(3000) is probably useless. It should work fine with a robot.step(100) value or so.

##### Thelm76 05/17/2019 13:15:09
I also tried to put a robot.set(3000) to give time to establish the connection


yes, actually, at first I tried to do a position control in python. then I had this messages so I tried to do a velocity control

##### Olivier Michel [cyberbotics] 05/17/2019 12:30:38
Strange... Did you try to make the same kind of motor control as in the C sample? E.g., control in speed rather than in position?

##### Thelm76 05/17/2019 12:29:22
but I'm progrmming in python


yes the sample crontrollers are working fine ....

##### Olivier Michel [cyberbotics] 05/17/2019 12:20:22
If so, did that work?


Hi, did you try to run the sample e-puck controllers with a remote controlled robot?

##### Thelm76 05/17/2019 11:12:32
Hi! I have a problem when connecting e-puck by bluetooth to webots as it says "wbr\_motor\_set\_position was called but not set". In the code the only time I call this method is in an init function to set the motors in velocity control mode :

wheels[i].setPosition(float('+inf'))

wheels[i].setVelocity(0)



but the program works just fine in the simulation

##### David Mansolino [cyberbotics] 05/17/2019 06:31:55
Hi, you have to modify the makefile of your controller to add the includes and link with the library, please find more information about this here: [https://www.cyberbotics.com/doc/guide/using-webots-makefiles#adding-an-external-library-ccp](https://www.cyberbotics.com/doc/guide/using-webots-makefiles#adding-an-external-library-ccp)

##### hunter[EU] 05/16/2019 19:02:16

%figure
![60809016_841252589585797_12981491407519744_n.png](https://cdn.discordapp.com/attachments/565154703139405824/578658498192343040/60809016_841252589585797_12981491407519744_n.png)
%end



%figure
![60448918_416254715593013_6479608462719320064_n.png](https://cdn.discordapp.com/attachments/565154703139405824/578658470224592896/60448918_416254715593013_6479608462719320064_n.png)
%end


We are havin issues attach libreries to the simulator

60448918\_416254715593013\_6479608462719320064\_n.png

60809016\_841252589585797\_12981491407519744\_n.png



|Regards ,

##### Olivier Michel [cyberbotics] 05/15/2019 13:09:21
You are welcome.

##### nisuunn 05/15/2019 13:07:57
Thank you!

##### Olivier Michel [cyberbotics] 05/15/2019 13:05:54
wb\_supervisor\_field\_import\_mf\_node\_from\_string(root\_children\_field, 4, "DEF MY\_ROBOT Robot { controller \"my\_controller\" }");


See example here: [https://cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_field\_import\_mf\_node\_from\_string](https://cyberbotics.com/doc/reference/supervisor#wb_supervisor_field_import_mf_node_from_string)

##### nisuunn 05/15/2019 12:53:06
How do I define a different def when spawning a new object?

##### David Mansolino [cyberbotics] 05/15/2019 12:50:36
You can either define different def when spawning them or retrieve them with the  wb\_supervisor\_field\_get\_mf\_node function ([https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_field\_get\_mf\_node](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_field_get_mf_node)) , you can use '-1' as index to get the latest imported node.


Hi

##### nisuunn 05/15/2019 12:47:54
I would use the getFromDef function, but if many of the same objects are spawned, they'd all have the same DEF,


Once they've spawned, how would I get a handle to these newly created objects?


I'm using a supervisor to create new objects at runtime.


Hi

##### Olivier Michel [cyberbotics] 05/15/2019 10:58:28
OK...

##### El\_Samu\_El 05/15/2019 10:58:20
both is equivalent

##### Olivier Michel [cyberbotics] 05/15/2019 10:58:02
Do you mean the print in the Terminal (with --stderr --stdout) or in the Webots console?

##### El\_Samu\_El 05/15/2019 10:50:43
keyboard interrupt doesn't help with showing what is printed


then it ignores the print statement in the first line  even with flush


it just outputs "controller\_name": Starting: "python3 -u "filename.py"

##### Olivier Michel [cyberbotics] 05/15/2019 10:36:35
This is strange, I don't understand why you can't get the same on stdout/stderr...

##### El\_Samu\_El 05/15/2019 10:31:09
yeah that works perfectly

##### Olivier Michel [cyberbotics] 05/15/2019 10:15:53
Oops... Can you try writing into a file?

##### El\_Samu\_El 05/15/2019 10:15:17
setting PYTHONUNBUFFERED does not help either


flushing does not help, i'll try it with the env variable


thanks


no, I didn't read about that

##### Olivier Michel [cyberbotics] 05/15/2019 10:04:45
See [https://stackoverflow.com/questions/107705/disable-output-buffering](https://stackoverflow.com/questions/107705/disable-output-buffering)


Did you try to set the PYTHONUNBUFFERED environment variable?

##### El\_Samu\_El 05/15/2019 10:04:17
will try


i am using python

##### Olivier Michel [cyberbotics] 05/15/2019 10:03:43
Did you try to call fflush(stdout) after printfs?

##### El\_Samu\_El 05/15/2019 10:03:37
yes, the output is  the same as in the webots console

##### Olivier Michel [cyberbotics] 05/15/2019 10:03:17
Do you get this even with the --stdout and --stderr options?

##### El\_Samu\_El 05/15/2019 10:00:43
So the other issue is that webots print statements are somewhat delayed in the execution order. If my program does not terminate, then they are not printed at all. This makes debugging really hard.

##### Fabien Rohrer [Moderator] 05/15/2019 09:41:16
`@El_Samu_El` please follow this issue to be aware about its resolution.


[https://github.com/omichel/webots/issues/453](https://github.com/omichel/webots/issues/453)


I'm opening issue


Yes, me too

##### Stefania Pedrazzi [cyberbotics] 05/15/2019 09:34:57
I checked and I get the same issue on Ubuntu 18.04 with minimize.

##### El\_Samu\_El 05/15/2019 09:34:33
yes, it opens in exactly the same position and layout as when I opened it the last time normally

##### Fabien Rohrer [Moderator] 05/15/2019 09:32:29
This option is supposed to launch Webots but minimized. Do you see the window in such case?

##### El\_Samu\_El 05/15/2019 09:29:04
Ubuntu 18.04

##### Fabien Rohrer [Moderator] 05/15/2019 09:28:51
It's supposed to work. On which OS are you working?

##### El\_Samu\_El 05/15/2019 09:27:52
No, I missed stderr. Thanks! But that --minimize is not working is known, right?

##### Fabien Rohrer [Moderator] 05/15/2019 09:25:40
ðŸ‘

##### Olivier Michel [cyberbotics] 05/15/2019 09:25:23
`@SamuelKopp`: did you try to use the --stdout and --stderr command line options of Webots? Is it what you need?

##### Fabien Rohrer [Moderator] 05/15/2019 09:24:01
thank you

##### El\_Samu\_El 05/15/2019 09:23:51
Okay!

##### Fabien Rohrer [Moderator] 05/15/2019 09:23:38
Ok. Could I kindly ask you to fill a bug report here: [https://github.com/omichel/webots/issues](https://github.com/omichel/webots/issues) mentionning your OS, the Webots version, and an example of a message not working (screenshot)? We will help you there.

##### El\_Samu\_El 05/15/2019 09:22:30
while print statements are shown in the terminal


error messages are shown in the webots console


because webots tends to print in the wrong order or does not at all if the program isn't terminating

##### Fabien Rohrer [Moderator] 05/15/2019 09:21:20
which messages are not redirected?


But normally, most messages should be redirected  on the console.

##### El\_Samu\_El 05/15/2019 09:20:58
that's fine, but I need the output on the console

##### Fabien Rohrer [Moderator] 05/15/2019 09:20:26
Webots requires the GUI, it's currently not possible to run Webots without GUI

##### El\_Samu\_El 05/15/2019 09:20:07
does not change anything really


yes

##### Fabien Rohrer [Moderator] 05/15/2019 09:19:40
Could you try to add `--batch` option?

##### El\_Samu\_El 05/15/2019 09:18:57
**


When I start webots with ' webots --minimize --stdout' on ubuntu, it still opens the GUI and prints partly some messages on terminal and on webots console. Is this a known bug or am I doing something wrong?

##### Karl 05/15/2019 09:18:49
Thank you `@Olivier Michel`! I got it to work with cmake.

##### El\_Samu\_El 05/15/2019 09:18:23
When I start ubuntu with ' webots --minimize --stdout' ion ubuntu, it still opens the GUI and prints partly some messages on terminal and on webots console. Is this a known bug or am I doing something wrong?

##### Olivier Michel [cyberbotics] 05/15/2019 06:27:02
See the documentation here: [https://www.cyberbotics.com/doc/guide/transfer-to-your-own-robot#developing-a-remote-control-plugin](https://www.cyberbotics.com/doc/guide/transfer-to-your-own-robot#developing-a-remote-control-plugin)


We provide examples of remote-control libraries built with gcc and Makefile, but you are free to use other tools.


You can compile it with any C compiler, using CMake or any other build tool.


A remote control library is a simple shared library (DLL on Windows, .so on Linux, .dylib on mac OS)


You just need to compile your own remote-control library.


You don't need to recompile Webots to create a custom remote control.


Hi Karl,

##### Karl 05/14/2019 20:51:59
Or, more generally: Does anyone know how to build a custom remote control with CMake?


Do I really need to compile WeBots when making a custom remote control, or am I missing something?

##### Fabien Rohrer [Moderator] 05/14/2019 13:51:36
Webots may have started on an empty world... Thank you, have a good day too.

##### Abdullah 05/14/2019 13:51:22
Thank you. Have a good day

##### Fabien Rohrer [Moderator] 05/14/2019 13:51:00
glad to read that ^^

##### Abdullah 05/14/2019 13:50:39
there was some glitch maybe with my mac.


I just restarted it and it worked ! sorry


Hi Fabien,

##### Fabien Rohrer [Moderator] 05/14/2019 13:49:57
Do you have any error message?


Hi

##### Abdullah 05/14/2019 13:49:22
Hello, I just installed reboots on my mac and it seems that my GPU is of 1024 MB, however I can not see the world view, the 3D i mean.

##### Jeremy 05/14/2019 09:54:30
thank you !

##### Stefania Pedrazzi [cyberbotics] 05/14/2019 08:13:53
Hi `@Jeremy` , yes you can find a C++ example in the driver.cpp controller file of the world projects/languages/cpp/worlds/example.cpp

##### Jeremy 05/14/2019 07:48:20
Hello, I am trying to get the position of my robot using a supervisor, but I don't quite get how to implement it. I have found an example in C on the website but do you know where I could find an example in C++ ?

##### el 05/13/2019 18:54:53
thank you very much â¤

##### Stefania Pedrazzi [cyberbotics] 05/13/2019 06:30:04
`@el` in order to get two consecutive frames you have to call `wb_robot_step` function in between. So you have to store the previous camera image and use it in the next `while (wb_robot_step() != -1)` run.


`@Amey`  you should first add the GPS device in the 'turretSlot' of the e-puck because by default the e-puck model doesn't have it. The gps works exactly as all the other sensors. You can for example look at projects/robots/softbank/nao/worlds/nao\_demo.wbt for an example for the Nao robot that uses a GPS  or at projects/languages/python/worlds/example.wbt for a more simple and generic example of how to use sensors in Python

Here is the GPS documentation: [https://www.cyberbotics.com/doc/reference/gps?tab=python](https://www.cyberbotics.com/doc/reference/gps?tab=python)


> but when robot translate to new position, the speed is so high and rotate is it natural?



`@fateme` you should  reset the physics of your robot after translate it by calling wb\_supervisor\_node\_reset\_physics [https://www.cyberbotics.com/doc/reference/supervisor#wb\_supervisor\_node\_reset\_physics](https://www.cyberbotics.com/doc/reference/supervisor#wb_supervisor_node_reset_physics)

##### Amey 05/13/2019 01:46:12
Hi I want to enable GPS on e puck in python. Any link or reference that would help

##### el 05/12/2019 12:16:44
the feature matching algorythm works fine but i dont know how to take two frames one after the other



%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/577106042710917160/unknown.png)
%end


hello ðŸ˜ƒ  well i want to take a camera frame and the next camera frame and implement a feature matching algorithm using opencv. but as seen in the above code i take the first frame 2 times cause i am in the same timestep .how to take 2 frames one after the other from 2 timwsteps?

##### fateme 05/11/2019 20:58:39
but when robot translate to new position, the speed is so high and rotate is it natural?


I correct it


this function can only be used in a 'Supervisor' controller.


why this error shows


\#include <webots/supervisor.h> i add the library


ignoring illegal call to wb\_supervisor\_node\_get\_from\_def() in a 'Robot' controller.

##### Fabien Rohrer [Moderator] 05/11/2019 12:10:53
Youâ€™re welcome ðŸ˜‰

##### fateme 05/11/2019 12:10:43
Thanks

##### Fabien Rohrer [Moderator] 05/11/2019 12:10:21
Please look at this doc page.


[https://www.cyberbotics.com/doc/guide/supervisor-programming#setting-the-position-of-robots](https://www.cyberbotics.com/doc/guide/supervisor-programming#setting-the-position-of-robots)

##### fateme 05/11/2019 12:09:44
I don not understand

##### Fabien Rohrer [Moderator] 05/11/2019 12:09:17
This is possible with the Supervisor API:

##### fateme 05/11/2019 12:08:48
yes

##### Fabien Rohrer [Moderator] 05/11/2019 12:08:25
Do you mean to set the robot position programatically?

##### fateme 05/11/2019 12:06:18
I have a question . I want to replace my e-puck to a new place in environment after each episodes. Is there certain command for this transfer?


hi

##### David Mansolino [cyberbotics] 05/10/2019 07:27:14
You're welcome

##### kim 05/10/2019 07:24:17
Thanks

##### David Mansolino [cyberbotics] 05/10/2019 07:03:34
I strongly recommend to follow our tutorial (available in Python version) you will then better understand how the control of the robot works: [https://www.cyberbotics.com/doc/guide/tutorials?tab=python](https://www.cyberbotics.com/doc/guide/tutorials?tab=python)


No there is unfortunately no tutorial about openaigym and Webots. Yes the Python API is the API used to control your robot in Webots.

##### kim 05/10/2019 07:02:01
and Webots Python api is in Webots program, is it right?


is there a tutorial about the using openaigym and webots?

##### David Mansolino [cyberbotics] 05/10/2019 06:57:55
Not out of the box, but as Webots provide a Python interface you can integrate it yourself to openaigym

##### kim 05/10/2019 06:57:13
Webots supports the openaigym?

##### David Mansolino [cyberbotics] 05/10/2019 06:56:47
Yes you should use directly the Webots C/C++/Python/Java api.

##### kim 05/10/2019 06:56:16
umm... Can I contrl the real nao robot using the webot without naoqi?


without using naoqi


Can I control the nao robot using the webot in choregraphe?

##### David Mansolino [cyberbotics] 05/10/2019 06:53:31
Yes of course

##### kim 05/10/2019 06:53:23
Can i ask a question?

##### David Mansolino [cyberbotics] 05/09/2019 12:49:30
You're welcome

##### Hussein 05/09/2019 12:47:23
Thanks

##### David Mansolino [cyberbotics] 05/09/2019 12:46:34
Ok, please try to use Webots safe mode: [https://cyberbotics.com/doc/guide/starting-webots#safe-mode](https://cyberbotics.com/doc/guide/starting-webots#safe-mode)

##### Hussein 05/09/2019 12:44:38
Geforce m930. I have recent update

##### David Mansolino [cyberbotics] 05/09/2019 12:42:37
what is your GPU? And are your GPU drivers up to date ?


Hi

##### Hussein 05/09/2019 12:42:08
Hi

Why webots close sudenlly afer luchuing

##### David Mansolino [cyberbotics] 05/09/2019 09:38:15
Welcome ðŸ˜ƒ

##### Hussein 05/09/2019 09:34:41
thanks

##### Fabien Rohrer [Moderator] 05/09/2019 09:34:32
Hi Hussein, welcome.

##### Hussein 05/09/2019 09:34:16
Hello evryone. I'm new user

##### avnishsachar 05/08/2019 12:44:09
Yes, I can write into a file instead. Thanks!

##### Fabien Rohrer [Moderator] 05/08/2019 12:38:52
Could you write your output into a file instead? Or use a debugger?


Unfortunately, this is not possible.

##### avnishsachar 05/08/2019 12:35:59
Hi, is there a way to print a custom message on the console even when the simulation is paused?

##### David Mansolino [cyberbotics] 05/08/2019 09:51:44
You're welcome

##### AntiSquid 05/08/2019 09:51:36
right, thanks

##### David Mansolino [cyberbotics] 05/08/2019 09:50:22
Then you can directly change the wheel rotation speed with the wb\_motor\_set\_velocity function: [https://www.cyberbotics.com/doc/reference/motor#wb\_motor\_set\_velocity](https://www.cyberbotics.com/doc/reference/motor#wb_motor_set_velocity)

##### AntiSquid 05/08/2019 09:49:28
yes 2 wheels

##### David Mansolino [cyberbotics] 05/08/2019 09:48:52
ok and how do you control it? Does it has wheels ?

##### AntiSquid 05/08/2019 09:48:29
like a box, a 3d rectangle

##### David Mansolino [cyberbotics] 05/08/2019 09:47:11
what does your robot loooks like ?

##### AntiSquid 05/08/2019 09:46:55
not sure how to adjust the speed at which it turns

##### David Mansolino [cyberbotics] 05/08/2019 09:45:33
Is this what you need ?


Hi,  using the InertialUnit node ([https://www.cyberbotics.com/doc/reference/inertialunit](https://www.cyberbotics.com/doc/reference/inertialunit)) you can get the absolute orientation of the robot.

##### AntiSquid 05/08/2019 09:44:06
where can i check the angular rotation of a robot, trying to adjust the torque

##### CH\_KIM 05/08/2019 09:01:06
um ok!

##### Olivier Michel [cyberbotics] 05/08/2019 08:55:06
There is currently no solution to go beyond 1 KHz.

##### CH\_KIM 05/08/2019 08:53:08
not change the duration value, any solution about my problem.


um... ok

##### David Mansolino [cyberbotics] 05/08/2019 08:44:57
`@CH_KIM` the duration is in millisecond which means the biggest frequency you can have is 1khz (which is already quite high for a control loop).


`@à¼ºYatorià¼»` yes you can add new node (e.g. DistanceSensor nodes) in the 'turretSlot' field of the E-puck node.

##### CH\_KIM 05/08/2019 07:43:30
How to get sensor data by high frequency.


HI! I want to check sensor data by 2khz. but "duration" of "wb\_robot\_step" is "int" type.

##### à¼ºYatorià¼» 05/08/2019 07:20:54
I see thank you ,is it  possible to add it through a node or something like that?

##### David Mansolino [cyberbotics] 05/08/2019 07:02:43
No the epuck only contains 'infra-red' distance sensors.


Hi

##### à¼ºYatorià¼» 05/08/2019 07:00:41
Hey , does the epuck contain ultra sonic sensors ?

##### Olivier Michel [cyberbotics] 05/08/2019 06:17:19
Hi Fabi, you need to click in the 3D view so that keyboard events can reach out the robot controller program.

##### Fabi 05/07/2019 19:28:35
Hi,  

I  am trying to run the python example  in (webots/projects/languages/python/worlds/example.wbt but I can not set the keyboard inputs to  control robot1.  Can anybody help me, please?

##### à¼ºYatorià¼» 05/07/2019 15:50:14
i see thank you !

##### Fabien Rohrer [Moderator] 05/07/2019 15:50:04
Certainly the GPS which can retrieve an absolute position.

##### à¼ºYatorià¼» 05/07/2019 15:49:20
hey ! which sensor is the most fitting to get the value of  the position of a starting point A and the position of a target point B (so that i can tell my robot to go for example straight from A to B or things like that).

##### ä¹‹ä¹‹ 05/07/2019 14:58:02
thank you very much!

##### Fabien Rohrer [Moderator] 05/07/2019 14:57:29
In this case, please send an e-mail to info@cyberbotics.com with your license ID, we will see how we could help you.

##### ä¹‹ä¹‹ 05/07/2019 14:56:40
For some reasons, the version 8.5.4 is used.

##### Fabien Rohrer [Moderator] 05/07/2019 14:55:34
Webots does not have license anymore since december. Could you use the free version of Webots?


Hi,

##### ä¹‹ä¹‹ 05/07/2019 14:54:24
My license may be occupied, can you help me?

##### Wei 05/06/2019 09:28:02
`@Fabien Rohrer` Thank you!

##### Fabien Rohrer [Moderator] 05/05/2019 18:15:48
`@leoliako9595` you should simply install opencv and link it with your controller as described here [https://cyberbotics.com/doc/guide/using-webots-makefiles#adding-an-external-library-ccp](https://cyberbotics.com/doc/guide/using-webots-makefiles#adding-an-external-library-ccp)


The Mantis is certainly the most advanced hexapod we have in Webots: [https://cyberbotics.com/doc/guide/mantis](https://cyberbotics.com/doc/guide/mantis)

##### janglee 05/05/2019 17:18:11
like this one [https://www.youtube.com/watch?v=bmoGfBe63ZA](https://www.youtube.com/watch?v=bmoGfBe63ZA)


is there any good example of hexapod simulation made with webot?

##### leoliako9595 05/05/2019 13:51:24
Hello, i have also problem linking my system`s opencv with webots, can anyone give a link or some steps of how to do this correctly? I use Ubuntu 18 and opencv4 installed with opencv.org instructions. Thanks in advance

##### Fabien Rohrer [Moderator] 05/05/2019 12:45:43
I also think that OpenCV is only used in some examples in Webots. So you could also simply remove the related files from Webots.


`@el` Indeed, installing opencv is a good idea. If the OpenCV released in Webots is problematic, you could take a look at your LD\_LIBRARY\_PATH environment variable, and make sure your OpenCV appears first.


`@Akash` Did you look at the Compass.lookupTable field? [https://cyberbotics.com/doc/reference/compass](https://cyberbotics.com/doc/reference/compass)


`@Wei` Shadows is more a matter of enabling the Light.castShadow field: [https://cyberbotics.com/doc/reference/light](https://cyberbotics.com/doc/reference/light)

##### Wei 05/05/2019 12:24:04

> **Attachment**: [ok.WRL](https://cdn.discordapp.com/attachments/565154703139405824/574572017534238720/ok.WRL)


But another wrl file has shadow...


I imported a wrl file, but there is no shadow?


Hi all

##### Akash 05/04/2019 21:40:04
How could i set a new offset value to the compass having a range of 0 to  359

##### el 05/04/2019 16:47:44
how to solve the conflicts?


and is says there are conflicts with the opencv i have outside of webots


in opencv2 of webots


i put 2.4 highgui.hpp in include webots files


/usr/bin/ld: warning: libopencv\_core.so.4.0, needed by //usr/local/lib/libopencv\_highgui.so, may conflict with libopencv\_core.so.2.4


as i see the opencv2 inside webots doestn't include highgui

##### ä¹‹ä¹‹ 05/03/2019 20:14:26
my english is not well,sorry


Folder path

##### el 05/03/2019 20:13:33
what subdirectory?

##### ä¹‹ä¹‹ 05/03/2019 20:13:04
Try to drop it into a subdirectory?

##### el 05/03/2019 20:12:19
why it says that there is  no highgui file? i also modified the makefile of the simulation project to include this library



%figure
![Selection_012.png](https://cdn.discordapp.com/attachments/565154703139405824/573964888288788481/Selection_012.png)
%end

##### Thelm76 05/03/2019 12:30:37
because the cross compilation seems to be too incomplete for what I want to do


So for now I have to leave webots connected to e-pucks. Also I've found some examples on forums, of people trying to use LibIrcom, which permit to send data by the IR sensors, but I can't find any examples of working codes. So I think I will give up the cross-compilation idea for now and stay with the remote control thing

##### David Mansolino [cyberbotics] 05/03/2019 12:17:15
Hi, this is not supported out of the box, if you are using remote-control you might use emitter-receiver. But with remote-control you will need to implement this by yourself.

##### Thelm76 05/03/2019 12:16:35
I will use e-pucks v2


Hi, would it be possible to make multiple e-pucks communicating with each other (e.g. by WiFi or Bluetooth) with cross compliation?

##### David Mansolino [cyberbotics] 05/03/2019 12:13:59
That's indeed higly possible, has the physics dll is loaded by Webots directly, if there is a crash in the physics plugin, Webots will crash as well.

##### AntiSquid 05/03/2019 11:43:52
`@David Mansolino` no idea what caused the crash. I am not sure it's the GPU (IntelÂ® HD Graphics 4400)

i reset all the world settings and it worked again, there seems to be an issue with webots (for me) when i try to use physics, but it might be the physics dll i use is bugged

##### David Mansolino [cyberbotics] 05/03/2019 06:32:36
`@Chin I`  unfortunately not yet, however you can find generic step-by-step tutorials here: [https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials).

In these tutorials you will learn (amongst other) how to control motors which is what you need for controlling Robotic Arms.

By the way, do you have a specific robotic arm in mind?


`@AntiSquid`, what is your GPU ? Have you been able to identify which OpenGL preference ([https://cyberbotics.com/doc/guide/preferences#opengl](https://cyberbotics.com/doc/guide/preferences#opengl))  cause the crash ?

##### Chin I 05/02/2019 19:07:38
Hi, are there any step-by-step tutorials on Robotic Arm Simulations and how to write controllers for them?

##### AntiSquid 05/02/2019 18:48:42
ok it works with safe mode

i still find it strange it worked flawlessly the very first time, but then kept crashing afterwards


tried to restart the program multiple times it keeps saying "not responding"


webots gets stuck at "finalizing nodes" after i restarted my pc

##### David Mansolino [cyberbotics] 05/02/2019 16:14:27
Have you tried the safe mode?



[https://cyberbotics.com/doc/guide/starting-webots#safe-mode](https://cyberbotics.com/doc/guide/starting-webots#safe-mode)

##### DANNYWEBOTS 05/02/2019 16:12:34
What can I do to get the latest version?


I do not understand why the last version does not run


My version GPU is GeForce GT 525 M

##### David Mansolino [cyberbotics] 05/02/2019 16:10:30
What is your GPU ?


But in any case, even with older version of Webots we do recommend to use a decent GPU

##### DANNYWEBOTS 05/02/2019 16:10:18
I'm sorry my English is not good

##### David Mansolino [cyberbotics] 05/02/2019 16:10:03
No I am sorry but only version from R2019a are free and open source

##### DANNYWEBOTS 05/02/2019 16:09:43
It is Posiible?


Now, I need to install an older version, because my computer does not have an advanced graphics card, I need to install version 8.6.2 for windows, I may be able to use that version in open source

##### David Mansolino [cyberbotics] 05/02/2019 16:08:06
You're welcome

##### DANNYWEBOTS 05/02/2019 16:08:00
Thank you

##### David Mansolino [cyberbotics] 05/02/2019 16:07:10
Since December 2018 Webots is completely free and open-source.



You can download Webots here: [https://www.cyberbotics.com/download](https://www.cyberbotics.com/download) and check out the source code here: [https://github.com/omichel/webots](https://github.com/omichel/webots)



We provide paid user support, training and consulting for users who need to quickly develop high-quality Webots simulations, see: [https://www.cyberbotics.com/buy](https://www.cyberbotics.com/buy)

##### DANNYWEBOTS 05/02/2019 16:07:06
hi

##### David Mansolino [cyberbotics] 05/02/2019 16:06:52
Hi

##### DANNYWEBOTS 05/02/2019 16:06:34
hellow, hellow, I need activate the version test free for 30 days, Please. Urgent

##### Fabien Rohrer [Moderator] 05/02/2019 16:00:27
I never tried this ^^

##### kim 05/02/2019 15:42:08
Have you been to  transfer human skeleton data  to robot?


Oh


Ok Thanks for the information

##### Fabien Rohrer [Moderator] 05/02/2019 15:37:08
yes, 2.7

##### kim 05/02/2019 15:36:53
did you use python 2.7?


using python 2.7

##### Fabien Rohrer [Moderator] 05/02/2019 15:36:42
Yes, we tried this.

##### kim 05/02/2019 15:36:20
have you tried about that?


As I know we can control the nao robot in reality using python sdk naoqi

##### Fabien Rohrer [Moderator] 05/02/2019 15:35:44
you're welcome, good luck with this ðŸ˜ƒ

##### kim 05/02/2019 15:35:26
ok thanks !

##### Fabien Rohrer [Moderator] 05/02/2019 15:34:56
You can give this a try, but we do not support this anymore.


[https://github.com/omichel/naoqisim](https://github.com/omichel/naoqisim)


At some point, we were developing a system with softbank to control both the real and the virtual robot, but they dropped it:


You should refer to the softbank documentation for this. I think yes. Not sure at all about Python 3.

##### kim 05/02/2019 15:33:11
So do you know that we can control the Nao robot in reality using python?

##### Fabien Rohrer [Moderator] 05/02/2019 15:32:34
No, in reality, this is another story.

##### kim 05/02/2019 15:32:24
is it right?


control the robot in reality  not virtual environment

##### Fabien Rohrer [Moderator] 05/02/2019 15:32:03
Yes, as in the controller shown above.

##### kim 05/02/2019 15:31:02
So you mean that we can control the Nao robot using Webots API?

##### Fabien Rohrer [Moderator] 05/02/2019 15:29:58
It's simply the library (set of funtions) used to control the virtual robots: [https://cyberbotics.com/doc/reference/nodes-and-api-functions](https://cyberbotics.com/doc/reference/nodes-and-api-functions)

##### kim 05/02/2019 15:28:55
What is the Webots API exactly?

##### Fabien Rohrer [Moderator] 05/02/2019 15:26:12
It's a demo controller for the Nao written in Python (2 or 3). A good starting point...

##### kim 05/02/2019 15:25:10
What is the first code for?

##### Fabien Rohrer [Moderator] 05/02/2019 15:23:57
(basically, you simply need to install Python 3 correctly)


Please refer to this doc to run Python controllers: [https://cyberbotics.com/doc/guide/using-python](https://cyberbotics.com/doc/guide/using-python)


You should be able to test this example out-of-the-box: [https://github.com/omichel/webots/blob/master/projects/robots/softbank/nao/controllers/nao\_demo\_python/nao\_demo\_python.py](https://github.com/omichel/webots/blob/master/projects/robots/softbank/nao/controllers/nao_demo_python/nao_demo_python.py)


Yes

##### kim 05/02/2019 15:22:08
Is the Webots API  installed when I install the weobots?

##### Fabien Rohrer [Moderator] 05/02/2019 15:21:10
Webots supports Python 3 on every OS. The Webots API can be used to control the Nao.


Hi, yes it can

##### kim 05/02/2019 15:20:23
I wonder nao robot can be controlled using python3


hi

##### Fabien Rohrer [Moderator] 05/02/2019 11:35:00
Hi, Boost can be added as any other third party library: [https://www.cyberbotics.com/doc/guide/using-webots-makefiles#adding-an-external-library-ccp](https://www.cyberbotics.com/doc/guide/using-webots-makefiles#adding-an-external-library-ccp)

##### AntiSquid 05/02/2019 11:08:47
greetings, how do i add boost to webots?

##### David Mansolino [cyberbotics] 05/02/2019 07:19:06
To be completely correct about the thrustmaster tmx driving wheel, the buttons and axis references are handled on the controller side, they can easily be changed in the configuration file (*.ini): [https://github.com/omichel/webots/tree/master/projects/vehicles/controllers/racing\_wheel](https://github.com/omichel/webots/tree/master/projects/vehicles/controllers/racing_wheel)

##### Olivier Michel [cyberbotics] 05/02/2019 06:31:51
`@sai`, Webots works with the Logitech driving wheel and Fanatec driving wheels. We never tested the Thurstmaster, but it is likely to work as well. If not, it shouldn't be difficult to adapt the buttons and axis references in the source code of Webots.


`@Sajjad` , you need to install naoqisim in addition to Webots. Installation instructions are here: [https://github.com/omichel/naoqisim](https://github.com/omichel/naoqisim)

##### sai 05/01/2019 23:45:22
Hello, does webots support thrustmaster tmx driving wheel. I want to control the vehicle using this thrustmaster wheel connected to pc

##### Sajjad 05/01/2019 22:14:58
Hi, I want to connect Webots to Choregraphe, how know about it? actually, ,I can't find nao\_qi !


hi, how I can my first project with Nao robot in webots?

##### Fabien Rohrer [Moderator] 05/01/2019 19:35:57
The vehicles are supposed to be controlled using the libvehicle only which actually manage the acceleration

##### sai 05/01/2019 19:31:00
What does it mean in a simulation? Does it make the vehicle instantaneously reach a specific velocity in cruise mode?


Also, I have a question regarding the acceleration value being assigned infinity for a vehicle


Thanks that could be helpful

##### Fabien Rohrer [Moderator] 05/01/2019 19:26:44
Hidden fields are dealt in the WbSolid class: [https://github.com/omichel/webots/blob/931d04675d7dc69aa0599c4d525795bbbdd6193f/src/webots/nodes/WbSolid.cpp#L157](https://github.com/omichel/webots/blob/931d04675d7dc69aa0599c4d525795bbbdd6193f/src/webots/nodes/WbSolid.cpp#L157)

##### sai 05/01/2019 19:20:29
Yeah that looks like it... Is there any source where I can understand how these parameters encode some specific velocity? Without that I could only try to check a couple of webots saved worlds with different velocities...

##### Fabien Rohrer [Moderator] 05/01/2019 19:16:28
These parameters may be difficult to write manually.


Here is the doc: [https://cyberbotics.com/doc/reference/proto-hidden-fields](https://cyberbotics.com/doc/reference/proto-hidden-fields)

##### sai 05/01/2019 19:15:19
Ohh thats's a good idea. I can try it out thanks!!

##### Fabien Rohrer [Moderator] 05/01/2019 19:14:50
Just save a world while vehicles are running, and observe how Â«Â hiddenFieldÂ Â» are stored in the .wbt file.


I think this is possible thanks to the hidden fields.

##### sai 05/01/2019 19:11:58
Hello, is it possible to make webots vehicles start with some specific initial velocity instead of zero?

##### Olivier Michel [cyberbotics] 05/01/2019 14:07:52
You are welcome.

##### nisuunn 05/01/2019 14:07:46
Thank you!

##### Olivier Michel [cyberbotics] 05/01/2019 14:07:39
Yes.

##### nisuunn 05/01/2019 14:07:31
I see, so in the case of a quadruped robot, should the main body torso be the boundingObject of the robot?

##### Olivier Michel [cyberbotics] 05/01/2019 14:06:58
It shouldn't be a problem. However, it is better to define a boundingObject for the robot. This bounding object usually represents the body of the robot (often the place where the CPU of the robot is) from which the other joints are connected to.

##### nisuunn 05/01/2019 14:05:40
Can this be a problem?


Right now I have left it undefined, and instead I have defined the bounding object of all the individual parts of the robot (such as foot, body, etc.)


the robot's boundingobject parameter

##### Olivier Michel [cyberbotics] 05/01/2019 14:04:51
Yes.

##### nisuunn 05/01/2019 14:04:46
I have another question regarding robot modelling

##### Olivier Michel [cyberbotics] 05/01/2019 14:04:36
Thank you.

##### nisuunn 05/01/2019 14:04:32
I will do so

##### Olivier Michel [cyberbotics] 05/01/2019 14:04:19
Can you open an issue at [https://github.com/omichel/webots/issues](https://github.com/omichel/webots/issues) and describe this bug precisely so that we can try to reproduce it?


Yes, fixing the bug inside Webots.

##### nisuunn 05/01/2019 14:03:20
Aside from slightly changing the position of the elevation grid each time, is there any other way to get around this issue?


I see


I also noticed that before making the change, if I change the position of the elevationgrid, then the new elevationgrid with new heights works fine with respect to collision

##### Olivier Michel [cyberbotics] 05/01/2019 14:02:44
That is likely a bug...


I see.

##### nisuunn 05/01/2019 14:02:10
when some other object e.g. robot collides with the new elevationgrid, the collision seems to still be working with the old version of the elevationgrid


however, collision does not seem to work as desired,


visually the height change can be seen


once activated,


which change the height values


I also have a supervisor with which I change the parameters of the elevation grid

##### Olivier Michel [cyberbotics] 05/01/2019 14:00:56
All right.

##### nisuunn 05/01/2019 14:00:35
I have an elevationGrid which I have defined and it works fine regarding collisions.

##### Olivier Michel [cyberbotics] 05/01/2019 14:00:07
Hi,

##### nisuunn 05/01/2019 13:59:47
Hi, I have a question regarding elevationGrids.

##### Olivier Michel [cyberbotics] 05/01/2019 06:40:25
Yes, maybe... You are welcome.

##### ä¹‹ä¹‹ 05/01/2019 06:40:15
Okay, thank you


May be a setting problem?

##### Olivier Michel [cyberbotics] 05/01/2019 06:38:40
Oops... This version is not any more supported. I would recommend you to upgrade to Webots R2019a revision 1 as we won't fix version 8.5.4 even if you find a memory leak in there.


Is this memory leak specific to a certain simulation?

##### ä¹‹ä¹‹ 05/01/2019 06:38:03
Webot version 8.5.4


window10

##### Olivier Michel [cyberbotics] 05/01/2019 06:37:13
On which OS are you running this?

##### ä¹‹ä¹‹ 05/01/2019 06:36:26
But I don't have this problem with the same program on another computer.


Thank you, I will confirm it.

##### Olivier Michel [cyberbotics] 05/01/2019 06:24:31
Did you identify that it is the Webots process that eats up memory? It might be another program, including a Webots controller program.

##### ä¹‹ä¹‹ 05/01/2019 06:23:03
Hi, Why does my webot pause the simulation, but the memory used has been rising

##### Olivier Michel [cyberbotics] 05/01/2019 06:05:35
Yes, you can export it as VRML97.


Hi,

##### Ahmad Ali 04/30/2019 16:03:19
Hi, is there any way to get the world file as a 3D mesh model?

##### Olivier Michel [cyberbotics] 04/30/2019 08:29:14
OK.

##### Ahmad Ali 04/30/2019 08:29:04
I will try to use some other collision checking library for collision checking in motion planning.

##### Olivier Michel [cyberbotics] 04/30/2019 08:28:29
You are welcome.

##### Ahmad Ali 04/30/2019 08:28:20
Thanks Mr Olivier for clearing my confusion.

##### Olivier Michel [cyberbotics] 04/30/2019 08:26:39
No, that's not possible. Instead you should actually run the simulation possibly with another controller that will be executed before your main controller and that would use run the simulation to perform only collision detection in the physics plug-in.

##### Ahmad Ali 04/30/2019 08:22:16
in fact , the planning part is offline, that is why,  the code for planning is in controller but outside the simulation loop with time\_step. Is it possible to call collision detection  function directly in Controller?

##### Olivier Michel [cyberbotics] 04/30/2019 08:08:13
You can probably write a physics plugin in Webots that will send collision information to your robot controller using the Emitter / Receiver system. This information could then be used by OMPL which I guess is linked with your robot controller.


Hi,

##### Ahmad Ali 04/30/2019 08:06:11
Hi,

I am doing motion planning using OMPL (C++ based motion planning library) with Webots. But OMPL does not have its collision checking feature. In Webots, we can check collision using physics plug-in during the simulation. I am wandering if I can use collision checking feature of webots in motion planning (which will be outside the simulation loop).

##### kim 04/30/2019 00:32:54
hello

##### Olivier Michel [cyberbotics] 04/29/2019 15:23:55
Yep.

##### kim 04/29/2019 15:23:34
should i pay for that?

##### Olivier Michel [cyberbotics] 04/29/2019 15:23:05
We can do it for you if needed.


In that case, it's a standard programming question.

##### kim 04/29/2019 15:21:58
standard computer webcam

##### Olivier Michel [cyberbotics] 04/29/2019 15:21:45
Or a standard computer webcam?


Or the camera of the simulated NAO robot?


Do you mean the camera of the real NAO robot?

##### kim 04/29/2019 15:20:15
can i know how to do?

##### Olivier Michel [cyberbotics] 04/29/2019 15:13:05
Yes.

##### kim 04/29/2019 14:54:47
have you been to use the webcam in webots ?

##### Olivier Michel [cyberbotics] 04/29/2019 14:53:52
Yes.

##### kim 04/29/2019 14:53:41
When I use the kinect also?

##### Olivier Michel [cyberbotics] 04/29/2019 14:53:05
Instead you can program the simulated NAO robot in Webots directly in Python using the Webots API.


Hence this is why we don't recommend using it.


It is not maintained any more.


The simulator-sdk was basically abandoned by SoftBank, this is why you cannot download it from their official site.


Yes, but it doesn't include the simulator-sdk.

##### kim 04/29/2019 14:49:12
know about this website?


do you knwo?


[https://community.ald.softbankrobotics.com/en/resources/software/language/en-gb](https://community.ald.softbankrobotics.com/en/resources/software/language/en-gb)


I installed the naoqi in this web site

##### Olivier Michel [cyberbotics] 04/29/2019 14:46:45
(basically, it gets installed when you install naoqisim for Webots)


Follow the instructions here: [https://github.com/omichel/naoqisim](https://github.com/omichel/naoqisim)


No, it's free.

##### kim 04/29/2019 14:45:52
do I have to buy?


how do i get the simulator-sdk from SoftBank Robotics?

##### Olivier Michel [cyberbotics] 04/29/2019 14:43:34
Yes, but that is the native version of naoqi. The simulated version of naoqi relies on the simulator-sdk from SoftBank Robotics.

##### kim 04/29/2019 14:43:02
this code


from naoqi import ALProxy

tts = ALProxy("ALTextToSpeech", "<IP of your robot>", 9559)

tts.say("Hello, world!")


so when we control the nao robot in real  we don't use the naoqi ?

##### Olivier Michel [cyberbotics] 04/29/2019 14:41:36
Because SoftBank robotics is not maintaining the naoqi simulator-sdk and there are some bugs and limitation that won't get fixed.


Yes, this is possible but not recommended.

##### kim 04/29/2019 14:40:39
Do we use the naoqi in webots ?

##### Olivier Michel [cyberbotics] 04/29/2019 14:35:51
You are welcome.

##### kim 04/29/2019 14:35:46
Thanks!

##### Olivier Michel [cyberbotics] 04/29/2019 14:35:37
All right.

##### kim 04/29/2019 14:35:23
after I think about that I will send the message

##### Olivier Michel [cyberbotics] 04/29/2019 14:32:35
If the resulting code is released under an open source license, we will charge you CHF 1000 per day of development (currently slightly less than USD 1000), if you order one week or one month, you will get some discount of that price.

##### kim 04/29/2019 14:29:58
okay. I wonder how much money do I pay  ?  can you give me expectation

##### Olivier Michel [cyberbotics] 04/29/2019 14:28:33
If you are interested, please write us at sales@cyberbotics.com and describe exactly what you want us to develop for you. Then, we will send you an offer for that. We can give you all the source code and teach you how it works.

##### kim 04/29/2019 14:27:32
ok


umm


I want to know to control nao in webots using kinect

##### Olivier Michel [cyberbotics] 04/29/2019 14:26:47
Of course, we won't do it free of charge, we need to evaluate how much time it will take us to do it and then we can tell you the price.

##### kim 04/29/2019 14:26:17
help me !


please


my god


Oh

##### Olivier Michel [cyberbotics] 04/29/2019 14:25:58
Yes.

##### kim 04/29/2019 14:25:53
really? do you have kinect?

##### Olivier Michel [cyberbotics] 04/29/2019 14:25:42
Yes.

##### kim 04/29/2019 14:25:35
you mean that you can do it ?

##### Olivier Michel [cyberbotics] 04/29/2019 14:25:07
See also this one: [https://www.youtube.com/watch?v=KKmNfsFk1ho](https://www.youtube.com/watch?v=KKmNfsFk1ho)


If you want, we can implement it for you, we have some experience with Kinect and know Webots very well.


I don't know either, but it must be doable as several people did it.


This one also: [https://www.youtube.com/watch?v=Ze5w1GUAigY](https://www.youtube.com/watch?v=Ze5w1GUAigY)

##### kim 04/29/2019 14:23:18
but I don't know how to do that guy


I saw


Yeah

##### Olivier Michel [cyberbotics] 04/29/2019 14:22:54
See [https://www.youtube.com/watch?v=QNtUm9SOGhU](https://www.youtube.com/watch?v=QNtUm9SOGhU)

##### kim 04/29/2019 14:22:13
for nao in webots?


do you know how to use kinect ?


really?

##### Olivier Michel [cyberbotics] 04/29/2019 14:21:40
Not personnaly, but I know others did.


The corresponding world file is the projects/samples/robotbenchmark/humanoid\_sprint/worlds/humanoid\_sprint.wbt

##### kim 04/29/2019 14:21:03
kinect


have you tried to control using kinecT?

##### Olivier Michel [cyberbotics] 04/29/2019 14:20:40
"sprinter.py"


There is a simple NAO controller in Python.

##### kim 04/29/2019 14:20:13
I am doning Project for lab about reinforcement learning

##### Olivier Michel [cyberbotics] 04/29/2019 14:20:08
Look into the projects/samples/robotbenchmark/humanoid\_sprint/controllers/sprinter

##### kim 04/29/2019 14:19:34
I wonder about using nao in webots


Oh


Oh thank you


I try to search so long time

##### Olivier Michel [cyberbotics] 04/29/2019 14:18:48
There are some examples I an searching for you...

##### kim 04/29/2019 14:18:31
can I know?

##### Olivier Michel [cyberbotics] 04/29/2019 14:18:18
Yes of course.

##### kim 04/29/2019 14:18:17
Hi

##### Olivier Michel [cyberbotics] 04/29/2019 14:18:14
Hi Kim,

##### kim 04/29/2019 14:18:01
Can I know control the nao robot using python?

##### Ahmad Ali 04/29/2019 13:38:36
Yes, it will help. In demo projects in Webots, all are C based. Thanks and Regards,

##### Fabien Rohrer [Moderator] 04/29/2019 13:36:06
[https://cyberbotics.com/doc/guide/tutorials](https://cyberbotics.com/doc/guide/tutorials)


We focus more on the C language in the tutorial. Migrating it to C++ should be almost direct.


I think it explains well how to use the C++ API.


Could you take a look at this page? [https://cyberbotics.com/doc/guide/cpp-java-python](https://cyberbotics.com/doc/guide/cpp-java-python)

##### Ahmad Ali 04/29/2019 13:33:39
Are there any Control tutorials using C++ in webots?

##### Stefania Pedrazzi [cyberbotics] 04/29/2019 11:22:58
good!

##### Shounak 04/29/2019 11:22:30
Thank you. It works excellent

##### Stefania Pedrazzi [cyberbotics] 04/29/2019 11:14:55
[https://www.cyberbotics.com/doc/reference/recognition](https://www.cyberbotics.com/doc/reference/recognition)


[https://www.cyberbotics.com/doc/reference/solid](https://www.cyberbotics.com/doc/reference/solid)


only Solid nodes for which the 'recognitionColors' field is not empty can be detected. Please refer to the Solid and Camera documentation

##### Shounak 04/29/2019 11:11:48
I am trying to detect stair steps


Is there any toolbox or code I am missing


The camera recognition is not working with Box , stairs


need help with camera recognition

##### Olivier Michel [cyberbotics] 04/29/2019 09:18:57
Thanks for the feedback.

##### Ahmad Ali 04/29/2019 09:18:41
yes, exactly.

##### Olivier Michel [cyberbotics] 04/29/2019 09:17:18
So, capital letters were needed, right?

##### Ahmad Ali 04/29/2019 09:16:51
Thanks, its working now.

##### Olivier Michel [cyberbotics] 04/29/2019 08:34:05
Not sure if it makes a difference, but "include" should be written in capital letters, e.g., INCLUDE = -I /usr/include/eigen3

##### Ahmad Ali 04/29/2019 08:31:07
when I run the source file in Ubuntu terminal, then "-I/usr/include/eigen3" is working fine. But when I use code in Webots, then it gives the error


Thanks Stefania and Fabien,

Path of the Core file is "/usr/include/eigen3/Eigen/Core.h"



I tried  "include = -I "/usr/include/eigen3" ,  but the same error appears.

##### Stefania Pedrazzi [cyberbotics] 04/29/2019 08:11:56
`@Ahmad Ali`  it also seems that you are overwriting the "include" variable instead of adding multiple paths. You should use "+=" instead of "="

##### Fabien Rohrer [Moderator] 04/29/2019 08:08:40
include = -I "/usr/include/eigen3


`@Ahmad Ali` It seems that some include files cannot be found. Your directories are certainly not well defined. Where is the "Core" file installed? You should try:

##### Shounak 04/29/2019 07:09:00
Thanks man


Got it. It's working

##### Ahmad Ali 04/29/2019 07:08:07
I included this in Makefile:

include = -I "/usr/local/include" 

include = -I "/usr/include/eigen3/Eigen" 



But still I am getting this error:



In file included from /usr/local/include/ompl/base/StateSpace.h:43:0,

                 from /usr/local/include/ompl/base/SpaceInformation.h:43,

                 from UR5e\_SOMA.cpp:7:

/usr/local/include/ompl/base/ProjectionEvaluator.h:49:22: fatal error: Eigen/Core: No such file or directory

compilation terminated.

/usr/local/webots/resources/Makefile.include:690: recipe for target 'build/release/UR5e\_SOMA.o' failed

make: *** [build/release/UR5e\_SOMA.o] Error 1

##### Shounak 04/29/2019 07:00:56
sure

##### Stefania Pedrazzi [cyberbotics] 04/29/2019 07:00:43
I will check it works in my example and let you know. But it could take some time

##### Shounak 04/29/2019 06:59:07
I need to read the position.


I have done that

##### Stefania Pedrazzi [cyberbotics] 04/29/2019 06:58:42
note that a Recognition nodes needs to be present in the Camera node and that you first have to enable the recognition

##### Shounak 04/29/2019 06:58:42
[<controller.CameraRecognitionObject; proxy of <Swig Object of type 'webots::CameraRecognitionObject *' at 0x00000000039AE540> >, <controller.CameraRecognitionObject; proxy of <Swig Object of type 'webots::CameraRecognitionObject *' at 0x00000000039AE510> >]

##### Stefania Pedrazzi [cyberbotics] 04/29/2019 06:57:46
objects = camera.getRecognitionObjects()


the Python call will be:


here is the Python documentation: [https://www.cyberbotics.com/doc/reference/camera?tab=python](https://www.cyberbotics.com/doc/reference/camera?tab=python)

##### Shounak 04/29/2019 06:56:17
sorry neew to the image recognition


WbCameraRecognitionObject *objects = wb\_camera\_recognition\_get\_objects(camera);


Can you just send a the line I wrote earlier in python/


I can't read the  position value


yeah

##### Stefania Pedrazzi [cyberbotics] 04/29/2019 06:54:30
do you get any error?

##### Shounak 04/29/2019 06:53:55
its not working


yes. I been trying to run it

##### Stefania Pedrazzi [cyberbotics] 04/29/2019 06:53:25
`@Shounak`  the camera recognition API is available both for Python 2.7 and Python 3

##### Shounak 04/29/2019 06:52:07
const WbCameraRecognitionObject *objects = wb\_camera\_recognition\_get\_objects(camera);

##### Ahmad Ali 04/29/2019 06:51:23
yes it is working, thanks Mr. Fabien

##### Shounak 04/29/2019 06:51:13
what is the python versuion  camera recognition ?

##### Fabien Rohrer [Moderator] 04/29/2019 06:44:58
CFLAGS += -std=c++11


An equal character is missing ðŸ˜ƒ


This is weird; what version of Ubuntu and g++ are you using?

##### Ahmad Ali 04/29/2019 06:41:06
I tried "CFLAGS += -stdc++11"  in the Makefile, but I am still getting this error message,

g++: error: unrecognized command line option â€˜-stdc++11â€™

/usr/local/webots/resources/Makefile.include:690: recipe for target 'build/release/UR5e\_SOMA.o' failed

##### Fabien Rohrer [Moderator] 04/29/2019 04:11:42
CFLAGS += -stdc++11


`@Ahmad Ali` did you simply tried to add this option in your Makefile?


For C++, you also need a custom Makefile and runtime.ini. There too, please simply refer to a released example.


To use Python and the vehicle library, you need to have a runtime.ini indicating to the controller where to find the vehicle library. You could copy it from any python example using the vehicle library.


`@rittwiq` it would be helpful to have a Matlab wrapper to start simulink. There are maybe other possibilities about to start Simulink directly.

##### Ahmad Ali 04/29/2019 01:54:04
Hi, I am trying to use a  C++ based external library in webots in Ubuntu and I got this error.

error: #error This file requires compiler and library support for the ISO C++ 2011 standard. This support must be enabled with the -std=c++11 or -std=gnu++11 compiler options.

how can I use support for the ISO CPP 2011 standard?

Regards

##### rittwiq 04/28/2019 12:46:04
No.... I was thinking of integrating with simulink... But if I was to use python or C++ do I need to make changes in my make file for vehicles?

##### Fabien Rohrer [Moderator] 04/28/2019 11:57:32
I think that it should be fairly easy to do. Do you have  any resource for this development?


Hi, unfortunately no. We created wrappers for C++, Python, Java and ROS, but not for Matlab yet.

##### rittwiq 04/28/2019 11:11:42
Hey! Does Webot support controllers in Matlab for vehicles?

##### Olivier Michel [cyberbotics] 04/26/2019 14:02:42
Thank you. Have a nice day as well.

##### Thelm76 04/26/2019 13:59:01
have a nice day ðŸ˜„


Thank you, I'll wait to have a robot to try then

##### Olivier Michel [cyberbotics] 04/26/2019 13:57:04
Yes, you certainly need to calibrate it with a real e-puck2 robot.

##### Thelm76 04/26/2019 13:56:30
I think for the lookup table it will be better to set [ -4912 -4912 0.1   4912 4912 0.1 ] that way, when I'll connect a real e-puck the measured values will be the good ones

##### Olivier Michel [cyberbotics] 04/26/2019 13:54:52
It's not a value expressed in ÂµT.


However in Webots, the Compass node gives a unit vector which is the direction of the north.


I think so.

##### Thelm76 04/26/2019 13:50:08
so if I do this, it will measure a magnetic field of 4912ÂµT in the webots world right?

##### Olivier Michel [cyberbotics] 04/26/2019 13:43:31
1 4912 0.1 ]


lookupTable [-1 -4912 0.1


Typically, your lookup table may look like this:


They will match what you define in the lookup table.


The 3 output are independent.

##### Thelm76 04/26/2019 13:40:55
So as I need the value to be between -4912 and 4912, will the output be a 3D vector with a fixed length, or the 3 the output are independent?

##### Olivier Michel [cyberbotics] 04/26/2019 13:37:35
Hi, yes setting the lookupTable of the Compass node should be sufficient to calibrate your compass model in that case.

##### Thelm76 04/26/2019 13:34:45
Hi, I'm trying to model a magnetic sensor in webots for e-puck, and I just realized that the output is only a vector whereas the magnetic sensor of e-pucks output a value in ÂµT for each axis. Is a lookup table sufficient to convert the compass into a magnetometer? If not, how can I manage to do this in the proto file?

##### Fabien Rohrer [Moderator] 04/25/2019 14:31:45
you're welcome. Sharing your approach is a good way to thanks us ^^

##### El\_Samu\_El 04/25/2019 14:30:50
Thanks!


That sounds like something I was looking for. I will take some time to set this up and if it works I'll share this approach on github.

##### Fabien Rohrer [Moderator] 04/25/2019 14:27:57
A good approach would be that your main script starts an IPC server, and several instances of Webots on a single world containing a Supervisor listenening as a client on this IPC. The IPC can be a local TCPIP server, this is easy to setup in Python. There are many modules to do similar things. The main script may send events to the supervisor. Mainly it's about to evaluate some fitness, with data (neuron weights or so). In this case, the supervisor may reset the simulation typically by reseting the object position, or reloading the entire world (it's the purpose of a supervisor), and evaluate the fitness, and give the result back to the main script through the IPC.

##### El\_Samu\_El 04/25/2019 14:19:59
one iteration corresponds to walking until it falls, which is in real time from around 0.5 to 5 seconds


But on a single terrain (world) the learner needs around 1000-5000 iterations.


Python yes. There will be a curriculum in which the terrain on which the robot walk becomes more challenging.

##### Fabien Rohrer [Moderator] 04/25/2019 14:18:03
and in which language? Python?

##### El\_Samu\_El 04/25/2019 14:17:02
it is about locomotion learning


later on I will change the world, but for the most iterations it is the same world

##### Fabien Rohrer [Moderator] 04/25/2019 14:15:50
... hum just a question: do you need to change the world, or it's just a matter of training a controller in the same world?


A simple approach is the following:

##### El\_Samu\_El 04/25/2019 14:13:00
Yeah It does, thanks! But how can the main script reload the world and read data from the supervisor controller? I have no experience setting up IPCs. I'll see if anybody else did something similar before, otherwise I'll try to figure out how to do that. Any tips are welcomes ðŸ˜ƒ

##### Fabien Rohrer [Moderator] 04/25/2019 14:03:12
I hope this will help you.


A bit more difficult to setup, but it's more efficient in your case.


to run several Webots slaves "forever", and the main script communicate with them (using any IPC). Webots Supervisor API allows to load another world, reload a world, etc.


To avoid the offset, there is another approach:


A simple test running a simulation sample on multiple instances may give you answers about your CPU load.


Before fearing the offset to run Webots, you could give a try to optimize your simulation ðŸ˜‰


The CPU/GPU consumption depends a lot on the simulation.

##### El\_Samu\_El 04/25/2019 13:59:16
A single experiment runs in let's say  0.1s in fast forward mode.


Yes this offset is what I am worried about.


I like that idea too, it is just not clear to me how the CPU ressources  are used in this way. And because there would be around 6-12 instances in parallel opening and closing webots GUIs every second.

##### Fabien Rohrer [Moderator] 04/25/2019 13:57:07
The main drawback is that launching Webots takes time; this offset may be annoying.


This many advantages, this is very easy to setup.


This is on the responsability of this script to create deal with parallelism.


I like the idea to have a script using Webots as a slave and running one Webots instance per experiment.


Indeed, Webots PRO license doesn't exist anymore, Webots is now free and open-source: this is a good news to run as many Webots instances as you can ðŸ˜‰


Hi

##### El\_Samu\_El 04/25/2019 13:52:28
[https://www.cyberbotics.com/forum?message=5060](https://www.cyberbotics.com/forum?message=5060)


I found this old thread, but they were talking about the PRO version (which doesn't exist anymore in my knowledge)


Hello people! Does anybody know how run multiple robots or webots instances in parallel to speed to the learning process (for a reinforcement learning algorithm)?  What is the best way to do that in your experience?

##### Fabien Rohrer [Moderator] 04/25/2019 13:35:58
Please contact info@cyberbotics.com explaining your issue and giving your license ID. We will see what we can do.

##### ditorom1984 04/25/2019 13:35:31
Hi all. I have a problem with Webots 8.6.2. I have a license purchased from Webots 8.6.2 PRO but need internet connection. For some academic tests, I need this version to work without internet connection. how can I do it?

##### Olivier Michel [cyberbotics] 04/24/2019 16:05:09
That looks good. Thank you.

##### tilly 04/24/2019 16:00:21
updated the issue if u need anything else please ask


i found it

##### Olivier Michel [cyberbotics] 04/24/2019 15:42:23

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/570635659115495434/unknown.png)
%end

##### tilly 04/24/2019 15:42:04
upsi im new to git hub sry

##### Olivier Michel [cyberbotics] 04/24/2019 15:41:42
Don't put a too long title, but put more information in the first comment (edit it).


If we don't get enough information to be able to reproduce the problem, we won't be able to investigate it.


Please write a clear description in the text (edit) instead of the default template, so that we can reproduce the problem. You may also upload your world file and controller files if needed.

##### tilly 04/24/2019 15:38:12
?


[https://github.com/omichel/webots/issues/386](https://github.com/omichel/webots/issues/386) do u need further information

##### Olivier Michel [cyberbotics] 04/24/2019 15:26:48
Not to my knowledge. Can you open an issue on [https://github.com/omichel/webots/issues](https://github.com/omichel/webots/issues) so that we can look into the problem?

##### tilly 04/24/2019 15:26:31
Are there any other bugs related to the thymio?

##### Olivier Michel [cyberbotics] 04/24/2019 15:25:45
Hi, no this is not a known bug.

##### tilly 04/24/2019 15:25:09
hi, since updating to the 2019a version webots crashes when we use thymiosII (especially their groundsensors) is this a known bug?

##### å¤äº†ä¸ªé¹ 04/24/2019 14:39:06
Ok, get it~thank you~

##### Fabien Rohrer [Moderator] 04/24/2019 14:38:32
Robot.step((int) Robot.getBasicTimeStep())


It's generally a good idea to let match the controller step rate with WorldInfo.basicTimeStep. In most of my controllers, I'm using this pattern:

##### å¤äº†ä¸ªé¹ 04/24/2019 14:37:27
ðŸ‘Œ

##### Fabien Rohrer [Moderator] 04/24/2019 14:37:06
[https://cyberbotics.com/doc/reference/robot?tab=c++#wb\_robot\_step](https://cyberbotics.com/doc/reference/robot?tab=c++#wb_robot_step)


Yes, it's Robot.step(1) (it's the same function)

##### å¤äº†ä¸ªé¹ 04/24/2019 14:36:06
I write the controller into C++. Is there still the wb\_robot\_steo() like C?

##### Fabien Rohrer [Moderator] 04/24/2019 14:34:53
.. and your controller should call steps of 1 ms too: wb\_robot\_step(1)


You should apply 1000 steps per second, so you should set WorldInfo.basicTimeStep to 1 (milliseconds). This should work precisely. To be sure, you can get the simulated time in your controller using the wb\_robot\_get\_time() function.

##### å¤äº†ä¸ªé¹ 04/24/2019 14:30:04
And how can I make the simulation speed is the same as I planned? I planned 10001 datas in 10s. But when I read the planned data and setPosition into the motor. the simulation time is not the same as I planned.

##### Fabien Rohrer [Moderator] 04/24/2019 14:25:06
great ðŸ˜ƒ

##### å¤äº†ä¸ªé¹ 04/24/2019 14:24:59
OK, it works~ thank you. ðŸ˜€

##### Fabien Rohrer [Moderator] 04/24/2019 14:24:19
just change minPosition to -100 or so..


Ok, that's the issue. You defined the range from 0 to 100, and try to set a value of -1 ðŸ˜ƒ

##### å¤äº†ä¸ªé¹ 04/24/2019 14:23:34
and the default minposition is 0.


Yes, I define the maxPosition into 100

##### Fabien Rohrer [Moderator] 04/24/2019 14:21:34
In your model, did you defined min/maxPosition or min/maxStop ?

##### å¤äº†ä¸ªé¹ 04/24/2019 14:20:40

%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/570615096217174037/unknown.png)
%end


No, I don't define the working mode.

##### Fabien Rohrer [Moderator] 04/24/2019 14:19:11
You control the motor in velocity mode, don't you?

##### å¤äº†ä¸ªé¹ 04/24/2019 14:18:25
How can I solve it?


If I set it in a positive value, it works right.


motor[1] ->setPosition(-1.0);


when I use c++ api setPosition


I meet this error: WARNING: Robot > DEF RFJoint HingeJoint > Solid > HingeJoint > RotationalMotor: too low requested position: -1 < 0


So I think there are something I do not set it up right


I open some other example project. they can moves in very smoothly.


The realtime speed, the simulation ratio is about 0.90 to 0.98x


Yes, I use the real-time button. And the bacistimestep is 8.

##### Fabien Rohrer [Moderator] 04/24/2019 08:06:05
Do you use the "real-time" button? Could you check that your WorldInfo is set to something reasonable (like 8 or 16 for such robot)? You could also decrease OpenGL preferences, etc. => It's much more convenient to work in real-time and do in order that this is reached (speedometer is constantly reaching 1.0x without fluctuations)

##### å¤äº†ä¸ªé¹ 04/24/2019 08:03:37
Ok. Thanks~ðŸ‘Œ

##### Fabien Rohrer [Moderator] 04/24/2019 08:01:55
A movie is recording in real-time. In the 3D window, the time may fluctuate if some bottleneck is reached or if the computer is somehow saturated.

##### å¤äº†ä¸ªé¹ 04/24/2019 07:59:30
Maybe it works in the right way.


but in the simulation window, it moves step by stepðŸ˜‚

##### Fabien Rohrer [Moderator] 04/24/2019 07:58:29
I have the feeling that the 2 velocities are constants.


but I'm not sure to see the issue in the movie..

##### å¤äº†ä¸ªé¹ 04/24/2019 07:58:01
Is that right?

##### Fabien Rohrer [Moderator] 04/24/2019 07:57:54
yes

##### å¤äº†ä¸ªé¹ 04/24/2019 07:57:49
can you see the video I upload?

##### Fabien Rohrer [Moderator] 04/24/2019 07:57:13
ok, so forget this hypothesis.

##### å¤äº†ä¸ªé¹ 04/24/2019 07:56:36
moves video
> **Attachment**: [rf\_leg.mp4](https://cdn.discordapp.com/attachments/565154703139405824/570518444412502016/rf_leg.mp4)


it still moves step by step~

##### Fabien Rohrer [Moderator] 04/24/2019 07:54:28
(just the time to understand if it's the issue)


Could you just try to set it to 1000000 to be sure ðŸ˜‰ ?

##### å¤äº†ä¸ªé¹ 04/24/2019 07:52:33
Even I set it into 1000, it still cannot move smoothly~


I think it has enough torque. I set the torque into 100

##### Fabien Rohrer [Moderator] 04/24/2019 07:50:26
To be sure of this, you could for example increase the RotationalMotor.maxTorque field: [https://www.cyberbotics.com/doc/reference/rotationalmotor](https://www.cyberbotics.com/doc/reference/rotationalmotor)


Principally, has the motor enough torque (force) to lift its weight?


But it is affected by other parameters.


Yes this is the right way.


Hi

##### å¤äº†ä¸ªé¹ 04/24/2019 07:47:56
Hello,dear developers. I am controlling  a motor using :  motor[2]->setPosition(std::numeric\_limits<double>::infinity());

  motor[2]->setVelocity(0.2); but the motor moveing is not very smooth. I can clearly the velocity fluctuating. Is that correct?

##### Olivier Michel [cyberbotics] 04/24/2019 06:26:46
Thanks!

##### cctung 04/24/2019 02:31:32
I believe it is correct!

##### Olivier Michel [cyberbotics] 04/23/2019 15:43:21
Can you review it and let me know if you believe it is correct?


Done here: [https://github.com/omichel/webots/pull/383](https://github.com/omichel/webots/pull/383)

##### cctung 04/23/2019 15:27:04
yes

##### Olivier Michel [cyberbotics] 04/23/2019 15:19:13
I believe you installed gcc-32 bit, but not the other 32-bit dependencies of libController. Therefore the libController Makefile is trying to build the 32 bit version of libController but fails. Maybe we should also test for the availability of the 32 bit dependencies before attempting to build the 32 bit version of libController...


You are welcome.

##### cctung 04/23/2019 15:15:24
Thank you  very much!


see. I can handle it.

##### Olivier Michel [cyberbotics] 04/23/2019 15:14:09
With "msys64\_installer.sh --all"


Normally, they should have been installed if you installed the optional packages.

##### cctung 04/23/2019 15:12:43
no. ok.

##### Olivier Michel [cyberbotics] 04/23/2019 15:12:19
If not, you can install from pacman -S mingw-w64-i686-libpng


You should have /mingw32/lib/libpng.a for example.


I am checking...

##### cctung 04/23/2019 15:09:42
Maybe no. (32 bit)

##### Olivier Michel [cyberbotics] 04/23/2019 15:09:13
Do you have these libraries installed?

##### cctung 04/23/2019 15:08:34
\# * libController *

\#

\# 'VISUAL\_STUDIO\_PATH' not set, skipping Controller.lib

\# linking Controller.dll and libController.a (32 bit)

D:/m64/mingw32/bin/../lib/gcc/i686-w64-mingw32/7.4.0/../../../../i686-w64-mingw32/bin/ld.exe: cannot find -lpng

D:/m64/mingw32/bin/../lib/gcc/i686-w64-mingw32/7.4.0/../../../../i686-w64-mingw32/bin/ld.exe: cannot find -ljpeg

D:/m64/mingw32/bin/../lib/gcc/i686-w64-mingw32/7.4.0/../../../../i686-w64-mingw32/bin/ld.exe: cannot find -ltiff

D:/m64/mingw32/bin/../lib/gcc/i686-w64-mingw32/7.4.0/../../../../i686-w64-mingw32/bin/ld.exe: cannot find -llzma

collect2.exe: error: ld returned 1 exit status

make[1]: *** [Makefile:145: ../../../msys64/mingw32/bin/Controller.dll] Error 1

make: *** [Makefile:108: webots\_target] Error 2

##### Olivier Michel [cyberbotics] 04/23/2019 15:07:30
So, does the libController links properly now?

##### cctung 04/23/2019 15:06:16
installed ok!

##### Olivier Michel [cyberbotics] 04/23/2019 15:05:13
pacman -S mingw-w64-i686-zstd

##### cctung 04/23/2019 15:05:05
I try

##### Olivier Michel [cyberbotics] 04/23/2019 15:04:48
Ok, so can you install it?

##### cctung 04/23/2019 15:04:17
no such file

##### Olivier Michel [cyberbotics] 04/23/2019 15:02:58
$ ls -l /mingw32/bin/libzstd.dll


Can you check if you have /mingw32/bin/linzstd.dll installed?

##### cctung 04/23/2019 15:02:23
I can't find 32 bit version of these libs.

##### Olivier Michel [cyberbotics] 04/23/2019 15:02:10
I see.

##### cctung 04/23/2019 15:02:00
Seems a problem compiling 32 bit version of controller.dll


yes

##### Olivier Michel [cyberbotics] 04/23/2019 15:01:02
Did you follow these instructions: [https://github.com/omichel/webots/wiki/Windows-installation?](https://github.com/omichel/webots/wiki/Windows-installation?)

##### cctung 04/23/2019 15:00:53
yes,

##### Olivier Michel [cyberbotics] 04/23/2019 15:00:25
I am assuming you are recompiling Webots from the source, right?


If you followed the installation instructions, they should be there.


They come from MSYS2.

##### cctung 04/23/2019 14:57:13
Where to get these libraries in windows?  STATIC\_LIBS = -static -lpng -lz -ljpeg -ltiff -llzma -lzstd

##### Fabien Rohrer [Moderator] 04/23/2019 06:28:05
`@el` I just reported your issue here: [https://github.com/omichel/webots/issues/376](https://github.com/omichel/webots/issues/376)


Youâ€™re welcome

##### redbagy 04/22/2019 10:54:01
Oh ok thank you!

##### Fabien Rohrer [Moderator] 04/22/2019 10:52:49
The simulated time is freezed in between two wb\_robot\_step() calls. Its these calls which let the simulation steps forward of a discrete amount of time.

##### redbagy 04/22/2019 08:49:31
or can I assume that each action takes one time step for example?


like wb\_emitter\_send()


Is there a way to know the time steps taken to execute a command?

##### Fabien Rohrer [Moderator] 04/21/2019 18:39:34
So a hopper leg could be modeled as a sequence of rotational/linear motors.


Ok I see. Basically Webots can simulate any robot which is made of a set of solids linked with joints (passive or motorized). To know how to do that, refer to our user guide tutorials. Once done, you could create a controller having access to the dynamics through the sensor API (gyro, inertial unit, etc)

##### Jiajun Wang 04/21/2019 15:33:35
`@Fabien Rohrer`

 I mean a 2D bipedal robot.


`@Fabien Rohrer`

 A planar robot means that the robot\_body's DOF in y, roll & yaw are fixed. such that the robot can only move in the saggittal plane.  

like the Raibert's robot: hopper.

##### Fabien Rohrer [Moderator] 04/21/2019 14:36:20
Emitter/receiver can deal with occlusions. Itâ€™s more what you need. But not with reflexion.


`@Akash` distance sensors uses rays but do not ensure communication


`@Jiajun Wang` not sure what you mean by a Â«Â planar robotÂ Â». A 2 wheeled robots on a planar ground?


It returns the simulated time as a double in seconds.


`@Lukas_` please refer to wb\_robot\_get\_time() [https://www.cyberbotics.com/doc/reference/robot?tab=c++#wb\_robot\_get\_time](https://www.cyberbotics.com/doc/reference/robot?tab=c++#wb_robot_get_time)


`@ina` yes GDb works, please refer to [https://cyberbotics.com/doc/guide/debugging-c-cpp-controllers](https://cyberbotics.com/doc/guide/debugging-c-cpp-controllers)


`@el` indeed. The qt version seems problematic. Probably because of an update of pacman. Could you open a Github issue with this?

##### Akash 04/21/2019 11:59:11
Is there any  kind of ray ( 'DistanceSensor' or 'Emitter')   that can be reflected back to the 'Receiver' (Infra red)' from a 'boundingObject' ?

##### Jiajun Wang 04/21/2019 06:37:09
That is to say, how to set the planar constraints between robot body with the background/space? thx`@Fabien Rohrer`


I wonder if webots can simulate planar robots? `@Fabien Rohrer`

##### Lukas\_ 04/20/2019 16:50:56
H iguys, how to i get time of simulation as a value and what format would ti have? ideal to me would be float. So like in 

printf("current time is %(what1)", time); 

and 

time = (what2);

##### el 04/20/2019 15:25:20
it says this        -->     error: failed retrieving file 'mingw-w64-x86\_64-qt5-5.10.1-2-any.pkg.tar.xz' fro                      m repo.msys2.org : transfer closed with 506632108 bytes remaining to read

##### ina 04/20/2019 15:20:51
Does gdb works?(I am not used to it...)


I can do the debug, but I can't jump to function  or see variable's value.....

##### el 04/20/2019 11:50:23
is the version of qt5 downloaded the problem?


do you know whats wrong? thats what i get when i Install the MSYS2 Dependencies everytime
%figure
![unknown.png](https://cdn.discordapp.com/attachments/565154703139405824/569127330770059284/unknown.png)
%end

##### Fabien Rohrer [Moderator] 04/20/2019 10:40:34
But to be honest I didnâ€™t tried this since a while ðŸ˜…


About VS, normally you should be able to attach the controller process from the VS interface when its running (at simulation step 1)


`@ina` indeed, controllers only deal with stdout and stderr, but not stdin. Please use another IPC


`@wail_maghdoud` webots 8 is obsolete (proprietary and closed source), please use R2019.rev1 (free and open-source, same features)

##### wail\_maghdoud 04/20/2019 09:35:38
Hi,

I installed Webots 8. In the dialogue window I type my e-mail address and password and then I get confirmation that my floating license exists but as soon as I confirme it I get a message saying I have no license rights.  How can i get the 30 days  trial licenece?

Thanks in advance,

##### ina 04/20/2019 05:33:40
how to debug the variable and  jump to the function using vs2017?


......


"The Console menu item opens the Webots Console, which is a read-only console that is used to display Webots error messages and controller outputs."


I want to use "cin" to input from console. But it doesn't work???

##### Fabien Rohrer [Moderator] 04/19/2019 19:31:42
Great, youâ€™re welcome!

##### Lukas\_ 04/19/2019 19:30:50
So solution 2 it is for me thank, this was help full. I did not fully understood it before now now i know what i need to do. ðŸ‘Œ  great job, thanks

##### Fabien Rohrer [Moderator] 04/19/2019 19:29:15
Itâ€™s just something to take into account when you plot the data.


If you choose solution 2. you know that the time between two values are taken is constant.


If you choose solution 1. You should store also the simulated time when you acquire the data.


Both are possible.

##### Lukas\_ 04/19/2019 19:24:16
i should change to something like that 

static void passive\_wait(double sec) {

  double start\_time = wb\_robot\_get\_time();

  do {

    step();

fprinft(mydata)

  } while (start\_time + sec > wb\_robot\_get\_time());

}

RIGHT?


would it be problem if i use this function as a sleep?

static void passive\_wait(double sec) {

  double start\_time = wb\_robot\_get\_time();

  do {

    step();

  } while (start\_time + sec > wb\_robot\_get\_time());

}


yes thank you

##### Fabien Rohrer [Moderator] 04/19/2019 19:22:29
Sounds better like this?


This is what we do in the generic window.


So this is perfect to plot a graph with a regular x-axis (time)


This ensures you that you will have one data every 32 simulated milliseconds. (If WorldInfo.basicTimeStep = 32)


If you create a simple controller, and write a line between each wb\_robot\_step call, this ensures you cannot miss any data.


Haha sorry for this

##### Lukas\_ 04/19/2019 19:14:04
To be honest now i am lost ðŸ˜…

##### Fabien Rohrer [Moderator] 04/19/2019 19:13:38
Not necessarily. Itâ€™s a bad idea IMO, because everything is directly accessible from the controller API.


You should document yourself on the way time is managed in Webots.

##### Lukas\_ 04/19/2019 19:12:18
So i must change the source of generic robot window to save all sensor data?

##### Fabien Rohrer [Moderator] 04/19/2019 19:10:39
Yes sure. The Matlab sample is a controller, and the generic robot window uses the controller API only ðŸ˜‰

##### Lukas\_ 04/19/2019 19:07:49
But i would like to get values of every step. Like in matlab where you get all values after simulation and can plot them. This is what i need. Is it possible from controller?

##### Fabien Rohrer [Moderator] 04/19/2019 19:04:34
When the sensor API is used, it gives you the sensor feedback of the last discrete simulation step.


The controller is by definition at a fixed time between to steps. You can get the simulated time there.

##### Lukas\_ 04/19/2019 18:57:24
The sensor reads data at any given moment right? So is there any easy way to access this container, bulk, field of datas?


Well i want to have data with static time period difrence between each one and in code i have move comand then i wait, then end, after that different command with different wait, pause, sleep  so i am unable to have this period in between.

##### Fabien Rohrer [Moderator] 04/19/2019 18:50:50
To be honest I still donâ€™t understand why you cannot store the data from the controller ðŸ˜…

##### Lukas\_ 04/19/2019 18:49:33
Wait, so i have to save data there? Basically i have to change webots simulation file on my PC?

##### Fabien Rohrer [Moderator] 04/19/2019 18:47:12
[https://github.com/omichel/webots/wiki/Windows-installation](https://github.com/omichel/webots/wiki/Windows-installation)


Meanwhile you could solve this by installing Webots from sources


We will create a fix soon


But it seems to be not released: [https://github.com/omichel/webots/blob/master/src/packaging/files\_msys64.txt](https://github.com/omichel/webots/blob/master/src/packaging/files_msys64.txt)


`@el` OpenCv is supposed to be installed from pacman here: [https://github.com/omichel/webots/blob/master/src/install\_scripts/msys64\_installer.sh#L28](https://github.com/omichel/webots/blob/master/src/install_scripts/msys64_installer.sh#L28)


`@Lukas_` the source code of the generic robot window is in this directory: [https://github.com/omichel/webots/tree/master/resources/projects/plugins/robot\_windows/generic](https://github.com/omichel/webots/tree/master/resources/projects/plugins/robot_windows/generic)

##### el 04/19/2019 17:33:41
libobencv\_imgprog401.dll not found , do you know maybe how can i solve it easily?

##### Lukas\_ 04/19/2019 17:04:39
Yes i understand that but what you suggest is excatly what i dont want, save data at given time. The graph thats is made durring simulation i would like those data used in it. How can i access all of them? Not only data that i can save only at time but like in the graph data from time when sensor is enabled until the end of simulation.  They should be stored somewhere since i can change between time, xy, xz and yz. But how i can access them?

##### Fabien Rohrer [Moderator] 04/19/2019 16:56:10
fprintf allows you to append data to an existing file, therefore to store the history. For example, you could create the file at the begining of the simulation (fprintf(..., â€œwâ€)) and then append to this file a line containing the data and the time per step (fprintf(f, â€œ%g, %g, %g, %g\nâ€œ, time, v0, v1, v2))

##### Lukas\_ 04/19/2019 16:42:58
well yes but printf fprintf only give me value in current time or after current step() but what if in the end of simulation i want to have all sensor data with TIME\_STEP. Am i missing something? Is this what i ask for possible?

##### Fabien Rohrer [Moderator] 04/19/2019 16:39:24
Instead of printf, you could use fprintf to write those values in a file. This file could then be imported in your favorite plotter (pyplot, Matlab, excel, harryplotter, etc. )

##### Lukas\_ 04/19/2019 13:47:30
Hello, I have question. In webots  -> generic robot window -> GPS i can see graph with all values during run. Can I somehow export all those data to external file? I am using C code and have printf for value at given time (step()) but what if i want to access all data as they are in the graph. Can i do it and if so, how?

##### el 04/19/2019 13:03:12
thanks

##### Fabien Rohrer [Moderator] 04/19/2019 11:37:09
Meanwhile I could only propose you to switch to Linux or macOS if you could.

##### el 04/19/2019 11:29:15
ok i will, only this  sample with opencv has this problem everything else worls

##### Fabien Rohrer [Moderator] 04/19/2019 11:23:47
Oops, this is not normal. Could I kindly ask you to open a GitHub issue? Because of the Easter holidays, we will certainly look at this issue only on next Tuesday.

##### el 04/19/2019 10:46:25
what is going wrong?


INFO: vision: Starting: ""D:\Programs\Webots\projects\samples\howto\controllers\vision\vision.exe""

WARNING: vision: The process crashed some time after starting successfully.

WARNING: 'vision' controller crashed.


great, but when i run the vision.wbt world it says this

##### Fabien Rohrer [Moderator] 04/19/2019 10:36:18
Exactly! Webots includes already the opencv library.

##### el 04/19/2019 10:01:00
sorry for the stupid question, so there is no need to download opencv library cause its already in webots?

##### Fabien Rohrer [Moderator] 04/19/2019 09:52:27
`@el` `@shridhar` you are doing the same thing ðŸ˜‰

##### el 04/19/2019 09:51:24
thanks ðŸ˜ƒ

##### Fabien Rohrer [Moderator] 04/19/2019 09:51:16
[https://cyberbotics.com/doc/guide/samples-howto#vision-wbt](https://cyberbotics.com/doc/guide/samples-howto#vision-wbt)


`@el` we have a sample linked with opencv (embedded in Webots).


`@shridhar` it definitely comes from your controller. Could you check which is the problematic line?

##### el 04/19/2019 09:36:32
how to add opencv library to webots compiler mingw

##### shridhar 04/19/2019 06:31:14
the webots is crashing for simple image processing program .


INFO: camer1: Starting: ""D:\webotsim\test4\controllers\camer1\camer1.exe""

[camer1] Vision module demo, using openCV.

WARNING: camer1: The process crashed some time after starting successfully.

WARNING: 'camer1' controller crashed.

##### Fabien Rohrer [Moderator] 04/18/2019 14:22:07
I look forward to see this ðŸ˜ƒ

##### Thelm76 04/18/2019 14:21:47
okay thank you I'll take a look for completing th e-puck files then ðŸ˜„

##### Fabien Rohrer [Moderator] 04/18/2019 14:20:00
[https://github.com/omichel/webots/pull/350](https://github.com/omichel/webots/pull/350)


For example, here is a pull request a user had submited recently:


To do so, just fork the webots repo, create a branch containing your patch, and you should be able to create the pull request.


We could communicate there and help you to achieve.


It would be awesome if you could create a GitHub Pull Request for this.

##### Thelm76 04/18/2019 14:18:03
If I successfully add these sensors I could send you the files if you want

##### Fabien Rohrer [Moderator] 04/18/2019 14:17:45
You should take a look at this directory: [https://github.com/omichel/webots/tree/master/projects/robots/gctronic/e-puck/plugins/remote\_controls/e-puck\_wifi](https://github.com/omichel/webots/tree/master/projects/robots/gctronic/e-puck/plugins/remote_controls/e-puck_wifi)


You simply have to add this into the e-puck\_wifi library... somewhere ðŸ˜ƒ

##### Thelm76 04/18/2019 14:16:54
and as I'm beggining with webots, I don't really know which file defines the sensors in the real e-puck

##### Fabien Rohrer [Moderator] 04/18/2019 14:16:32
Once added in the E-puck PROTO, you should also add the devices to the communication protocol between the e-puck controller and the real e-puck


This is a good development ðŸ‘

##### Thelm76 04/18/2019 14:15:14
in fact, I am trying to add a support of the sensors like the gyro, the magnetometer and the ToF sensor in webots...

##### Fabien Rohrer [Moderator] 04/18/2019 14:14:52
(which is the first step in any case)


If you do that, you only act on the simulated robot.

##### Thelm76 04/18/2019 14:14:29
oh...

##### Fabien Rohrer [Moderator] 04/18/2019 14:14:15
Unfortunately no.

##### Thelm76 04/18/2019 14:13:58
but will the sensors added in the proto file be working with a real e-puck?

##### Fabien Rohrer [Moderator] 04/18/2019 14:13:25
You could directly use DistanceSensor there


Yes, that's another approach.

##### Thelm76 04/18/2019 14:12:56
I have left e-puckDistanceSensor instead of just  DistanceSensor that's right?

##### Fabien Rohrer [Moderator] 04/18/2019 14:12:44
You could open the lookupTable by adding a line in the  E-puckDistanceSensor.proto file:

##### Thelm76 04/18/2019 14:12:19
I think I've found my error


oh


Actually I've just copied one of the other distance sensors and tried to modify it in order to have a different range

##### Fabien Rohrer [Moderator] 04/18/2019 14:11:48
the lookupTable is not an open field.


[https://github.com/omichel/webots/blob/master/projects/robots/gctronic/e-puck/protos/E-puckDistanceSensor.proto#L1](https://github.com/omichel/webots/blob/master/projects/robots/gctronic/e-puck/protos/E-puckDistanceSensor.proto#L1)


Its definition is there: projects/robots/gctronic/e-puck/protos/E-puckDistanceSensor.proto


Quite difficult to understand: the E-puckDistance sensor is a PROTO (i.e. a faÃ§ade) of a DistanceSensor node.

##### Thelm76 04/18/2019 14:08:13
Hi, i'm trying to implement the missing sensors of the E-PUCK in the webots' simulation,

I am actually working on adding the ToF sensor of th V2 version by editing the prototype file but it returns an error:



    %{ if v2 then }%

      DEF EPUCK\_TOF E-puckDistanceSensor {

        translation 0 0.033 -0.035

        rotation 0 1 0 1.57

        name "ToF"

        lookupTable [

          0 0 0 4 4 0

        ]

      }

    %{ end }%







ERROR: 'S:/GDrive/Traineeship/prog/Webots/e-puck/maze/protos/E-puck.proto':367:7: error: Skipped unknown 'lookupTable' parameter in E-puckDistanceSensor PROTO.

##### Fabien Rohrer [Moderator] 04/18/2019 13:43:06
I did a quick search and I have unfortunately not better examples to provide you.

##### shridhar 04/18/2019 13:40:09
ok sure.

##### Fabien Rohrer [Moderator] 04/18/2019 13:39:34
[https://stackoverflow.com/questions/tagged/webots](https://stackoverflow.com/questions/tagged/webots)


I think it would deserve to post this kind of general question (quite out of focus of a direct use of Webots), on stackoverflow with the Webots tag. We monitor these questions and answer them if we think it's interesting for the community:

##### shridhar 04/18/2019 13:37:47
Thank you.. sorry for the simple question ..

##### Fabien Rohrer [Moderator] 04/18/2019 13:36:57
I recommend you to read the OpenCV doc to understand how to load an image. This is a basic task.


[https://cyberbotics.com/doc/guide/samples-howto#vision-wbt](https://cyberbotics.com/doc/guide/samples-howto#vision-wbt)


I can easily provide you these examples:

##### shridhar 04/18/2019 13:35:08
ok then how to use opencv or read image..

##### Fabien Rohrer [Moderator] 04/18/2019 13:34:17
There is no way to access the Display texture data directly, but you could use the wb\_display\_image\_save() function ([https://www.cyberbotics.com/doc/reference/display#wb\_display\_image\_save](https://www.cyberbotics.com/doc/reference/display#wb_display_image_save)) and open it in opencv

##### shridhar 04/18/2019 13:33:54
either captured or displayed ..


yes

##### Fabien Rohrer [Moderator] 04/18/2019 13:32:18
you refer a Display node. Do you want to store the result of a Display node?


hi

##### shridhar 04/18/2019 13:30:48
hi how to save image from weboots in opencv format (WbDeviceTag processed\_image\_display = wb\_robot\_get\_device("proc\_im\_display");)

##### Jiajun Wang 04/18/2019 09:54:39
ðŸ˜‹

##### Fabien Rohrer [Moderator] 04/18/2019 09:53:49
I'm happy that it's working for you. Plotting in Matlab is very convenient. This is the force of Matlab IMO.

##### Jiajun Wang 04/18/2019 09:52:47
ok  , thank you a lot

##### Fabien Rohrer [Moderator] 04/18/2019 09:52:11
I'm not expert in the Matlab GUI. I expect there is a way to open/target/link with the $WEBOTS\_HOME/lib/matlab directory!?

##### Jiajun Wang 04/18/2019 09:49:14
the matlab editor could not find : the function like : wb\_distance\_sensor\_get\_value(ps{i})

##### Fabien Rohrer [Moderator] 04/18/2019 09:48:17
Sorry, I don't have matlab right now. Couldn't you simply open the .m controller in the Matlab editor?

##### Jiajun Wang 04/18/2019 09:47:31
For  the default Editor in Webots is not convenient enough, for syntactic


OK  .  yesterday  I find a way to programming C++ controller in the IDE ---Clion .  what should I do to programming *.m controller in Matlab Editor ?

##### Fabien Rohrer [Moderator] 04/18/2019 09:42:08
for sure this error may be ignored.

##### Jiajun Wang 04/18/2019 09:41:54
update driver? or  just Ignore this error?

##### Fabien Rohrer [Moderator] 04/18/2019 09:41:46
(not sure)


I think that if you "mute" the sound (from the top menu) this should disapear.


Do you have issues with sound on your computer?


This error appear when the sound engine cannot be initialized smoothly.

##### Jiajun Wang 04/18/2019 09:40:17

%figure
![win10_ERROR.PNG](https://cdn.discordapp.com/attachments/565154703139405824/568370208000180234/win10_ERROR.PNG)
%end


in  windows 10


what about this:   ERROR: Cannot initialize the sound engine: Cannot initialize OpenAL default device 'OpenAL Soft' ?

##### Fabien Rohrer [Moderator] 04/18/2019 09:38:48
I'm wondering if we should add the "-nojvm" option by default everywhere.

##### Jiajun Wang 04/18/2019 09:38:34
only  show this


ERROR: Cannot initialize the sound engine: Cannot initialize OpenAL default device 'OpenAL Soft'

##### Fabien Rohrer [Moderator] 04/18/2019 09:38:24
Great!

##### Jiajun Wang 04/18/2019 09:38:06
haha , Thank you very much


solved~


ok, let me have a try

##### Fabien Rohrer [Moderator] 04/18/2019 09:34:37
(reference: [https://cyberbotics.com/doc/guide/controller-programming#languages-settings](https://cyberbotics.com/doc/guide/controller-programming#languages-settings) )


OPTIONS = -nojvm


[matlab]


Containing:


Could you add in your controller a "runtime.ini" file?


It seems that starting java with "-nojvm" may help


[https://ch.mathworks.com/matlabcentral/answers/182412-matlab-access-violation-on-startup](https://ch.mathworks.com/matlabcentral/answers/182412-matlab-access-violation-on-startup)

##### Jiajun Wang 04/18/2019 09:32:21
OK . I choose ubuntu then.


the win10  error log.  Have you ever saw like this

##### Fabien Rohrer [Moderator] 04/18/2019 09:31:21
Mmm, this is interesting. It looks like the issue is in-between Matlab and Java.

##### Jiajun Wang 04/18/2019 09:29:44
INFO: four\_wheels\_avoid\_collision: Starting: ""C:\Program Files\MATLAB\R2018b\bin\win64\MATLAB.exe" -nosplash -nodesktop -minimize -r launcher"

[four\_wheels\_avoid\_collision] Assertion failed: 

[four\_wheels\_avoid\_collision] 

[four\_wheels\_avoid\_collision] Function: void \_\_cdecl `anonymous-namespace'::mwJavaAbort(void), file b:\matlab\src\jmi\jmi\javainit.cpp, line 1366

[four\_wheels\_avoid\_collision] #

[four\_wheels\_avoid\_collision] # A fatal error has been detected by the Java Runtime Environment:

[four\_wheels\_avoid\_collision] #

[four\_wheels\_avoid\_collision] #  EXCEPTION\_ACCESS\_VIOLATION (0xc0000005) at pc=0x00000000ec4be8fe, pid=5408, tid=0x0000000000001dfc

[four\_wheels\_avoid\_collision] #

[four\_wheels\_avoid\_collision] # JRE version: Java(TM) SE Runtime Environment (8.0\_152-b16) (build 1.8.0\_152-b16)

[four\_wheels\_avoid\_collision] # Java VM: Java HotSpot(TM) 64-Bit Server VM (25.152-b16 mixed mode windows-amd64 compressed oops)

[four\_wheels\_avoid\_collision] # Problematic frame:

[four\_wheels\_avoid\_collision] # C  0x00000000ec4be8fe

[four\_wheels\_avoid\_collision] #

[four\_wheels\_avoid\_collision] # Failed to write core dump. Minidumps are not enabled by default on client versions of Windows

[four\_wheels\_avoid\_collision] #

[four\_wheels\_avoid\_collision] # An error report file with more information is saved as:

[four\_wheels\_avoid\_collision] # C:\Users\Jason\AppData\Local\Temp\hs\_error\_pid5408.log

[four\_wheels\_avoid\_collision] #

[four\_wheels\_avoid\_collision] # If you would like to submit a bug report, please visit:

[four\_wheels\_avoid\_collision] #   [http://bugreport.java.com/bugreport/crash.jsp](http://bugreport.java.com/bugreport/crash.jsp)

[four\_wheels\_avoid\_collision] #

WARNING: 'four\_wheels\_avoid\_collision' controller exited with status: 3.

##### Fabien Rohrer [Moderator] 04/18/2019 09:24:27
It would be awesome if you could contribute by creating a PR on Github fixing the issues ðŸ‘


oops

##### Jiajun Wang 04/18/2019 09:23:36
your  Tuturial has a lot of errors about the Matlab codeðŸ˜‚

##### Fabien Rohrer [Moderator] 04/18/2019 09:22:21
Great, thank you for the update.

##### Jiajun Wang 04/18/2019 09:22:01
Nowï¼Œ I have the successful running in Ubuntu .  thank you Fabien

##### Fabien Rohrer [Moderator] 04/18/2019 08:42:40
Sorry, I have no ideas to help you further. It seems Matlab doesn't like something, but it's impossible to say what without stack or clear error message. It crashes at startup. This is certainly a Matlab bug ðŸ˜•

##### Jiajun Wang 04/18/2019 08:37:17
I can run a.m file  in Matlab~

##### Fabien Rohrer [Moderator] 04/18/2019 08:36:13
We already had Chinese users complaining about Matlab. I think you are in this situation (without guarantee).

##### Jiajun Wang 04/18/2019 08:35:55
An internal error was encountered and needs to be closed


the words are Chinese, I am sorry .   It means "Mathworks Collapse Report procedure "

##### Fabien Rohrer [Moderator] 04/18/2019 08:31:52
(I cannot read the error message ðŸ˜ƒ )


I know Matlab has issues with UTF8 characters in path. Could you even run a .m file in Matlab without Webots?

##### Jiajun Wang 04/18/2019 08:29:18
win10   always  show this



%figure
![win10_ERROR.PNG](https://cdn.discordapp.com/attachments/565154703139405824/568352267258953728/win10_ERROR.PNG)
%end

##### Fabien Rohrer [Moderator] 04/18/2019 08:22:59
Python is much simpler to use IMO. If it's just a matter of plotting something, why not using [https://matplotlib.org/users/pyplot\_tutorial.html](https://matplotlib.org/users/pyplot_tutorial.html) ?

##### Jiajun Wang 04/18/2019 08:21:08
I'm not complaining.

##### Fabien Rohrer [Moderator] 04/18/2019 08:20:01
Sorry for this.

##### Jiajun Wang 04/18/2019 08:19:37
Yesterday , you suggested me to using matlab or python . so i try

##### Fabien Rohrer [Moderator] 04/18/2019 08:18:50
I'm not sure why. It would deserve to be debugged. It would be extremely useful if you could determine at which point it fails precisely, and fill a bug report on our GitHub issues.

##### Jiajun Wang 04/18/2019 08:17:13
even couldnot start


okï¼Œi will try later.         In win10, always show: Mathworks collapse ! and never success in simulation

##### Fabien Rohrer [Moderator] 04/18/2019 08:13:51
could you check this by printing the ps\_names(i)?


it seems that at line 23 of your controller, you don't send a string.

##### Jiajun Wang 04/18/2019 08:12:22
Andï¼Œwhat about the error in win10ï¼Ÿ

##### Fabien Rohrer [Moderator] 04/18/2019 08:09:58
This would give us clues: is this library problematic for matlab?


%{ if v2 then }%

    remoteControl "e-puck\_wifi"

  %{ else }%

    remoteControl "e-puck\_bluetooth"

  %{ end }%


To do so, please try to remove the last lines of projects/robots/gctronic/e-puck/protos/E-puck.proto


On Ubuntu, you could try to remove the remoteControl library from the E-puck.proto


Ok

##### Jiajun Wang 04/18/2019 08:07:22
when I try  "WEBOTS\_HOME/projects/languages/matlab/worlds/e-puck\_matlab.wbt"  in ubuntu18


while in ubuntu  :[matlab] Error: /usr/local/MATLAB/R2017b/bin/glnxa64/../../sys/os/glnxa64/libstdc++.so.6: version `GLIBCXX\_3.4.21' not found (required by /usr/local/webots/projects/robots/gctronic/e-puck/plugins/remote\_controls/e-puck\_bluetooth/libe-puck\_bluetooth.so) (dynamic library)

[matlab] Error: remote control initialisation failed

[matlab] Error: Cannot load the "/usr/local/webots/projects/robots/gctronic/e-puck/plugins/remote\_controls/e-puck\_bluetooth/libe-puck\_bluetooth.so" remote control library.


of course

##### Fabien Rohrer [Moderator] 04/18/2019 08:05:52
Did you tried with Webots R2019a.rev1?

##### Jiajun Wang 04/18/2019 08:05:07
I had try "WEBOTS\_HOME/projects/languages/matlab/worlds/e-puck\_matlab.wbt"  in win10  Matlab can't start


in win10  matlab2018b  ;  in ubuntu  matlab2017b


both in win10 & ubuntu18.04.2


tutorial  Tutorial 6: 4-Wheels Robot   when I use C++ï¼Œno problem;   but use matlab , error

##### Fabien Rohrer [Moderator] 04/18/2019 08:02:01
Do you try to run a sample provided in Webots (which one?)? Or did you modified the controller?


Could you tell us your OS, Webots version and Matlab version?

##### Jiajun Wang 04/18/2019 08:00:24
how to slove this error


[four\_wheel\_avoid\_matlab] Error using calllib

[four\_wheel\_avoid\_matlab] Parameter can not be converted to a character vector

[four\_wheel\_avoid\_matlab] 

[four\_wheel\_avoid\_matlab] Error in wb\_robot\_get\_device (line 6)

[four\_wheel\_avoid\_matlab] result = calllib('libController', 'wb\_robot\_get\_device', name);

[four\_wheel\_avoid\_matlab] 

[four\_wheel\_avoid\_matlab] Error in four\_wheel\_avoid\_matlab (line 23)

[four\_wheel\_avoid\_matlab]   ps(i) = wb\_robot\_get\_device(ps\_names(i));

[four\_wheel\_avoid\_matlab] 

[four\_wheel\_avoid\_matlab] Error in launcher (line 151)

[four\_wheel\_avoid\_matlab]   eval(WEBOTS\_CONTROLLER\_NAME);

##### shridhar 04/18/2019 07:17:12
ok I will check it

##### Stefania Pedrazzi [cyberbotics] 04/18/2019 07:15:02
So then if you rotate the HingeJoint, the camera doesn't move. Please check your world because if it works differently then your are not moving the correct HingeJoint or your robot node hierarchy is wrong.

##### shridhar 04/18/2019 07:13:08
ya the camera is not descendant of HingeJoint but both are children of Robot.

##### Stefania Pedrazzi [cyberbotics] 04/18/2019 07:10:35
Hi, if you don't want to rotate  the camera, then the Camera node doesn't have to be a descendant of the HingeJoint node

##### shridhar 04/18/2019 07:08:31
Hello, I have included camera and a Hingejoint in  children field of Robot and wrote a controller to spin a solid cylinder but when I run the controller even the cameras are rotating. so how to rotate the solid without rotating camera ( i tried with two separate Robots but still the result is same.

